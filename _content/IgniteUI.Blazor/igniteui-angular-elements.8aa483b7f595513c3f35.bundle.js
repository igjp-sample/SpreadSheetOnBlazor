"use strict";(this.webpackChunkInfragisticsBlazor=this.webpackChunkInfragisticsBlazor||[]).push([[258],{19515:(e,t,i)=>{i.r(t),i.d(t,{ColumnPinningPosition:()=>Yb,DropPosition:()=>mM,FilteringExpressionsTreeType:()=>Ab,FilteringLogic:()=>Rb,GridInstanceType:()=>Qb,GridPagingMode:()=>Zb,IgcBooleanFilteringOperand:()=>AA,IgcDateFilteringOperand:()=>RA,IgcDateSummaryOperand:()=>Tk,IgcDateTimeFilteringOperand:()=>OA,IgcFilteringExpressionsTree:()=>kb,IgcFilteringOperand:()=>TA,IgcNumberFilteringOperand:()=>PA,IgcNumberSummaryOperand:()=>Ik,IgcPivotAggregate:()=>Rk,IgcPivotDateAggregate:()=>Fk,IgcPivotDateDimension:()=>GJ,IgcPivotNumericAggregate:()=>Ok,IgcPivotTimeAggregate:()=>Pk,IgcStringFilteringOperand:()=>MA,IgcSummaryOperand:()=>Ek,IgcTimeFilteringOperand:()=>FA,IgcTimeSummaryOperand:()=>Ak,NoopPivotDimensionsStrategy:()=>aQ,PivotDimensionType:()=>Vk,RowPinningPosition:()=>Xb,SortingDirection:()=>gb});var n=i(88259);e=i.hmd(e);var r,s,o=Object.create,a=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,g=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,f=(e,t,i)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,y=(e,t)=>{for(var i in t||={})p.call(t,i)&&f(e,i,t[i]);if(u)for(var i of u(t))m.call(t,i)&&f(e,i,t[i]);return e},v=(e,t)=>l(e,c(t)),x=(e,t,i)=>new Promise(((n,r)=>{var s=e=>{try{a(i.next(e))}catch(e){r(e)}},o=e=>{try{a(i.throw(e))}catch(e){r(e)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(s,o);a((i=i.apply(e,t)).next())})),_=(r=(e,t)=>{!function(e,n,r,s){var o,a=["","webkit","Moz","MS","ms","o"],l=n.createElement("div"),d="function",c=Math.round,h=Math.abs,u=Date.now;function g(e,t,i){return setTimeout(_(e,i),t)}function p(e,t,i){return!!Array.isArray(e)&&(m(e,i[t],i),!0)}function m(e,t,i){var n;if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==s)for(n=0;n<e.length;)t.call(i,e[n],n,e),n++;else for(n in e)e.hasOwnProperty(n)&&t.call(i,e[n],n,e)}function f(t,i,n){var r="DEPRECATED METHOD: "+i+"\n"+n+" AT \n";return function(){var i=new Error("get-stack-trace"),n=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=e.console&&(e.console.warn||e.console.log);return s&&s.call(e.console,r,n),t.apply(this,arguments)}}o="function"!=typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==s&&null!==n)for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}:Object.assign;var y=f((function(e,t,i){for(var n=Object.keys(t),r=0;r<n.length;)(!i||i&&e[n[r]]===s)&&(e[n[r]]=t[n[r]]),r++;return e}),"extend","Use `assign`."),v=f((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.");function x(e,t,i){var n,r=t.prototype;(n=e.prototype=Object.create(r)).constructor=e,n._super=r,i&&o(n,i)}function _(e,t){return function(){return e.apply(t,arguments)}}function w(e,t){return typeof e==d?e.apply(t&&t[0]||s,t):e}function C(e,t){return e===s?t:e}function S(e,t,i){m(I(t),(function(t){e.addEventListener(t,i,!1)}))}function b(e,t,i){m(I(t),(function(t){e.removeEventListener(t,i,!1)}))}function D(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function E(e,t){return e.indexOf(t)>-1}function I(e){return e.trim().split(/\s+/g)}function T(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var n=0;n<e.length;){if(i&&e[n][i]==t||!i&&e[n]===t)return n;n++}return-1}function A(e){return Array.prototype.slice.call(e,0)}function k(e,t,i){for(var n=[],r=[],s=0;s<e.length;){var o=t?e[s][t]:e[s];T(r,o)<0&&n.push(e[s]),r[s]=o,s++}return i&&(n=t?n.sort((function(e,i){return e[t]>i[t]})):n.sort()),n}function R(e,t){for(var i,n,r=t[0].toUpperCase()+t.slice(1),o=0;o<a.length;){if((n=(i=a[o])?i+r:t)in e)return n;o++}return s}var O=1;function F(t){var i=t.ownerDocument||t;return i.defaultView||i.parentWindow||e}var P="ontouchstart"in e,M=R(e,"PointerEvent")!==s,V=P&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N="touch",L="mouse",H=25,B=1,G=4,z=8,$=1,W=2,j=4,K=8,U=16,q=W|j,Y=K|U,X=q|Y,Z=["x","y"],Q=["clientX","clientY"];function J(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){w(e.options.enable,[e])&&i.handler(t)},this.init()}function ee(e,t,i){var n=i.pointers.length,r=i.changedPointers.length,o=t&B&&n-r==0,a=t&(G|z)&&n-r==0;i.isFirst=!!o,i.isFinal=!!a,o&&(e.session={}),i.eventType=t,function(e,t){var i=e.session,n=t.pointers,r=n.length;i.firstInput||(i.firstInput=te(t)),r>1&&!i.firstMultiple?i.firstMultiple=te(t):1===r&&(i.firstMultiple=!1);var o=i.firstInput,a=i.firstMultiple,l=a?a.center:o.center,d=t.center=ie(n);t.timeStamp=u(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=oe(l,d),t.distance=se(l,d),function(e,t){var i=t.center,n=e.offsetDelta||{},r=e.prevDelta||{},s=e.prevInput||{};(t.eventType===B||s.eventType===G)&&(r=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=r.x+(i.x-n.x),t.deltaY=r.y+(i.y-n.y)}(i,t),t.offsetDirection=re(t.deltaX,t.deltaY);var c=ne(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=h(c.x)>h(c.y)?c.x:c.y,t.scale=a?function(e,t){return se(t[0],t[1],Q)/se(e[0],e[1],Q)}(a.pointers,n):1,t.rotation=a?function(e,t){return oe(t[1],t[0],Q)+oe(e[1],e[0],Q)}(a.pointers,n):0,t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length,function(e,t){var i,n,r,o,a=e.lastInterval||t,l=t.timeStamp-a.timeStamp;if(t.eventType!=z&&(l>H||a.velocity===s)){var d=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,u=ne(l,d,c);n=u.x,r=u.y,i=h(u.x)>h(u.y)?u.x:u.y,o=re(d,c),e.lastInterval=t}else i=a.velocity,n=a.velocityX,r=a.velocityY,o=a.direction;t.velocity=i,t.velocityX=n,t.velocityY=r,t.direction=o}(i,t);var g=e.element;D(t.srcEvent.target,g)&&(g=t.srcEvent.target),t.target=g}(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function te(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:c(e.pointers[i].clientX),clientY:c(e.pointers[i].clientY)},i++;return{timeStamp:u(),pointers:t,center:ie(t),deltaX:e.deltaX,deltaY:e.deltaY}}function ie(e){var t=e.length;if(1===t)return{x:c(e[0].clientX),y:c(e[0].clientY)};for(var i=0,n=0,r=0;r<t;)i+=e[r].clientX,n+=e[r].clientY,r++;return{x:c(i/t),y:c(n/t)}}function ne(e,t,i){return{x:t/e||0,y:i/e||0}}function re(e,t){return e===t?$:h(e)>=h(t)?e<0?W:j:t<0?K:U}function se(e,t,i){i||(i=Z);var n=t[i[0]]-e[i[0]],r=t[i[1]]-e[i[1]];return Math.sqrt(n*n+r*r)}function oe(e,t,i){i||(i=Z);var n=t[i[0]]-e[i[0]],r=t[i[1]]-e[i[1]];return 180*Math.atan2(r,n)/Math.PI}J.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(F(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(F(this.element),this.evWin,this.domHandler)}};var ae={mousedown:B,mousemove:2,mouseup:G},le="mousedown",de="mousemove mouseup";function ce(){this.evEl=le,this.evWin=de,this.pressed=!1,J.apply(this,arguments)}x(ce,J,{handler:function(e){var t=ae[e.type];t&B&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=G),this.pressed&&(t&G&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:L,srcEvent:e}))}});var he={pointerdown:B,pointermove:2,pointerup:G,pointercancel:z,pointerout:z},ue={2:N,3:"pen",4:L,5:"kinect"},ge="pointerdown",pe="pointermove pointerup pointercancel";function me(){this.evEl=ge,this.evWin=pe,J.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}e.MSPointerEvent&&!e.PointerEvent&&(ge="MSPointerDown",pe="MSPointerMove MSPointerUp MSPointerCancel"),x(me,J,{handler:function(e){var t=this.store,i=!1,n=e.type.toLowerCase().replace("ms",""),r=he[n],s=ue[e.pointerType]||e.pointerType,o=s==N,a=T(t,e.pointerId,"pointerId");r&B&&(0===e.button||o)?a<0&&(t.push(e),a=t.length-1):r&(G|z)&&(i=!0),!(a<0)&&(t[a]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:s,srcEvent:e}),i&&t.splice(a,1))}});var fe={touchstart:B,touchmove:2,touchend:G,touchcancel:z};function ye(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,J.apply(this,arguments)}function ve(e,t){var i=A(e.touches),n=A(e.changedTouches);return t&(G|z)&&(i=k(i.concat(n),"identifier",!0)),[i,n]}x(ye,J,{handler:function(e){var t=fe[e.type];if(t===B&&(this.started=!0),this.started){var i=ve.call(this,e,t);t&(G|z)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:N,srcEvent:e})}}});var xe={touchstart:B,touchmove:2,touchend:G,touchcancel:z},_e="touchstart touchmove touchend touchcancel";function we(){this.evTarget=_e,this.targetIds={},J.apply(this,arguments)}function Ce(e,t){var i=A(e.touches),n=this.targetIds;if(t&(2|B)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,s,o=A(e.changedTouches),a=[],l=this.target;if(s=i.filter((function(e){return D(e.target,l)})),t===B)for(r=0;r<s.length;)n[s[r].identifier]=!0,r++;for(r=0;r<o.length;)n[o[r].identifier]&&a.push(o[r]),t&(G|z)&&delete n[o[r].identifier],r++;return a.length?[k(s.concat(a),"identifier",!0),a]:void 0}x(we,J,{handler:function(e){var t=xe[e.type],i=Ce.call(this,e,t);i&&this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:N,srcEvent:e})}});var Se=2500;function be(){J.apply(this,arguments);var e=_(this.handler,this);this.touch=new we(this.manager,e),this.mouse=new ce(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function De(e,t){e&B?(this.primaryTouch=t.changedPointers[0].identifier,Ee.call(this,t)):e&(G|z)&&Ee.call(this,t)}function Ee(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var i={x:t.clientX,y:t.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout((function(){var e=n.indexOf(i);e>-1&&n.splice(e,1)}),Se)}}function Ie(e){for(var t=e.srcEvent.clientX,i=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],s=Math.abs(t-r.x),o=Math.abs(i-r.y);if(s<=25&&o<=25)return!0}return!1}x(be,J,{handler:function(e,t,i){var n=i.pointerType==N,r=i.pointerType==L;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)De.call(this,t,i);else if(r&&Ie.call(this,i))return;this.callback(e,t,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Te=R(l.style,"touchAction"),Ae=Te!==s,ke="compute",Re="auto",Oe="manipulation",Fe="none",Pe="pan-x",Me="pan-y",Ve=function(){if(!Ae)return!1;var t={},i=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!i||e.CSS.supports("touch-action",n)})),t}();function Ne(e,t){this.manager=e,this.set(t)}Ne.prototype={set:function(e){e==ke&&(e=this.compute()),Ae&&this.manager.element.style&&Ve[e]&&(this.manager.element.style[Te]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return m(this.manager.recognizers,(function(t){w(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(E(e,Fe))return Fe;var t=E(e,Pe),i=E(e,Me);return t&&i?Fe:t||i?t?Pe:Me:E(e,Oe)?Oe:Re}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,i=e.offsetDirection;if(!this.manager.session.prevented){var n=this.actions,r=E(n,Fe)&&!Ve[Fe],s=E(n,Me)&&!Ve[Me],o=E(n,Pe)&&!Ve[Pe];if(r){var a=1===e.pointers.length,l=e.distance<2,d=e.deltaTime<250;if(a&&l&&d)return}return o&&s||!(r||s&&i&q||o&&i&Y)?void 0:this.preventSrc(t)}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Le=1,He=32;function Be(e){this.options=o({},this.defaults,e||{}),this.id=O++,this.manager=null,this.options.enable=C(this.options.enable,!0),this.state=Le,this.simultaneous={},this.requireFail=[]}function Ge(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function ze(e){return e==U?"down":e==K?"up":e==W?"left":e==j?"right":""}function $e(e,t){var i=t.manager;return i?i.get(e):e}function We(){Be.apply(this,arguments)}function je(){We.apply(this,arguments),this.pX=null,this.pY=null}function Ke(){We.apply(this,arguments)}function Ue(){Be.apply(this,arguments),this._timer=null,this._input=null}function qe(){We.apply(this,arguments)}function Ye(){We.apply(this,arguments)}function Xe(){Be.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ze(e,t){return(t=t||{}).recognizers=C(t.recognizers,Ze.defaults.preset),new Qe(e,t)}function Qe(e,t){this.options=o({},Ze.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){return new(e.options.inputClass||(M?me:V?we:P?be:ce))(e,ee)}(this),this.touchAction=new Ne(this,this.options.touchAction),Je(this,!0),m(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Je(e,t){var i,n=e.element;n.style&&(m(e.options.cssProps,(function(r,s){i=R(n.style,s),t?(e.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=e.oldCssProps[i]||""})),t||(e.oldCssProps={}))}Be.prototype={defaults:{},set:function(e){return o(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(p(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=$e(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return p(e,"dropRecognizeWith",this)||(e=$e(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(p(e,"requireFailure",this))return this;var t=this.requireFail;return-1===T(t,e=$e(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(p(e,"dropRequireFailure",this))return this;e=$e(e,this);var t=T(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,i=this.state;function n(i){t.manager.emit(i,e)}i<8&&n(t.options.event+Ge(i)),n(t.options.event),e.additionalEvent&&n(e.additionalEvent),i>=8&&n(t.options.event+Ge(i))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=He},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(He|Le)))return!1;e++}return!0},recognize:function(e){var t=o({},e);if(!w(this.options.enable,[this,t]))return this.reset(),void(this.state=He);56&this.state&&(this.state=Le),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},x(We,Be,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,n=6&t,r=this.attrTest(e);return n&&(i&z||!r)?16|t:n||r?i&G?8|t:2&t?4|t:2:He}}),x(je,We,{defaults:{event:"pan",threshold:10,pointers:1,direction:X},getTouchAction:function(){var e=this.options.direction,t=[];return e&q&&t.push(Me),e&Y&&t.push(Pe),t},directionTest:function(e){var t=this.options,i=!0,n=e.distance,r=e.direction,s=e.deltaX,o=e.deltaY;return r&t.direction||(t.direction&q?(r=0===s?$:s<0?W:j,i=s!=this.pX,n=Math.abs(e.deltaX)):(r=0===o?$:o<0?K:U,i=o!=this.pY,n=Math.abs(e.deltaY))),e.direction=r,i&&n>t.threshold&&r&t.direction},attrTest:function(e){return We.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ze(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),x(Ke,We,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Fe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),x(Ue,Be,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Re]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!n||!i||e.eventType&(G|z)&&!r)this.reset();else if(e.eventType&B)this.reset(),this._timer=g((function(){this.state=8,this.tryEmit()}),t.time,this);else if(e.eventType&G)return 8;return He},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&e.eventType&G?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=u(),this.manager.emit(this.options.event,this._input)))}}),x(qe,We,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Fe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),x(Ye,We,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:q|Y,pointers:1},getTouchAction:function(){return je.prototype.getTouchAction.call(this)},attrTest:function(e){var t,i=this.options.direction;return i&(q|Y)?t=e.overallVelocity:i&q?t=e.overallVelocityX:i&Y&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&e.eventType&G},emit:function(e){var t=ze(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),x(Xe,Be,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Oe]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),e.eventType&B&&0===this.count)return this.failTimeout();if(n&&r&&i){if(e.eventType!=G)return this.failTimeout();var s=!this.pTime||e.timeStamp-this.pTime<t.interval,o=!this.pCenter||se(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,o&&s?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=g((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return He},failTimeout:function(){return this._timer=g((function(){this.state=He}),this.options.interval,this),He},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ze.VERSION="2.0.7",Ze.defaults={domEvents:!1,touchAction:ke,enable:!0,inputTarget:null,inputClass:null,preset:[[qe,{enable:!1}],[Ke,{enable:!1},["rotate"]],[Ye,{direction:q}],[je,{direction:q},["swipe"]],[Xe],[Xe,{event:"doubletap",taps:2},["tap"]],[Ue]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Qe.prototype={set:function(e){return o(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,n=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],2===t.stopped||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(e),!r&&14&i.state&&(r=t.curRecognizer=i),s++}},get:function(e){if(e instanceof Be)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(p(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(p(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,i=T(t,e);-1!==i&&(t.splice(i,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var i=this.handlers;return m(I(e),(function(e){i[e]=i[e]||[],i[e].push(t)})),this}},off:function(e,t){if(e!==s){var i=this.handlers;return m(I(e),(function(e){t?i[e]&&i[e].splice(T(i[e],t),1):delete i[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var i=n.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t,t.target.dispatchEvent(i)}(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(i&&i.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<i.length;)i[r](t),r++}},destroy:function(){this.element&&Je(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},o(Ze,{INPUT_START:B,INPUT_MOVE:2,INPUT_END:G,INPUT_CANCEL:z,STATE_POSSIBLE:Le,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:He,DIRECTION_NONE:$,DIRECTION_LEFT:W,DIRECTION_RIGHT:j,DIRECTION_UP:K,DIRECTION_DOWN:U,DIRECTION_HORIZONTAL:q,DIRECTION_VERTICAL:Y,DIRECTION_ALL:X,Manager:Qe,Input:J,TouchAction:Ne,TouchInput:we,MouseInput:ce,PointerEventInput:me,TouchMouseInput:be,SingleTouchInput:ye,Recognizer:Be,AttrRecognizer:We,Tap:Xe,Pan:je,Swipe:Ye,Pinch:Ke,Rotate:qe,Press:Ue,on:S,off:b,each:m,merge:v,extend:y,assign:o,inherit:x,bindFn:_,prefixed:R}),(typeof e<"u"?e:typeof self<"u"?self:{}).Hammer=Ze,"function"==typeof define&&i.amdO?define((function(){return Ze})):typeof t<"u"&&t.exports?t.exports=Ze:e.Hammer=Ze}(window,document)},()=>(s||r(s={exports:{}},s),s.exports));!function(e){let t=e.performance;function i(e){t&&t.mark&&t.mark(e)}function n(e,i){t&&t.measure&&t.measure(e,i)}i("Zone");let r=e.__Zone_symbol_prefix||"__zone_symbol__";function s(e){return r+e}let o=!0===e[s("forceDuplicateZoneCheck")];if(e.Zone){if(o||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}let a=(()=>{let t=class{static assertZonePatched(){if(e.Promise!==k.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let e=t.current;for(;e.parent;)e=e.parent;return e}static get current(){return O.zone}static get currentTask(){return F}static __load_patch(r,s,a=!1){if(k.hasOwnProperty(r)){if(!a&&o)throw Error("Already loaded patch: "+r)}else if(!e["__Zone_disable_"+r]){let o="Zone:"+r;i(o),k[r]=s(e,t,R),n(o,o)}}get parent(){return this._parent}get name(){return this._name}constructor(e,t){this._parent=e,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new d(this,this._parent&&this._parent._zoneDelegate,t)}get(e){let t=this.getZoneWith(e);if(t)return t._properties[e]}getZoneWith(e){let t=this;for(;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null}fork(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)}wrap(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);let i=this._zoneDelegate.intercept(this,e,t),n=this;return function(){return n.runGuarded(i,this,arguments,t)}}run(e,t,i,n){O={parent:O,zone:this};try{return this._zoneDelegate.invoke(this,e,t,i,n)}finally{O=O.parent}}runGuarded(e,t=null,i,n){O={parent:O,zone:this};try{try{return this._zoneDelegate.invoke(this,e,t,i,n)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{O=O.parent}}runTask(e,t,i){if(e.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(e.zone||_).name+"; Execution: "+this.name+")");if(e.state===w&&(e.type===A||e.type===T))return;let n=e.state!=b;n&&e._transitionTo(b,S),e.runCount++;let r=F;F=e,O={parent:O,zone:this};try{e.type==T&&e.data&&!e.data.isPeriodic&&(e.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,e,t,i)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{e.state!==w&&e.state!==E&&(e.type==A||e.data&&e.data.isPeriodic?n&&e._transitionTo(S,b):(e.runCount=0,this._updateTaskCount(e,-1),n&&e._transitionTo(w,b,w))),O=O.parent,F=r}}scheduleTask(e){if(e.zone&&e.zone!==this){let t=this;for(;t;){if(t===e.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${e.zone.name}`);t=t.parent}}e._transitionTo(C,w);let t=[];e._zoneDelegates=t,e._zone=this;try{e=this._zoneDelegate.scheduleTask(this,e)}catch(t){throw e._transitionTo(E,C,w),this._zoneDelegate.handleError(this,t),t}return e._zoneDelegates===t&&this._updateTaskCount(e,1),e.state==C&&e._transitionTo(S,C),e}scheduleMicroTask(e,t,i,n){return this.scheduleTask(new c(I,e,t,i,n,void 0))}scheduleMacroTask(e,t,i,n,r){return this.scheduleTask(new c(T,e,t,i,n,r))}scheduleEventTask(e,t,i,n,r){return this.scheduleTask(new c(A,e,t,i,n,r))}cancelTask(e){if(e.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(e.zone||_).name+"; Execution: "+this.name+")");if(e.state===S||e.state===b){e._transitionTo(D,S,b);try{this._zoneDelegate.cancelTask(this,e)}catch(t){throw e._transitionTo(E,D),this._zoneDelegate.handleError(this,t),t}return this._updateTaskCount(e,-1),e._transitionTo(w,D),e.runCount=0,e}}_updateTaskCount(e,t){let i=e._zoneDelegates;-1==t&&(e._zoneDelegates=null);for(let n=0;n<i.length;n++)i[n]._updateTaskCount(e.type,t)}},r=t;return t.__symbol__=s,r})(),l={name:"",onHasTask:(e,t,i,n)=>e.hasTask(i,n),onScheduleTask:(e,t,i,n)=>e.scheduleTask(i,n),onInvokeTask:(e,t,i,n,r,s)=>e.invokeTask(i,n,r,s),onCancelTask:(e,t,i,n)=>e.cancelTask(i,n)};class d{constructor(e,t,i){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=e,this._parentDelegate=t,this._forkZS=i&&(i&&i.onFork?i:t._forkZS),this._forkDlgt=i&&(i.onFork?t:t._forkDlgt),this._forkCurrZone=i&&(i.onFork?this.zone:t._forkCurrZone),this._interceptZS=i&&(i.onIntercept?i:t._interceptZS),this._interceptDlgt=i&&(i.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=i&&(i.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=i&&(i.onInvoke?i:t._invokeZS),this._invokeDlgt=i&&(i.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=i&&(i.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=i&&(i.onHandleError?i:t._handleErrorZS),this._handleErrorDlgt=i&&(i.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=i&&(i.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=i&&(i.onScheduleTask?i:t._scheduleTaskZS),this._scheduleTaskDlgt=i&&(i.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=i&&(i.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=i&&(i.onInvokeTask?i:t._invokeTaskZS),this._invokeTaskDlgt=i&&(i.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=i&&(i.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=i&&(i.onCancelTask?i:t._cancelTaskZS),this._cancelTaskDlgt=i&&(i.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=i&&(i.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let n=i&&i.onHasTask,r=t&&t._hasTaskZS;(n||r)&&(this._hasTaskZS=n?i:l,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=e,i.onScheduleTask||(this._scheduleTaskZS=l,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),i.onInvokeTask||(this._invokeTaskZS=l,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),i.onCancelTask||(this._cancelTaskZS=l,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}fork(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new a(e,t)}intercept(e,t,i){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,e,t,i):t}invoke(e,t,i,n,r){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,e,t,i,n,r):t.apply(i,n)}handleError(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,e,t)}scheduleTask(e,t){let i=t;if(this._scheduleTaskZS)this._hasTaskZS&&i._zoneDelegates.push(this._hasTaskDlgtOwner),i=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,e,t),i||(i=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=I)throw new Error("Task is missing scheduleFn.");v(t)}return i}invokeTask(e,t,i,n){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,e,t,i,n):t.callback.apply(i,n)}cancelTask(e,t){let i;if(this._cancelTaskZS)i=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,e,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");i=t.cancelFn(t)}return i}hasTask(e,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,e,t)}catch(t){this.handleError(e,t)}}_updateTaskCount(e,t){let i=this._taskCounts,n=i[e],r=i[e]=n+t;if(r<0)throw new Error("More tasks executed then were scheduled.");if(0==n||0==r){let t={microTask:i.microTask>0,macroTask:i.macroTask>0,eventTask:i.eventTask>0,change:e};this.hasTask(this.zone,t)}}}class c{constructor(t,i,n,r,s,o){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=t,this.source=i,this.data=r,this.scheduleFn=s,this.cancelFn=o,!n)throw new Error("callback is not defined");this.callback=n;let a=this;t===A&&r&&r.useG?this.invoke=c.invokeTask:this.invoke=function(){return c.invokeTask.call(e,a,this,arguments)}}static invokeTask(e,t,i){e||(e=this),P++;try{return e.runCount++,e.zone.runTask(e,t,i)}finally{1==P&&x(),P--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(w,C)}_transitionTo(e,t,i){if(this._state!==t&&this._state!==i)throw new Error(`${this.type} '${this.source}': can not transition to '${e}', expecting state '${t}'${i?" or '"+i+"'":""}, was '${this._state}'.`);this._state=e,e==w&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let h,u=s("setTimeout"),g=s("Promise"),p=s("then"),m=[],f=!1;function y(t){if(h||e[g]&&(h=e[g].resolve(0)),h){let e=h[p];e||(e=h.then),e.call(h,t)}else e[u](t,0)}function v(e){0===P&&0===m.length&&y(x),e&&m.push(e)}function x(){if(!f){for(f=!0;m.length;){let e=m;m=[];for(let t=0;t<e.length;t++){let i=e[t];try{i.zone.runTask(i,null,null)}catch(e){R.onUnhandledError(e)}}}R.microtaskDrainDone(),f=!1}}let _={name:"NO ZONE"},w="notScheduled",C="scheduling",S="scheduled",b="running",D="canceling",E="unknown",I="microTask",T="macroTask",A="eventTask",k={},R={symbol:s,currentZoneFrame:()=>O,onUnhandledError:M,microtaskDrainDone:M,scheduleMicroTask:v,showUncaughtError:()=>!a[s("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:M,patchMethod:()=>M,bindArguments:()=>[],patchThen:()=>M,patchMacroTask:()=>M,patchEventPrototype:()=>M,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>M,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>M,wrapWithCurrentZone:()=>M,filterProperties:()=>[],attachOriginToPatched:()=>M,_redefineProperty:()=>M,patchCallbacks:()=>M,nativeScheduleMicroTask:y},O={parent:null,zone:new a(null,null)},F=null,P=0;function M(){}n("Zone","Zone"),e.Zone=a}(typeof window<"u"&&window||typeof self<"u"&&self||i.g);var w=Object.getOwnPropertyDescriptor,C=Object.defineProperty,S=Object.getPrototypeOf,b=Object.create,D=Array.prototype.slice,E="addEventListener",I="removeEventListener",T=Zone.__symbol__(E),A=Zone.__symbol__(I),k="true",R="false",O=Zone.__symbol__("");function F(e,t){return Zone.current.wrap(e,t)}function P(e,t,i,n,r){return Zone.current.scheduleMacroTask(e,t,i,n,r)}var M=Zone.__symbol__,V=typeof window<"u",N=V?window:void 0,L=V&&N||"object"==typeof self&&self||i.g,H="removeAttribute";function B(e,t){for(let i=e.length-1;i>=0;i--)"function"==typeof e[i]&&(e[i]=F(e[i],t+"_"+i));return e}function G(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&typeof e.set>"u")}var z=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,$=!("nw"in L)&&typeof L.process<"u"&&"[object process]"==={}.toString.call(L.process),W=!$&&!z&&!(!V||!N.HTMLElement),j=typeof L.process<"u"&&"[object process]"==={}.toString.call(L.process)&&!z&&!(!V||!N.HTMLElement),K={},U=function(e){if(!(e=e||L.event))return;let t=K[e.type];t||(t=K[e.type]=M("ON_PROPERTY"+e.type));let i,n=this||e.target||L,r=n[t];if(W&&n===N&&"error"===e.type){let t=e;i=r&&r.call(this,t.message,t.filename,t.lineno,t.colno,t.error),!0===i&&e.preventDefault()}else i=r&&r.apply(this,arguments),null!=i&&!i&&e.preventDefault();return i};function q(e,t,i){let n=w(e,t);if(!n&&i&&w(i,t)&&(n={enumerable:!0,configurable:!0}),!n||!n.configurable)return;let r=M("on"+t+"patched");if(e.hasOwnProperty(r)&&e[r])return;delete n.writable,delete n.value;let s=n.get,o=n.set,a=t.slice(2),l=K[a];l||(l=K[a]=M("ON_PROPERTY"+a)),n.set=function(t){let i=this;!i&&e===L&&(i=L),i&&("function"==typeof i[l]&&i.removeEventListener(a,U),o&&o.call(i,null),i[l]=t,"function"==typeof t&&i.addEventListener(a,U,!1))},n.get=function(){let i=this;if(!i&&e===L&&(i=L),!i)return null;let r=i[l];if(r)return r;if(s){let e=s.call(this);if(e)return n.set.call(this,e),"function"==typeof i[H]&&i.removeAttribute(t),e}return null},C(e,t,n),e[r]=!0}function Y(e,t,i){if(t)for(let n=0;n<t.length;n++)q(e,"on"+t[n],i);else{let t=[];for(let i in e)"on"==i.slice(0,2)&&t.push(i);for(let n=0;n<t.length;n++)q(e,t[n],i)}}var X=M("originalInstance");function Z(e){let t=L[e];if(!t)return;L[M(e)]=t,L[e]=function(){let i=B(arguments,e);switch(i.length){case 0:this[X]=new t;break;case 1:this[X]=new t(i[0]);break;case 2:this[X]=new t(i[0],i[1]);break;case 3:this[X]=new t(i[0],i[1],i[2]);break;case 4:this[X]=new t(i[0],i[1],i[2],i[3]);break;default:throw new Error("Arg list too long.")}},ee(L[e],t);let i,n=new t((function(){}));for(i in n)"XMLHttpRequest"===e&&"responseBlob"===i||function(t){"function"==typeof n[t]?L[e].prototype[t]=function(){return this[X][t].apply(this[X],arguments)}:C(L[e].prototype,t,{set:function(i){"function"==typeof i?(this[X][t]=F(i,e+"."+t),ee(this[X][t],i)):this[X][t]=i},get:function(){return this[X][t]}})}(i);for(i in t)"prototype"!==i&&t.hasOwnProperty(i)&&(L[e][i]=t[i])}function Q(e,t,i){let n=e;for(;n&&!n.hasOwnProperty(t);)n=S(n);!n&&e[t]&&(n=e);let r=M(t),s=null;if(n&&(!(s=n[r])||!n.hasOwnProperty(r))&&(s=n[r]=n[t],G(n&&w(n,t)))){let e=i(s,r,t);n[t]=function(){return e(this,arguments)},ee(n[t],s)}return s}function J(e,t,i){let n=null;function r(e){let t=e.data;return t.args[t.cbIdx]=function(){e.invoke.apply(this,arguments)},n.apply(t.target,t.args),e}n=Q(e,t,(e=>function(t,n){let s=i(t,n);return s.cbIdx>=0&&"function"==typeof n[s.cbIdx]?P(s.name,n[s.cbIdx],s,r):e.apply(t,n)}))}function ee(e,t){e[M("OriginalDelegate")]=t}var te=!1,ie=!1;function ne(){if(te)return ie;te=!0;try{let e=N.navigator.userAgent;(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/"))&&(ie=!0)}catch{}return ie}Zone.__load_patch("ZoneAwarePromise",((e,t,i)=>{let n=Object.getOwnPropertyDescriptor,r=Object.defineProperty,s=i.symbol,o=[],a=!0===e[s("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],l=s("Promise"),d=s("then"),c="__creationTrace__";i.onUnhandledError=e=>{if(i.showUncaughtError()){let t=e&&e.rejection;t?console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0):console.error(e)}},i.microtaskDrainDone=()=>{for(;o.length;){let e=o.shift();try{e.zone.runGuarded((()=>{throw e.throwOriginal?e.rejection:e}))}catch(e){u(e)}}};let h=s("unhandledPromiseRejectionHandler");function u(e){i.onUnhandledError(e);try{let i=t[h];"function"==typeof i&&i.call(this,e)}catch{}}function g(e){return e&&e.then}function p(e){return e}function m(e){return V.reject(e)}let f=s("state"),y=s("value"),v=s("finally"),x=s("parentPromiseValue"),_=s("parentPromiseState"),w="Promise.then",C=null,S=!0,b=!1,D=0;function E(e,t){return i=>{try{k(e,t,i)}catch(t){k(e,!1,t)}}}let I=function(){let e=!1;return function(t){return function(){e||(e=!0,t.apply(null,arguments))}}},T="Promise resolved with itself",A=s("currentTaskTrace");function k(e,n,s){let l=I();if(e===s)throw new TypeError(T);if(e[f]===C){let d=null;try{("object"==typeof s||"function"==typeof s)&&(d=s&&s.then)}catch(t){return l((()=>{k(e,!1,t)}))(),e}if(n!==b&&s instanceof V&&s.hasOwnProperty(f)&&s.hasOwnProperty(y)&&s[f]!==C)O(s),k(e,s[f],s[y]);else if(n!==b&&"function"==typeof d)try{d.call(s,l(E(e,n)),l(E(e,!1)))}catch(t){l((()=>{k(e,!1,t)}))()}else{e[f]=n;let l=e[y];if(e[y]=s,e[v]===v&&n===S&&(e[f]=e[_],e[y]=e[x]),n===b&&s instanceof Error){let e=t.currentTask&&t.currentTask.data&&t.currentTask.data[c];e&&r(s,A,{configurable:!0,enumerable:!1,writable:!0,value:e})}for(let t=0;t<l.length;)F(e,l[t++],l[t++],l[t++],l[t++]);if(0==l.length&&n==b){e[f]=D;let n=s;try{throw new Error("Uncaught (in promise): "+function(e){return e&&e.toString===Object.prototype.toString?(e.constructor&&e.constructor.name||"")+": "+JSON.stringify(e):e?e.toString():Object.prototype.toString.call(e)}(s)+(s&&s.stack?"\n"+s.stack:""))}catch(e){n=e}a&&(n.throwOriginal=!0),n.rejection=s,n.promise=e,n.zone=t.current,n.task=t.currentTask,o.push(n),i.scheduleMicroTask()}}}return e}let R=s("rejectionHandledHandler");function O(e){if(e[f]===D){try{let i=t[R];i&&"function"==typeof i&&i.call(this,{rejection:e[y],promise:e})}catch{}e[f]=b;for(let t=0;t<o.length;t++)e===o[t].promise&&o.splice(t,1)}}function F(e,t,i,n,r){O(e);let s=e[f],o=s?"function"==typeof n?n:p:"function"==typeof r?r:m;t.scheduleMicroTask(w,(()=>{try{let n=e[y],r=!!i&&v===i[v];r&&(i[x]=n,i[_]=s);let a=t.run(o,void 0,r&&o!==m&&o!==p?[]:[n]);k(i,!0,a)}catch(e){k(i,!1,e)}}),i)}let P=function(){},M=e.AggregateError;class V{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(e){return k(new this(null),S,e)}static reject(e){return k(new this(null),b,e)}static any(e){if(!e||"function"!=typeof e[Symbol.iterator])return Promise.reject(new M([],"All promises were rejected"));let t=[],i=0;try{for(let n of e)i++,t.push(V.resolve(n))}catch{return Promise.reject(new M([],"All promises were rejected"))}if(0===i)return Promise.reject(new M([],"All promises were rejected"));let n=!1,r=[];return new V(((e,s)=>{for(let o=0;o<t.length;o++)t[o].then((t=>{n||(n=!0,e(t))}),(e=>{r.push(e),i--,0===i&&(n=!0,s(new M(r,"All promises were rejected")))}))}))}static race(e){let t,i,n=new this(((e,n)=>{t=e,i=n}));function r(e){t(e)}function s(e){i(e)}for(let t of e)g(t)||(t=this.resolve(t)),t.then(r,s);return n}static all(e){return V.allWithCallback(e)}static allSettled(e){return(this&&this.prototype instanceof V?this:V).allWithCallback(e,{thenCallback:e=>({status:"fulfilled",value:e}),errorCallback:e=>({status:"rejected",reason:e})})}static allWithCallback(e,t){let i,n,r=new this(((e,t)=>{i=e,n=t})),s=2,o=0,a=[];for(let r of e){g(r)||(r=this.resolve(r));let e=o;try{r.then((n=>{a[e]=t?t.thenCallback(n):n,s--,0===s&&i(a)}),(r=>{t?(a[e]=t.errorCallback(r),s--,0===s&&i(a)):n(r)}))}catch(e){n(e)}s++,o++}return s-=2,0===s&&i(a),r}constructor(e){let t=this;if(!(t instanceof V))throw new Error("Must be an instanceof Promise.");t[f]=C,t[y]=[];try{let i=I();e&&e(i(E(t,S)),i(E(t,b)))}catch(e){k(t,!1,e)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return V}then(e,i){let n=this.constructor?.[Symbol.species];(!n||"function"!=typeof n)&&(n=this.constructor||V);let r=new n(P),s=t.current;return this[f]==C?this[y].push(s,r,e,i):F(this,s,r,e,i),r}catch(e){return this.then(null,e)}finally(e){let i=this.constructor?.[Symbol.species];(!i||"function"!=typeof i)&&(i=V);let n=new i(P);n[v]=v;let r=t.current;return this[f]==C?this[y].push(r,n,e,e):F(this,r,n,e,e),n}}V.resolve=V.resolve,V.reject=V.reject,V.race=V.race,V.all=V.all;let N=e[l]=e.Promise;e.Promise=V;let L=s("thenPatched");function H(e){let t=e.prototype,i=n(t,"then");if(i&&(!1===i.writable||!i.configurable))return;let r=t.then;t[d]=r,e.prototype.then=function(e,t){return new V(((e,t)=>{r.call(this,e,t)})).then(e,t)},e[L]=!0}return i.patchThen=H,N&&(H(N),Q(e,"fetch",(e=>function(e){return function(t,i){let n=e.apply(t,i);if(n instanceof V)return n;let r=n.constructor;return r[L]||H(r),n}}(e)))),Promise[t.__symbol__("uncaughtPromiseErrors")]=o,V})),Zone.__load_patch("toString",(e=>{let t=Function.prototype.toString,i=M("OriginalDelegate"),n=M("Promise"),r=M("Error"),s=function(){if("function"==typeof this){let s=this[i];if(s)return"function"==typeof s?t.call(s):Object.prototype.toString.call(s);if(this===Promise){let i=e[n];if(i)return t.call(i)}if(this===Error){let i=e[r];if(i)return t.call(i)}}return t.call(this)};s[i]=t,Function.prototype.toString=s;let o=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":o.call(this)}}));var re=!1;if(typeof window<"u")try{let e=Object.defineProperty({},"passive",{get:function(){re=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch{re=!1}var se={useG:!0},oe={},ae={},le=new RegExp("^"+O+"(\\w+)(true|false)$"),de=M("propagationStopped");function ce(e,t){let i=(t?t(e):e)+R,n=(t?t(e):e)+k,r=O+i,s=O+n;oe[e]={},oe[e][R]=r,oe[e][k]=s}function he(e,t,i,n){let r=n&&n.add||E,s=n&&n.rm||I,o=n&&n.listeners||"eventListeners",a=n&&n.rmAll||"removeAllListeners",l=M(r),d="."+r+":",c="prependListener",h="."+c+":",u=function(e,t,i){if(e.isRemoved)return;let n,r=e.callback;"object"==typeof r&&r.handleEvent&&(e.callback=e=>r.handleEvent(e),e.originalDelegate=r);try{e.invoke(e,t,[i])}catch(e){n=e}let o=e.options;if(o&&"object"==typeof o&&o.once){let n=e.originalDelegate?e.originalDelegate:e.callback;t[s].call(t,i.type,n,o)}return n};function g(i,n,r){if(!(n=n||e.event))return;let s=i||n.target||e,o=s[oe[n.type][r?k:R]];if(o){let e=[];if(1===o.length){let t=u(o[0],s,n);t&&e.push(t)}else{let t=o.slice();for(let i=0;i<t.length&&(!n||!0!==n[de]);i++){let r=u(t[i],s,n);r&&e.push(r)}}if(1===e.length)throw e[0];for(let i=0;i<e.length;i++){let n=e[i];t.nativeScheduleMicroTask((()=>{throw n}))}}}let p=function(e){return g(this,e,!1)},m=function(e){return g(this,e,!0)};function f(t,i){if(!t)return!1;let n=!0;i&&void 0!==i.useG&&(n=i.useG);let u=i&&i.vh,g=!0;i&&void 0!==i.chkDup&&(g=i.chkDup);let f=!1;i&&void 0!==i.rt&&(f=i.rt);let x=t;for(;x&&!x.hasOwnProperty(r);)x=S(x);if(!x&&t[r]&&(x=t),!x||x[l])return!1;let _,w=i&&i.eventNameToString,C={},b=x[l]=x[r],D=x[M(s)]=x[s],E=x[M(o)]=x[o],I=x[M(a)]=x[a];i&&i.prepend&&(_=x[M(i.prepend)]=x[i.prepend]);let T=n?function(e){if(!C.isExisting)return b.call(C.target,C.eventName,C.capture?m:p,C.options)}:function(e){return b.call(C.target,C.eventName,e.invoke,C.options)},A=n?function(e){if(!e.isRemoved){let t,i=oe[e.eventName];i&&(t=i[e.capture?k:R]);let n=t&&e.target[t];if(n)for(let i=0;i<n.length;i++)if(n[i]===e){n.splice(i,1),e.isRemoved=!0,0===n.length&&(e.allRemoved=!0,e.target[t]=null);break}}if(e.allRemoved)return D.call(e.target,e.eventName,e.capture?m:p,e.options)}:function(e){return D.call(e.target,e.eventName,e.invoke,e.options)},F=i&&i.diff?i.diff:function(e,t){let i=typeof t;return"function"===i&&e.callback===t||"object"===i&&e.originalDelegate===t},P=Zone[M("UNPATCHED_EVENTS")],V=e[M("PASSIVE_EVENTS")],N=function(t,r,s,o,a=!1,l=!1){return function(){let d=this||e,c=arguments[0];i&&i.transferEventName&&(c=i.transferEventName(c));let h=arguments[1];if(!h)return t.apply(this,arguments);if($&&"uncaughtException"===c)return t.apply(this,arguments);let p=!1;if("function"!=typeof h){if(!h.handleEvent)return t.apply(this,arguments);p=!0}if(u&&!u(t,h,d,arguments))return;let m=re&&!!V&&-1!==V.indexOf(c),f=function(e,t){return!re&&"object"==typeof e&&e?!!e.capture:re&&t?"boolean"==typeof e?{capture:e,passive:!0}:e?"object"==typeof e&&!1!==e.passive?v(y({},e),{passive:!0}):e:{passive:!0}:e}(arguments[2],m);if(P)for(let e=0;e<P.length;e++)if(c===P[e])return m?t.call(d,c,h,f):t.apply(this,arguments);let x=!!f&&("boolean"==typeof f||f.capture),_=!(!f||"object"!=typeof f)&&f.once,S=Zone.current,b=oe[c];b||(ce(c,w),b=oe[c]);let D=b[x?k:R],E=d[D],I=!1;if(E){if(I=!0,g)for(let e=0;e<E.length;e++)if(F(E[e],h))return}else E=d[D]=[];let T,A=d.constructor.name,O=ae[A];O&&(T=O[c]),T||(T=A+r+(w?w(c):c)),C.options=f,_&&(C.options.once=!1),C.target=d,C.capture=x,C.eventName=c,C.isExisting=I;let M=n?se:void 0;M&&(M.taskData=C);let N=S.scheduleEventTask(T,h,M,s,o);return C.target=null,M&&(M.taskData=null),_&&(f.once=!0),!re&&"boolean"==typeof N.options||(N.options=f),N.target=d,N.capture=x,N.eventName=c,p&&(N.originalDelegate=h),l?E.unshift(N):E.push(N),a?d:void 0}};return x[r]=N(b,d,T,A,f),_&&(x[c]=N(_,h,(function(e){return _.call(C.target,C.eventName,e.invoke,C.options)}),A,f,!0)),x[s]=function(){let t=this||e,n=arguments[0];i&&i.transferEventName&&(n=i.transferEventName(n));let r=arguments[2],s=!!r&&("boolean"==typeof r||r.capture),o=arguments[1];if(!o)return D.apply(this,arguments);if(u&&!u(D,o,t,arguments))return;let a,l=oe[n];l&&(a=l[s?k:R]);let d=a&&t[a];if(d)for(let e=0;e<d.length;e++){let i=d[e];if(F(i,o))return d.splice(e,1),i.isRemoved=!0,0===d.length&&(i.allRemoved=!0,t[a]=null,"string"==typeof n)&&(t[O+"ON_PROPERTY"+n]=null),i.zone.cancelTask(i),f?t:void 0}return D.apply(this,arguments)},x[o]=function(){let t=this||e,n=arguments[0];i&&i.transferEventName&&(n=i.transferEventName(n));let r=[],s=ue(t,w?w(n):n);for(let e=0;e<s.length;e++){let t=s[e],i=t.originalDelegate?t.originalDelegate:t.callback;r.push(i)}return r},x[a]=function(){let t=this||e,n=arguments[0];if(n){i&&i.transferEventName&&(n=i.transferEventName(n));let e=oe[n];if(e){let i=e[R],r=e[k],o=t[i],a=t[r];if(o){let e=o.slice();for(let t=0;t<e.length;t++){let i=e[t],r=i.originalDelegate?i.originalDelegate:i.callback;this[s].call(this,n,r,i.options)}}if(a){let e=a.slice();for(let t=0;t<e.length;t++){let i=e[t],r=i.originalDelegate?i.originalDelegate:i.callback;this[s].call(this,n,r,i.options)}}}}else{let e=Object.keys(t);for(let t=0;t<e.length;t++){let i=e[t],n=le.exec(i),r=n&&n[1];r&&"removeListener"!==r&&this[a].call(this,r)}this[a].call(this,"removeListener")}if(f)return this},ee(x[r],b),ee(x[s],D),I&&ee(x[a],I),E&&ee(x[o],E),!0}let x=[];for(let e=0;e<i.length;e++)x[e]=f(i[e],n);return x}function ue(e,t){if(!t){let i=[];for(let n in e){let r=le.exec(n),s=r&&r[1];if(s&&(!t||s===t)){let t=e[n];if(t)for(let e=0;e<t.length;e++)i.push(t[e])}}return i}let i=oe[t];i||(ce(t),i=oe[t]);let n=e[i[R]],r=e[i[k]];return n?r?n.concat(r):n.slice():r?r.slice():[]}function ge(e,t){let i=e.Event;i&&i.prototype&&t.patchMethod(i.prototype,"stopImmediatePropagation",(e=>function(t,i){t[de]=!0,e&&e.apply(t,i)}))}function pe(e,t,i,n,r){let s=Zone.__symbol__(n);if(t[s])return;let o=t[s]=t[n];t[n]=function(s,a,l){return a&&a.prototype&&r.forEach((function(t){let r=`${i}.${n}::`+t,s=a.prototype;try{if(s.hasOwnProperty(t)){let i=e.ObjectGetOwnPropertyDescriptor(s,t);i&&i.value?(i.value=e.wrapWithCurrentZone(i.value,r),e._redefineProperty(a.prototype,t,i)):s[t]&&(s[t]=e.wrapWithCurrentZone(s[t],r))}else s[t]&&(s[t]=e.wrapWithCurrentZone(s[t],r))}catch{}})),o.call(t,s,a,l)},e.attachOriginToPatched(t[n],o)}function me(e,t,i){if(!i||0===i.length)return t;let n=i.filter((t=>t.target===e));if(!n||0===n.length)return t;let r=n[0].ignoreProperties;return t.filter((e=>-1===r.indexOf(e)))}function fe(e,t,i,n){e&&Y(e,me(e,t,i),n)}function ye(e){return Object.getOwnPropertyNames(e).filter((e=>e.startsWith("on")&&e.length>2)).map((e=>e.substring(2)))}Zone.__load_patch("util",((e,t,i)=>{let n=ye(e);i.patchOnProperties=Y,i.patchMethod=Q,i.bindArguments=B,i.patchMacroTask=J;let r=t.__symbol__("BLACK_LISTED_EVENTS"),s=t.__symbol__("UNPATCHED_EVENTS");e[s]&&(e[r]=e[s]),e[r]&&(t[r]=t[s]=e[r]),i.patchEventPrototype=ge,i.patchEventTarget=he,i.isIEOrEdge=ne,i.ObjectDefineProperty=C,i.ObjectGetOwnPropertyDescriptor=w,i.ObjectCreate=b,i.ArraySlice=D,i.patchClass=Z,i.wrapWithCurrentZone=F,i.filterProperties=me,i.attachOriginToPatched=ee,i._redefineProperty=Object.defineProperty,i.patchCallbacks=pe,i.getGlobalObjects=()=>({globalSources:ae,zoneSymbolEventNames:oe,eventNames:n,isBrowser:W,isMix:j,isNode:$,TRUE_STR:k,FALSE_STR:R,ZONE_SYMBOL_PREFIX:O,ADD_EVENT_LISTENER_STR:E,REMOVE_EVENT_LISTENER_STR:I})}));var ve=M("zoneTask");function xe(e,t,i,n){let r=null,s=null;i+=n;let o={};function a(t){let i=t.data;return i.args[0]=function(){return t.invoke.apply(this,arguments)},i.handleId=r.apply(e,i.args),t}function l(t){return s.call(e,t.data.handleId)}r=Q(e,t+=n,(i=>function(r,s){if("function"==typeof s[0]){let e={isPeriodic:"Interval"===n,delay:"Timeout"===n||"Interval"===n?s[1]||0:void 0,args:s},i=s[0];s[0]=function(){try{return i.apply(this,arguments)}finally{e.isPeriodic||("number"==typeof e.handleId?delete o[e.handleId]:e.handleId&&(e.handleId[ve]=null))}};let r=P(t,s[0],e,a,l);if(!r)return r;let d=r.data.handleId;return"number"==typeof d?o[d]=r:d&&(d[ve]=r),d&&d.ref&&d.unref&&"function"==typeof d.ref&&"function"==typeof d.unref&&(r.ref=d.ref.bind(d),r.unref=d.unref.bind(d)),"number"==typeof d||d?d:r}return i.apply(e,s)})),s=Q(e,i,(t=>function(i,n){let r,s=n[0];"number"==typeof s?r=o[s]:(r=s&&s[ve],r||(r=s)),r&&"string"==typeof r.type?"notScheduled"!==r.state&&(r.cancelFn&&r.data.isPeriodic||0===r.runCount)&&("number"==typeof s?delete o[s]:s&&(s[ve]=null),r.zone.cancelTask(r)):t.apply(e,n)}))}function _e(e){return"function"==typeof e}Zone.__load_patch("legacy",(e=>{let t=e[Zone.__symbol__("legacyPatch")];t&&t()})),Zone.__load_patch("timers",(e=>{let t="set",i="clear";xe(e,t,i,"Timeout"),xe(e,t,i,"Interval"),xe(e,t,i,"Immediate")})),Zone.__load_patch("requestAnimationFrame",(e=>{xe(e,"request","cancel","AnimationFrame"),xe(e,"mozRequest","mozCancel","AnimationFrame"),xe(e,"webkitRequest","webkitCancel","AnimationFrame")})),Zone.__load_patch("blocking",((e,t)=>{let i=["alert","prompt","confirm"];for(let n=0;n<i.length;n++)Q(e,i[n],((i,n,r)=>function(n,s){return t.current.run(i,e,s,r)}))})),Zone.__load_patch("EventTarget",((e,t,i)=>{(function(e,t){t.patchEventPrototype(e,t)})(e,i),function(e,t){if(Zone[t.symbol("patchEventTarget")])return;let{eventNames:i,zoneSymbolEventNames:n,TRUE_STR:r,FALSE_STR:s,ZONE_SYMBOL_PREFIX:o}=t.getGlobalObjects();for(let e=0;e<i.length;e++){let t=i[e],a=o+(t+s),l=o+(t+r);n[t]={},n[t][s]=a,n[t][r]=l}let a=e.EventTarget;a&&a.prototype&&t.patchEventTarget(e,t,[a&&a.prototype])}(e,i);let n=e.XMLHttpRequestEventTarget;n&&n.prototype&&i.patchEventTarget(e,i,[n.prototype])})),Zone.__load_patch("MutationObserver",((e,t,i)=>{Z("MutationObserver"),Z("WebKitMutationObserver")})),Zone.__load_patch("IntersectionObserver",((e,t,i)=>{Z("IntersectionObserver")})),Zone.__load_patch("FileReader",((e,t,i)=>{Z("FileReader")})),Zone.__load_patch("on_property",((e,t,i)=>{!function(e,t){if($&&!j||Zone[e.symbol("patchEvents")])return;let i=t.__Zone_ignore_on_properties,n=[];if(W){let e=window;n=n.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);let t=function(){try{let e=N.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:e,ignoreProperties:["error"]}]:[];fe(e,ye(e),i&&i.concat(t),S(e))}n=n.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let e=0;e<n.length;e++){let r=t[n[e]];r&&r.prototype&&fe(r.prototype,ye(r.prototype),i)}}(i,e)})),Zone.__load_patch("customElements",((e,t,i)=>{!function(e,t){let{isBrowser:i,isMix:n}=t.getGlobalObjects();(i||n)&&e.customElements&&"customElements"in e&&t.patchCallbacks(t,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,i)})),Zone.__load_patch("XHR",((e,t)=>{!function(e){let l=e.XMLHttpRequest;if(!l)return;let d=l.prototype,c=d[T],h=d[A];if(!c){let t=e.XMLHttpRequestEventTarget;if(t){let e=t.prototype;c=e[T],h=e[A]}}let u="readystatechange",g="scheduled";function p(e){let n=e.data,o=n.target;o[s]=!1,o[a]=!1;let l=o[r];c||(c=o[T],h=o[A]),l&&h.call(o,u,l);let d=o[r]=()=>{if(o.readyState===o.DONE)if(!n.aborted&&o[s]&&e.state===g){let i=o[t.__symbol__("loadfalse")];if(0!==o.status&&i&&i.length>0){let r=e.invoke;e.invoke=function(){let i=o[t.__symbol__("loadfalse")];for(let t=0;t<i.length;t++)i[t]===e&&i.splice(t,1);!n.aborted&&e.state===g&&r.call(e)},i.push(e)}else e.invoke()}else!n.aborted&&!1===o[s]&&(o[a]=!0)};return c.call(o,u,d),o[i]||(o[i]=e),_.apply(o,n.args),o[s]=!0,e}function m(){}function f(e){let t=e.data;return t.aborted=!0,w.apply(t.target,t.args)}let y=Q(d,"open",(()=>function(e,t){return e[n]=0==t[2],e[o]=t[1],y.apply(e,t)})),v=M("fetchTaskAborting"),x=M("fetchTaskScheduling"),_=Q(d,"send",(()=>function(e,i){if(!0===t.current[x]||e[n])return _.apply(e,i);{let t={target:e,url:e[o],isPeriodic:!1,args:i,aborted:!1},n=P("XMLHttpRequest.send",m,t,p,f);e&&!0===e[a]&&!t.aborted&&n.state===g&&n.invoke()}})),w=Q(d,"abort",(()=>function(e,n){let r=function(e){return e[i]}(e);if(r&&"string"==typeof r.type){if(null==r.cancelFn||r.data&&r.data.aborted)return;r.zone.cancelTask(r)}else if(!0===t.current[v])return w.apply(e,n)}))}(e);let i=M("xhrTask"),n=M("xhrSync"),r=M("xhrListener"),s=M("xhrScheduled"),o=M("xhrURL"),a=M("xhrErrorBeforeScheduled")})),Zone.__load_patch("geolocation",(e=>{e.navigator&&e.navigator.geolocation&&function(e,t){let i=e.constructor.name;for(let n=0;n<t.length;n++){let r=t[n],s=e[r];if(s){if(!G(w(e,r)))continue;e[r]=(e=>{let t=function(){return e.apply(this,B(arguments,i+"."+r))};return ee(t,e),t})(s)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])})),Zone.__load_patch("PromiseRejectionEvent",((e,t)=>{function i(t){return function(i){ue(e,t).forEach((n=>{let r=e.PromiseRejectionEvent;if(r){let e=new r(t,{promise:i.promise,reason:i.rejection});n.invoke(e)}}))}}e.PromiseRejectionEvent&&(t[M("unhandledPromiseRejectionHandler")]=i("unhandledrejection"),t[M("rejectionHandledHandler")]=i("rejectionhandled"))})),Zone.__load_patch("queueMicrotask",((e,t,i)=>{!function(e,t){t.patchMethod(e,"queueMicrotask",(e=>function(e,t){Zone.current.scheduleMicroTask("queueMicrotask",t[0])}))}(e,i)})),((e,t,i)=>{i=null!=e?o(g(e)):{},((e,t,i,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of h(t))!p.call(e,i)&&undefined!==i&&a(e,i,{get:()=>t[i],enumerable:!(n=d(t,i))||n.enumerable})})(e&&e.__esModule?i:a(i,"default",{value:e,enumerable:!0}),e)})(_()),Zone&&Zone.__load_patch("abortSignal_patchEventTarget",((e,t,i)=>{let n=e.EventTarget?.prototype,r=i.getGlobalObjects().ADD_EVENT_LISTENER_STR,s=i.symbol(r),o=i.symbol(`${r}__ig_patch`);n?.[s]&&(n[o]=n[r],n[r]=function(){return arguments[2]?.signal?n[s].apply(this,arguments):n[o].apply(this,arguments)})}));var we=!1,Ce={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){let e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else we&&console.log("RxJS: Back to a better error behavior. Thank you. <3");we=e},get useDeprecatedSynchronousErrorHandling(){return we}};function Se(e){setTimeout((()=>{throw e}),0)}var be={closed:!0,next(e){},error(e){if(Ce.useDeprecatedSynchronousErrorHandling)throw e;Se(e)},complete(){}},De=Array.isArray||(e=>e&&"number"==typeof e.length);function Ee(e){return null!==e&&"object"==typeof e}var Ie,Te=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map(((e,t)=>`${t+1}) ${e.toString()}`)).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})(),Ae=Te,ke=class{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:i,_unsubscribe:n,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof ke)t.remove(this);else if(null!==t)for(let e=0;e<t.length;++e)t[e].remove(this);if(_e(n)){i&&(this._unsubscribe=void 0);try{n.call(this)}catch(t){e=t instanceof Ae?Re(t.errors):[t]}}if(De(r)){let t=-1,i=r.length;for(;++t<i;){let i=r[t];if(Ee(i))try{i.unsubscribe()}catch(t){e=e||[],t instanceof Ae?e=e.concat(Re(t.errors)):e.push(t)}}}if(e)throw new Ae(e)}add(e){let t=e;if(!e)return ke.EMPTY;switch(typeof e){case"function":t=new ke(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof ke)){let e=t;t=new ke,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=t;if(null===i)t._parentOrParents=this;else if(i instanceof ke){if(i===this)return t;t._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return t;i.push(this)}let n=this._subscriptions;return null===n?this._subscriptions=[t]:n.push(t),t}remove(e){let t=this._subscriptions;if(t){let i=t.indexOf(e);-1!==i&&t.splice(i,1)}}};function Re(e){return e.reduce(((e,t)=>e.concat(t instanceof Ae?t.errors:t)),[])}ke.EMPTY=((Ie=new ke).closed=!0,Ie);var Oe="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),Fe=class extends ke{constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=be;break;case 1:if(!e){this.destination=be;break}if("object"==typeof e){e instanceof Fe?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new Pe(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new Pe(this,e,t,i)}}[Oe](){return this}static create(e,t,i){let n=new Fe(e,t,i);return n.syncErrorThrowable=!1,n}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){let{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}},Pe=class extends Fe{constructor(e,t,i,n){super(),this._parentSubscriber=e;let r,s=this;_e(t)?r=t:t&&(r=t.next,i=t.error,n=t.complete,t!==be&&(s=Object.create(t),_e(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=r,this._error=i,this._complete=n}next(e){if(!this.isStopped&&this._next){let{_parentSubscriber:t}=this;Ce.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){let{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=Ce;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):Se(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;Se(e)}}}complete(){if(!this.isStopped){let{_parentSubscriber:e}=this;if(this._complete){let t=()=>this._complete.call(this._context);Ce.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),Ce.useDeprecatedSynchronousErrorHandling)throw e;Se(e)}}__tryOrSetError(e,t,i){if(!Ce.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(t){return Ce.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Se(t),!0)}return!1}_unsubscribe(){let{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}},Me="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ve(e){return e}function Ne(e){return 0===e.length?Ve:1===e.length?e[0]:function(t){return e.reduce(((e,t)=>t(e)),t)}}var Le=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){let i=new e;return i.source=this,i.operator=t,i}subscribe(e,t,i){let{operator:n}=this,r=function(e,t,i){if(e){if(e instanceof Fe)return e;if(e[Oe])return e[Oe]()}return e||t||i?new Fe(e,t,i):new Fe(be)}(e,t,i);if(n?r.add(n.call(r,this.source)):r.add(this.source||Ce.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),Ce.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){Ce.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){let{closed:t,destination:i,isStopped:n}=e;if(t||n)return!1;e=i&&i instanceof Fe?i:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=He(t))(((t,i)=>{let n;n=this.subscribe((t=>{try{e(t)}catch(e){i(e),n&&n.unsubscribe()}}),i,t)}))}_subscribe(e){let{source:t}=this;return t&&t.subscribe(e)}[Me](){return this}pipe(...e){return 0===e.length?this:Ne(e)(this)}toPromise(e){return new(e=He(e))(((e,t)=>{let i;this.subscribe((e=>i=e),(e=>t(e)),(()=>e(i)))}))}}return e.create=t=>new e(t),e})();function He(e){if(e||(e=Ce.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var Be=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})(),Ge=Be,ze=class extends ke{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;let e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;let i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}},$e=class extends Fe{constructor(e){super(e),this.destination=e}},We=(()=>{class e extends Le{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Oe](){return new $e(this)}lift(e){let t=new je(this,this);return t.operator=e,t}next(e){if(this.closed)throw new Ge;if(!this.isStopped){let{observers:t}=this,i=t.length,n=t.slice();for(let t=0;t<i;t++)n[t].next(e)}}error(e){if(this.closed)throw new Ge;this.hasError=!0,this.thrownError=e,this.isStopped=!0;let{observers:t}=this,i=t.length,n=t.slice();for(let t=0;t<i;t++)n[t].error(e);this.observers.length=0}complete(){if(this.closed)throw new Ge;this.isStopped=!0;let{observers:e}=this,t=e.length,i=e.slice();for(let e=0;e<t;e++)i[e].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new Ge;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new Ge;return this.hasError?(e.error(this.thrownError),ke.EMPTY):this.isStopped?(e.complete(),ke.EMPTY):(this.observers.push(e),new ze(this,e))}asObservable(){let e=new Le;return e.source=this,e}}return e.create=(e,t)=>new je(e,t),e})(),je=class extends We{constructor(e,t){super(),this.destination=e,this.source=t}next(e){let{destination:t}=this;t&&t.next&&t.next(e)}error(e){let{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){let{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){let{source:t}=this;return t?this.source.subscribe(e):ke.EMPTY}};function Ke(){return function(e){return e.lift(new Ue(e))}}var Ue=class{constructor(e){this.connectable=e}call(e,t){let{connectable:i}=this;i._refCount++;let n=new qe(e,i),r=t.subscribe(n);return n.closed||(n.connection=i.connect()),r}},qe=class extends Fe{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){let{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;let t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);let{connection:i}=this,n=e._connection;this.connection=null,n&&(!i||n===i)&&n.unsubscribe()}},Ye=class extends Le{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new ke,e.add(this.source.subscribe(new Ze(this.getSubject(),this))),e.closed&&(this._connection=null,e=ke.EMPTY)),e}refCount(){return Ke()(this)}},Xe=(()=>{let e=Ye.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})(),Ze=class extends $e{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){let e=this.connectable;if(e){this.connectable=null;let t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}},Qe=class extends We{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ge;return this._value}next(e){super.next(this._value=e)}},Je=class extends ke{constructor(e,t){super()}schedule(e,t=0){return this}},et=class extends Je{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;let i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,n=!1;try{this.work(e)}catch(e){n=!0,i=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),i}_unsubscribe(){let e=this.id,t=this.scheduler,i=t.actions,n=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&i.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}},tt=(()=>{class e{constructor(t,i=e.now){this.SchedulerAction=t,this.now=i}schedule(e,t=0,i){return new this.SchedulerAction(this,e).schedule(i,t)}}return e.now=()=>Date.now(),e})(),it=class extends tt{constructor(e,t=tt.now){super(e,(()=>it.delegate&&it.delegate!==this?it.delegate.now():t())),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return it.delegate&&it.delegate!==this?it.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){let t,{actions:i}=this;if(this.active)i.push(e);else{this.active=!0;do{if(t=e.execute(e.state,e.delay))break}while(e=i.shift());if(this.active=!1,t){for(;e=i.shift();)e.unsubscribe();throw t}}}},nt=new class extends it{}(class extends et{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}}),rt=new Le((e=>e.complete()));function st(e){return e?function(e){return new Le((t=>e.schedule((()=>t.complete()))))}(e):rt}function ot(e){return e&&"function"==typeof e.schedule}var at=e=>t=>{for(let i=0,n=e.length;i<n&&!t.closed;i++)t.next(e[i]);t.complete()};function lt(e,t){return new Le((i=>{let n=new ke,r=0;return n.add(t.schedule((function(){r!==e.length?(i.next(e[r++]),i.closed||n.add(this.schedule())):i.complete()}))),n}))}function dt(e,t){return t?lt(e,t):new Le(at(e))}function ct(...e){let t=e[e.length-1];return ot(t)?(e.pop(),lt(e,t)):dt(e)}var ht=class{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}accept(e,t,i){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,i)}toObservable(){switch(this.kind){case"N":return ct(this.value);case"E":return function(e,t){return new Le((t=>t.error(e)))}(this.error);case"C":return st()}throw new Error("unexpected notification kind value")}static createNext(e){return typeof e<"u"?new ht("N",e):ht.undefinedValueNotification}static createError(e){return new ht("E",void 0,e)}static createComplete(){return ht.completeNotification}};ht.completeNotification=new ht("C"),ht.undefinedValueNotification=new ht("N",void 0);var ut=class extends Fe{constructor(e,t,i=0){super(e),this.scheduler=t,this.delay=i}static dispatch(e){let{notification:t,destination:i}=e;t.observe(i),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(ut.dispatch,this.delay,new gt(e,this.destination)))}_next(e){this.scheduleMessage(ht.createNext(e))}_error(e){this.scheduleMessage(ht.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(ht.createComplete()),this.unsubscribe()}},gt=class{constructor(e,t){this.notification=e,this.destination=t}},pt=class extends We{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){let t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new mt(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){let t,i=this._infiniteTimeWindow,n=i?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,s=n.length;if(this.closed)throw new Ge;if(this.isStopped||this.hasError?t=ke.EMPTY:(this.observers.push(e),t=new ze(this,e)),r&&e.add(e=new ut(e,r)),i)for(let t=0;t<s&&!e.closed;t++)e.next(n[t]);else for(let t=0;t<s&&!e.closed;t++)e.next(n[t].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}_getNow(){return(this.scheduler||nt).now()}_trimBufferThenGetEvents(){let e=this._getNow(),t=this._bufferSize,i=this._windowTime,n=this._events,r=n.length,s=0;for(;s<r&&!(e-n[s].time<i);)s++;return r>t&&(s=Math.max(s,r-t)),s>0&&n.splice(0,s),n}},mt=class{constructor(e,t){this.time=e,this.value=t}},ft=new it(et),yt=new class extends it{flush(e){this.active=!0,this.scheduled=void 0;let t,{actions:i}=this,n=-1,r=i.length;e=e||i.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<r&&(e=i.shift()));if(this.active=!1,t){for(;++n<r&&(e=i.shift());)e.unsubscribe();throw t}}}(class extends et{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((()=>e.flush(null)))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});function vt(){}var xt=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})(),_t=xt,wt=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})(),Ct=wt;function St(e,t){return function(i){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new bt(e,t))}}var bt=class{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new Dt(e,this.project,this.thisArg))}},Dt=class extends Fe{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},Et="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",It=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Tt(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var At=e=>{if(e&&"function"==typeof e[Me])return(e=>t=>{let i=e[Me]();if("function"!=typeof i.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return i.subscribe(t)})(e);if(It(e))return at(e);if(Tt(e))return(e=>t=>(e.then((e=>{t.closed||(t.next(e),t.complete())}),(e=>t.error(e))).then(null,Se),t))(e);if(e&&"function"==typeof e[Et])return(e=>t=>{let i=e[Et]();for(;;){let e;try{e=i.next()}catch(e){return t.error(e),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof i.return&&t.add((()=>{i.return&&i.return()})),t})(e);{let t=`You provided ${Ee(e)?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function kt(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[Me]}(e))return function(e,t){return new Le((i=>{let n=new ke;return n.add(t.schedule((()=>{let r=e[Me]();n.add(r.subscribe({next(e){n.add(t.schedule((()=>i.next(e))))},error(e){n.add(t.schedule((()=>i.error(e))))},complete(){n.add(t.schedule((()=>i.complete())))}}))}))),n}))}(e,t);if(Tt(e))return function(e,t){return new Le((i=>{let n=new ke;return n.add(t.schedule((()=>e.then((e=>{n.add(t.schedule((()=>{i.next(e),n.add(t.schedule((()=>i.complete())))})))}),(e=>{n.add(t.schedule((()=>i.error(e))))}))))),n}))}(e,t);if(It(e))return lt(e,t);if(function(e){return e&&"function"==typeof e[Et]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new Le((i=>{let n,r=new ke;return r.add((()=>{n&&"function"==typeof n.return&&n.return()})),r.add(t.schedule((()=>{n=e[Et](),r.add(t.schedule((function(){if(i.closed)return;let e,t;try{let i=n.next();e=i.value,t=i.done}catch(e){return void i.error(e)}t?i.complete():(i.next(e),this.schedule())})))}))),r}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof Le?e:new Le(At(e))}var Rt=class extends Fe{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}},Ot=class extends Fe{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}};function Ft(e,t){if(t.closed)return;if(e instanceof Le)return e.subscribe(t);let i;try{i=At(e)(t)}catch(e){t.error(e)}return i}function Pt(e,t,i=Number.POSITIVE_INFINITY){return"function"==typeof t?n=>n.pipe(Pt(((i,n)=>kt(e(i,n)).pipe(St(((e,r)=>t(i,e,n,r))))),i)):("number"==typeof t&&(i=t),t=>t.lift(new Mt(e,i)))}var Mt=class{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Vt(e,this.project,this.concurrent))}},Vt=class extends Ot{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t,i=this.index++;try{t=this.project(e,i)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)}_innerSub(e){let t=new Rt(this),i=this.destination;i.add(t);let n=Ft(e,t);n!==t&&i.add(n)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){let e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}};function Nt(e,t){return new Le((i=>{let n=e.length;if(0===n)return void i.complete();let r=new Array(n),s=0,o=0;for(let a=0;a<n;a++){let l=kt(e[a]),d=!1;i.add(l.subscribe({next:e=>{d||(d=!0,o++),r[a]=e},error:e=>i.error(e),complete:()=>{s++,(s===n||!d)&&(o===n&&i.next(t?t.reduce(((e,t,i)=>(e[t]=r[i],e)),{}):r),i.complete())}}))}}))}function Lt(e,t,i,n){return _e(i)&&(n=i,i=void 0),n?Lt(e,t,i).pipe(St((e=>De(e)?n(...e):n(e)))):new Le((n=>{Ht(e,t,(function(e){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(e)}),n,i)}))}function Ht(e,t,i,n,r){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){let n=e;e.addEventListener(t,i,r),s=()=>n.removeEventListener(t,i,r)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){let n=e;e.on(t,i),s=()=>n.off(t,i)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){let n=e;e.addListener(t,i),s=()=>n.removeListener(t,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,o=e.length;s<o;s++)Ht(e[s],t,i,n,r)}n.add(s)}function Bt(e){return!De(e)&&e-parseFloat(e)+1>=0}function Gt(e=0,t=ft){return(!Bt(e)||e<0)&&(e=0),(!t||"function"!=typeof t.schedule)&&(t=ft),new Le((i=>(i.add(t.schedule(zt,e,{subscriber:i,counter:0,period:e})),i)))}function zt(e){let{subscriber:t,counter:i,period:n}=e;t.next(i),this.schedule({subscriber:t,counter:i+1,period:n},n)}function $t(...e){let t=Number.POSITIVE_INFINITY,i=null,n=e[e.length-1];return ot(n)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof n&&(t=e.pop()),null===i&&1===e.length&&e[0]instanceof Le?e[0]:function(e=Number.POSITIVE_INFINITY){return Pt(Ve,e)}(t)(dt(e,i))}function Wt(e,t){return function(i){return i.lift(new jt(e,t))}}Object.prototype.toString;var jt=class{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Kt(e,this.predicate,this.thisArg))}},Kt=class extends Fe{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)}};function Ut(e){let{index:t,period:i,subscriber:n}=e;if(n.next(t),!n.closed){if(-1===i)return n.complete();e.index=t+1,this.schedule(e,i)}}function qt(e){return t=>t.lift(new Yt(e))}var Yt=class{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new Xt(e,this.durationSelector))}},Xt=class extends Ot{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){try{let t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(e,t){let i=this.durationSubscription;this.value=e,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=Ft(t,new Rt(this)),i&&!i.closed&&this.add(this.durationSubscription=i)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){let e=this.value,t=this.durationSubscription;t&&(this.durationSubscription=void 0,t.unsubscribe(),this.remove(t)),this.value=void 0,this.hasValue=!1,super._next(e)}}};function Zt(e,t=ft){return i=>i.lift(new Qt(e,t))}var Qt=class{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new Jt(e,this.dueTime,this.scheduler))}},Jt=class extends Fe{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ei,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){let{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){let e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}};function ei(e){e.debouncedNext()}var ti=class extends Fe{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}},ii=class extends Fe{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{let{keySelector:i}=this;t=i?i(e):e}catch(e){return this.destination.error(e)}let i=!1;if(this.hasKey)try{let{compare:e}=this;i=e(this.key,t)}catch(e){return this.destination.error(e)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}};function ni(e=oi){return t=>t.lift(new ri(e))}var ri=class{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new si(e,this.errorFactory))}},si=class extends Fe{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}};function oi(){return new Ct}function ai(e){return t=>0===e?st():t.lift(new li(e))}var li=class{constructor(e){if(this.total=e,this.total<0)throw new _t}call(e,t){return t.subscribe(new di(e,this.total))}},di=class extends Fe{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){let t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}};function ci(e,t){let i=arguments.length>=2;return n=>n.pipe(e?Wt(((t,i)=>e(t,i,n))):Ve,ai(1),i?function(e=null){return t=>t.lift(new class{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new ti(e,this.defaultValue))}}(e))}(t):ni((()=>new Ct)))}function hi(){return new We}function ui(){return e=>Ke()(function(e,t){return function(t){let i;i="function"==typeof e?e:function(){return e};let n=Object.create(t,Xe);return n.source=t,n.subjectFactory=i,n}}(hi)(e))}var gi=class extends Fe{constructor(e,t){super(e),this._skipCount=t,this._count=0,this._ring=new Array(t)}_next(e){let t=this._skipCount,i=this._count++;if(i<t)this._ring[i]=e;else{let n=i%t,r=this._ring,s=r[n];r[n]=e,this.destination.next(s)}}};function pi(e,t){return"function"==typeof t?i=>i.pipe(pi(((i,n)=>kt(e(i,n)).pipe(St(((e,r)=>t(i,e,n,r))))))):t=>t.lift(new mi(e))}var mi=class{constructor(e){this.project=e}call(e,t){return t.subscribe(new fi(e,this.project))}},fi=class extends Ot{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t,i=this.index++;try{t=this.project(e,i)}catch(e){return void this.destination.error(e)}this._innerSub(t)}_innerSub(e){let t=this.innerSubscription;t&&t.unsubscribe();let i=new Rt(this),n=this.destination;n.add(i),this.innerSubscription=Ft(e,i),this.innerSubscription!==i&&n.add(this.innerSubscription)}_complete(){let{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}};function yi(e){return t=>t.lift(new vi(e))}var vi=class{constructor(e){this.notifier=e}call(e,t){let i=new xi(e),n=Ft(this.notifier,new Rt(i));return n&&!i.seenValue?(i.add(n),t.subscribe(i)):i}},xi=class extends Ot{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}};function _i(e,t=!1){return i=>i.lift(new wi(e,t))}var wi=class{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new Ci(e,this.predicate,this.inclusive))}},Ci=class extends Fe{constructor(e,t,i){super(e),this.predicate=t,this.inclusive=i,this.index=0}_next(e){let t,i=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void i.error(e)}this.nextOrComplete(e,t)}nextOrComplete(e,t){let i=this.destination;t?i.next(e):(this.inclusive&&i.next(e),i.complete())}},Si=class extends Fe{constructor(e,t,i,n){super(e),this._tapNext=vt,this._tapError=vt,this._tapComplete=vt,this._tapError=i||vt,this._tapComplete=n||vt,_e(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||vt,this._tapError=t.error||vt,this._tapComplete=t.complete||vt)}_next(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}},bi={leading:!0,trailing:!1};function Di(e,t=bi){return i=>i.lift(new Ei(e,!!t.leading,!!t.trailing))}var Ei=class{constructor(e,t,i){this.durationSelector=e,this.leading=t,this.trailing=i}call(e,t){return t.subscribe(new Ii(e,this.durationSelector,this.leading,this.trailing))}},Ii=class extends Ot{constructor(e,t,i,n){super(e),this.destination=e,this.durationSelector=t,this._leading=i,this._trailing=n,this._hasValue=!1}_next(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))}send(){let{_hasValue:e,_sendValue:t}=this;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=void 0}throttle(e){let t=this.tryDurationSelector(e);t&&this.add(this._throttled=Ft(t,new Rt(this)))}tryDurationSelector(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}}throttlingDone(){let{_throttled:e,_trailing:t}=this;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}};function Ti(e,t=ft,i=bi){return n=>n.lift(new Ai(e,t,i.leading,i.trailing))}var Ai=class{constructor(e,t,i,n){this.duration=e,this.scheduler=t,this.leading=i,this.trailing=n}call(e,t){return t.subscribe(new ki(e,this.duration,this.scheduler,this.leading,this.trailing))}},ki=class extends Fe{constructor(e,t,i,n,r){super(e),this.duration=t,this.scheduler=i,this.leading=n,this.trailing=r,this._hasTrailingValue=!1,this._trailingValue=null}_next(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Ri,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){let e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}};function Ri(e){let{subscriber:t}=e;t.clearThrottle()}function Oi(e){for(let t in e)if(e[t]===Oi)return t;throw Error("Could not find renamed property on target object.")}function Fi(e,t){for(let i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function Pi(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Pi).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(null==t)return""+t;let i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function Mi(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var Vi=Oi({__forward_ref__:Oi});function Ni(e){return e.__forward_ref__=Ni,e.toString=function(){return Pi(this())},e}function Li(e){return Hi(e)?e():e}function Hi(e){return"function"==typeof e&&e.hasOwnProperty(Vi)&&e.__forward_ref__===Ni}function Bi(e){return e&&!!e.providers}var Gi="https://g.co/ng/security#xss",zi=class extends Error{constructor(e,t){super(function(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(e,t)),this.code=e}};function $i(e){return"string"==typeof e?e:null==e?"":String(e)}function Wi(e,t){throw new zi(-201,!1)}function ji(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ki(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ui(e){return qi(e,Zi)||qi(e,Ji)}function qi(e,t){return e.hasOwnProperty(t)?e[t]:null}function Yi(e){return e&&(e.hasOwnProperty(Qi)||e.hasOwnProperty(en))?e[Qi]:null}var Xi,Zi=Oi({prov:Oi}),Qi=Oi({inj:Oi}),Ji=Oi({ngInjectableDef:Oi}),en=Oi({ngInjectorDef:Oi}),tn=((tn=tn||{})[tn.Default=0]="Default",tn[tn.Host=1]="Host",tn[tn.Self=2]="Self",tn[tn.SkipSelf=4]="SkipSelf",tn[tn.Optional=8]="Optional",tn);function nn(e){let t=Xi;return Xi=e,t}function rn(e,t,i){let n=Ui(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:i&tn.Optional?null:void 0!==t?t:void Wi(Pi(e))}var sn,on=typeof globalThis<"u"&&globalThis||typeof i.g<"u"&&i.g||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self,an={},ln="__NG_DI_FLAG__",dn="ngTempTokenPath",cn=/\n/gm,hn="__source";function un(e){let t=sn;return sn=e,t}function gn(e,t=tn.Default){if(void 0===sn)throw new zi(-203,!1);return null===sn?rn(e,void 0,t):sn.get(e,t&tn.Optional?null:void 0,t)}function pn(e,t=tn.Default){return(Xi||gn)(Li(e),t)}function mn(e,t=tn.Default){return pn(e,fn(t))}function fn(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function yn(e){let t=[];for(let i=0;i<e.length;i++){let n=Li(e[i]);if(Array.isArray(n)){if(0===n.length)throw new zi(900,!1);let e,i=tn.Default;for(let t=0;t<n.length;t++){let r=n[t],s=xn(r);"number"==typeof s?-1===s?e=r.token:i|=s:e=r}t.push(pn(e,i))}else t.push(pn(n))}return t}function vn(e,t){return e[ln]=t,e.prototype[ln]=t,e}function xn(e){return e[ln]}function _n(e){return{toString:e}.toString()}var wn=((wn=wn||{})[wn.OnPush=0]="OnPush",wn[wn.Default=1]="Default",wn),Cn=(function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(Cn||(Cn={})),Cn),Sn={},bn=[],Dn=Oi({cmp:Oi}),En=Oi({dir:Oi}),In=Oi({pipe:Oi}),Tn=Oi({mod:Oi}),An=Oi({fac:Oi}),kn=Oi({__NG_ELEMENT_ID__:Oi}),Rn=Oi({__NG_ENV_ID__:Oi});function On(e,t,i){let n=e.length;for(;;){let r=e.indexOf(t,i);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){let i=t.length;if(r+i===n||e.charCodeAt(r+i)<=32)return r}i=r+1}}function Fn(e,t,i){let n=0;for(;n<i.length;){let r=i[n];if("number"==typeof r){if(0!==r)break;n++;let s=i[n++],o=i[n++],a=i[n++];e.setAttribute(t,o,a,s)}else{let s=r,o=i[++n];Mn(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),n++}}return n}function Pn(e){return 3===e||4===e||6===e}function Mn(e){return 64===e.charCodeAt(0)}function Vn(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let n=0;n<t.length;n++){let r=t[n];"number"==typeof r?i=r:0===i||Nn(e,i,r,null,-1===i||2===i?t[++n]:null)}}return e}function Nn(e,t,i,n,r){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){let i=e[s++];if("number"==typeof i){if(i===t){o=-1;break}if(i>t){o=s-1;break}}}for(;s<e.length;){let t=e[s];if("number"==typeof t)break;if(t===i){if(null===n)return void(null!==r&&(e[s+1]=r));if(n===e[s+1])return void(e[s+2]=r)}s++,null!==n&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,i),null!==n&&e.splice(s++,0,n),null!==r&&e.splice(s++,0,r)}var Ln="ng-template";function Hn(e,t,i){let n=0,r=!0;for(;n<e.length;){let s=e[n++];if("string"==typeof s&&r){let r=e[n++];if(i&&"class"===s&&-1!==On(r.toLowerCase(),t,0))return!0}else{if(1===s){for(;n<e.length&&"string"==typeof(s=e[n++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function Bn(e){return 4===e.type&&e.value!==Ln}function Gn(e,t,i){return t===(4!==e.type||i?e.value:Ln)}function zn(e,t,i){let n=4,r=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(Pn(e[t]))return t;return e.length}(r),o=!1;for(let a=0;a<t.length;a++){let l=t[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!Gn(e,l,i)||""===l&&1===t.length){if($n(n))return!1;o=!0}}else{let d=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!Hn(e.attrs,d,i)){if($n(n))return!1;o=!0}continue}let c=Wn(8&n?"class":l,r,Bn(e),i);if(-1===c){if($n(n))return!1;o=!0;continue}if(""!==d){let e;e=c>s?"":r[c+1].toLowerCase();let t=8&n?e:null;if(t&&-1!==On(t,d,0)||2&n&&d!==e){if($n(n))return!1;o=!0}}}}else{if(!o&&!$n(n)&&!$n(l))return!1;if(o&&$n(l))continue;o=!1,n=l|1&n}}return $n(n)||o}function $n(e){return 0==(1&e)}function Wn(e,t,i,n){if(null===t)return-1;let r=0;if(n||!i){let i=!1;for(;r<t.length;){let n=t[r];if(n===e)return r;if(3===n||6===n)i=!0;else{if(1===n||2===n){let e=t[++r];for(;"string"==typeof e;)e=t[++r];continue}if(4===n)break;if(0===n){r+=4;continue}}r+=i?1:2}return-1}return function(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){let n=e[i];if("number"==typeof n)return-1;if(n===t)return i;i++}return-1}(t,e)}function jn(e,t,i=!1){for(let n=0;n<t.length;n++)if(zn(e,t[n],i))return!0;return!1}function Kn(e,t){e:for(let i=0;i<t.length;i++){let n=t[i];if(e.length===n.length){for(let t=0;t<e.length;t++)if(e[t]!==n[t])continue e;return!0}}return!1}function Un(e,t){return e?":not("+t.trim()+")":t}function qn(e){let t=e[0],i=1,n=2,r="",s=!1;for(;i<e.length;){let o=e[i];if("string"==typeof o)if(2&n){let t=e[++i];r+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&n?r+="."+o:4&n&&(r+=" "+o);else""!==r&&!$n(o)&&(t+=Un(s,r),r=""),n=o,s=s||!$n(n);i++}return""!==r&&(t+=Un(s,r)),t}function Yn(e){return _n((()=>{let t=sr(e),i=v(y({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===wn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Cn.Emulated,styles:e.styles||bn,_:null,schemas:e.schemas||null,tView:null,id:""});or(i);let n=e.dependencies;return i.directiveDefs=ar(n,!1),i.pipeDefs=ar(n,!0),i.id=function(e){let t=0,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let e of i)t=Math.imul(31,t)+e.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(i),i}))}function Xn(e){return ir(e)||nr(e)}function Zn(e){return null!==e}function Qn(e){return _n((()=>({type:e.type,bootstrap:e.bootstrap||bn,declarations:e.declarations||bn,imports:e.imports||bn,exports:e.exports||bn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null})))}function Jn(e,t){if(null==e)return Sn;let i={};for(let n in e)if(e.hasOwnProperty(n)){let r=e[n],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),i[r]=n,t&&(t[r]=s)}return i}function er(e){return _n((()=>{let t=sr(e);return or(t),t}))}function tr(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function ir(e){return e[Dn]||null}function nr(e){return e[En]||null}function rr(e){return e[In]||null}function sr(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Sn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||bn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Jn(e.inputs,t),outputs:Jn(e.outputs)}}function or(e){e.features?.forEach((t=>t(e)))}function ar(e,t){if(!e)return null;let i=t?rr:Xn;return()=>("function"==typeof e?e():e).map((e=>i(e))).filter(Zn)}var lr=0,dr=1,cr=2,hr=3,ur=4,gr=5,pr=6,mr=7,fr=8,yr=9,vr=10,xr=11,_r=12,wr=13,Cr=14,Sr=15,br=16,Dr=17,Er=18,Ir=19,Tr=20,Ar=21,kr=22,Rr=23,Or=24,Fr=25,Pr=1,Mr=2,Vr=7,Nr=9,Lr=11;function Hr(e){return Array.isArray(e)&&"object"==typeof e[Pr]}function Br(e){return Array.isArray(e)&&!0===e[Pr]}function Gr(e){return 0!=(4&e.flags)}function zr(e){return e.componentOffset>-1}function $r(e){return 1==(1&e.flags)}function Wr(e){return!!e.template}function jr(e){return 0!=(512&e[cr])}function Kr(e,t){return e.hasOwnProperty(An)?e[An]:null}var Ur=on.WeakRef??class{constructor(e){this.ref=e}deref(){return this.ref}},qr=0,Yr=null,Xr=!1;function Zr(e){let t=Yr;return Yr=e,t}var Qr=class{constructor(){this.id=qr++,this.ref=function(e){return new Ur(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(let[e,t]of this.producers){let i=t.producerNode.deref();if(void 0!==i&&t.atTrackingVersion===this.trackingVersion){if(i.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(e),i?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){let e=Xr;Xr=!0;try{for(let[e,t]of this.consumers){let i=t.consumerNode.deref();void 0!==i&&i.trackingVersion===t.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(e),i?.producers.delete(this.id))}}finally{Xr=e}}producerAccessed(){if(Xr)throw new Error("");if(null===Yr)return;let e=Yr.producers.get(this.id);void 0===e?(e={consumerNode:Yr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Yr.trackingVersion},Yr.producers.set(this.id,e),this.consumers.set(Yr.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Yr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Yr?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}};function Jr(e){let t=Zr(null);try{return e()}finally{Zr(t)}}var es=()=>{},ts=class extends Qr{constructor(e,t,i){super(),this.watch=e,this.schedule=t,this.dirty=!1,this.cleanupFn=es,this.registerOnCleanup=e=>{this.cleanupFn=e},this.consumerAllowSignalWrites=i}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;let e=Zr(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=es,this.watch(this.registerOnCleanup)}finally{Zr(e)}}cleanup(){this.cleanupFn()}},is=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function ns(){return rs}function rs(e){return e.type.prototype.ngOnChanges&&(e.setInput=os),ss}function ss(){let e=ls(this),t=e?.current;if(t){let i=e.previous;if(i===Sn)e.previous=t;else for(let e in t)i[e]=t[e];e.current=null,this.ngOnChanges(t)}}function os(e,t,i,n){let r=this.declaredInputs[i],s=ls(e)||function(e,t){return e[as]=t}(e,{previous:Sn,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new is(l&&l.currentValue,t,a===Sn),e[n]=t}ns.ngInherit=!0;var as="__ngSimpleChanges__";function ls(e){return e[as]||null}var ds=function(e,t,i){},cs="svg";function hs(e){for(;Array.isArray(e);)e=e[lr];return e}function us(e,t){return hs(t[e])}function gs(e,t){return hs(t[e.index])}function ps(e,t){return e.data[t]}function ms(e,t){return e[t]}function fs(e,t){let i=t[e];return Hr(i)?i:i[lr]}function ys(e,t){return null==t?null:e[t]}function vs(e){e[Dr]=0}function xs(e){1024&e[cr]||(e[cr]|=1024,ws(e,1))}function _s(e){1024&e[cr]&&(e[cr]&=-1025,ws(e,-1))}function ws(e,t){let i=e[hr];if(null===i)return;i[gr]+=t;let n=i;for(i=i[hr];null!==i&&(1===t&&1===n[gr]||-1===t&&0===n[gr]);)i[gr]+=t,n=i,i=i[hr]}var Cs={lFrame:js(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ss(){return Cs.bindingsEnabled}function bs(){return null!==Cs.skipHydrationRootTNode}function Ds(){return Cs.lFrame.lView}function Es(){return Cs.lFrame.tView}function Is(e){return Cs.lFrame.contextLView=e,e[fr]}function Ts(e){return Cs.lFrame.contextLView=null,e}function As(){let e=ks();for(;null!==e&&64===e.type;)e=e.parent;return e}function ks(){return Cs.lFrame.currentTNode}function Rs(e,t){let i=Cs.lFrame;i.currentTNode=e,i.isParent=t}function Os(){return Cs.lFrame.isParent}function Fs(){Cs.lFrame.isParent=!1}function Ps(){let e=Cs.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Ms(){return Cs.lFrame.bindingIndex++}function Vs(e){let t=Cs.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function Ns(e,t){let i=Cs.lFrame;i.bindingIndex=i.bindingRootIndex=e,Ls(t)}function Ls(e){Cs.lFrame.currentDirectiveIndex=e}function Hs(){return Cs.lFrame.currentQueryIndex}function Bs(e){Cs.lFrame.currentQueryIndex=e}function Gs(e){let t=e[dr];return 2===t.type?t.declTNode:1===t.type?e[pr]:null}function zs(e,t,i){if(i&tn.SkipSelf){let n=t,r=e;for(;!(n=n.parent,null!==n||i&tn.Host||(n=Gs(r),null===n||(r=r[Cr],10&n.type))););if(null===n)return!1;t=n,e=r}let n=Cs.lFrame=Ws();return n.currentTNode=t,n.lView=e,!0}function $s(e){let t=Ws(),i=e[dr];Cs.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function Ws(){let e=Cs.lFrame,t=null===e?null:e.child;return null===t?js(e):t}function js(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Ks(){let e=Cs.lFrame;return Cs.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Us=Ks;function qs(){let e=Ks();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ys(){return Cs.lFrame.selectedIndex}function Xs(e){Cs.lFrame.selectedIndex=e}function Zs(){let e=Cs.lFrame;return ps(e.tView,e.selectedIndex)}function Qs(){Cs.lFrame.currentNamespace=cs}function Js(){Cs.lFrame.currentNamespace=null}var eo=!0;function to(){return eo}function io(e){eo=e}function no(e,t){for(let i=t.directiveStart,n=t.directiveEnd;i<n;i++){let t=e.data[i].type.prototype,{ngAfterContentInit:n,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;n&&(e.contentHooks??=[]).push(-i,n),r&&((e.contentHooks??=[]).push(i,r),(e.contentCheckHooks??=[]).push(i,r)),s&&(e.viewHooks??=[]).push(-i,s),o&&((e.viewHooks??=[]).push(i,o),(e.viewCheckHooks??=[]).push(i,o)),null!=a&&(e.destroyHooks??=[]).push(i,a)}}function ro(e,t,i){ao(e,t,3,i)}function so(e,t,i,n){(3&e[cr])===i&&ao(e,t,i,n)}function oo(e,t){let i=e[cr];(3&i)===t&&(i&=8191,i+=1,e[cr]=i)}function ao(e,t,i,n){let r=void 0!==n?65535&e[Dr]:0,s=n??-1,o=t.length-1,a=0;for(let l=r;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(e[Dr]+=65536),(a<s||-1==s)&&(co(e,i,t,l),e[Dr]=(4294901760&e[Dr])+l+2),l++}function lo(e,t){ds(4,e,t);let i=Zr(null);try{t.call(e)}finally{Zr(i),ds(5,e,t)}}function co(e,t,i,n){let r=i[n]<0,s=i[n+1],o=e[r?-i[n]:i[n]];r?e[cr]>>13<e[Dr]>>16&&(3&e[cr])===t&&(e[cr]+=8192,lo(o,s)):lo(o,s)}var ho=-1,uo=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function go(e){return e!==ho}function po(e){return 32767&e}function mo(e,t){let i=function(e){return e>>16}(e),n=t;for(;i>0;)n=n[Cr],i--;return n}var fo=!0;function yo(e){let t=fo;return fo=e,t}var vo=255,xo=5,_o=0,wo={};function Co(e,t){let i=bo(e,t);if(-1!==i)return i;let n=t[dr];n.firstCreatePass&&(e.injectorIndex=t.length,So(n.data,e),So(t,null),So(n.blueprint,null));let r=Do(e,t),s=e.injectorIndex;if(go(r)){let e=po(r),i=mo(r,t),n=i[dr].data;for(let r=0;r<8;r++)t[s+r]=i[e+r]|n[e+r]}return t[s+8]=r,s}function So(e,t){e.push(0,0,0,0,0,0,0,0,t)}function bo(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Do(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,n=null,r=t;for(;null!==r;){if(n=Bo(r),null===n)return ho;if(i++,r=r[Cr],-1!==n.injectorIndex)return n.injectorIndex|i<<16}return ho}function Eo(e,t,i){!function(e,t,i){let n;"string"==typeof i?n=i.charCodeAt(0)||0:i.hasOwnProperty(kn)&&(n=i[kn]),null==n&&(n=i[kn]=_o++);let r=n&vo,s=1<<r;t.data[e+(r>>xo)]|=s}(e,t,i)}function Io(e,t,i){if(i&tn.Optional||void 0!==e)return e;Wi()}function To(e,t,i,n){if(i&tn.Optional&&void 0===n&&(n=null),!(i&(tn.Self|tn.Host))){let r=e[yr],s=nn(void 0);try{return r?r.get(t,n,i&tn.Optional):rn(t,n,i&tn.Optional)}finally{nn(s)}}return Io(n,0,i)}function Ao(e,t,i,n=tn.Default,r){if(null!==e){if(2048&t[cr]&&!(n&tn.Self)){let r=function(e,t,i,n,r){let s=e,o=t;for(;null!==s&&null!==o&&2048&o[cr]&&!(512&o[cr]);){let e=ko(s,o,i,n|tn.Self,wo);if(e!==wo)return e;let t=s.parent;if(!t){let e=o[Tr];if(e){let t=e.get(i,wo,n);if(t!==wo)return t}t=Bo(o),o=o[Cr]}s=t}return r}(e,t,i,n,wo);if(r!==wo)return r}let r=ko(e,t,i,n,wo);if(r!==wo)return r}return To(t,i,n,r)}function ko(e,t,i,n,r){let s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;let t=e.hasOwnProperty(kn)?e[kn]:void 0;return"number"==typeof t?t>=0?t&vo:No:t}(i);if("function"==typeof s){if(!zs(t,e,n))return n&tn.Host?Io(r,0,n):To(t,i,n,r);try{let e=s(n);if(null!=e||n&tn.Optional)return e;Wi()}finally{Us()}}else if("number"==typeof s){let r=null,o=bo(e,t),a=ho,l=n&tn.Host?t[Sr][pr]:null;for((-1===o||n&tn.SkipSelf)&&(a=-1===o?Do(e,t):t[o+8],a!==ho&&Mo(n,!1)?(r=t[dr],o=po(a),t=mo(a,t)):o=-1);-1!==o;){let e=t[dr];if(Po(s,o,e.data)){let e=Ro(o,t,i,r,n,l);if(e!==wo)return e}a=t[o+8],a!==ho&&Mo(n,t[dr].data[o+8]===l)&&Po(s,o,t)?(r=e,o=po(a),t=mo(a,t)):o=-1}}return r}function Ro(e,t,i,n,r,s){let o=t[dr],a=o.data[e+8],l=Oo(a,o,i,null==n?zr(a)&&fo:n!=o&&0!=(3&a.type),r&tn.Host&&s===a);return null!==l?Fo(t,o,l,a):wo}function Oo(e,t,i,n,r){let s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,d=e.directiveEnd,c=s>>20,h=r?a+c:d;for(let e=n?a:a+c;e<h;e++){let t=o[e];if(e<l&&i===t||e>=l&&t.type===i)return e}if(r){let e=o[l];if(e&&Wr(e)&&e.type===i)return l}return null}function Fo(e,t,i,n){let r=e[i],s=t.data;if(function(e){return e instanceof uo}(r)){let o=r;o.resolving&&function(e,t){throw new zi(-200,`Circular dependency in DI detected for ${e}`)}(function(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():$i(e)}(s[i]));let a=yo(o.canSeeViewProviders);o.resolving=!0;let l=o.injectImpl?nn(o.injectImpl):null;zs(e,n,tn.Default);try{r=e[i]=o.factory(void 0,s,e,n),t.firstCreatePass&&i>=n.directiveStart&&function(e,t,i){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(n){let n=rs(t);(i.preOrderHooks??=[]).push(e,n),(i.preOrderCheckHooks??=[]).push(e,n)}r&&(i.preOrderHooks??=[]).push(0-e,r),s&&((i.preOrderHooks??=[]).push(e,s),(i.preOrderCheckHooks??=[]).push(e,s))}(i,s[i],t)}finally{null!==l&&nn(l),yo(a),o.resolving=!1,Us()}}return r}function Po(e,t,i){let n=1<<e;return!!(i[t+(e>>xo)]&n)}function Mo(e,t){return!(e&tn.Self||e&tn.Host&&t)}var Vo=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Ao(this._tNode,this._lView,e,fn(i),t)}};function No(){return new Vo(As(),Ds())}function Lo(e){return _n((()=>{let t=e.prototype.constructor,i=t[An]||Ho(t),n=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==n;){let e=r[An]||Ho(r);if(e&&e!==i)return e;r=Object.getPrototypeOf(r)}return e=>new e}))}function Ho(e){return Hi(e)?()=>{let t=Ho(Li(e));return t&&t()}:Kr(e)}function Bo(e){let t=e[dr],i=t.type;return 2===i?t.declTNode:1===i?e[pr]:null}var Go="__parameters__";function zo(e,t,i){return _n((()=>{let n=function(e){return function(...t){if(e){let i=e(...t);for(let e in i)this[e]=i[e]}}}(t);function r(...e){if(this instanceof r)return n.apply(this,e),this;let t=new r(...e);return i.annotation=t,i;function i(e,i,n){let r=e.hasOwnProperty(Go)?e[Go]:Object.defineProperty(e,Go,{value:[]})[Go];for(;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(t),e}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}))}function $o(e,t){e.forEach((e=>Array.isArray(e)?$o(e,t):t(e)))}function Wo(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function jo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ko(e,t){let i=[];for(let n=0;n<e;n++)i.push(t);return i}function Uo(e,t,i){let n=Yo(e,t);return n>=0?e[1|n]=i:(n=~n,function(e,t,i,n){let r=e.length;if(r==t)e.push(i,n);else if(1===r)e.push(n,e[0]),e[0]=i;else{for(r--,e.push(e[r-1],e[r]);r>t;){let t=r-2;e[r]=e[t],r--}e[t]=i,e[t+1]=n}}(e,n,t,i)),n}function qo(e,t){let i=Yo(e,t);if(i>=0)return e[1|i]}function Yo(e,t){return function(e,t,i){let n=0,r=e.length>>1;for(;r!==n;){let i=n+(r-n>>1),s=e[i<<1];if(t===s)return i<<1;s>t?r=i:n=i+1}return~(r<<1)}(e,t)}var Xo=vn(zo("Inject",(e=>({token:e}))),-1),Zo=vn(zo("Optional"),8),Qo=vn(zo("SkipSelf"),4);function Jo(e){return 128==(128&e.flags)}var ea,ta=((ta=ta||{})[ta.Important=1]="Important",ta[ta.DashCase=2]="DashCase",ta),ia=/^>|^->|<!--|-->|--!>|<!-$/g,na=/(<|>)/,ra=new Map,sa=0,oa="__ngContext__";function aa(e,t){Hr(t)?(e[oa]=t[Ir],function(e){ra.set(e[Ir],e)}(t)):e[oa]=t}function la(e,t){return ea(e,t)}function da(e){let t=e[hr];return Br(t)?t[hr]:t}function ca(e){return ua(e[_r])}function ha(e){return ua(e[ur])}function ua(e){for(;null!==e&&!Br(e);)e=e[ur];return e}function ga(e,t,i,n,r){if(null!=n){let s,o=!1;Br(n)?s=n:Hr(n)&&(o=!0,n=n[lr]);let a=hs(n);0===e&&null!==i?null==r?wa(t,i,a):_a(t,i,a,r||null,!0):1===e&&null!==i?_a(t,i,a,r||null,!0):2===e?function(e,t,i){let n=Sa(e,t);n&&function(e,t,i,n){e.removeChild(t,i,n)}(e,n,t,i)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,i,n,r){let s=i[Vr];s!==hs(i)&&ga(t,e,n,s,r);for(let r=Lr;r<i.length;r++){let o=i[r];Ma(o[dr],o,e,t,n,s)}}(t,e,s,i,r)}}function pa(e,t,i){return e.createElement(t,i)}function ma(e,t){let i=e[Nr],n=i.indexOf(t);t[hr],_s(t),i.splice(n,1)}function fa(e,t){if(e.length<=Lr)return;let i=Lr+t,n=e[i];if(n){let r=n[br];null!==r&&r!==e&&ma(r,n),t>0&&(e[i-1][ur]=n[ur]);let s=jo(e,Lr+t);!function(e,t){Ma(e,t,t[xr],2,null,null),t[lr]=null,t[pr]=null}(n[dr],n);let o=s[Er];null!==o&&o.detachView(s[dr]),n[hr]=null,n[ur]=null,n[cr]&=-129}return n}function ya(e,t){if(!(256&t[cr])){let i=t[xr];t[Rr]?.destroy(),t[Or]?.destroy(),i.destroyNode&&Ma(e,t,i,3,null,null),function(e){let t=e[_r];if(!t)return va(e[dr],e);for(;t;){let i=null;if(Hr(t))i=t[_r];else{let e=t[Lr];e&&(i=e)}if(!i){for(;t&&!t[ur]&&t!==e;)Hr(t)&&va(t[dr],t),t=t[hr];null===t&&(t=e),Hr(t)&&va(t[dr],t),i=t&&t[ur]}t=i}}(t)}}function va(e,t){if(!(256&t[cr])){t[cr]&=-129,t[cr]|=256,function(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let e=0;e<i.length;e+=2){let n=t[i[e]];if(!(n instanceof uo)){let t=i[e+1];if(Array.isArray(t))for(let e=0;e<t.length;e+=2){let i=n[t[e]],r=t[e+1];ds(4,i,r);try{r.call(i)}finally{ds(5,i,r)}}else{ds(4,n,t);try{t.call(n)}finally{ds(5,n,t)}}}}}(e,t),function(e,t){let i=e.cleanup,n=t[mr];if(null!==i)for(let e=0;e<i.length-1;e+=2)if("string"==typeof i[e]){let t=i[e+3];t>=0?n[t]():n[-t].unsubscribe(),e+=2}else{let t=n[i[e+1]];i[e].call(t)}null!==n&&(t[mr]=null);let r=t[Ar];if(null!==r){t[Ar]=null;for(let e=0;e<r.length;e++)(0,r[e])()}}(e,t),1===t[dr].type&&t[xr].destroy();let i=t[br];if(null!==i&&Br(t[hr])){i!==t[hr]&&ma(i,t);let n=t[Er];null!==n&&n.detachView(e)}!function(e){ra.delete(e[Ir])}(t)}}function xa(e,t,i){return function(e,t,i){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return i[lr];{let{componentOffset:t}=n;if(t>-1){let{encapsulation:i}=e.data[n.directiveStart+t];if(i===Cn.None||i===Cn.Emulated)return null}return gs(n,i)}}(e,t.parent,i)}function _a(e,t,i,n,r){e.insertBefore(t,i,n,r)}function wa(e,t,i){e.appendChild(t,i)}function Ca(e,t,i,n,r){null!==n?_a(e,t,i,n,r):wa(e,t,i)}function Sa(e,t){return e.parentNode(t)}function ba(e,t,i){return Aa(e,t,i)}var Da,Ea,Ia,Ta,Aa=function(e,t,i){return 40&e.type?gs(e,i):null};function ka(e,t,i,n){let r=xa(e,n,t),s=t[xr],o=ba(n.parent||t[pr],n,t);if(null!=r)if(Array.isArray(i))for(let e=0;e<i.length;e++)Ca(s,r,i[e],o,!1);else Ca(s,r,i,o,!1);void 0!==Da&&Da(s,n,t,i,r)}function Ra(e,t){if(null!==t){let i=t.type;if(3&i)return gs(t,e);if(4&i)return Fa(-1,e[t.index]);if(8&i){let i=t.child;if(null!==i)return Ra(e,i);{let i=e[t.index];return Br(i)?Fa(-1,i):hs(i)}}if(32&i)return la(t,e)()||hs(e[t.index]);{let i=Oa(e,t);return null!==i?Array.isArray(i)?i[0]:Ra(da(e[Sr]),i):Ra(e,t.next)}}return null}function Oa(e,t){if(null!==t){let i=e[Sr][pr],n=t.projection;return i.projection[n]}return null}function Fa(e,t){let i=Lr+e+1;if(i<t.length){let e=t[i],n=e[dr].firstChild;if(null!==n)return Ra(e,n)}return t[Vr]}function Pa(e,t,i,n,r,s,o){for(;null!=i;){let a=n[i.index],l=i.type;if(o&&0===t&&(a&&aa(hs(a),n),i.flags|=2),32!=(32&i.flags))if(8&l)Pa(e,t,i.child,n,r,s,!1),ga(t,e,r,a,s);else if(32&l){let o,l=la(i,n);for(;o=l();)ga(t,e,r,o,s);ga(t,e,r,a,s)}else 16&l?Va(e,t,n,i,r,s):ga(t,e,r,a,s);i=o?i.projectionNext:i.next}}function Ma(e,t,i,n,r,s){Pa(i,n,e.firstChild,t,r,s,!1)}function Va(e,t,i,n,r,s){let o=i[Sr],a=o[pr].projection[n.projection];if(Array.isArray(a))for(let i=0;i<a.length;i++)ga(t,e,r,a[i],s);else{let i=a,l=o[hr];Jo(n)&&(i.flags|=128),Pa(e,t,i,l,r,s,!0)}}function Na(e,t,i){""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i)}function La(e,t,i){let{mergedAttrs:n,classes:r,styles:s}=i;null!==n&&Fn(e,t,n),null!==r&&Na(e,t,r),null!==s&&function(e,t,i){e.setAttribute(t,"style",i)}(e,t,s)}function Ha(e){return function(){if(void 0===Ea&&(Ea=null,on.trustedTypes))try{Ea=on.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ea}()?.createHTML(e)||e}function Ba(){if(void 0!==Ia)return Ia;if(typeof document<"u")return document;throw new zi(210,!1)}function Ga(e){return function(){if(void 0===Ta&&(Ta=null,on.trustedTypes))try{Ta=on.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ta}()?.createHTML(e)||e}var za=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gi})`}},$a=class extends za{getTypeName(){return"HTML"}},Wa=class extends za{getTypeName(){return"Style"}},ja=class extends za{getTypeName(){return"Script"}},Ka=class extends za{getTypeName(){return"URL"}},Ua=class extends za{getTypeName(){return"ResourceURL"}};function qa(e){return e instanceof za?e.changingThisBreaksApplicationSecurity:e}function Ya(e,t){let i=function(e){return e instanceof za&&e.getTypeName()||null}(e);if(null!=i&&i!==t){if("ResourceURL"===i&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${i} (see ${Gi})`)}return i===t}var Xa=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=(new window.DOMParser).parseFromString(Ha(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}},Za=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Ha(e),t}},Qa=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ja(e){return(e=String(e)).match(Qa)?e:"unsafe:"+e}function el(e){let t={};for(let i of e.split(","))t[i]=!0;return t}function tl(...e){let t={};for(let i of e)for(let e in i)i.hasOwnProperty(e)&&(t[e]=!0);return t}var il,nl=el("area,br,col,hr,img,wbr"),rl=el("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sl=el("rp,rt"),ol=tl(sl,rl),al=tl(rl,el("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ll=tl(sl,el("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dl=tl(nl,al,ll,ol),cl=el("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hl=el("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ul=el("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),gl=tl(cl,hl,ul),pl=el("script,style,template"),ml=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){let t=e.nodeName.toLowerCase();if(!dl.hasOwnProperty(t))return this.sanitizedSomething=!0,!pl.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let e=0;e<i.length;e++){let t=i.item(e),n=t.name,r=n.toLowerCase();if(!gl.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let s=t.value;cl[r]&&(s=Ja(s)),this.buf.push(" ",n,'="',vl(s),'"')}return this.buf.push(">"),!0}endElement(e){let t=e.nodeName.toLowerCase();dl.hasOwnProperty(t)&&!nl.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(vl(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}},fl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yl=/([^\#-~ |!])/g;function vl(e){return e.replace(/&/g,"&amp;").replace(fl,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(yl,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function xl(e,t){let i=null;try{il=il||function(e){let t=new Za(e);return function(){try{return!!(new window.DOMParser).parseFromString(Ha(""),"text/html")}catch{return!1}}()?new Xa(t):t}(e);let n=t?String(t):"";i=il.getInertBodyElement(n);let r=5,s=n;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=i.innerHTML,i=il.getInertBodyElement(n)}while(n!==s);return Ha((new ml).sanitizeChildren(_l(i)||i))}finally{if(i){let e=_l(i)||i;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function _l(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var wl=((wl=wl||{})[wl.NONE=0]="NONE",wl[wl.HTML=1]="HTML",wl[wl.STYLE=2]="STYLE",wl[wl.SCRIPT=3]="SCRIPT",wl[wl.URL=4]="URL",wl[wl.RESOURCE_URL=5]="RESOURCE_URL",wl);function Cl(e){let t=bl();return t?Ga(t.sanitize(wl.HTML,e)||""):Ya(e,"HTML")?Ga(qa(e)):xl(Ba(),$i(e))}function Sl(e){let t=bl();return t?t.sanitize(wl.URL,e)||"":Ya(e,"URL")?qa(e):Ja($i(e))}function bl(){let e=Ds();return e&&e[vr].sanitizer}var Dl=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.prov=ji({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},El=new Dl("ENVIRONMENT_INITIALIZER"),Il=new Dl("INJECTOR",-1),Tl=new Dl("INJECTOR_DEF_TYPES"),Al=class{get(e,t=an){if(t===an){let t=new Error(`NullInjectorError: No provider for ${Pi(e)}!`);throw t.name="NullInjectorError",t}return t}};function kl(...e){return{providers:Rl(0,e),fromNgModule:!0}}function Rl(e,...t){let i,n=[],r=new Set;return $o(t,(e=>{let t=e;Fl(t,n,[],r)&&(i||=[],i.push(t))})),void 0!==i&&Ol(i,n),n}function Ol(e,t){for(let i=0;i<e.length;i++){let{ngModule:n,providers:r}=e[i];Pl(r,(e=>{t.push(e)}))}}function Fl(e,t,i,n){if(!(e=Li(e)))return!1;let r=null,s=Yi(e),o=!s&&ir(e);if(s||o){if(o&&!o.standalone)return!1;r=e}else{let t=e.ngModule;if(s=Yi(t),!s)return!1;r=t}let a=n.has(r);if(o){if(a)return!1;if(n.add(r),o.dependencies){let e="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(let r of e)Fl(r,t,i,n)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let e;n.add(r);try{$o(s.imports,(r=>{Fl(r,t,i,n)&&(e||=[],e.push(r))}))}finally{}void 0!==e&&Ol(e,t)}if(!a){let e=Kr(r)||(()=>new r);t.push({provide:r,useFactory:e,deps:bn},{provide:Tl,useValue:r,multi:!0},{provide:El,useValue:()=>pn(r),multi:!0})}let e=s.providers;null==e||a||Pl(e,(e=>{t.push(e)}))}}return r!==e&&void 0!==e.providers}function Pl(e,t){for(let i of e)Bi(i)&&(i=i.providers),Array.isArray(i)?Pl(i,t):t(i)}var Ml=Oi({provide:String,useValue:Oi});function Vl(e){return null!==e&&"object"==typeof e&&Ml in e}function Nl(e){return"function"==typeof e}var Ll,Hl=new Dl("Set Injector scope."),Bl={},Gl={};function zl(){return void 0===Ll&&(Ll=new Al),Ll}var $l=class{},Wl=class extends $l{get destroyed(){return this._destroyed}constructor(e,t,i,n){super(),this.parent=t,this.source=i,this.scopes=n,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ql(e,(e=>this.processProvider(e))),this.records.set(Il,Ul(void 0,this)),n.has("environment")&&this.records.set($l,Ul(void 0,this));let r=this.records.get(Hl);null!=r&&"string"==typeof r.value&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(Tl.multi,bn,tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let e of this._ngOnDestroyHooks)e.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=un(this),i=nn(void 0);try{return e()}finally{un(t),nn(i)}}get(e,t=an,i=tn.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Rn))return e[Rn](this);i=fn(i);let n=un(this),r=nn(void 0);try{if(!(i&tn.SkipSelf)){let t=this.records.get(e);if(void 0===t){let i=function(e){return"function"==typeof e||"object"==typeof e&&e instanceof Dl}(e)&&Ui(e);t=i&&this.injectableDefInScope(i)?Ul(jl(e),Bl):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}let n=i&tn.Self?zl():this.parent;return t=i&tn.Optional&&t===an?null:t,n.get(e,t)}catch(t){if("NullInjectorError"===t.name){if((t[dn]=t[dn]||[]).unshift(Pi(e)),n)throw t;return function(e,t,i,n){let r=e[dn];throw t[hn]&&r.unshift(t[hn]),e.message=function(e,t,i,n=null){e=e&&"\n"===e.charAt(0)&&""==e.charAt(1)?e.slice(2):e;let r=Pi(t);if(Array.isArray(t))r=t.map(Pi).join(" -> ");else if("object"==typeof t){let e=[];for(let i in t)if(t.hasOwnProperty(i)){let n=t[i];e.push(i+":"+("string"==typeof n?JSON.stringify(n):Pi(n)))}r=`{${e.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${e.replace(cn,"\n  ")}`}("\n"+e.message,r,i,n),e.ngTokenPath=r,e[dn]=null,e}(t,e,"R3InjectorError",this.source)}throw t}finally{nn(r),un(n)}}resolveInjectorInitializers(){let e=un(this),t=nn(void 0);try{let e=this.get(El.multi,bn,tn.Self);for(let t of e)t()}finally{un(e),nn(t)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Pi(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new zi(205,!1)}processProvider(e){let t=Nl(e=Li(e))?e:Li(e&&e.provide),i=function(e){return Vl(e)?Ul(void 0,e.useValue):Ul(Kl(e),Bl)}(e);if(Nl(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ul(void 0,Bl,!0),i.factory=()=>yn(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Bl&&(t.value=Gl,t.value=t.factory()),"object"==typeof t.value&&t.value&&function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Li(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}};function jl(e){let t=Ui(e),i=null!==t?t.factory:Kr(e);if(null!==i)return i;if(e instanceof Dl)throw new zi(204,!1);if(e instanceof Function)return function(e){let t=e.length;if(t>0)throw Ko(t,"?"),new zi(204,!1);let i=function(e){return e&&(e[Zi]||e[Ji])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new zi(204,!1)}function Kl(e,t,i){let n;if(Nl(e)){let t=Li(e);return Kr(t)||jl(t)}if(Vl(e))n=()=>Li(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...yn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))n=()=>pn(Li(e.useExisting));else{let t=Li(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Kr(t)||jl(t);n=()=>new t(...yn(e.deps))}return n}function Ul(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function ql(e,t){for(let i of e)Array.isArray(i)?ql(i,t):i&&Bi(i)?ql(i.providers,t):t(i)}var Yl=new Dl("AppId",{providedIn:"root",factory:()=>Xl}),Xl="ng",Zl=new Dl("Platform Initializer"),Ql=new Dl("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Jl=new Dl("AnimationModuleType"),ed=new Dl("CSP nonce",{providedIn:"root",factory:()=>Ba().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),td=(e,t)=>null;function id(e,t){return td(e,t)}var nd=class{},rd=class{},sd=(()=>{let e=class{},t=e;return e.NULL=new class{resolveComponentFactory(e){throw function(e){let t=Error(`No component factory found for ${Pi(e)}.`);return t.ngComponent=e,t}(e)}},t})();function od(){return ad(As(),Ds())}function ad(e,t){return new ld(gs(e,t))}var ld=(()=>{let e=class{constructor(e){this.nativeElement=e}},t=e;return e.__NG_ELEMENT_ID__=od,t})();function dd(e){return e instanceof ld?e.nativeElement:e}var cd=class{},hd=(()=>{let e=class{constructor(){this.destroyNode=null}},t=e;return e.__NG_ELEMENT_ID__=()=>function(){let e=Ds(),t=fs(As().index,e);return(Hr(t)?t:e)[xr]}(),t})(),ud=(()=>{let e=class{},t=e;return e.prov=ji({token:e,providedIn:"root",factory:()=>null}),t})(),gd=new class{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}("16.1.2"),pd={};function md(e){for(;e;){e[cr]|=64;let t=da(e);if(jr(e)&&!t)return e;e=t}return null}function fd(e){return e.ngOriginalError}var yd=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&fd(e);for(;t&&fd(t);)t=fd(t);return t||null}},vd=new Dl("",{providedIn:"root",factory:()=>!1});function xd(e){return e.ownerDocument}var _d=class extends Qr{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){md(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,t,i){let n=Zr(this);this.trackingVersion++;try{e(t,i)}finally{Zr(n)}}destroy(){this.trackingVersion++}},wd=null;function Cd(){return wd??=new _d,wd}function Sd(e,t){return e[t]??Cd()}function bd(e,t){let i=Cd();i.hasReadASignal&&(e[t]=wd,i.lView=e,wd=new _d)}var Dd={};function Ed(e){Id(Es(),Ds(),Ys()+e,!1)}function Id(e,t,i,n){if(!n)if(3==(3&t[cr])){let n=e.preOrderCheckHooks;null!==n&&ro(t,n,i)}else{let n=e.preOrderHooks;null!==n&&so(t,n,0,i)}Xs(i)}function Td(e,t=null,i=null,n){let r=Ad(e,t,i,n);return r.resolveInjectorInitializers(),r}function Ad(e,t=null,i=null,n,r=new Set){let s=[i||bn,kl(e)];return n=n||("object"==typeof e?void 0:Pi(e)),new Wl(s,t||zl(),n||null,r)}var kd=(()=>{let e=class{static create(e,t){if(Array.isArray(e))return Td({name:""},t,e,"");{let t=e.name??"";return Td({name:t},e.parent,e.providers,t)}}},t=e;return e.THROW_IF_NOT_FOUND=an,e.NULL=new Al,e.prov=ji({token:e,providedIn:"any",factory:()=>pn(Il)}),e.__NG_ELEMENT_ID__=-1,t})();function Rd(e,t=tn.Default){let i=Ds();return null===i?pn(e,t):Ao(As(),i,Li(e),t)}function Od(e,t,i,n,r,s,o,a,l,d,c){let h=t.blueprint.slice();return h[lr]=r,h[cr]=140|n,(null!==d||e&&2048&e[cr])&&(h[cr]|=2048),vs(h),h[hr]=h[Cr]=e,h[fr]=i,h[vr]=o||e&&e[vr],h[xr]=a||e&&e[xr],h[yr]=l||e&&e[yr]||null,h[pr]=s,h[Ir]=sa++,h[kr]=c,h[Tr]=d,h[Sr]=2==t.type?e[Sr]:h,h}function Fd(e,t,i,n,r){let s=e.data[t];if(null===s)s=function(e,t,i,n,r){let s=ks(),o=Os(),a=o?s:s&&s.parent,l=e.data[t]=function(e,t,i,n,r,s){let o=t?t.injectorIndex:-1,a=0;return bs()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a,i,t,n,r);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,t,i,n,r),Cs.lFrame.inI18n&&(s.flags|=32);else if(64&s.type){s.type=i,s.value=n,s.attrs=r;let e=function(){let e=Cs.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===e?-1:e.injectorIndex}return Rs(s,!0),s}function Pd(e,t,i,n){if(0===i)return-1;let r=t.length;for(let r=0;r<i;r++)t.push(n),e.blueprint.push(n),e.data.push(null);return r}function Md(e,t,i,n,r){let s=Sd(t,Rr),o=Ys(),a=2&n;try{if(Xs(-1),a&&t.length>Fr&&Id(e,t,Fr,!1),ds(a?2:0,r),a)s.runInContext(i,n,r);else{let e=Zr(null);try{i(n,r)}finally{Zr(e)}}}finally{a&&null===t[Rr]&&bd(t,Rr),Xs(o),ds(a?3:1,r)}}function Vd(e,t,i){if(Gr(t)){let n=Zr(null);try{let n=t.directiveStart,r=t.directiveEnd;for(let t=n;t<r;t++){let n=e.data[t];n.contentQueries&&n.contentQueries(1,i[t],t)}}finally{Zr(n)}}}function Nd(e,t,i){Ss()&&(function(e,t,i,n){let r=i.directiveStart,s=i.directiveEnd;zr(i)&&function(e,t,i){let n=gs(t,e),r=Hd(i),s=e[vr].rendererFactory,o=16;i.signals?o=4096:i.onPush&&(o=64);let a=nc(e,Od(e,r,null,o,n,t,null,s.createRenderer(n,i),null,null,null));e[t.index]=a}(t,i,e.data[r+i.componentOffset]),e.firstCreatePass||Co(i,t),aa(n,t);let o=i.initialInputs;for(let n=r;n<s;n++){let s=e.data[n],a=Fo(t,e,n,i);aa(a,t),null!==o&&Qd(0,n-r,a,s,0,o),Wr(s)&&(fs(i.index,t)[fr]=Fo(t,e,n,i))}}(e,t,i,gs(i,t)),64==(64&i.flags)&&Ud(e,t,i))}function Ld(e,t,i=gs){let n=t.localNames;if(null!==n){let r=t.index+1;for(let s=0;s<n.length;s+=2){let o=n[s+1],a=-1===o?i(t,e):e[o];e[r++]=a}}}function Hd(e){let t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Bd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Bd(e,t,i,n,r,s,o,a,l,d,c){let h=Fr+n,u=h+r,g=function(e,t){let i=[];for(let n=0;n<t;n++)i.push(n<e?null:Dd);return i}(h,u),p="function"==typeof d?d():d;return g[dr]={type:e,blueprint:g,template:i,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:u,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}var Gd=e=>null;function zd(e,t,i,n){for(let r in e)if(e.hasOwnProperty(r)){i=null===i?{}:i;let s=e[r];null===n?$d(i,t,r,s):n.hasOwnProperty(r)&&$d(i,t,n[r],s)}return i}function $d(e,t,i,n){e.hasOwnProperty(i)?e[i].push(t,n):e[i]=[t,n]}function Wd(e,t,i,n,r,s,o,a){let l,d=gs(t,i),c=t.inputs;!a&&null!=c&&(l=c[n])?(lc(e,i,l,n,r),zr(t)&&function(e,t){let i=fs(t,e);16&i[cr]||(i[cr]|=64)}(i,t.index)):3&t.type?(n=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),r=null!=o?o(r,t.value||"",n):r,s.setProperty(d,n,r)):t.type}function jd(e,t,i,n){if(Ss()){let r,s,o=null===n?null:{"":-1},a=function(e,t){let i=e.directiveRegistry,n=null,r=null;if(i)for(let s=0;s<i.length;s++){let o=i[s];if(jn(t,o.selectors,!1))if(n||(n=[]),Wr(o))if(null!==o.findHostDirectiveDefs){let i=[];r=r||new Map,o.findHostDirectiveDefs(o,i,r),n.unshift(...i,o),Yd(e,t,i.length)}else n.unshift(o),Yd(e,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return null===n?null:[n,r]}(e,i);null===a?r=s=null:[r,s]=a,null!==r&&Kd(e,t,i,r,o,s),o&&function(e,t,i){if(t){let n=e.localNames=[];for(let e=0;e<t.length;e+=2){let r=i[t[e+1]];if(null==r)throw new zi(-301,!1);n.push(t[e],r)}}}(i,n,o)}i.mergedAttrs=Vn(i.mergedAttrs,i.attrs)}function Kd(e,t,i,n,r,s){for(let r=0;r<n.length;r++)Eo(Co(i,t),e,n[r].type);!function(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}(i,e.data.length,n.length);for(let e=0;e<n.length;e++){let t=n[e];t.providersResolver&&t.providersResolver(t)}let o=!1,a=!1,l=Pd(e,t,n.length,null);for(let s=0;s<n.length;s++){let d=n[s];i.mergedAttrs=Vn(i.mergedAttrs,d.hostAttrs),Zd(e,i,t,l,d),Xd(l,d,r),null!==d.contentQueries&&(i.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(i.flags|=64);let c=d.type.prototype;!o&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),o=!0),!a&&(c.ngOnChanges||c.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),a=!0),l++}!function(e,t,i){let n=t.directiveStart,r=t.directiveEnd,s=e.data,o=t.attrs,a=[],l=null,d=null;for(let e=n;e<r;e++){let n=s[e],r=i?i.get(n):null,c=r?r.inputs:null,h=r?r.outputs:null;l=zd(n.inputs,e,l,c),d=zd(n.outputs,e,d,h);let u=null===l||null===o||Bn(t)?null:ec(l,e,o);a.push(u)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=d}(e,i,s)}function Ud(e,t,i){let n=i.directiveStart,r=i.directiveEnd,s=i.index,o=Cs.lFrame.currentDirectiveIndex;try{Xs(s);for(let i=n;i<r;i++){let n=e.data[i],r=t[i];Ls(i),(null!==n.hostBindings||0!==n.hostVars||null!==n.hostAttrs)&&qd(n,r)}}finally{Xs(-1),Ls(o)}}function qd(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Yd(e,t,i){t.componentOffset=i,(e.components??=[]).push(t.index)}function Xd(e,t,i){if(i){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)i[t.exportAs[n]]=e;Wr(t)&&(i[""]=e)}}function Zd(e,t,i,n,r){e.data[n]=r;let s=r.factory||(r.factory=Kr(r.type)),o=new uo(s,Wr(r),Rd);e.blueprint[n]=o,i[n]=o,function(e,t,i,n,r){let s=r.hostBindings;if(s){let r=e.hostBindingOpCodes;null===r&&(r=e.hostBindingOpCodes=[]);let o=~t.index;(function(e){let t=e.length;for(;t>0;){let i=e[--t];if("number"==typeof i&&i<0)return i}return 0})(r)!=o&&r.push(o),r.push(i,n,s)}}(e,t,n,Pd(e,i,r.hostVars,Dd),r)}function Qd(e,t,i,n,r,s){let o=s[t];if(null!==o)for(let e=0;e<o.length;)Jd(n,i,o[e++],o[e++],o[e++])}function Jd(e,t,i,n,r){let s=Zr(null);try{let s=e.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(r=s[n].call(t,r)),null!==e.setInput?e.setInput(t,r,i,n):t[n]=r}finally{Zr(s)}}function ec(e,t,i){let n=null,r=0;for(;r<i.length;){let s=i[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===n&&(n=[]);let o=e[s];for(let e=0;e<o.length;e+=2)if(o[e]===t){n.push(s,o[e+1],i[r+1]);break}}r+=2}else r+=2;else r+=4}return n}function tc(e,t,i,n){return[e,!0,!1,t,null,0,n,i,null,null,null]}function ic(e,t){let i=e.contentQueries;if(null!==i)for(let n=0;n<i.length;n+=2){let r=i[n],s=i[n+1];if(-1!==s){let i=e.data[s];Bs(r),i.contentQueries(2,t[s],s)}}}function nc(e,t){return e[_r]?e[wr][ur]=t:e[_r]=t,e[wr]=t,t}function rc(e,t,i){Bs(0);let n=Zr(null);try{t(e,i)}finally{Zr(n)}}function sc(e){return e[mr]||(e[mr]=[])}function oc(e){return e.cleanup||(e.cleanup=[])}function ac(e,t){let i=e[yr],n=i?i.get(yd,null):null;n&&n.handleError(t)}function lc(e,t,i,n,r){for(let s=0;s<i.length;){let o=i[s++],a=i[s++],l=t[o];Jd(e.data[o],l,n,a,r)}}function dc(e,t,i){let n=us(t,e);!function(e,t,i){e.setValue(t,i)}(e[xr],n,i)}function cc(e,t){let i=fs(t,e),n=i[dr];!function(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}(n,i);let r=i[lr];null!==r&&null===i[kr]&&(i[kr]=id(r,i[yr])),hc(n,i,i[fr])}function hc(e,t,i){$s(t);try{let n=e.viewQuery;null!==n&&rc(1,n,i);let r=e.template;null!==r&&Md(e,t,r,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ic(e,t),e.staticViewQueries&&rc(2,e.viewQuery,i);let s=e.components;null!==s&&function(e,t){for(let i=0;i<t.length;i++)cc(e,t[i])}(t,s)}catch(t){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),t}finally{t[cr]&=-5,qs()}}var uc=(()=>{let e=class{constructor(){this.all=new Set,this.queue=new Map}create(e,t,i){let n=typeof Zone>"u"?null:Zone.current,r=new ts(e,(e=>{this.all.has(e)&&this.queue.set(e,n)}),i);this.all.add(r),r.notify();let s,o=()=>{r.cleanup(),s?.(),this.all.delete(r),this.queue.delete(r)};return s=t?.onDestroy(o),{destroy:o}}flush(){if(0!==this.queue.size)for(let[e,t]of this.queue)this.queue.delete(e),t?t.run((()=>e.run())):e.run()}get isQueueEmpty(){return 0===this.queue.size}},t=e;return e.prov=ji({token:e,providedIn:"root",factory:()=>new e}),t})();function gc(e,t,i){let n=i?e.styles:null,r=i?e.classes:null,s=0;if(null!==t)for(let e=0;e<t.length;e++){let i=t[e];"number"==typeof i?s=i:1==s?r=Mi(r,i):2==s&&(n=Mi(n,i+": "+t[++e]+";"))}i?e.styles=n:e.stylesWithoutHost=n,i?e.classes=r:e.classesWithoutHost=r}function pc(e,t,i,n,r=!1){for(;null!==i;){let s=t[i.index];if(null!==s&&n.push(hs(s)),Br(s)){for(let e=Lr;e<s.length;e++){let t=s[e],i=t[dr].firstChild;null!==i&&pc(t[dr],t,i,n)}s[Vr]!==s[lr]&&n.push(s[Vr])}let o=i.type;if(8&o)pc(e,t,i.child,n);else if(32&o){let e,r=la(i,t);for(;e=r();)n.push(e)}else if(16&o){let e=Oa(t,i);if(Array.isArray(e))n.push(...e);else{let i=da(t[Sr]);pc(i[dr],i,e,n,!0)}}i=r?i.projectionNext:i.next}return n}function mc(e,t,i,n=!0){let r=t[vr].rendererFactory;r.begin&&r.begin();try{fc(e,t,e.template,i)}catch(e){throw n&&ac(t,e),e}finally{r.end&&r.end(),t[vr].effectManager?.flush()}}function fc(e,t,i,n){let r=t[cr];if(256!=(256&r)){t[vr].effectManager?.flush(),$s(t);try{vs(t),function(e){Cs.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&Md(e,t,i,2,n);let s=3==(3&r);if(s){let i=e.preOrderCheckHooks;null!==i&&ro(t,i,null)}else{let i=e.preOrderHooks;null!==i&&so(t,i,0,null),oo(t,0)}if(function(e){for(let t=ca(e);null!==t;t=ha(t)){if(!t[Mr])continue;let e=t[Nr];for(let t=0;t<e.length;t++){let i=e[t];i[hr],xs(i)}}}(t),yc(t,2),null!==e.contentQueries&&ic(e,t),s){let i=e.contentCheckHooks;null!==i&&ro(t,i)}else{let i=e.contentHooks;null!==i&&so(t,i,1),oo(t,1)}!function(e,t){let i=e.hostBindingOpCodes;if(null===i)return;let n=Sd(t,Or);try{for(let e=0;e<i.length;e++){let r=i[e];if(r<0)Xs(~r);else{let s=r,o=i[++e],a=i[++e];Ns(o,s);let l=t[s];n.runInContext(a,2,l)}}}finally{null===t[Or]&&bd(t,Or),Xs(-1)}}(e,t);let o=e.components;null!==o&&_c(t,o,0);let a=e.viewQuery;if(null!==a&&rc(2,a,n),s){let i=e.viewCheckHooks;null!==i&&ro(t,i)}else{let i=e.viewHooks;null!==i&&so(t,i,2),oo(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[cr]&=-73,_s(t)}finally{qs()}}}function yc(e,t){for(let i=ca(e);null!==i;i=ha(i))for(let e=Lr;e<i.length;e++)xc(i[e],t)}function vc(e,t,i){xc(fs(t,e),i)}function xc(e,t){if(!function(e){return 128==(128&e[cr])}(e))return;let i=e[dr];if(80&e[cr]&&0===t||1024&e[cr]||2===t)fc(i,e,i.template,e[fr]);else if(e[gr]>0){yc(e,1);let t=e[dr].components;null!==t&&_c(e,t,1)}}function _c(e,t,i){for(let n=0;n<t.length;n++)vc(e,t[n],i)}var wc=class{get rootNodes(){let e=this._lView,t=e[dr];return pc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fr]}set context(e){this._lView[fr]=e}get destroyed(){return 256==(256&this._lView[cr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[hr];if(Br(e)){let t=e[8],i=t?t.indexOf(this):-1;i>-1&&(fa(e,i),jo(t,i))}this._attachedToViewContainer=!1}ya(this._lView[dr],this._lView)}onDestroy(e){!function(e,t){if(256==(256&e[cr]))throw new zi(911,!1);null===e[Ar]&&(e[Ar]=[]),e[Ar].push(t)}(this._lView,e)}markForCheck(){md(this._cdRefInjectingView||this._lView)}detach(){this._lView[cr]&=-129}reattach(){this._lView[cr]|=128}detectChanges(){mc(this._lView[dr],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new zi(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(e,t){Ma(e,t,t[xr],2,null,null)}(this._lView[dr],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new zi(902,!1);this._appRef=e}},Cc=class extends wc{constructor(e){super(e),this._view=e}detectChanges(){let e=this._view;mc(e[dr],e,e[fr],!1)}checkNoChanges(){}get context(){return null}},Sc=class extends sd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ir(e);return new Dc(t,this.ngModule)}};function bc(e){let t=[];for(let i in e)if(e.hasOwnProperty(i)){let n=e[i];t.push({propName:n,templateName:i})}return t}var Dc=class extends rd{get inputs(){return bc(this.componentDef.inputs)}get outputs(){return bc(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function(e){return e.map(qn).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,n){let r=(n=n||this.ngModule)instanceof $l?n:n?.injector;r&&null!==this.componentDef.getStandaloneInjector&&(r=this.componentDef.getStandaloneInjector(r)||r);let s=r?new class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=fn(i);let n=this.injector.get(e,pd,i);return n!==pd||t===pd?n:this.parentInjector.get(e,t,i)}}(e,r):e,o=s.get(cd,null);if(null===o)throw new zi(407,!1);let a,l,d={rendererFactory:o,sanitizer:s.get(ud,null),effectManager:s.get(uc,null)},c=o.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",u=i?function(e,t,i,n){let r=n.get(vd,!1)||i===Cn.ShadowDom,s=e.selectRootElement(t,r);return function(e){Gd(e)}(s),s}(c,i,this.componentDef.encapsulation,s):pa(c,h,function(e){let t=e.toLowerCase();return"svg"===t?cs:"math"===t?"math":null}(h)),g=this.componentDef.onPush?576:528,p=this.componentDef.signals?4608:g,m=Bd(0,null,null,1,0,null,null,null,null,null,null),f=Od(null,m,null,p,null,null,d,c,s,null,null);$s(f);try{let e,n=this.componentDef,r=null;n.findHostDirectiveDefs?(e=[],r=new Map,n.findHostDirectiveDefs(n,e,r),e.push(n)):e=[n];let s=function(e,t){let i=e[dr],n=Fr;return e[n]=t,Fd(i,n,2,"#host",null)}(f,u),o=function(e,t,i,n,r,s,o){let a=r[dr];!function(e,t,i,n){for(let i of e)t.mergedAttrs=Vn(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(gc(t,t.mergedAttrs,!0),null!==i&&La(n,i,t))}(n,e,t,o);let l=null;null!==t&&(l=id(t,r[yr]));let d=s.rendererFactory.createRenderer(t,i),c=16;i.signals?c=4096:i.onPush&&(c=64);let h=Od(r,Hd(i),null,c,r[e.index],e,s,d,null,null,l);return a.firstCreatePass&&Yd(a,e,n.length-1),nc(r,h),r[e.index]=h}(s,u,n,e,f,d,c);l=ps(m,Fr),u&&function(e,t,i,n){if(n)Fn(e,i,["ng-version",gd.full]);else{let{attrs:n,classes:r}=function(e){let t=[],i=[],n=1,r=2;for(;n<e.length;){let s=e[n];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++n]):8===r&&i.push(s);else{if(!$n(r))break;r=s}n++}return{attrs:t,classes:i}}(t.selectors[0]);n&&Fn(e,i,n),r&&r.length>0&&Na(e,i,r.join(" "))}}(c,n,u,i),void 0!==t&&function(e,t,i){let n=e.projection=[];for(let e=0;e<t.length;e++){let t=i[e];n.push(null!=t?Array.from(t):null)}}(l,this.ngContentSelectors,t),a=function(e,t,i,n,r,s){let o=As(),a=r[dr],l=gs(o,r);Kd(a,r,o,i,null,n);for(let e=0;e<i.length;e++)aa(Fo(r,a,o.directiveStart+e,o),r);Ud(a,r,o),l&&aa(l,r);let d=Fo(r,a,o.directiveStart+o.componentOffset,o);if(e[fr]=r[fr]=d,null!==s)for(let e of s)e(d,t);return Vd(a,o,e),d}(o,n,e,r,f,[Ic]),hc(m,f,null)}finally{qs()}return new Ec(this.componentType,a,ad(l,f),f,l)}},Ec=class extends nd{constructor(e,t,i,n,r){super(),this.location=i,this._rootLView=n,this._tNode=r,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Cc(n),this.componentType=e}setInput(e,t){let i,n=this._tNode.inputs;if(null!==n&&(i=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let n=this._rootLView;lc(n[dr],n,i,e,t),this.previousInputValues.set(e,t),md(fs(this._tNode.index,n))}}get injector(){return new Vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Ic(){let e=As();no(Ds()[dr],e)}function Tc(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0,n=[e];for(;t;){let r;if(Wr(e))r=t.cmp||t.dir;else{if(t.cmp)throw new zi(903,!1);r=t.dir}if(r){if(i){n.push(r);let t=e;t.inputs=Ac(e.inputs),t.inputTransforms=Ac(e.inputTransforms),t.declaredInputs=Ac(e.declaredInputs),t.outputs=Ac(e.outputs);let i=r.hostBindings;i&&Oc(e,i);let s=r.viewQuery,o=r.contentQueries;if(s&&kc(e,s),o&&Rc(e,o),Fi(e.inputs,r.inputs),Fi(e.declaredInputs,r.declaredInputs),Fi(e.outputs,r.outputs),null!==r.inputTransforms&&(null===t.inputTransforms&&(t.inputTransforms={}),Fi(t.inputTransforms,r.inputTransforms)),Wr(r)&&r.data.animation){let t=e.data;t.animation=(t.animation||[]).concat(r.data.animation)}}let t=r.features;if(t)for(let n=0;n<t.length;n++){let r=t[n];r&&r.ngInherit&&r(e),r===Tc&&(i=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,i=null;for(let n=e.length-1;n>=0;n--){let r=e[n];r.hostVars=t+=r.hostVars,r.hostAttrs=Vn(r.hostAttrs,i=Vn(i,r.hostAttrs))}}(n)}function Ac(e){return e===Sn?{}:e===bn?[]:e}function kc(e,t){let i=e.viewQuery;e.viewQuery=i?(e,n)=>{t(e,n),i(e,n)}:t}function Rc(e,t){let i=e.contentQueries;e.contentQueries=i?(e,n,r)=>{t(e,n,r),i(e,n,r)}:t}function Oc(e,t){let i=e.hostBindings;e.hostBindings=i?(e,n)=>{t(e,n),i(e,n)}:t}function Fc(e){return!!Pc(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Pc(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Mc(e,t,i){return e[t]=i}function Vc(e,t){return e[t]}function Nc(e,t,i){let n=e[t];return!Object.is(n,i)&&(e[t]=i,!0)}function Lc(e,t,i,n){let r=Nc(e,t,i);return Nc(e,t+1,n)||r}function Hc(e,t,i,n,r){let s=Lc(e,t,i,n);return Nc(e,t+2,r)||s}function Bc(e,t,i,n,r,s){let o=Lc(e,t,i,n);return Lc(e,t+2,r,s)||o}function Gc(e,t,i,n){let r=Ds();return Nc(r,Ms(),t)&&(Es(),function(e,t,i,n,r,s){let o=gs(e,t);!function(e,t,i,n,r,s,o){if(null==s)e.removeAttribute(t,r,i);else{let a=null==o?$i(s):o(s,n||"",r);e.setAttribute(t,r,a,i)}}(t[xr],o,s,e.value,i,n,r)}(Zs(),r,e,t,i,n)),Gc}function zc(e,t,i,n){return Nc(e,Ms(),i)?t+$i(i)+n:Dd}function $c(e,t,i,n,r,s){let o=Lc(e,Cs.lFrame.bindingIndex,i,r);return Vs(2),o?t+$i(i)+n+$i(r)+s:Dd}function Wc(e,t,i,n,r,s,o,a){let l=Ds(),d=Es(),c=e+Fr,h=d.firstCreatePass?function(e,t,i,n,r,s,o,a,l){let d=t.consts,c=Fd(t,e,4,o||null,ys(d,a));jd(t,i,c,ys(d,l)),no(t,c);let h=c.tView=Bd(2,c,n,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d,null);return null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(c,d,l,t,i,n,r,s,o):d.data[c];Rs(h,!1);let u=jc(d,l,h,e);to()&&ka(d,l,u,h),aa(u,l),nc(l,l[c]=tc(u,l,u,h)),$r(h)&&Nd(d,l,h),null!=o&&Ld(l,h,a)}new RegExp("^(\\d+)*(b|h)*(.*)");var jc=function(e,t,i,n){return io(!0),t[xr].createComment("")};function Kc(e){return ms(Cs.lFrame.contextLView,Fr+e)}function Uc(e,t,i){let n=Ds();return Nc(n,Ms(),t)&&Wd(Es(),Zs(),n,e,t,n[xr],i,!1),Uc}function qc(e,t,i,n,r){let s=r?"class":"style";lc(e,i,t.inputs[s],s,n)}function Yc(e,t,i,n){let r=Ds(),s=Es(),o=Fr+e,a=r[xr],l=s.firstCreatePass?function(e,t,i,n,r,s){let o=t.consts,a=Fd(t,e,2,n,ys(o,r));return jd(t,i,a,ys(o,s)),null!==a.attrs&&gc(a,a.attrs,!1),null!==a.mergedAttrs&&gc(a,a.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,a),a}(o,s,r,t,i,n):s.data[o],d=Qc(s,r,l,a,t,e);r[o]=d;let c=$r(l);return Rs(l,!0),La(a,d,l),32!=(32&l.flags)&&to()&&ka(s,r,d,l),0===Cs.lFrame.elementDepthCount&&aa(d,r),Cs.lFrame.elementDepthCount++,c&&(Nd(s,r,l),Vd(s,l,r)),null!==n&&Ld(r,l),Yc}function Xc(){let e=As();Os()?Fs():(e=e.parent,Rs(e,!1));let t=e;(function(e){return Cs.skipHydrationRootTNode===e})(t)&&(Cs.skipHydrationRootTNode=null),Cs.lFrame.elementDepthCount--;let i=Es();return i.firstCreatePass&&(no(i,e),Gr(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(8&e.flags)}(t)&&qc(i,t,Ds(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&qc(i,t,Ds(),t.stylesWithoutHost,!1),Xc}function Zc(e,t,i,n){return Yc(e,t,i,n),Xc(),Zc}var Qc=(e,t,i,n,r,s)=>(io(!0),pa(n,r,Cs.lFrame.currentNamespace));function Jc(e,t,i){let n=Ds(),r=Es(),s=e+Fr,o=r.firstCreatePass?function(e,t,i,n,r){let s=t.consts,o=ys(s,n),a=Fd(t,e,8,"ng-container",o);return null!==o&&gc(a,o,!0),jd(t,i,a,ys(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,n,t,i):r.data[s];Rs(o,!0);let a=ih(r,n,o,e);return n[s]=a,to()&&ka(r,n,a,o),aa(a,n),$r(o)&&(Nd(r,n,o),Vd(r,o,n)),null!=i&&Ld(n,o),Jc}function eh(){let e=As(),t=Es();return Os()?Fs():(e=e.parent,Rs(e,!1)),t.firstCreatePass&&(no(t,e),Gr(e)&&t.queries.elementEnd(e)),eh}function th(e,t,i){return Jc(e,t,i),eh(),th}var ih=(e,t,i,n)=>(io(!0),function(e,t){return e.createComment(function(e){return e.replace(ia,(e=>e.replace(na,"$1")))}(t))}(t[xr],""));function nh(){return Ds()}function rh(e){return!!e&&"function"==typeof e.then}function sh(e){return!!e&&"function"==typeof e.subscribe}function oh(e,t,i,n){let r=Ds(),s=Es(),o=As();return function(e,t,i,n,r,s,o){let a=$r(n),l=e.firstCreatePass&&oc(e),d=t[fr],c=sc(t),h=!0;if(3&n.type||o){let u=gs(n,t),g=o?o(u):u,p=c.length,m=o?e=>o(hs(e[n.index])):n.index,f=null;if(!o&&a&&(f=function(e,t,i,n){let r=e.cleanup;if(null!=r)for(let e=0;e<r.length-1;e+=2){let s=r[e];if(s===i&&r[e+1]===n){let i=t[mr],n=r[e+2];return i.length>n?i[n]:null}"string"==typeof s&&(e+=2)}return null}(e,t,r,n.index)),null!==f)(f.__ngLastListenerFn__||f).__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,h=!1;else{s=lh(n,t,d,s,!1);let e=i.listen(g,r,s);c.push(s,e),l&&l.push(r,m,p,p+1)}}else s=lh(n,t,d,s,!1);let u,g=n.outputs;if(h&&null!==g&&(u=g[r])){let e=u.length;if(e)for(let i=0;i<e;i+=2){let e=u[i],o=u[i+1],a=t[e][o].subscribe(s),d=c.length;c.push(s,a),l&&l.push(r,n.index,d,-(d+1))}}}(s,r,r[xr],o,e,t,n),oh}function ah(e,t,i,n){try{return ds(6,t,i),!1!==i(n)}catch(t){return ac(e,t),!1}finally{ds(7,t,i)}}function lh(e,t,i,n,r){return function s(o){if(o===Function)return n;md(e.componentOffset>-1?fs(e.index,t):t);let a=ah(t,i,n,o),l=s.__ngNextListenerFn__;for(;l;)a=ah(t,i,l,o)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&o.preventDefault(),a}}function dh(e=1){return function(e){return(Cs.lFrame.contextLView=function(e,t){for(;e>0;)t=t[Cr],e--;return t}(e,Cs.lFrame.contextLView))[fr]}(e)}function ch(e,t){let i=null,n=function(e){let t=e.attrs;if(null!=t){let e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(e);for(let r=0;r<t.length;r++){let s=t[r];if("*"!==s){if(null===n?jn(e,s,!0):Kn(n,s))return r}else i=r}return i}function hh(e){let t=Ds()[Sr][pr];if(!t.projection){let i=e?e.length:1,n=t.projection=Ko(i,null),r=n.slice(),s=t.child;for(;null!==s;){let t=e?ch(s,e):0;null!==t&&(r[t]?r[t].projectionNext=s:n[t]=s,r[t]=s),s=s.next}}}function uh(e,t=0,i){let n=Ds(),r=Es(),s=Fd(r,Fr+e,16,null,i||null);null===s.projection&&(s.projection=t),Fs(),(!n[kr]||bs())&&32!=(32&s.flags)&&function(e,t,i){Va(t[xr],0,t,i,xa(e,i,t),ba(i.parent||t[pr],i,t))}(r,n,s)}function gh(e,t,i){return ph(e,"",t,"",i),gh}function ph(e,t,i,n,r){let s=Ds(),o=zc(s,t,i,n);return o!==Dd&&Wd(Es(),Zs(),s,e,o,s[xr],r,!1),ph}function mh(e,t,i,n,r,s,o){let a=Ds(),l=$c(a,t,i,n,r,s);return l!==Dd&&Wd(Es(),Zs(),a,e,l,a[xr],o,!1),mh}function fh(e,t){return e<<17|t<<2}function yh(e){return e>>17&32767}function vh(e){return 2|e}function xh(e){return(131068&e)>>2}function _h(e,t){return-131069&e|t<<2}function wh(e){return 1|e}function Ch(e,t,i,n,r){let s=e[i+1],o=null===t,a=n?yh(s):xh(s),l=!1;for(;0!==a&&(!1===l||o);){let i=e[a],r=e[a+1];Sh(i,t)&&(l=!0,e[a+1]=n?wh(r):vh(r)),a=n?yh(r):xh(r)}l&&(e[i+1]=n?vh(s):wh(s))}function Sh(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Yo(e,t)>=0}var bh={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Dh(e){return e.substring(bh.key,bh.keyEnd)}function Eh(e,t){let i=bh.textEnd;return i===t?-1:(t=bh.keyEnd=function(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}(e,bh.key=t,i),Ih(e,t,i))}function Ih(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function Th(e,t,i){return Oh(e,t,i,!1),Th}function Ah(e,t){return Oh(e,t,null,!0),Ah}function kh(e){Fh(Lh,Rh,e,!0)}function Rh(e,t){for(let i=function(e){return function(e){bh.key=0,bh.keyEnd=0,bh.value=0,bh.valueEnd=0,bh.textEnd=e.length}(e),Eh(e,Ih(e,0,bh.textEnd))}(t);i>=0;i=Eh(t,i))Uo(e,Dh(t),!0)}function Oh(e,t,i,n){let r=Ds(),s=Es(),o=Vs(2);s.firstUpdatePass&&Mh(s,e,o,n),t!==Dd&&Nc(r,o,t)&&Hh(s,s.data[Ys()],r,r[xr],e,r[o+1]=function(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Pi(qa(e)))),e}(t,i),n,o)}function Fh(e,t,i,n){let r=Es(),s=Vs(2);r.firstUpdatePass&&Mh(r,null,s,n);let o=Ds();if(i!==Dd&&Nc(o,s,i)){let a=r.data[Ys()];if(zh(a,n)&&!Ph(r,s)){let e=n?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(i=Mi(e,i||"")),qc(r,a,o,i,n)}else!function(e,t,i,n,r,s,o,a){r===Dd&&(r=bn);let l=0,d=0,c=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;null!==c||null!==h;){let u,g=l<r.length?r[l+1]:void 0,p=d<s.length?s[d+1]:void 0,m=null;c===h?(l+=2,d+=2,g!==p&&(m=h,u=p)):null===h||null!==c&&c<h?(l+=2,m=c):(d+=2,m=h,u=p),null!==m&&Hh(e,t,i,n,m,u,o,a),c=l<r.length?r[l]:null,h=d<s.length?s[d]:null}}(r,a,o,o[xr],o[s+1],o[s+1]=function(e,t,i){if(null==i||""===i)return bn;let n=[],r=qa(i);if(Array.isArray(r))for(let t=0;t<r.length;t++)e(n,r[t],!0);else if("object"==typeof r)for(let t in r)r.hasOwnProperty(t)&&e(n,t,r[t]);else"string"==typeof r&&t(n,r);return n}(e,t,i),n,s)}}function Ph(e,t){return t>=e.expandoStartIndex}function Mh(e,t,i,n){let r=e.data;if(null===r[i+1]){let s=r[Ys()],o=Ph(e,i);zh(s,n)&&null===t&&!o&&(t=!1),t=function(e,t,i,n){let r=function(e){let t=Cs.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),s=n?t.residualClasses:t.residualStyles;if(null===r)0===(n?t.classBindings:t.styleBindings)&&(i=Nh(i=Vh(null,e,t,i,n),t.attrs,n),s=null);else{let o=t.directiveStylingLast;if(-1===o||e[o]!==r)if(i=Vh(r,e,t,i,n),null===s){let i=function(e,t,i){let n=i?t.classBindings:t.styleBindings;if(0!==xh(n))return e[yh(n)]}(e,t,n);void 0!==i&&Array.isArray(i)&&(i=Vh(null,e,t,i[1],n),i=Nh(i,t.attrs,n),function(e,t,i,n){e[yh(i?t.classBindings:t.styleBindings)]=n}(e,t,n,i))}else s=function(e,t,i){let n,r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)n=Nh(n,e[s].hostAttrs,i);return Nh(n,t.attrs,i)}(e,t,n)}return void 0!==s&&(n?t.residualClasses=s:t.residualStyles=s),i}(r,s,t,n),function(e,t,i,n,r,s){let o=s?t.classBindings:t.styleBindings,a=yh(o),l=xh(o);e[n]=i;let d,c=!1;if(Array.isArray(i)){let e=i;d=e[1],(null===d||Yo(e,d)>0)&&(c=!0)}else d=i;if(r)if(0!==l){let t=yh(e[a+1]);e[n+1]=fh(t,a),0!==t&&(e[t+1]=_h(e[t+1],n)),e[a+1]=function(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=fh(a,0),0!==a&&(e[a+1]=_h(e[a+1],n)),a=n;else e[n+1]=fh(l,0),0===a?a=n:e[l+1]=_h(e[l+1],n),l=n;c&&(e[n+1]=vh(e[n+1])),Ch(e,d,n,!0),Ch(e,d,n,!1),function(e,t,i,n,r){let s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Yo(s,t)>=0&&(i[n+1]=wh(i[n+1]))}(t,d,e,n,s),o=fh(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,i,o,n)}}function Vh(e,t,i,n,r){let s=null,o=i.directiveEnd,a=i.directiveStylingLast;for(-1===a?a=i.directiveStart:a++;a<o&&(s=t[a],n=Nh(n,s.hostAttrs,r),s!==e);)a++;return null!==e&&(i.directiveStylingLast=a),n}function Nh(e,t,i){let n=i?1:2,r=-1;if(null!==t)for(let s=0;s<t.length;s++){let o=t[s];"number"==typeof o?r=o:r===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Uo(e,o,!!i||t[++s]))}return void 0===e?null:e}function Lh(e,t,i){let n=String(t);""!==n&&!n.includes(" ")&&Uo(e,n,i)}function Hh(e,t,i,n,r,s,o,a){if(!(3&t.type))return;let l=e.data,d=l[a+1],c=function(e){return 1==(1&e)}(d)?Bh(l,t,i,r,xh(d),o):void 0;Gh(c)||(Gh(s)||function(e){return 2==(2&e)}(d)&&(s=Bh(l,null,i,r,a,o)),function(e,t,i,n,r){if(t)r?e.addClass(i,n):e.removeClass(i,n);else{let t=-1===n.indexOf("-")?void 0:ta.DashCase;null==r?e.removeStyle(i,n,t):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),t|=ta.Important),e.setStyle(i,n,r,t))}}(n,o,us(Ys(),i),r,s))}function Bh(e,t,i,n,r,s){let o,a=null===t;for(;r>0;){let t=e[r],s=Array.isArray(t),l=s?t[1]:t,d=null===l,c=i[r+1];c===Dd&&(c=d?bn:void 0);let h=d?qo(c,n):l===n?c:void 0;if(s&&!Gh(h)&&(h=qo(t,n)),Gh(h)&&(o=h,a))return o;let u=e[r+1];r=a?yh(u):xh(u)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(o=qo(e,n))}return o}function Gh(e){return void 0!==e}function zh(e,t){return 0!=(e.flags&(t?8:16))}function $h(e,t=""){let i=Ds(),n=Es(),r=e+Fr,s=n.firstCreatePass?Fd(n,r,1,t,null):n.data[r],o=Wh(n,i,s,t,e);i[r]=o,to()&&ka(n,i,o,s),Rs(s,!1)}var Wh=(e,t,i,n,r)=>(io(!0),function(e,t){return e.createText(t)}(t[xr],n));function jh(e){return Kh("",e,""),jh}function Kh(e,t,i){let n=Ds(),r=zc(n,e,t,i);return r!==Dd&&dc(n,Ys(),r),Kh}function Uh(e,t,i,n,r){let s=Ds(),o=$c(s,e,t,i,n,r);return o!==Dd&&dc(s,Ys(),o),Uh}function qh(e,t,i){Fh(Uo,Rh,zc(Ds(),e,t,i),!0)}function Yh(e,t,i){let n=Ds();return Nc(n,Ms(),t)&&Wd(Es(),Zs(),n,e,t,n[xr],i,!0),Yh}var Xh=void 0,Zh=["en",[["a","p"],["AM","PM"],Xh],[["AM","PM"],Xh,Xh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xh,"{1} 'at' {0}",Xh],[".",",",";","%","+","-","E","","","","NaN",":"],["#,##0.###","#,##0%","#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}],Qh={};function Jh(e){let t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),i=eu(t);if(i)return i;let n=t.split("-")[0];if(i=eu(n),i)return i;if("en"===n)return Zh;throw new zi(701,!1)}function eu(e){return e in Qh||(Qh[e]=on.ng&&on.ng.common&&on.ng.common.locales&&on.ng.common.locales[e]),Qh[e]}var tu=((tu=tu||{})[tu.LocaleId=0]="LocaleId",tu[tu.DayPeriodsFormat=1]="DayPeriodsFormat",tu[tu.DayPeriodsStandalone=2]="DayPeriodsStandalone",tu[tu.DaysFormat=3]="DaysFormat",tu[tu.DaysStandalone=4]="DaysStandalone",tu[tu.MonthsFormat=5]="MonthsFormat",tu[tu.MonthsStandalone=6]="MonthsStandalone",tu[tu.Eras=7]="Eras",tu[tu.FirstDayOfWeek=8]="FirstDayOfWeek",tu[tu.WeekendRange=9]="WeekendRange",tu[tu.DateFormat=10]="DateFormat",tu[tu.TimeFormat=11]="TimeFormat",tu[tu.DateTimeFormat=12]="DateTimeFormat",tu[tu.NumberSymbols=13]="NumberSymbols",tu[tu.NumberFormats=14]="NumberFormats",tu[tu.CurrencyCode=15]="CurrencyCode",tu[tu.CurrencySymbol=16]="CurrencySymbol",tu[tu.CurrencyName=17]="CurrencyName",tu[tu.Currencies=18]="Currencies",tu[tu.Directionality=19]="Directionality",tu[tu.PluralCase=20]="PluralCase",tu[tu.ExtraData=21]="ExtraData",tu),iu="en-US";function nu(e,t,i,n,r){if(e=Li(e),Array.isArray(e))for(let s=0;s<e.length;s++)nu(e[s],t,i,n,r);else{let s=Es(),o=Ds(),a=Nl(e)?e:Li(e.provide),l=Kl(e),d=As(),c=1048575&d.providerIndexes,h=d.directiveStart,u=d.providerIndexes>>20;if(Nl(e)||!e.multi){let n=new uo(l,r,Rd),g=ou(a,t,r?c:c+u,h);-1===g?(Eo(Co(d,o),s,a),ru(s,e,t.length),t.push(a),d.directiveStart++,d.directiveEnd++,r&&(d.providerIndexes+=1048576),i.push(n),o.push(n)):(i[g]=n,o[g]=n)}else{let g=ou(a,t,c+u,h),p=ou(a,t,c,c+u),m=g>=0&&i[g],f=p>=0&&i[p];if(r&&!f||!r&&!m){Eo(Co(d,o),s,a);let c=function(e,t,i,n,r){let s=new uo(e,i,Rd);return s.multi=[],s.index=t,s.componentProviders=0,su(s,r,n&&!i),s}(r?lu:au,i.length,r,n,l);!r&&f&&(i[p].providerFactory=c),ru(s,e,t.length,0),t.push(a),d.directiveStart++,d.directiveEnd++,r&&(d.providerIndexes+=1048576),i.push(c),o.push(c)}else ru(s,e,g>-1?g:p,su(i[r?p:g],l,!r&&n));!r&&n&&f&&i[p].componentProviders++}}}function ru(e,t,i,n){let r=Nl(t),s=function(e){return!!e.useClass}(t);if(r||s){let o=(s?Li(t.useClass):t).prototype.ngOnDestroy;if(o){let s=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let e=s.indexOf(i);-1===e?s.push(i,[n,o]):s[e+1].push(n,o)}else s.push(i,o)}}}function su(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function ou(e,t,i,n){for(let r=i;r<n;r++)if(t[r]===e)return r;return-1}function au(e,t,i,n){return du(this.multi,[])}function lu(e,t,i,n){let r,s=this.multi;if(this.providerFactory){let e=this.providerFactory.componentProviders,t=Fo(i,i[dr],this.providerFactory.index,n);r=t.slice(0,e),du(s,r);for(let i=e;i<t.length;i++)r.push(t[i])}else r=[],du(s,r);return r}function du(e,t){for(let i=0;i<e.length;i++){let n=e[i];t.push(n())}return t}function cu(e,t=[]){return i=>{i.providersResolver=(i,n)=>function(e,t,i){let n=Es();if(n.firstCreatePass){let r=Wr(e);nu(i,n.data,n.blueprint,r,!0),nu(t,n.data,n.blueprint,r,!1)}}(i,n?n(e):e,t)}}var hu=class{},uu=class{},gu=class extends hu{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sc(this);let n=function(e,t){let i=e[Tn]||null;return i}(e);this._bootstrapComponents=function(e){return e instanceof Function?e():e}(n.bootstrap),this._r3Injector=Ad(e,t,[{provide:hu,useValue:this},{provide:sd,useValue:this.componentFactoryResolver},...i],Pi(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((e=>e())),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},pu=class extends uu{constructor(e){super(),this.moduleType=e}create(e){return new gu(this.moduleType,e,[])}},mu=class extends hu{constructor(e){super(),this.componentFactoryResolver=new Sc(this),this.instance=null;let t=new Wl([...e.providers,{provide:hu,useValue:this},{provide:sd,useValue:this.componentFactoryResolver}],e.parent||zl(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}},fu=(()=>{let e=class{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){let t=Rl(0,e.type),i=t.length>0?function(e,t,i=null){return new mu({providers:e,parent:t,debugName:i,runEnvironmentInitializers:!0}).injector}([t],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,i)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}},t=e;return e.prov=ji({token:e,providedIn:"environment",factory:()=>new e(pn($l))}),t})();function yu(e){e.getStandaloneInjector=t=>t.get(fu).getOrCreateStandaloneInjector(e)}function vu(e,t,i){let n=Ps()+e,r=Ds();return r[n]===Dd?Mc(r,n,i?t.call(i):t()):Vc(r,n)}function xu(e,t,i,n){return Au(Ds(),Ps(),e,t,i,n)}function _u(e,t,i,n,r){return ku(Ds(),Ps(),e,t,i,n,r)}function wu(e,t,i,n,r,s){return Ru(Ds(),Ps(),e,t,i,n,r,s)}function Cu(e,t,i,n,r,s,o){return Ou(Ds(),Ps(),e,t,i,n,r,s,o)}function Su(e,t,i,n,r,s,o,a){let l=Ps()+e,d=Ds(),c=Bc(d,l,i,n,r,s);return Nc(d,l+4,o)||c?Mc(d,l+5,a?t.call(a,i,n,r,s,o):t(i,n,r,s,o)):Vc(d,l+5)}function bu(e,t,i,n,r,s,o,a,l){let d=Ps()+e,c=Ds(),h=Bc(c,d,i,n,r,s);return Lc(c,d+4,o,a)||h?Mc(c,d+6,l?t.call(l,i,n,r,s,o,a):t(i,n,r,s,o,a)):Vc(c,d+6)}function Du(e,t,i,n,r,s,o,a,l,d){let c=Ps()+e,h=Ds(),u=Bc(h,c,i,n,r,s);return Hc(h,c+4,o,a,l)||u?Mc(h,c+7,d?t.call(d,i,n,r,s,o,a,l):t(i,n,r,s,o,a,l)):Vc(h,c+7)}function Eu(e,t,i,n,r,s,o,a,l,d,c){let h=Ps()+e,u=Ds(),g=Bc(u,h,i,n,r,s);return Bc(u,h+4,o,a,l,d)||g?Mc(u,h+8,c?t.call(c,i,n,r,s,o,a,l,d):t(i,n,r,s,o,a,l,d)):Vc(u,h+8)}function Iu(e,t,i,n){return Fu(Ds(),Ps(),e,t,i,n)}function Tu(e,t){let i=e[t];return i===Dd?void 0:i}function Au(e,t,i,n,r,s){let o=t+i;return Nc(e,o,r)?Mc(e,o+1,s?n.call(s,r):n(r)):Tu(e,o+1)}function ku(e,t,i,n,r,s,o){let a=t+i;return Lc(e,a,r,s)?Mc(e,a+2,o?n.call(o,r,s):n(r,s)):Tu(e,a+2)}function Ru(e,t,i,n,r,s,o,a){let l=t+i;return Hc(e,l,r,s,o)?Mc(e,l+3,a?n.call(a,r,s,o):n(r,s,o)):Tu(e,l+3)}function Ou(e,t,i,n,r,s,o,a,l){let d=t+i;return Bc(e,d,r,s,o,a)?Mc(e,d+4,l?n.call(l,r,s,o,a):n(r,s,o,a)):Tu(e,d+4)}function Fu(e,t,i,n,r,s){let o=t+i,a=!1;for(let t=0;t<r.length;t++)Nc(e,o++,r[t])&&(a=!0);return a?Mc(e,o,n.apply(s,r)):Tu(e,o)}function Pu(e,t){let i,n=Es(),r=e+Fr;n.firstCreatePass?(i=function(e,t){if(t)for(let i=t.length-1;i>=0;i--){let n=t[i];if(e===n.name)return n}}(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let s=i.factory||(i.factory=Kr(i.type)),o=nn(Rd);try{let e=yo(!1),t=s();return yo(e),function(e,t,i,n){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=n}(n,Ds(),r,t),t}finally{nn(o)}}function Mu(e,t,i){let n=e+Fr,r=Ds(),s=ms(r,n);return Bu(r,n)?Au(r,Ps(),t,s.transform,i,s):s.transform(i)}function Vu(e,t,i,n){let r=e+Fr,s=Ds(),o=ms(s,r);return Bu(s,r)?ku(s,Ps(),t,o.transform,i,n,o):o.transform(i,n)}function Nu(e,t,i,n,r){let s=e+Fr,o=Ds(),a=ms(o,s);return Bu(o,s)?Ru(o,Ps(),t,a.transform,i,n,r,a):a.transform(i,n,r)}function Lu(e,t,i,n,r,s){let o=e+Fr,a=Ds(),l=ms(a,o);return Bu(a,o)?Ou(a,Ps(),t,l.transform,i,n,r,s,l):l.transform(i,n,r,s)}function Hu(e,t,i){let n=e+Fr,r=Ds(),s=ms(r,n);return Bu(r,n)?Fu(r,Ps(),t,s.transform,i,s):s.transform.apply(s,i)}function Bu(e,t){return e[dr].data[t].pure}function Gu(e){return t=>{setTimeout(e,void 0,t)}}var zu=class extends We{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let n=e,r=t||(()=>null),s=i;if(e&&"object"==typeof e){let t=e;n=t.next?.bind(t),r=t.error?.bind(t),s=t.complete?.bind(t)}this.__isAsync&&(r=Gu(r),n&&(n=Gu(n)),s&&(s=Gu(s)));let o=super.subscribe({next:n,error:r,complete:s});return e instanceof ke&&e.add(o),o}};function $u(){return this._results[Symbol.iterator]()}var Wu=class{get changes(){return this._changes||(this._changes=new zu)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;let t=Wu.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=$u)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){let i=this;i.dirty=!1;let n=function(e){return e.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function(e,t,i){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],s=t[n];if(i&&(r=i(r),s=i(s)),s!==r)return!1}return!0}(i._results,n,t))&&(i._results=n,i.length=n.length,i.last=n[this.length-1],i.first=n[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}},ju=(()=>{let e=class{},t=e;return e.__NG_ELEMENT_ID__=qu,t})(),Ku=ju,Uu=class extends Ku{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t,null)}createEmbeddedViewImpl(e,t,i){let n=4096&this._declarationLView[cr]?4096:16,r=this._declarationTContainer.tView,s=Od(this._declarationLView,r,e,n,null,r.declTNode,null,null,null,t||null,i||null),o=this._declarationLView[this._declarationTContainer.index];s[br]=o;let a=this._declarationLView[Er];return null!==a&&(s[Er]=a.createEmbeddedView(r)),hc(r,s,e),new wc(s)}};function qu(){return Yu(As(),Ds())}function Yu(e,t){return 4&e.type?new Uu(t,e,ad(e,t)):null}var Xu=(()=>{let e=class{},t=e;return e.__NG_ELEMENT_ID__=Zu,t})();function Zu(){return ig(As(),Ds())}var Qu=Xu,Ju=class extends Qu{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return ad(this._hostTNode,this._hostLView)}get injector(){return new Vo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Do(this._hostTNode,this._hostLView);if(go(e)){let t=mo(e,this._hostLView),i=po(e),n=t[dr].data[i+8];return new Vo(n,t)}return new Vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=eg(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Lr}createEmbeddedView(e,t,i){let n,r;"number"==typeof i?n=i:null!=i&&(n=i.index,r=i.injector);let s=(this._lContainer,e.ssrId,null),o=e.createEmbeddedViewImpl(t||{},r,s),a=!!s&&!Jo(this._hostTNode);return this.insertImpl(o,n,a),o}createComponent(e,t,i,n,r){let s,o=e&&!function(e){return"function"==typeof e}(e);if(o)s=t;else{let e=t||{};s=e.index,i=e.injector,n=e.projectableNodes,r=e.environmentInjector||e.ngModuleRef}let a=o?e:new Dc(ir(e)),l=i||this.parentInjector;if(!r&&null==a.ngModule){let e=(o?l:this.parentInjector).get($l,null);e&&(r=e)}let d=ir(a.componentType??{}),c=(this._lContainer,d?.id,null),h=c?.firstChild??null,u=a.create(l,n,h,r),g=!!c&&!Jo(this._hostTNode);return this.insertImpl(u.hostView,s,g),u}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){let n=e._lView,r=n[dr];if(function(e){return Br(e[hr])}(n)){let t=this.indexOf(e);if(-1!==t)this.detach(t);else{let t=n[hr],i=new Ju(t,t[pr],t[hr]);i.detach(i.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;if(function(e,t,i,n){let r=Lr+n,s=i.length;n>0&&(i[r-1][ur]=t),n<s-Lr?(t[ur]=i[r],Wo(i,Lr+n,t)):(i.push(t),t[ur]=null),t[hr]=i;let o=t[br];null!==o&&i!==o&&function(e,t){let i=e[Nr],n=t[hr][hr][Sr];t[Sr]!==n&&(e[Mr]=!0),null===i?e[Nr]=[t]:i.push(t)}(o,t);let a=t[Er];null!==a&&a.insertView(e),t[cr]|=128}(r,n,o,s),!i){let e=Fa(s,o),t=n[xr],i=Sa(t,o[Vr]);null!==i&&function(e,t,i,n,r,s){n[lr]=r,n[pr]=t,Ma(e,n,i,1,r,s)}(r,o[pr],t,n,i,e)}return e.attachToViewContainerRef(),Wo(tg(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=eg(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=fa(this._lContainer,t);i&&(jo(tg(this._lContainer),t),ya(i[dr],i))}detach(e){let t=this._adjustIndex(e,-1),i=fa(this._lContainer,t);return i&&null!=jo(tg(this._lContainer),t)?new wc(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function eg(e){return e[8]}function tg(e){return e[8]||(e[8]=[])}function ig(e,t){let i,n=t[e.index];return Br(n)?i=n:(i=tc(n,t,null,e),t[e.index]=i,nc(t,i)),ng(i,t,e,n),new Ju(i,e,t)}var ng=function(e,t,i,n){if(e[Vr])return;let r;r=8&i.type?hs(n):function(e,t){let i=e[xr],n=i.createComment(""),r=gs(t,e);return _a(i,Sa(i,r),n,function(e,t){return e.nextSibling(t)}(i,r),!1),n}(t,i),e[Vr]=r},rg=class{constructor(e){this.queryList=e,this.matches=null}clone(){return new rg(this.queryList)}setDirty(){this.queryList.setDirty()}},sg=class{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(null!==t){let i=null!==e.contentQueries?e.contentQueries[0]:t.length,n=[];for(let e=0;e<i;e++){let i=t.getByIndex(e),r=this.queries[i.indexInDeclarationView];n.push(r.clone())}return new sg(n)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==xg(e,t).matches&&this.queries[t].setDirty()}},og=class{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}},ag=class{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let n=null!==t?t.length:0,r=this.getByIndex(i).embeddedTView(e,n);r&&(r.indexInDeclarationView=i,null!==t?t.push(r):t=[r])}return null!==t?new ag(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},lg=class{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new lg(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){let t=this._declarationNodeIndex,i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let n=0;n<i.length;n++){let r=i[n];this.matchTNodeWithReadOption(e,t,dg(t,r)),this.matchTNodeWithReadOption(e,t,Oo(t,e,r,!1,!1))}else i===ju?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Oo(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){let n=this.metadata.read;if(null!==n)if(n===ld||n===Xu||n===ju&&4&t.type)this.addMatch(t.index,-2);else{let i=Oo(t,e,n,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}};function dg(e,t){let i=e.localNames;if(null!==i)for(let e=0;e<i.length;e+=2)if(i[e]===t)return i[e+1];return null}function cg(e,t,i,n){return-1===i?function(e,t){return 11&e.type?ad(e,t):4&e.type?Yu(e,t):null}(t,e):-2===i?function(e,t,i){return i===ld?ad(t,e):i===ju?Yu(t,e):i===Xu?ig(t,e):void 0}(e,t,n):Fo(e,e[dr],i,t)}function hg(e,t,i,n){let r=t[Er].queries[n];if(null===r.matches){let n=e.data,s=i.matches,o=[];for(let e=0;e<s.length;e+=2){let r=s[e];if(r<0)o.push(null);else{let a=n[r];o.push(cg(t,a,s[e+1],i.metadata.read))}}r.matches=o}return r.matches}function ug(e,t,i,n){let r=e.queries.getByIndex(i),s=r.matches;if(null!==s){let o=hg(e,t,r,i);for(let e=0;e<s.length;e+=2){let i=s[e];if(i>0)n.push(o[e/2]);else{let r=s[e+1],o=t[-i];for(let e=Lr;e<o.length;e++){let t=o[e];t[br]===t[hr]&&ug(t[dr],t,r,n)}if(null!==o[Nr]){let e=o[Nr];for(let t=0;t<e.length;t++){let i=e[t];ug(i[dr],i,r,n)}}}}}return n}function gg(e){let t=Ds(),i=Es(),n=Hs();Bs(n+1);let r=xg(i,n);if(e.dirty&&function(e){return 4==(4&e[cr])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{let s=r.crossesNgTemplate?ug(i,t,n,[]):hg(i,t,r,n);e.reset(s,dd),e.notifyOnChanges()}return!0}return!1}function pg(e,t,i){let n=Es();n.firstCreatePass&&(vg(n,new og(e,t,i),-1),2==(2&t)&&(n.staticViewQueries=!0)),yg(n,Ds(),t)}function mg(e,t,i,n){let r=Es();if(r.firstCreatePass){let s=As();vg(r,new og(t,i,n),s.index),function(e,t){let i=e.contentQueries||(e.contentQueries=[]);t!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,t)}(r,e),2==(2&i)&&(r.staticContentQueries=!0)}yg(r,Ds(),i)}function fg(){return function(e,t){return e[Er].queries[t].queryList}(Ds(),Hs())}function yg(e,t,i){let n=new Wu(4==(4&i));(function(e,t,i,n){let r=sc(t);r.push(i),e.firstCreatePass&&oc(e).push(n,r.length-1)})(e,t,n,n.destroy),null===t[Er]&&(t[Er]=new sg),t[Er].queries.push(new rg(n))}function vg(e,t,i){null===e.queries&&(e.queries=new ag),e.queries.track(new lg(t,i))}function xg(e,t){return e.queries.getByIndex(t)}function _g(e,t){return Yu(e,t)}var wg=new Dl("Application Initializer"),Cg=(()=>{let e=class{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise(((e,t)=>{this.resolve=e,this.reject=t})),this.appInits=mn(wg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let t of this.appInits){let i=t();if(rh(i))e.push(i);else if(sh(i)){let t=new Promise(((e,t)=>{i.subscribe({complete:e,error:t})}));e.push(t)}}let t=()=>{this.done=!0,this.resolve()};Promise.all(e).then((()=>{t()})).catch((e=>{this.reject(e)})),0===e.length&&t(),this.initialized=!0}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac,providedIn:"root"}),t})(),Sg=new Dl("LocaleId",{providedIn:"root",factory:()=>mn(Sg,tn.Optional|tn.SkipSelf)||typeof $localize<"u"&&$localize.locale||iu}),bg=new Dl("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Dg=(()=>{let e=class{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qe(!1)}add(){this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac,providedIn:"root"}),t})();function Eg(...e){}new Dl("compilerOptions");var Ig=class{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zu(!1),this.onMicrotaskEmpty=new zu(!1),this.onStable=new zu(!1),this.onError=new zu(!1),typeof Zone>"u")throw new zi(908,!1);Zone.assertZonePatched();let n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=!i&&t,n.shouldCoalesceRunChangeDetection=i,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let e=on.requestAnimationFrame,t=on.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){let t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(on,(()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(()=>{e.lastRequestAnimationFrameId=-1,kg(e),e.isCheckStableRunning=!0,Ag(e),e.isCheckStableRunning=!1}),void 0,(()=>{}),(()=>{}))),e.fakeTopEventTask.invoke()})),kg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,r,s,o,a)=>{try{return Rg(e),i.invokeTask(r,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),Og(e)}},onInvoke:(i,n,r,s,o,a,l)=>{try{return Rg(e),i.invoke(r,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),Og(e)}},onHasTask:(t,i,n,r)=>{t.hasTask(n,r),i===n&&("microTask"==r.change?(e._hasPendingMicrotasks=r.microTask,kg(e),Ag(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,i,n,r)=>(t.handleError(n,r),e.runOutsideAngular((()=>e.onError.emit(r))),!1)})}(n)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ig.isInAngularZone())throw new zi(909,!1)}static assertNotInAngularZone(){if(Ig.isInAngularZone())throw new zi(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,n){let r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+n,e,Tg,Eg,Eg);try{return r.runTask(s,t,i)}finally{r.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},Tg={};function Ag(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((()=>e.onStable.emit(null)))}finally{e.isStable=!0}}}function kg(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Rg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Og(e){e._nesting--,Ag(e)}var Fg=new Dl("",{providedIn:"root",factory:Pg});function Pg(){let e=mn(Ig),t=!0;return $t(new Le((i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular((()=>{i.next(t),i.complete()}))})),new Le((i=>{let n;e.runOutsideAngular((()=>{n=e.onStable.subscribe((()=>{Ig.assertNotInAngularZone(),queueMicrotask((()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))}))}))}));let r=e.onUnstable.subscribe((()=>{Ig.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular((()=>{i.next(!1)})))}));return()=>{n.unsubscribe(),r.unsubscribe()}})).pipe(ui()))}var Mg,Vg=new Dl(""),Ng=new Dl(""),Lg=(()=>{let e=class{constructor(e,t,i){this._ngZone=e,this.registry=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Mg||(function(e){Mg=e}(i),i.addToWindow(t)),this._watchAngularEvents(),e.run((()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")}))}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular((()=>{this._ngZone.onStable.subscribe({next:()=>{Ig.assertNotInAngularZone(),queueMicrotask((()=>{this._isZoneStable=!0,this._runCallbacksIfReady()}))}})}))}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask((()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1}));else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter((t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1))),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((e=>({source:e.source,creationLocation:e.creationLocation,data:e.data}))):[]}addCallback(e,t,i){let n=-1;t&&t>0&&(n=setTimeout((()=>{this._callbacks=this._callbacks.filter((e=>e.timeoutId!==n)),e(this._didWork,this.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:n,updateCb:i})}whenStable(e,t,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,t,i){return[]}},t=e;return e.fac=function(t){return new(t||e)(pn(Ig),pn(Hg),pn(Ng))},e.prov=ji({token:e,factory:e.fac}),t})(),Hg=(()=>{let e=class{constructor(){this._applications=new Map}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Mg?.findTestabilityInTree(this,e,t)??null}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac,providedIn:"platform"}),t})(),Bg=null,Gg=new Dl("AllowMultipleToken"),zg=new Dl("PlatformDestroyListeners"),$g=new Dl("appBootstrapListener");function Wg(e,t,i=[]){let n=`Platform: ${t}`,r=new Dl(n);return(t=[])=>{let s=jg();if(!s||s.injector.get(Gg,!1)){let s=[...i,...t,{provide:r,useValue:!0}];e?e(s):function(e){if(Bg&&!Bg.get(Gg,!1))throw new zi(400,!1);Bg=e;let t=e.get(Kg);(function(e){e.get(Zl,null)?.forEach((e=>e()))})(e)}(function(e=[],t){return kd.create({name:t,providers:[{provide:Hl,useValue:"platform"},{provide:zg,useValue:new Set([()=>Bg=null])},...e]})}(s,n))}return function(e){let t=jg();if(!t)throw new zi(401,!1);return t}()}}function jg(){return Bg?.get(Kg)??null}var Kg=(()=>{let e=class{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){let i=function(e="zone.js",t){return"noop"===e?new class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zu,this.onMicrotaskEmpty=new zu,this.onStable=new zu,this.onError=new zu}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,n){return e.apply(t,i)}}:"zone.js"===e?new Ig(t):e}(t?.ngZone,function(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:t?.ngZoneEventCoalescing,runCoalescing:t?.ngZoneRunCoalescing}));return i.run((()=>{let t=function(e,t,i){return new gu(e,t,i)}(e.moduleType,this.injector,[{provide:Ig,useFactory:()=>i},{provide:El,multi:!0,useFactory:()=>{let e=mn(Qg,{optional:!0});return()=>e.initialize()}},{provide:Xg,useFactory:Zg},{provide:Fg,useFactory:Pg}]),n=t.injector.get(yd,null);return i.runOutsideAngular((()=>{let e=i.onError.subscribe({next:e=>{n.handleError(e)}});t.onDestroy((()=>{Yg(this._modules,t),e.unsubscribe()}))})),function(e,t,i){try{let n=i();return rh(n)?n.catch((i=>{throw t.runOutsideAngular((()=>e.handleError(i))),i})):n}catch(i){throw t.runOutsideAngular((()=>e.handleError(i))),i}}(n,i,(()=>{let e=t.injector.get(Cg);return e.runInitializers(),e.donePromise.then((()=>(function(e){(function(e,t){null==e&&function(e,t,i,n){throw new Error(`ASSERTION ERROR: ${e} [Expected=> null != ${t} <=Actual]`)}(t,e)})(e,"Expected localeId to be defined"),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}(t.injector.get(Sg,iu)||iu),this._moduleDoBootstrap(t),t)))}))}))}bootstrapModule(e,t=[]){let i=Ug({},t);return function(e,t,i){let n=new pu(i);return Promise.resolve(n)}(this.injector,0,e).then((e=>this.bootstrapModuleFactory(e,i)))}_moduleDoBootstrap(e){let t=e.injector.get(qg);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((e=>t.bootstrap(e)));else{if(!e.instance.ngDoBootstrap)throw new zi(-403,!1);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new zi(404,!1);this._modules.slice().forEach((e=>e.destroy())),this._destroyListeners.forEach((e=>e()));let e=this._injector.get(zg,null);e&&(e.forEach((e=>e())),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}},t=e;return e.fac=function(t){return new(t||e)(pn(kd))},e.prov=ji({token:e,factory:e.fac,providedIn:"platform"}),t})();function Ug(e,t){return Array.isArray(t)?t.reduce(Ug,e):y(y({},e),t)}var qg=(()=>{let e=class{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=mn(Xg),this.zoneIsStable=mn(Fg),this.componentTypes=[],this.components=[],this.isStable=mn(Dg).hasPendingTasks.pipe(pi((e=>e?ct(!1):this.zoneIsStable)),(e=>e.lift(new class{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new ii(e,this.compare,this.keySelector))}}(void 0,void 0))),ui()),this._injector=mn($l)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,t){let i,n=e instanceof rd;if(!this._injector.get(Cg).done)throw!n&&function(e){let t=ir(e)||nr(e)||rr(e);null!==t&&t.standalone}(e),new zi(405,!1);i=n?e:this._injector.get(sd).resolveComponentFactory(e),this.componentTypes.push(i.componentType);let r=function(e){return e.isBoundToModule}(i)?void 0:this._injector.get(hu),s=t||i.selector,o=i.create(kd.NULL,[],s,r),a=o.location.nativeElement,l=o.injector.get(Vg,null);return l?.registerApplication(a),o.onDestroy((()=>{this.detachView(o.hostView),Yg(this.components,o),l?.unregisterApplication(a)})),this._loadComponent(o),o}tick(){if(this._runningTick)throw new zi(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){let t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){let t=e;Yg(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let t=this._injector.get($g,[]);t.push(...this._bootstrapListeners),t.forEach((t=>t(e)))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach((e=>e())),this._views.slice().forEach((e=>e.destroy()))}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Yg(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new zi(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac,providedIn:"root"}),t})();function Yg(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}var Xg=new Dl("",{providedIn:"root",factory:()=>mn(yd).handleError.bind(void 0)});function Zg(){let e=mn(Ig),t=mn(yd);return i=>e.runOutsideAngular((()=>t.handleError(i)))}var Qg=(()=>{let e=class{constructor(){this.zone=mn(Ig),this.applicationRef=mn(qg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run((()=>{this.applicationRef.tick()}))}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac,providedIn:"root"}),t})(),Jg=(()=>{let e=class{},t=e;return e.__NG_ELEMENT_ID__=ep,t})();function ep(e){return function(e,t,i){if(zr(e)&&!i){let i=fs(e.index,t);return new wc(i,i)}if(47&e.type){let e=t[Sr];return new wc(e,t)}return null}(As(),Ds(),16==(16&e))}var tp=class{constructor(){}supports(e){return Fc(e)}create(e){return new np(e)}},ip=(e,t)=>t,np=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ip}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,n=0,r=null;for(;t||i;){let s=!i||t&&t.currentIndex<op(i,n,r)?t:i,o=op(s,n,r),a=s.currentIndex;if(s===i)n--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)n++;else{r||(r=[]);let e=o-n,t=a-n;if(e!=t){for(let i=0;i<e;i++){let n=i<r.length?r[i]:r[i]=0,s=n+i;t<=s&&s<e&&(r[i]=n+1)}r[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Fc(e))throw new zi(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,i,n,r=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)i=e[t],n=this._trackByFn(t,i),null!==r&&Object.is(r.trackById,n)?(s&&(r=this._verifyReinsertion(r,i,n,t)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,n,t),s=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{let i,n=e[Symbol.iterator]();for(;!(i=n.next()).done;)t(i.value)}}(e,(e=>{n=this._trackByFn(t,e),null!==r&&Object.is(r.trackById,n)?(s&&(r=this._verifyReinsertion(r,e,n,t)),Object.is(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,n,t),s=!0),r=r._next,t++})),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,n){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,n)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,n))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,n)):e=this._addAfter(new rp(t,i),r,n),e}_verifyReinsertion(e,t,i,n){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?e=this._reinsertAfter(r,e._prev,n):e.currentIndex!=n&&(e.currentIndex=n,this._addToMoves(e,n)),e}_truncate(e){for(;null!==e;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);let n=e._prevRemoved,r=e._nextRemoved;return null===n?this._removalsHead=r:n._nextRemoved=r,null===r?this._removalsTail=n:r._prevRemoved=n,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let n=null===t?this._itHead:t._next;return e._next=n,e._prev=t,null===n?this._itTail=e:n._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new sp),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sp),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},rp=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},sp=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new class{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}},this.map.set(t,i)),i.add(e)}get(e,t){let i=e,n=this.map.get(i);return n?n.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}};function op(e,t,i){let n=e.previousIndex;if(null===n)return n;let r=0;return i&&n<i.length&&(r=i[n]),n+t+r}var ap=class{constructor(){}supports(e){return e instanceof Map||Pc(e)}create(){return new lp}},lp=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Pc(e)))throw new zi(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,((e,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{let n=this._getOrCreateRecordForKey(i,e);t=this._insertBeforeOrAppend(t,n)}})),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let n=i._prev,r=i._next;return n&&(n._next=r),r&&(r._prev=n),i._next=null,i._prev=null,i}let i=new dp(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((i=>t(e[i],i)))}},dp=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function cp(){return new hp([new tp])}var hp=(()=>{let e=class{constructor(e){this.factories=e}static create(t,i){if(null!=i){let e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||cp()),deps:[[e,new Qo,new Zo]]}}find(e){let t=this.factories.find((t=>t.supports(e)));if(null!=t)return t;throw new zi(901,!1)}},t=e;return e.prov=ji({token:e,providedIn:"root",factory:cp}),t})();function up(){return new gp([new ap])}var gp=(()=>{let e=class{constructor(e){this.factories=e}static create(t,i){if(i){let e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||up()),deps:[[e,new Qo,new Zo]]}}find(e){let t=this.factories.find((t=>t.supports(e)));if(t)return t;throw new zi(901,!1)}},t=e;return e.prov=ji({token:e,providedIn:"root",factory:up}),t})(),pp=Wg(null,"core",[]),mp=(()=>{let e=class{constructor(e){}},t=e;return e.fac=function(t){return new(t||e)(pn(qg))},e.mod=Qn({type:e}),e.inj=Ki({}),t})();function fp(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function yp(e,t){let i=ir(e),n=t.elementInjector||zl();return new Dc(i).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}function vp(e){let t=ir(e);if(!t)return null;let i=new Dc(t);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var xp=null;function _p(){return xp}var wp=class{},Cp=new Dl("DocumentToken"),Sp={ADP:[void 0,void 0,0],AFN:[void 0,"",0],ALL:[void 0,void 0,0],AMD:[void 0,"",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,""],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,""],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN",""],COP:[void 0,"$",2],CRC:[void 0,"",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E"],ESP:[void 0,"",0],EUR:[""],FJD:[void 0,"$"],FKP:[void 0,""],GBP:[""],GEL:[void 0,""],GHS:[void 0,"GH"],GIP:[void 0,""],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:[""],INR:[""],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["",void 0,0],KHR:[void 0,""],KMF:[void 0,"CF",0],KPW:[void 0,"",0],KRW:["",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,""],LAK:[void 0,"",0],LBP:[void 0,"L",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,""],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[""],PKR:[void 0,"Rs",2],PLN:[void 0,"z"],PYG:[void 0,"",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,""],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,""],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,""],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"",0],THB:[void 0,""],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,""],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,""],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:[""],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},bp=((bp=bp||{})[bp.Decimal=0]="Decimal",bp[bp.Percent=1]="Percent",bp[bp.Currency=2]="Currency",bp[bp.Scientific=3]="Scientific",bp),Dp=((Dp=Dp||{})[Dp.Format=0]="Format",Dp[Dp.Standalone=1]="Standalone",Dp),Ep=((Ep=Ep||{})[Ep.Narrow=0]="Narrow",Ep[Ep.Abbreviated=1]="Abbreviated",Ep[Ep.Wide=2]="Wide",Ep[Ep.Short=3]="Short",Ep),Ip=((Ip=Ip||{})[Ip.Short=0]="Short",Ip[Ip.Medium=1]="Medium",Ip[Ip.Long=2]="Long",Ip[Ip.Full=3]="Full",Ip),Tp=((Tp=Tp||{})[Tp.Decimal=0]="Decimal",Tp[Tp.Group=1]="Group",Tp[Tp.List=2]="List",Tp[Tp.PercentSign=3]="PercentSign",Tp[Tp.PlusSign=4]="PlusSign",Tp[Tp.MinusSign=5]="MinusSign",Tp[Tp.Exponential=6]="Exponential",Tp[Tp.SuperscriptingExponent=7]="SuperscriptingExponent",Tp[Tp.PerMille=8]="PerMille",Tp[Tp.Infinity=9]="Infinity",Tp[Tp.NaN=10]="NaN",Tp[Tp.TimeSeparator=11]="TimeSeparator",Tp[Tp.CurrencyDecimal=12]="CurrencyDecimal",Tp[Tp.CurrencyGroup=13]="CurrencyGroup",Tp);function Ap(e){return Jh(e)[tu.FirstDayOfWeek]}function kp(e,t){return Np(Jh(e)[tu.DateFormat],t)}function Rp(e,t){return Np(Jh(e)[tu.TimeFormat],t)}function Op(e,t){return Np(Jh(e)[tu.DateTimeFormat],t)}function Fp(e,t){let i=Jh(e),n=i[tu.NumberSymbols][t];if(typeof n>"u"){if(t===Tp.CurrencyDecimal)return i[tu.NumberSymbols][Tp.Decimal];if(t===Tp.CurrencyGroup)return i[tu.NumberSymbols][Tp.Group]}return n}function Pp(e,t){return Jh(e)[tu.NumberFormats][t]}function Mp(e){return function(e){return Jh(e)[tu.CurrencyCode]||null}(e)}function Vp(e){if(!e[tu.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[tu.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Np(e,t){for(let i=t;i>-1;i--)if(typeof e[i]<"u")return e[i];throw new Error("Locale data API: locale data undefined")}function Lp(e){let[t,i]=e.split(":");return{hours:+t,minutes:+i}}function Hp(e,t,i="en"){let n=function(e){return Jh(e)[tu.Currencies]}(i)[e]||Sp[e]||[],r=n[1];return"narrow"===t&&"string"==typeof r?r:n[0]||e}var Bp=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Gp={},zp=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,$p=(($p=$p||{})[$p.Short=0]="Short",$p[$p.ShortGMT=1]="ShortGMT",$p[$p.Long=2]="Long",$p[$p.Extended=3]="Extended",$p),Wp=((Wp=Wp||{})[Wp.FullYear=0]="FullYear",Wp[Wp.Month=1]="Month",Wp[Wp.Date=2]="Date",Wp[Wp.Hours=3]="Hours",Wp[Wp.Minutes=4]="Minutes",Wp[Wp.Seconds=5]="Seconds",Wp[Wp.FractionalSeconds=6]="FractionalSeconds",Wp[Wp.Day=7]="Day",Wp),jp=((jp=jp||{})[jp.DayPeriods=0]="DayPeriods",jp[jp.Days=1]="Days",jp[jp.Months=2]="Months",jp[jp.Eras=3]="Eras",jp);function Kp(e,t,i,n){let r=function(e){if(am(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[t,i=1,n=1]=e.split("-").map((e=>+e));return Up(t,i-1,n)}let t,i=parseFloat(e);if(!isNaN(e-i))return new Date(i);if(t=e.match(Bp))return function(e){let t=new Date(0),i=0,n=0,r=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=Number(e[9]+e[10]),n=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let o=Number(e[4]||0)-i,a=Number(e[5]||0)-n,l=Number(e[6]||0),d=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return s.call(t,o,a,l,d),t}(t)}let t=new Date(e);if(!am(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=qp(i,t)||t;let s,o=[];for(;t;){if(s=zp.exec(t),!s){o.push(t);break}{o=o.concat(s.slice(1));let e=o.pop();if(!e)break;t=e}}let a=r.getTimezoneOffset();n&&(a=om(n,a),r=function(e,t,i){let n=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(om(t,n)-n))}(r,n));let l="";return o.forEach((e=>{let t=function(e){if(sm[e])return sm[e];let t;switch(e){case"G":case"GG":case"GGG":t=Qp(jp.Eras,Ep.Abbreviated);break;case"GGGG":t=Qp(jp.Eras,Ep.Wide);break;case"GGGGG":t=Qp(jp.Eras,Ep.Narrow);break;case"y":t=Zp(Wp.FullYear,1,0,!1,!0);break;case"yy":t=Zp(Wp.FullYear,2,0,!0,!0);break;case"yyy":t=Zp(Wp.FullYear,3,0,!1,!0);break;case"yyyy":t=Zp(Wp.FullYear,4,0,!1,!0);break;case"Y":t=rm(1);break;case"YY":t=rm(2,!0);break;case"YYY":t=rm(3);break;case"YYYY":t=rm(4);break;case"M":case"L":t=Zp(Wp.Month,1,1);break;case"MM":case"LL":t=Zp(Wp.Month,2,1);break;case"MMM":t=Qp(jp.Months,Ep.Abbreviated);break;case"MMMM":t=Qp(jp.Months,Ep.Wide);break;case"MMMMM":t=Qp(jp.Months,Ep.Narrow);break;case"LLL":t=Qp(jp.Months,Ep.Abbreviated,Dp.Standalone);break;case"LLLL":t=Qp(jp.Months,Ep.Wide,Dp.Standalone);break;case"LLLLL":t=Qp(jp.Months,Ep.Narrow,Dp.Standalone);break;case"w":t=nm(1);break;case"ww":t=nm(2);break;case"W":t=nm(1,!0);break;case"d":t=Zp(Wp.Date,1);break;case"dd":t=Zp(Wp.Date,2);break;case"c":case"cc":t=Zp(Wp.Day,1);break;case"ccc":t=Qp(jp.Days,Ep.Abbreviated,Dp.Standalone);break;case"cccc":t=Qp(jp.Days,Ep.Wide,Dp.Standalone);break;case"ccccc":t=Qp(jp.Days,Ep.Narrow,Dp.Standalone);break;case"cccccc":t=Qp(jp.Days,Ep.Short,Dp.Standalone);break;case"E":case"EE":case"EEE":t=Qp(jp.Days,Ep.Abbreviated);break;case"EEEE":t=Qp(jp.Days,Ep.Wide);break;case"EEEEE":t=Qp(jp.Days,Ep.Narrow);break;case"EEEEEE":t=Qp(jp.Days,Ep.Short);break;case"a":case"aa":case"aaa":t=Qp(jp.DayPeriods,Ep.Abbreviated);break;case"aaaa":t=Qp(jp.DayPeriods,Ep.Wide);break;case"aaaaa":t=Qp(jp.DayPeriods,Ep.Narrow);break;case"b":case"bb":case"bbb":t=Qp(jp.DayPeriods,Ep.Abbreviated,Dp.Standalone,!0);break;case"bbbb":t=Qp(jp.DayPeriods,Ep.Wide,Dp.Standalone,!0);break;case"bbbbb":t=Qp(jp.DayPeriods,Ep.Narrow,Dp.Standalone,!0);break;case"B":case"BB":case"BBB":t=Qp(jp.DayPeriods,Ep.Abbreviated,Dp.Format,!0);break;case"BBBB":t=Qp(jp.DayPeriods,Ep.Wide,Dp.Format,!0);break;case"BBBBB":t=Qp(jp.DayPeriods,Ep.Narrow,Dp.Format,!0);break;case"h":t=Zp(Wp.Hours,1,-12);break;case"hh":t=Zp(Wp.Hours,2,-12);break;case"H":t=Zp(Wp.Hours,1);break;case"HH":t=Zp(Wp.Hours,2);break;case"m":t=Zp(Wp.Minutes,1);break;case"mm":t=Zp(Wp.Minutes,2);break;case"s":t=Zp(Wp.Seconds,1);break;case"ss":t=Zp(Wp.Seconds,2);break;case"S":t=Zp(Wp.FractionalSeconds,1);break;case"SS":t=Zp(Wp.FractionalSeconds,2);break;case"SSS":t=Zp(Wp.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Jp($p.Short);break;case"ZZZZZ":t=Jp($p.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Jp($p.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Jp($p.Long);break;default:return null}return sm[e]=t,t}(e);l+=t?t(r,i,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),l}function Up(e,t,i){let n=new Date(0);return n.setFullYear(e,t,i),n.setHours(0,0,0),n}function qp(e,t){let i=function(e){return Jh(e)[tu.LocaleId]}(e);if(Gp[i]=Gp[i]||{},Gp[i][t])return Gp[i][t];let n="";switch(t){case"shortDate":n=kp(e,Ip.Short);break;case"mediumDate":n=kp(e,Ip.Medium);break;case"longDate":n=kp(e,Ip.Long);break;case"fullDate":n=kp(e,Ip.Full);break;case"shortTime":n=Rp(e,Ip.Short);break;case"mediumTime":n=Rp(e,Ip.Medium);break;case"longTime":n=Rp(e,Ip.Long);break;case"fullTime":n=Rp(e,Ip.Full);break;case"short":let t=qp(e,"shortTime"),i=qp(e,"shortDate");n=Yp(Op(e,Ip.Short),[t,i]);break;case"medium":let r=qp(e,"mediumTime"),s=qp(e,"mediumDate");n=Yp(Op(e,Ip.Medium),[r,s]);break;case"long":let o=qp(e,"longTime"),a=qp(e,"longDate");n=Yp(Op(e,Ip.Long),[o,a]);break;case"full":let l=qp(e,"fullTime"),d=qp(e,"fullDate");n=Yp(Op(e,Ip.Full),[l,d])}return n&&(Gp[i][t]=n),n}function Yp(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,i){return null!=t&&i in t?t[i]:e}))),e}function Xp(e,t,i="-",n,r){let s="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,s=i));let o=String(e);for(;o.length<t;)o="0"+o;return n&&(o=o.slice(o.length-t)),s+o}function Zp(e,t,i=0,n=!1,r=!1){return function(s,o){let a=function(e,t){switch(e){case Wp.FullYear:return t.getFullYear();case Wp.Month:return t.getMonth();case Wp.Date:return t.getDate();case Wp.Hours:return t.getHours();case Wp.Minutes:return t.getMinutes();case Wp.Seconds:return t.getSeconds();case Wp.FractionalSeconds:return t.getMilliseconds();case Wp.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,s);if((i>0||a>-i)&&(a+=i),e===Wp.Hours)0===a&&-12===i&&(a=12);else if(e===Wp.FractionalSeconds)return function(e,t){return Xp(e,3).substring(0,t)}(a,t);let l=Fp(o,Tp.MinusSign);return Xp(a,t,l,n,r)}}function Qp(e,t,i=Dp.Format,n=!1){return function(r,s){return function(e,t,i,n,r,s){switch(i){case jp.Months:return function(e,t,i){let n=Jh(e),r=Np([n[tu.MonthsFormat],n[tu.MonthsStandalone]],t);return Np(r,i)}(t,r,n)[e.getMonth()];case jp.Days:return function(e,t,i){let n=Jh(e),r=Np([n[tu.DaysFormat],n[tu.DaysStandalone]],t);return Np(r,i)}(t,r,n)[e.getDay()];case jp.DayPeriods:let o=e.getHours(),a=e.getMinutes();if(s){let e=function(e){let t=Jh(e);return Vp(t),(t[tu.ExtraData][2]||[]).map((e=>"string"==typeof e?Lp(e):[Lp(e[0]),Lp(e[1])]))}(t),i=function(e,t,i){let n=Jh(e);Vp(n);let r=Np([n[tu.ExtraData][0],n[tu.ExtraData][1]],t)||[];return Np(r,i)||[]}(t,r,n),s=e.findIndex((e=>{if(Array.isArray(e)){let[t,i]=e,n=o>=t.hours&&a>=t.minutes,r=o<i.hours||o===i.hours&&a<i.minutes;if(t.hours<i.hours){if(n&&r)return!0}else if(n||r)return!0}else if(e.hours===o&&e.minutes===a)return!0;return!1}));if(-1!==s)return i[s]}return function(e,t,i){let n=Jh(e),r=Np([n[tu.DayPeriodsFormat],n[tu.DayPeriodsStandalone]],t);return Np(r,i)}(t,r,n)[o<12?0:1];case jp.Eras:return function(e,t){return Np(Jh(e)[tu.Eras],t)}(t,n)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${i}`)}}(r,s,e,t,i,n)}}function Jp(e){return function(t,i,n){let r=-1*n,s=Fp(i,Tp.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case $p.Short:return(r>=0?"+":"")+Xp(o,2,s)+Xp(Math.abs(r%60),2,s);case $p.ShortGMT:return"GMT"+(r>=0?"+":"")+Xp(o,1,s);case $p.Long:return"GMT"+(r>=0?"+":"")+Xp(o,2,s)+":"+Xp(Math.abs(r%60),2,s);case $p.Extended:return 0===n?"Z":(r>=0?"+":"")+Xp(o,2,s)+":"+Xp(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}var em=0,tm=4;function im(e){return Up(e.getFullYear(),e.getMonth(),e.getDate()+(tm-e.getDay()))}function nm(e,t=!1){return function(i,n){let r;if(t){let e=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,t=i.getDate();r=1+Math.floor((t+e)/7)}else{let e=im(i),t=function(e){let t=Up(e,em,1).getDay();return Up(e,0,1+(t<=tm?tm:tm+7)-t)}(e.getFullYear()),n=e.getTime()-t.getTime();r=1+Math.round(n/6048e5)}return Xp(r,e,Fp(n,Tp.MinusSign))}}function rm(e,t=!1){return function(i,n){return Xp(im(i).getFullYear(),e,Fp(n,Tp.MinusSign),t)}}var sm={};function om(e,t){e=e.replace(/:/g,"");let i=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(i)?t:i}function am(e){return e instanceof Date&&!isNaN(e.valueOf())}var lm=/^(\d+)?\.((\d+)(-(\d+))?)?$/,dm=22,cm=".",hm="0",um=";",gm=",",pm="#";function mm(e,t,i,n,r,s,o=!1){let a="",l=!1;if(isFinite(e)){let d=function(e){let t,i,n,r,s,o=Math.abs(e)+"",a=0;for((i=o.indexOf(cm))>-1&&(o=o.replace(cm,"")),(n=o.search(/e/i))>0?(i<0&&(i=n),i+=+o.slice(n+1),o=o.substring(0,n)):i<0&&(i=o.length),n=0;o.charAt(n)===hm;n++);if(n===(s=o.length))t=[0],i=1;else{for(s--;o.charAt(s)===hm;)s--;for(i-=n,t=[],r=0;n<=s;n++,r++)t[r]=Number(o.charAt(n))}return i>dm&&(t=t.splice(0,dm-1),a=i-1,i=1),{digits:t,exponent:a,integerLen:i}}(e);o&&(d=function(e){if(0===e.digits[0])return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(d));let c=t.minInt,h=t.minFrac,u=t.maxFrac;if(s){let e=s.match(lm);if(null===e)throw new Error(`${s} is not a valid digit info`);let t=e[1],i=e[3],n=e[5];null!=t&&(c=_m(t)),null!=i&&(h=_m(i)),null!=n?u=_m(n):null!=i&&h>u&&(u=h)}!function(e,t,i){if(t>i)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${i}).`);let n=e.digits,r=n.length-e.integerLen,s=Math.min(Math.max(t,r),i),o=s+e.integerLen,a=n[o];if(o>0){n.splice(Math.max(e.integerLen,o));for(let e=o;e<n.length;e++)n[e]=0}else{r=Math.max(0,r),e.integerLen=1,n.length=Math.max(1,o=s+1),n[0]=0;for(let e=1;e<o;e++)n[e]=0}if(a>=5)if(o-1<0){for(let t=0;t>o;t--)n.unshift(0),e.integerLen++;n.unshift(1),e.integerLen++}else n[o-1]++;for(;r<Math.max(0,s);r++)n.push(0);let l=0!==s,d=t+e.integerLen,c=n.reduceRight((function(e,t,i,n){return t+=e,n[i]=t<10?t:t-10,l&&(0===n[i]&&i>=d?n.pop():l=!1),t>=10?1:0}),0);c&&(n.unshift(c),e.integerLen++)}(d,h,u);let g=d.digits,p=d.integerLen,m=d.exponent,f=[];for(l=g.every((e=>!e));p<c;p++)g.unshift(0);for(;p<0;p++)g.unshift(0);p>0?f=g.splice(p,g.length):(f=g,g=[0]);let y=[];for(g.length>=t.lgSize&&y.unshift(g.splice(-t.lgSize,g.length).join(""));g.length>t.gSize;)y.unshift(g.splice(-t.gSize,g.length).join(""));g.length&&y.unshift(g.join("")),a=y.join(Fp(i,n)),f.length&&(a+=Fp(i,r)+f.join("")),m&&(a+=Fp(i,Tp.Exponential)+"+"+m)}else a=Fp(i,Tp.Infinity);return a=e<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function fm(e,t,i,n,r){let s=xm(Pp(t,bp.Currency),Fp(t,Tp.MinusSign));return s.minFrac=function(e){let t,i=Sp[e];return i&&(t=i[2]),"number"==typeof t?t:2}(n),s.maxFrac=s.minFrac,mm(e,s,t,Tp.CurrencyGroup,Tp.CurrencyDecimal,r).replace("",i).replace("","").trim()}function ym(e,t,i){return mm(e,xm(Pp(t,bp.Percent),Fp(t,Tp.MinusSign)),t,Tp.Group,Tp.Decimal,i,!0).replace(new RegExp("%","g"),Fp(t,Tp.PercentSign))}function vm(e,t,i){return mm(e,xm(Pp(t,bp.Decimal),Fp(t,Tp.MinusSign)),t,Tp.Group,Tp.Decimal,i)}function xm(e,t="-"){let i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=e.split(um),r=n[0],s=n[1],o=-1!==r.indexOf(cm)?r.split(cm):[r.substring(0,r.lastIndexOf(hm)+1),r.substring(r.lastIndexOf(hm)+1)],a=o[0],l=o[1]||"";i.posPre=a.substring(0,a.indexOf(pm));for(let e=0;e<l.length;e++){let t=l.charAt(e);t===hm?i.minFrac=i.maxFrac=e+1:t===pm?i.maxFrac=e+1:i.posSuf+=t}let d=a.split(gm);if(i.gSize=d[1]?d[1].length:0,i.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,s){let e=r.length-i.posPre.length-i.posSuf.length,t=s.indexOf(pm);i.negPre=s.substring(0,t).replace(/'/g,""),i.negSuf=s.slice(t+e).replace(/'/g,"")}else i.negPre=t+i.posPre,i.negSuf=i.posSuf;return i}function _m(e){let t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var wm=/\s+/,Cm=[],Sm=(()=>{let e=class{constructor(e,t,i,n){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=i,this._renderer=n,this.initialClasses=Cm,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(wm):Cm}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(wm):e}ngDoCheck(){for(let e of this.initialClasses)this._updateState(e,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let t of e)this._updateState(t,!0);else if(null!=e)for(let t of Object.keys(e))this._updateState(t,!!e[t]);this._applyStateDiff()}_updateState(e,t){let i=this.stateMap.get(e);void 0!==i?(i.enabled!==t&&(i.changed=!0,i.enabled=t),i.touched=!0):this.stateMap.set(e,{enabled:t,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let t=e[0],i=e[1];i.changed?(this._toggleClass(t,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(t,!1),this.stateMap.delete(t)),i.touched=!1}}_toggleClass(e,t){(e=e.trim()).length>0&&e.split(wm).forEach((e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)}))}},t=e;return e.fac=function(t){return new(t||e)(Rd(hp),Rd(gp),Rd(ld),Rd(hd))},e.dir=er({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})(),bm=(()=>{let e=class{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,t,i){this._viewContainer=e,this._template=t,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let t=this._viewContainer;e.forEachOperation(((e,i,n)=>{if(null==e.previousIndex)t.createEmbeddedView(this._template,new class{constructor(e,t,i,n){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}(e.item,this._ngForOf,-1,-1),null===n?void 0:n);else if(null==n)t.remove(null===i?void 0:i);else if(null!==i){let r=t.get(i);t.move(r,n),Dm(r,e)}}));for(let e=0,i=t.length;e<i;e++){let n=t.get(e).context;n.index=e,n.count=i,n.ngForOf=this._ngForOf}e.forEachIdentityChange((e=>{Dm(t.get(e.currentIndex),e)}))}static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)(Rd(Xu),Rd(ju),Rd(hp))},e.dir=er({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Dm(e,t){e.context.$implicit=t.item}var Em=(()=>{let e=class{constructor(e,t){this._viewContainer=e,this._context=new Im,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Tm("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Tm("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)(Rd(Xu),Rd(ju))},e.dir=er({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})(),Im=class{constructor(){this.$implicit=null,this.ngIf=null}};function Tm(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Pi(t)}'.`)}var Am=class{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},km=(()=>{let e=class{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let t of this._defaultViews)t.enforceState(e)}}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),Rm=(()=>{let e=class{constructor(e,t,i){this.ngSwitch=i,i._addCase(),this._view=new Am(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}},t=e;return e.fac=function(t){return new(t||e)(Rd(Xu),Rd(ju),Rd(km,9))},e.dir=er({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),Om=(()=>{let e=class{constructor(e,t,i){i._addDefault(new Am(e,t))}},t=e;return e.fac=function(t){return new(t||e)(Rd(Xu),Rd(ju),Rd(km,9))},e.dir=er({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})(),Fm=(()=>{let e=class{constructor(e,t,i){this._ngEl=e,this._differs=t,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){let[i,n]=e.split("."),r=-1===i.indexOf("-")?void 0:ta.DashCase;null!=t?this._renderer.setStyle(this._ngEl.nativeElement,i,n?`${t}${n}`:t,r):this._renderer.removeStyle(this._ngEl.nativeElement,i,r)}_applyChanges(e){e.forEachRemovedItem((e=>this._setStyle(e.key,null))),e.forEachAddedItem((e=>this._setStyle(e.key,e.currentValue))),e.forEachChangedItem((e=>this._setStyle(e.key,e.currentValue)))}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(gp),Rd(hd))},e.dir=er({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),t})(),Pm=(()=>{let e=class{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){let e=this._viewContainerRef;if(this._viewRef&&e.remove(e.indexOf(this._viewRef)),this.ngTemplateOutlet){let{ngTemplateOutlet:t,ngTemplateOutletContext:i,ngTemplateOutletInjector:n}=this;this._viewRef=e.createEmbeddedView(t,i,n?{injector:n}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}},t=e;return e.fac=function(t){return new(t||e)(Rd(Xu))},e.dir=er({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ns]}),t})();function Mm(e,t){return new zi(2100,!1)}var Vm=new class{createSubscription(e,t){return e.then(t,(e=>{throw e}))}dispose(e){}},Nm=new class{createSubscription(e,t){return Jr((()=>e.subscribe({next:t,error:e=>{throw e}})))}dispose(e){Jr((()=>e.unsubscribe()))}},Lm=(()=>{let e=class{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(t=>this._updateLatestValue(e,t)))}_selectStrategy(e){if(rh(e))return Vm;if(sh(e))return Nm;throw Mm()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}},t=e;return e.fac=function(t){return new(t||e)(Rd(Jg,16))},e.pipe=tr({name:"async",type:e,pure:!1,standalone:!0}),t})(),Hm=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Bm=(()=>{let e=class{transform(e){if(null==e)return null;if("string"!=typeof e)throw Mm();return e.replace(Hm,(e=>e[0].toUpperCase()+e.slice(1).toLowerCase()))}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"titlecase",type:e,pure:!0,standalone:!0}),t})(),Gm=new Dl("DATE_PIPE_DEFAULT_TIMEZONE"),zm=new Dl("DATE_PIPE_DEFAULT_OPTIONS"),$m=(()=>{let e=class{constructor(e,t,i){this.locale=e,this.defaultTimezone=t,this.defaultOptions=i}transform(e,t,i,n){if(null==e||""===e||e!=e)return null;try{let r=t??this.defaultOptions?.dateFormat??"mediumDate",s=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Kp(e,r,n||this.locale,s)}catch(e){throw Mm(0,e.message)}}},t=e;return e.fac=function(t){return new(t||e)(Rd(Sg,16),Rd(Gm,24),Rd(zm,24))},e.pipe=tr({name:"date",type:e,pure:!0,standalone:!0}),t})(),Wm=(()=>{let e=class{constructor(e){this._locale=e}transform(e,t,i){if(!Um(e))return null;i=i||this._locale;try{return vm(qm(e),i,t)}catch(e){throw Mm(0,e.message)}}},t=e;return e.fac=function(t){return new(t||e)(Rd(Sg,16))},e.pipe=tr({name:"number",type:e,pure:!0,standalone:!0}),t})(),jm=(()=>{let e=class{constructor(e){this._locale=e}transform(e,t,i){if(!Um(e))return null;i=i||this._locale;try{return ym(qm(e),i,t)}catch(e){throw Mm(0,e.message)}}},t=e;return e.fac=function(t){return new(t||e)(Rd(Sg,16))},e.pipe=tr({name:"percent",type:e,pure:!0,standalone:!0}),t})(),Km=(()=>{let e=class{constructor(e,t="USD"){this._locale=e,this._defaultCurrencyCode=t}transform(e,t=this._defaultCurrencyCode,i="symbol",n,r){if(!Um(e))return null;r=r||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let s=t||this._defaultCurrencyCode;"code"!==i&&(s="symbol"===i||"symbol-narrow"===i?Hp(s,"symbol"===i?"wide":"narrow",r):i);try{return fm(qm(e),r,s,t,n)}catch(e){throw Mm(0,e.message)}}},t=e;return e.fac=function(t){return new(t||e)(Rd(Sg,16),Rd(bg,16))},e.pipe=tr({name:"currency",type:e,pure:!0,standalone:!0}),t})();function Um(e){return!(null==e||""===e||e!=e)}function qm(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}var Ym=(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.mod=Qn({type:e}),e.inj=Ki({}),t})(),Xm="browser";function Zm(e){return"server"===e}var Qm=class{},Jm=class{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach((e=>{let t=e.indexOf(":");if(t>0){let i=e.slice(0,t),n=i.toLowerCase(),r=e.slice(t+1).trim();this.maybeSetNormalizedName(i,n),this.headers.has(n)?this.headers.get(n).push(r):this.headers.set(n,[r])}}))}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach(((e,t)=>{this.setHeaderEntries(t,e)}))):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach((([e,t])=>{this.setHeaderEntries(e,t)}))}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Jm?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((e=>this.applyUpdate(e))),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach((t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))}))}clone(e){let t=new Jm;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Jm?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);let n=("a"===e.op?this.headers.get(t):void 0)||[];n.push(...i),this.headers.set(t,n);break;case"d":let r=e.value;if(r){let e=this.headers.get(t);if(!e)return;e=e.filter((e=>-1===r.indexOf(e))),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map((e=>e.toString())),n=e.toLowerCase();this.headers.set(n,i),this.maybeSetNormalizedName(e,n)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach((t=>e(this.normalizedNames.get(t),this.headers.get(t))))}},ef=/%(\d[a-f0-9])/gi,tf={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nf(e){return encodeURIComponent(e).replace(ef,((e,t)=>tf[t]??e))}function rf(e){return`${e}`}var sf=class{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new class{encodeKey(e){return nf(e)}encodeValue(e){return nf(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}},e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){let i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach((e=>{let n=e.indexOf("="),[r,s]=-1==n?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,n)),t.decodeValue(e.slice(n+1))],o=i.get(r)||[];o.push(s),i.set(r,o)})),i}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach((t=>{let i=e.fromObject[t],n=Array.isArray(i)?i.map(rf):[rf(i)];this.map.set(t,n)}))):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach((i=>{let n=e[i];Array.isArray(n)?n.forEach((e=>{t.push({param:i,value:e,op:"a"})})):t.push({param:i,value:n,op:"a"})})),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map((e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map((e=>t+"="+this.encoder.encodeValue(e))).join("&")})).filter((e=>""!==e)).join("&")}clone(e){let t=new sf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((e=>this.map.set(e,this.cloneFrom.map.get(e)))),this.updates.forEach((e=>{switch(e.op){case"a":case"s":let t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(rf(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[],i=t.indexOf(rf(e.value));-1!==i&&t.splice(i,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}})),this.cloneFrom=this.updates=null)}};function of(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function af(e){return typeof Blob<"u"&&e instanceof Blob}function lf(e){return typeof FormData<"u"&&e instanceof FormData}var df=class{constructor(e,t,i,n){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==i?i:null,r=n):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new Jm),this.context||(this.context=new class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}),this.params){let e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{let i=t.indexOf("?"),n=-1===i?"?":i<t.length-1?"&":"";this.urlWithParams=t+n+e}}else this.params=new sf,this.urlWithParams=t}serializeBody(){return null===this.body?null:of(this.body)||af(this.body)||lf(this.body)||function(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof sf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lf(this.body)?null:af(this.body)?this.body.type||null:of(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof sf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,n=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,a=e.headers||this.headers,l=e.params||this.params,d=e.context??this.context;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce(((t,i)=>t.set(i,e.setHeaders[i])),a)),e.setParams&&(l=Object.keys(e.setParams).reduce(((t,i)=>t.set(i,e.setParams[i])),l)),new df(t,i,r,{params:l,headers:a,context:d,reportProgress:o,responseType:n,withCredentials:s})}},cf=((cf=cf||{})[cf.Sent=0]="Sent",cf[cf.UploadProgress=1]="UploadProgress",cf[cf.ResponseHeader=2]="ResponseHeader",cf[cf.DownloadProgress=3]="DownloadProgress",cf[cf.Response=4]="Response",cf[cf.User=5]="User",cf),hf=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new Jm,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},uf=class extends hf{constructor(e={}){super(e),this.type=cf.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new uf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};function gf(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var pf,mf=(()=>{let e=class{constructor(e){this.handler=e}request(e,t,i={}){let n;if(e instanceof df)n=e;else{let r,s;r=i.headers instanceof Jm?i.headers:new Jm(i.headers),i.params&&(s=i.params instanceof sf?i.params:new sf({fromObject:i.params})),n=new df(e,t,void 0!==i.body?i.body:null,{headers:r,context:i.context,params:s,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}let r=ct(n).pipe(function(e,t){return Pt(e,void 0,1)}((e=>this.handler.handle(e))));if(e instanceof df||"events"===i.observe)return r;let s=r.pipe(Wt((e=>e instanceof uf)));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return s.pipe(St((e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return s.pipe(St((e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return s.pipe(St((e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));default:return s.pipe(St((e=>e.body)))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new sf).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,i={}){return this.request("PATCH",e,gf(i,t))}post(e,t,i={}){return this.request("POST",e,gf(i,t))}put(e,t,i={}){return this.request("PUT",e,gf(i,t))}},t=e;return e.fac=function(t){return new(t||e)(pn(Qm))},e.prov=ji({token:e,factory:e.fac}),t})(),ff=class extends wp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},yf=class extends ff{static makeCurrent(){!function(e){xp||(xp=e)}(new yf)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){let t=(vf=vf||document.querySelector("base"))?vf.getAttribute("href"):null;return null==t?null:function(e){(pf=pf||document.createElement("a")).setAttribute("href",e);let t=pf.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){vf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(let i of e.split(";")){let e=i.indexOf("="),[n,r]=-1==e?[i,""]:[i.slice(0,e),i.slice(e+1)];if(n.trim()===t)return decodeURIComponent(r)}return null}(document.cookie,e)}},vf=null,xf=(()=>{let e=class{build(){return new XMLHttpRequest}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac}),t})(),_f=new Dl("EventManagerPlugins"),wf=(()=>{let e=class{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach((e=>{e.manager=this})),this._plugins=e.slice().reverse()}addEventListener(e,t,i){return this._findPluginFor(t).addEventListener(e,t,i)}getZone(){return this._zone}_findPluginFor(e){let t=this._eventNameToPlugin.get(e);if(t)return t;if(t=this._plugins.find((t=>t.supports(e))),!t)throw new zi(5101,!1);return this._eventNameToPlugin.set(e,t),t}},t=e;return e.fac=function(t){return new(t||e)(pn(_f),pn(Ig))},e.prov=ji({token:e,factory:e.fac}),t})(),Cf=class{constructor(e){this._doc=e}},Sf="ng-app-id",bf=(()=>{let e=class{constructor(e,t,i,n={}){this.doc=e,this.appId=t,this.nonce=i,this.platformId=n,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Zm(n),this.resetHostNodes()}addStyles(e){for(let t of e)1===this.changeUsageCount(t,1)&&this.onStyleAdded(t)}removeStyles(e){for(let t of e)this.changeUsageCount(t,-1)<=0&&this.onStyleRemoved(t)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach((e=>e.remove())),e.clear());for(let e of this.getAllStyles())this.onStyleRemoved(e);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let t of this.getAllStyles())this.addStyleToHost(e,t)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let t of this.hostNodes)this.addStyleToHost(t,e)}onStyleRemoved(e){let t=this.styleRef;t.get(e)?.elements?.forEach((e=>e.remove())),t.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Sf}="${this.appId}"]`);if(e?.length){let t=new Map;return e.forEach((e=>{null!=e.textContent&&t.set(e.textContent,e)})),t}return null}changeUsageCount(e,t){let i=this.styleRef;if(i.has(e)){let n=i.get(e);return n.usage+=t,n.usage}return i.set(e,{usage:t,elements:[]}),t}getStyleElement(e,t){let i=this.styleNodesInDOM,n=i?.get(t);if(n?.parentNode===e)return i.delete(t),n.removeAttribute(Sf),n;{let e=this.doc.createElement("style");return this.nonce&&e.setAttribute("nonce",this.nonce),e.textContent=t,this.platformIsServer&&e.setAttribute(Sf,this.appId),e}}addStyleToHost(e,t){let i=this.getStyleElement(e,t);e.appendChild(i);let n=this.styleRef,r=n.get(t)?.elements;r?r.push(i):n.set(t,{elements:[i],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}},t=e;return e.fac=function(t){return new(t||e)(pn(Cp),pn(Yl),pn(ed,8),pn(Ql))},e.prov=ji({token:e,factory:e.fac}),t})(),Df={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ef=/%COMP%/g,If="%COMP%",Tf=`_nghost-${If}`,Af=`_ngcontent-${If}`,kf=new Dl("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Rf(e,t){return t.map((t=>t.replace(Ef,e)))}var Of=(()=>{let e=class{constructor(e,t,i,n,r,s,o,a=null){this.eventManager=e,this.sharedStylesHost=t,this.appId=i,this.removeStylesOnCompDestory=n,this.doc=r,this.platformId=s,this.ngZone=o,this.nonce=a,this.rendererByCompId=new Map,this.platformIsServer=Zm(s),this.defaultRenderer=new Ff(e,r,o,this.platformIsServer)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;this.platformIsServer&&t.encapsulation===Cn.ShadowDom&&(t=v(y({},t),{encapsulation:Cn.Emulated}));let i=this.getOrCreateRenderer(e,t);return i instanceof Nf?i.applyToHost(e):i instanceof Vf&&i.applyStyles(),i}getOrCreateRenderer(e,t){let i=this.rendererByCompId,n=i.get(t.id);if(!n){let r=this.doc,s=this.ngZone,o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(t.encapsulation){case Cn.Emulated:n=new Nf(o,a,t,this.appId,l,r,s,d);break;case Cn.ShadowDom:return new Mf(o,a,e,t,r,s,this.nonce,d);default:n=new Vf(o,a,t,l,r,s,d)}n.onDestroy=()=>i.delete(t.id),i.set(t.id,n)}return n}ngOnDestroy(){this.rendererByCompId.clear()}},t=e;return e.fac=function(t){return new(t||e)(pn(wf),pn(bf),pn(Yl),pn(kf),pn(Cp),pn(Ql),pn(Ig),pn(ed))},e.prov=ji({token:e,factory:e.fac}),t})(),Ff=class{constructor(e,t,i,n){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Df[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Pf(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Pf(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new zi(5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,n){if(n){t=n+":"+t;let r=Df[n];r?e.setAttributeNS(r,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let n=Df[i];n?e.removeAttributeNS(n,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,n){n&(ta.DashCase|ta.Important)?e.style.setProperty(t,i,n&ta.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ta.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=_p().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded((()=>e(t))):e(t))&&t.preventDefault()}}};function Pf(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}var Mf=class extends Ff{constructor(e,t,i,n,r,s,o,a){super(e,r,s,a),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Rf(n.id,n.styles);for(let e of l){let t=document.createElement("style");o&&t.setAttribute("nonce",o),t.textContent=e,this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Vf=class extends Ff{constructor(e,t,i,n,r,s,o,a){super(e,r,s,o),this.sharedStylesHost=t,this.removeStylesOnCompDestory=n,this.rendererUsageCount=0,this.styles=a?Rf(a,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}},Nf=class extends Vf{constructor(e,t,i,n,r,s,o,a){let l=n+"-"+i.id;super(e,t,i,r,s,o,a,l),this.contentAttr=function(e){return Af.replace(Ef,e)}(l),this.hostAttr=function(e){return Tf.replace(Ef,e)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},Lf=(()=>{let e=class extends Cf{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,i){return e.addEventListener(t,i,!1),()=>this.removeEventListener(e,t,i)}removeEventListener(e,t,i){return e.removeEventListener(t,i)}},t=e;return e.fac=function(t){return new(t||e)(pn(Cp))},e.prov=ji({token:e,factory:e.fac}),t})(),Hf=["alt","control","meta","shift"],Bf={"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gf={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},zf=(()=>{let e=class extends Cf{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,n){let r=e.parseEventName(i),s=e.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular((()=>_p().onAndCancel(t,r.domEventName,s)))}static parseEventName(t){let i=t.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;let r=e._normalizeKey(i.pop()),s="",o=i.indexOf("code");if(o>-1&&(i.splice(o,1),s="code."),Hf.forEach((e=>{let t=i.indexOf(e);t>-1&&(i.splice(t,1),s+=e+".")})),s+=r,0!=i.length||0===r.length)return null;let a={};return a.domEventName=n,a.fullKey=s,a}static matchEventFullKeyCode(e,t){let i=Bf[e.key]||e.key,n="";return t.indexOf("code.")>-1&&(i=e.code,n="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Hf.forEach((t=>{t!==i&&(0,Gf[t])(e)&&(n+=t+".")})),n+=i,n===t)}static eventCallback(t,i,n){return r=>{e.matchEventFullKeyCode(r,t)&&n.runGuarded((()=>i(r)))}}static _normalizeKey(e){return"esc"===e?"escape":e}},t=e;return e.fac=function(t){return new(t||e)(pn(Cp))},e.prov=ji({token:e,factory:e.fac}),t})(),$f=[{provide:Ql,useValue:Xm},{provide:Zl,useValue:function(){yf.makeCurrent()},multi:!0},{provide:Cp,useFactory:function(){return function(e){Ia=e}(document),document},deps:[]}],Wf=Wg(pp,"browser",$f),jf=new Dl(""),Kf=[{provide:Ng,useClass:class{addToWindow(e){on.getAngularTestability=(t,i=!0)=>{let n=e.findTestabilityInTree(t,i);if(null==n)throw new zi(5103,!1);return n},on.getAllAngularTestabilities=()=>e.getAllTestabilities(),on.getAllAngularRootElements=()=>e.getAllRootElements(),on.frameworkStabilizers||(on.frameworkStabilizers=[]),on.frameworkStabilizers.push((e=>{let t=on.getAllAngularTestabilities(),i=t.length,n=!1,r=function(t){n=n||t,i--,0==i&&e(n)};t.forEach((function(e){e.whenStable(r)}))}))}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?_p().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Vg,useClass:Lg,deps:[Ig,Hg,Ng]},{provide:Lg,useClass:Lg,deps:[Ig,Hg,Ng]}],Uf=[{provide:Hl,useValue:"root"},{provide:yd,useFactory:function(){return new yd},deps:[]},{provide:_f,useClass:Lf,multi:!0,deps:[Cp,Ig,Ql]},{provide:_f,useClass:zf,multi:!0,deps:[Cp]},Of,bf,wf,{provide:cd,useExisting:Of},{provide:class{},useClass:xf,deps:[]},[]],qf=(()=>{let e=class{constructor(e){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Yl,useValue:t.appId}]}}},t=e;return e.fac=function(t){return new(t||e)(pn(jf,12))},e.mod=Qn({type:e}),e.inj=Ki({providers:[...Uf,...Kf],imports:[Ym,mp]}),t})(),Yf=new Dl("HammerGestureConfig"),Xf=(()=>{let e=class{constructor(){this.events=[],this.overrides={}}buildHammer(e){let t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(let e in this.overrides)t.get(e).set(this.overrides[e]);return t}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac}),t})(),Zf=(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:function(t){let i=null;return i=t?new(t||e):pn(Qf),i},providedIn:"root"}),t})(),Qf=(()=>{let e=class extends Zf{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case wl.NONE:return t;case wl.HTML:return Ya(t,"HTML")?qa(t):xl(this._doc,String(t)).toString();case wl.STYLE:return Ya(t,"Style")?qa(t):t;case wl.SCRIPT:if(Ya(t,"Script"))return qa(t);throw new zi(5200,!1);case wl.URL:return Ya(t,"URL")?qa(t):Ja(String(t));case wl.RESOURCE_URL:if(Ya(t,"ResourceURL"))return qa(t);throw new zi(5201,!1);default:throw new zi(5202,!1)}}bypassSecurityTrustHtml(e){return function(e){return new $a(e)}(e)}bypassSecurityTrustStyle(e){return function(e){return new Wa(e)}(e)}bypassSecurityTrustScript(e){return function(e){return new ja(e)}(e)}bypassSecurityTrustUrl(e){return function(e){return new Ka(e)}(e)}bypassSecurityTrustResourceUrl(e){return function(e){return new Ua(e)}(e)}},t=e;return e.fac=function(t){return new(t||e)(pn(Cp))},e.prov=ji({token:e,factory:function(e){let t=null;return t=e?new e:function(e){return new Qf(e.get(Cp))}(pn(kd)),t},providedIn:"root"}),t})(),Jf=class{},ey=class{},ty="*";function iy(e,t){return{type:7,name:e,definitions:t,options:{}}}function ny(e,t=null){return{type:4,styles:t,timings:e}}function ry(e,t=null){return{type:2,steps:e,options:t}}function sy(e){return{type:6,styles:e,offset:null}}function oy(e){return{type:5,steps:e}}function ay(e,t,i=null){return{type:1,expr:e,animation:t,options:i}}function ly(e,t=null){return{type:8,animation:e,options:t}}function dy(e,t=null){return{type:10,animation:e,options:t}}var cy=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach((e=>e())),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask((()=>this._onFinish()))}_onStart(){this._onStartFns.forEach((e=>e())),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((e=>e())),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((e=>e())),t.length=0}},hy=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,n=0,r=this.players.length;0==r?queueMicrotask((()=>this._onFinish())):this.players.forEach((e=>{e.onDone((()=>{++t==r&&this._onFinish()})),e.onDestroy((()=>{++i==r&&this._onDestroy()})),e.onStart((()=>{++n==r&&this._onStart()}))})),this.totalTime=this.players.reduce(((e,t)=>Math.max(e,t.totalTime)),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach((e=>e())),this._onDoneFns=[])}init(){this.players.forEach((e=>e.init()))}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((e=>e())),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((e=>e.play()))}pause(){this.players.forEach((e=>e.pause()))}restart(){this.players.forEach((e=>e.restart()))}finish(){this._onFinish(),this.players.forEach((e=>e.finish()))}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((e=>e.destroy())),this._onDestroyFns.forEach((e=>e())),this._onDestroyFns=[])}reset(){this.players.forEach((e=>e.reset())),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach((e=>{let i=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(i)}))}getPosition(){let e=this.players.reduce(((e,t)=>null===e||t.totalTime>e.totalTime?t:e),null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach((e=>{e.beforeDestroy&&e.beforeDestroy()}))}triggerCallback(e){let t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((e=>e())),t.length=0}},uy=((uy=uy||{})[uy.Quad="cubic-bezier(0.550, 0.085, 0.680, 0.530)"]="Quad",uy[uy.Cubic="cubic-bezier(0.550, 0.055, 0.675, 0.190)"]="Cubic",uy[uy.Quart="cubic-bezier(0.895, 0.030, 0.685, 0.220)"]="Quart",uy[uy.Quint="cubic-bezier(0.755, 0.050, 0.855, 0.060)"]="Quint",uy[uy.Sine="cubic-bezier(0.470, 0.000, 0.745, 0.715)"]="Sine",uy[uy.Expo="cubic-bezier(0.950, 0.050, 0.795, 0.035)"]="Expo",uy[uy.Circ="cubic-bezier(0.600, 0.040, 0.980, 0.335)"]="Circ",uy[uy.Back="cubic-bezier(0.600, -0.280, 0.735, 0.045)"]="Back",uy),gy=((gy=gy||{})[gy.Quad="cubic-bezier(0.250, 0.460, 0.450, 0.940)"]="Quad",gy[gy.Cubic="cubic-bezier(0.215, 0.610, 0.355, 1.000)"]="Cubic",gy[gy.Quart="cubic-bezier(0.165, 0.840, 0.440, 1.000)"]="Quart",gy[gy.Quint="cubic-bezier(0.230, 1.000, 0.320, 1.000)"]="Quint",gy[gy.Sine="cubic-bezier(0.390, 0.575, 0.565, 1.000)"]="Sine",gy[gy.Expo="cubic-bezier(0.190, 1.000, 0.220, 1.000)"]="Expo",gy[gy.Circ="cubic-bezier(0.075, 0.820, 0.165, 1.000)"]="Circ",gy[gy.Back="cubic-bezier(0.175, 0.885, 0.320, 1.275)"]="Back",gy),py=((py=py||{})[py.Quad="cubic-bezier(0.455, 0.030, 0.515, 0.955)"]="Quad",py[py.Cubic="cubic-bezier(0.645, 0.045, 0.355, 1.000)"]="Cubic",py[py.Quart="cubic-bezier(0.770, 0.000, 0.175, 1.000)"]="Quart",py[py.Quint="cubic-bezier(0.860, 0.000, 0.070, 1.000)"]="Quint",py[py.Sine="cubic-bezier(0.445, 0.050, 0.550, 0.950)"]="Sine",py[py.Expo="cubic-bezier(1.000, 0.000, 0.000, 1.000)"]="Expo",py[py.Circ="cubic-bezier(0.785, 0.135, 0.150, 0.860)"]="Circ",py[py.Back="cubic-bezier(0.680, -0.550, 0.265, 1.550)"]="Back",py),my=[sy({opacity:"{{startOpacity}}"}),ny("{{duration}} {{delay}} {{easing}}",sy({opacity:"{{endOpacity}}"}))],fy=ly(my,{params:{delay:"0s",duration:"350ms",easing:gy.Sine,endOpacity:1,startOpacity:0}}),yy=ly(my,{params:{delay:"0s",duration:"350ms",easing:gy.Sine,endOpacity:0,startOpacity:1}}),vy=[sy({backfaceVisibility:"hidden",transformStyle:"preserve-3d"}),ny("{{duration}} {{delay}} {{easing}}",oy([sy({offset:0,transform:"translateZ({{startDistance}})\n                rotate3d({{rotateX}}, {{rotateY}}, {{rotateZ}}, {{startAngle}}deg)"}),sy({offset:1,transform:"translateZ({{endDistance}})\n                rotate3d({{rotateX}}, {{rotateY}}, {{rotateZ}}, {{endAngle}}deg)"})]))],xy={delay:"0s",duration:"600ms",easing:gy.Quad,endAngle:180,endDistance:"0px",rotateX:1,rotateY:0,rotateZ:0,startAngle:0,startDistance:"0px"},_y=ly(vy,{params:y({},xy)}),wy=ly(vy,{params:v(y({},xy),{endAngle:-180})}),Cy=ly(vy,{params:v(y({},xy),{rotateX:0,rotateY:1})}),Sy=ly(vy,{params:v(y({},xy),{endAngle:-180,rotateX:0,rotateY:1})}),by=ly(vy,{params:v(y({},xy),{endDistance:"170px"})}),Dy=ly(vy,{params:v(y({},xy),{endDistance:"-170px"})}),Ey=ly(vy,{params:v(y({},xy),{endDistance:"170px",rotateX:0,rotateY:1})}),Iy=ly(vy,{params:v(y({},xy),{endDistance:"-170px",rotateX:0,rotateY:1})}),Ty=[sy({opacity:"{{startOpacity}}",transform:"rotate3d({{rotateX}},{{rotateY}},{{rotateZ}},{{startAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}),ny("{{duration}} {{delay}} {{easing}}",sy({offset:0,opacity:"{{endOpacity}}",transform:"rotate3d({{rotateX}},{{rotateY}},{{rotateZ}},{{endAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}))],Ay={delay:"0s",duration:"600ms",easing:gy.Quad,endAngle:0,endOpacity:1,rotateX:0,rotateY:0,rotateZ:1,startAngle:-360,startOpacity:0,xPos:"center",yPos:"center"},ky=v(y({},Ay),{easing:uy.Quad,endOpacity:0,startOpacity:1}),Ry=ly(Ty,{params:y({},Ay)}),Oy=ly(Ty,{params:y({},ky)}),Fy=ly(Ty,{params:v(y({},Ay),{xPos:"top"})}),Py=ly(Ty,{params:v(y({},ky),{xPos:"top"})}),My=ly(Ty,{params:v(y({},Ay),{xPos:"right"})}),Vy=ly(Ty,{params:v(y({},ky),{xPos:"right"})}),Ny=ly(Ty,{params:v(y({},Ay),{xPos:"bottom"})}),Ly=ly(Ty,{params:v(y({},ky),{xPos:"bottom"})}),Hy=ly(Ty,{params:v(y({},Ay),{xPos:"left"})}),By=ly(Ty,{params:v(y({},ky),{xPos:"left"})}),Gy=ly(Ty,{params:v(y({},Ay),{xPos:"right",yPos:"top"})}),zy=ly(Ty,{params:v(y({},ky),{xPos:"right",yPos:"top"})}),$y=ly(Ty,{params:v(y({},Ay),{xPos:"right",yPos:"bottom"})}),Wy=ly(Ty,{params:v(y({},ky),{xPos:"right",yPos:"bottom"})}),jy=ly(Ty,{params:v(y({},Ay),{xPos:"left",yPos:"bottom"})}),Ky=ly(Ty,{params:v(y({},ky),{xPos:"left",yPos:"bottom"})}),Uy=ly(Ty,{params:v(y({},Ay),{xPos:"left",yPos:"top"})}),qy=ly(Ty,{params:v(y({},ky),{xPos:"left",yPos:"top"})}),Yy=ly(Ty,{params:v(y({},Ay),{rotateX:1,rotateY:1,rotateZ:0})}),Xy=ly(Ty,{params:v(y({},ky),{rotateX:1,rotateY:1,rotateZ:0})}),Zy=ly(Ty,{params:v(y({},Ay),{rotateX:-1,rotateY:1,rotateZ:0})}),Qy=ly(Ty,{params:v(y({},ky),{rotateX:-1,rotateY:1,rotateZ:0})}),Jy=ly(Ty,{params:v(y({},Ay),{rotateX:0,rotateY:1,rotateZ:0})}),ev=ly(Ty,{params:v(y({},ky),{rotateX:0,rotateY:1,rotateZ:0})}),tv=ly(Ty,{params:v(y({},Ay),{rotateX:1,rotateY:0,rotateZ:0})}),iv=ly(Ty,{params:v(y({},ky),{rotateX:1,rotateY:0,rotateZ:0})}),nv=[ny("{{duration}} {{delay}} {{easing}}",oy([sy({offset:0,transform:"rotate(0deg) translate{{direction}}(0)",transformOrigin:"{{xPos}} {{yPos}}"}),sy({offset:.1,transform:"rotate({{endAngle}}deg) translate{{direction}}(-{{startDistance}})"}),sy({offset:.2,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),sy({offset:.3,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),sy({offset:.4,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),sy({offset:.5,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),sy({offset:.6,transform:"rotate(-{{startAngle}}deg) translate{{direction}}({{startDistance}})"}),sy({offset:.7,transform:"rotate({{startAngle}}deg) translate{{direction}}(-{{startDistance}})"}),sy({offset:.8,transform:"rotate(-{{endAngle}}deg) translate{{direction}}({{endDistance}})"}),sy({offset:.9,transform:"rotate({{endAngle}}deg) translate{{direction}}(-{{endDistance}})"}),sy({offset:1,transform:"rotate(0deg) translate{{direction}}(0)",transformOrigin:"{{xPos}} {{yPos}}"})]))],rv={delay:"0s",direction:"X",duration:"800ms",easing:py.Quad,endAngle:0,endDistance:"8px",startAngle:0,startDistance:"10px",xPos:"center",yPos:"center"},sv=ly(nv,{params:v(y({},rv),{direction:"X"})}),ov=ly(nv,{params:v(y({},rv),{direction:"Y"})}),av=ly(nv,{params:v(y({},rv),{endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",yPos:"top"})}),lv=ly(nv,{params:v(y({},rv),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",yPos:"bottom"})}),dv=ly(nv,{params:v(y({},rv),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"center"})}),cv=ly(nv,{params:v(y({},rv),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"center"})}),hv=ly(nv,{params:v(y({},rv),{direction:"Y",endAngle:8,endDistance:"0",startAngle:10,startDistance:"0",xPos:"center",yPos:"center"})}),uv=ly(nv,{params:v(y({},rv),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"top"})}),gv=ly(nv,{params:v(y({},rv),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"right",yPos:"bottom"})}),pv=ly(nv,{params:v(y({},rv),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"bottom"})}),mv=ly(nv,{params:v(y({},rv),{direction:"Y",endAngle:2,endDistance:"0",startAngle:4,startDistance:"0",xPos:"left",yPos:"top"})}),fv=[sy({animationTimingFunction:"ease-out",transform:"scale(1)",transformOrigin:"center center"}),ny("{{duration}} {{delay}} {{easing}}",oy([sy({animationTimingFunction:"ease-in",offset:.1,transform:"scale(0.91)"}),sy({animationTimingFunction:"ease-out",offset:.17,transform:"scale(0.98)"}),sy({animationTimingFunction:"ease-in",offset:.33,transform:"scale(0.87)"}),sy({animationTimingFunction:"ease-out",offset:.45,transform:"scale(1)"})]))],yv=[ny("{{duration}} {{delay}} {{easing}}",oy([sy({offset:0,transform:"scale({{fromScale}})"}),sy({offset:.5,transform:"scale({{toScale}})"}),sy({offset:1,transform:"scale({{fromScale}})"})]))],vv={delay:"0s",duration:".5s",easing:"ease-in-out",fromScale:1,toScale:1.1},xv=[ny("{{duration}} {{delay}} {{easing}}",oy([sy({offset:0,opacity:.8,transform:"scale({{fromScale}})"}),sy({offset:.8,opacity:0,transform:"scale({{midScale}})"}),sy({offset:1,opacity:0,transform:"scale({{toScale}})"})]))],_v=ly(yv,{params:y({},vv)}),wv=ly(yv,{params:v(y({},vv),{toScale:.9})}),Cv=ly(fv,{params:y({},{delay:"0s",duration:"1.5s",easing:"ease-in-out"})}),Sv=ly(xv,{params:y({},{delay:"0s",duration:".8s",easing:"ease-in-out",fromScale:.2,midScale:1.2,toScale:2.2})}),bv=[sy({opacity:"{{startOpacity}}",transform:"scale{{direction}}({{fromScale}})",transformOrigin:"{{xPos}} {{yPos}}"}),ny("{{duration}} {{delay}} {{easing}}",sy({opacity:"{{endOpacity}}",transform:"scale{{direction}}({{toScale}})",transformOrigin:"{{xPos}} {{yPos}}"}))],Dv={delay:"0s",direction:"",duration:"350ms",easing:gy.Quad,endOpacity:1,fromScale:.5,startOpacity:0,toScale:1,xPos:"50%",yPos:"50%"},Ev=v(y({},Dv),{easing:gy.Sine,endOpacity:0,fromScale:1,startOpacity:1,toScale:.5}),Iv=ly(bv,{params:Dv}),Tv=ly(bv,{params:v(y({},Dv),{xPos:"0",yPos:"100%"})}),Av=ly(bv,{params:v(y({},Dv),{direction:"Y",fromScale:.4})}),kv=ly(bv,{params:v(y({},Dv),{xPos:"50%",yPos:"0"})}),Rv=ly(bv,{params:v(y({},Dv),{xPos:"0",yPos:"50%"})}),Ov=ly(bv,{params:v(y({},Dv),{direction:"Y",fromScale:.4,xPos:"100%",yPos:"0"})}),Fv=ly(bv,{params:v(y({},Dv),{xPos:"100%",yPos:"0"})}),Pv=ly(bv,{params:v(y({},Dv),{xPos:"0",yPos:"0"})}),Mv=ly(bv,{params:v(y({},Dv),{direction:"Y",fromScale:.4,xPos:"0",yPos:"100%"})}),Vv=ly(bv,{params:v(y({},Dv),{xPos:"100%",yPos:"50%"})}),Nv=ly(bv,{params:v(y({},Dv),{direction:"X",fromScale:.4})}),Lv=ly(bv,{params:v(y({},Dv),{xPos:"100%",yPos:"100%"})}),Hv=ly(bv,{params:v(y({},Dv),{direction:"X",fromScale:.4,xPos:"0",yPos:"0"})}),Bv=ly(bv,{params:v(y({},Dv),{xPos:"50%",yPos:"100%"})}),Gv=ly(bv,{params:v(y({},Dv),{direction:"X",fromScale:.4,xPos:"100%",yPos:"100%"})}),zv=ly(bv,{params:Ev}),$v=ly(bv,{params:v(y({},Ev),{xPos:"0",yPos:"100%"})}),Wv=ly(bv,{params:v(y({},Ev),{xPos:"100%",yPos:"100%"})}),jv=ly(bv,{params:v(y({},Ev),{direction:"Y",toScale:.3})}),Kv=ly(bv,{params:v(y({},Ev),{direction:"Y",toScale:.3,xPos:"100%",yPos:"0"})}),Uv=ly(bv,{params:v(y({},Ev),{direction:"Y",toScale:.3,xPos:"0",yPos:"100%"})}),qv=ly(bv,{params:v(y({},Ev),{xPos:"50%",yPos:"0"})}),Yv=ly(bv,{params:v(y({},Ev),{xPos:"0",yPos:"50%"})}),Xv=ly(bv,{params:v(y({},Ev),{xPos:"100%",yPos:"0"})}),Zv=ly(bv,{params:v(y({},Ev),{xPos:"0",yPos:"0"})}),Qv=ly(bv,{params:v(y({},Ev),{xPos:"100%",yPos:"50%"})}),Jv=ly(bv,{params:v(y({},Ev),{xPos:"50%",yPos:"100%"})}),ex=ly(bv,{params:v(y({},Ev),{direction:"X",toScale:.3})}),tx=ly(bv,{params:v(y({},Ev),{direction:"X",toScale:.3,xPos:"0",yPos:"0"})}),ix=ly(bv,{params:v(y({},Ev),{direction:"X",toScale:.3,xPos:"100%",yPos:"100%"})}),nx=[sy({opacity:"{{startOpacity}}",transform:"{{fromPosition}}"}),ny("{{duration}} {{delay}} {{easing}}",sy({opacity:"{{endOpacity}}",transform:"{{toPosition}}"}))],rx={delay:"0s",duration:"350ms",easing:gy.Quad,endOpacity:1,fromPosition:"translateY(-500px)",startOpacity:0,toPosition:"translateY(0)"},sx={delay:"0s",duration:"350ms",easing:uy.Quad,endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateY(-500px)"},ox=ly(nx,{params:rx}),ax=ly(nx,{params:{delay:"0s",duration:"350ms",easing:gy.Quad,endOpacity:1,fromPosition:"translateX(-500px)",startOpacity:0,toPosition:"translateY(0)"}}),lx=ly(nx,{params:{delay:"0s",duration:"350ms",easing:gy.Quad,endOpacity:1,fromPosition:"translateX(500px)",startOpacity:0,toPosition:"translateY(0)"}}),dx=ly(nx,{params:{delay:"0s",duration:"350ms",easing:gy.Quad,endOpacity:1,fromPosition:"translateY(500px)",startOpacity:0,toPosition:"translateY(0)"}}),cx=ly(nx,{params:v(y({},rx),{fromPosition:"translateY(-500px) translateX(500px)",toPosition:"translateY(0) translateX(0)"})}),hx=ly(nx,{params:v(y({},rx),{fromPosition:"translateY(-500px) translateX(-500px)",toPosition:"translateY(0) translateX(0)"})}),ux=ly(nx,{params:v(y({},rx),{fromPosition:"translateY(500px) translateX(500px)",toPosition:"translateY(0) translateX(0)"})}),gx=ly(nx,{params:v(y({},rx),{fromPosition:"translateY(500px) translateX(-500px)",toPosition:"translateY(0) translateX(0)"})}),px=ly(nx,{params:sx}),mx=ly(nx,{params:v(y({},sx),{toPosition:"translateX(500px)"})}),fx=ly(nx,{params:{delay:"0s",duration:"350ms",easing:uy.Quad,endOpacity:0,fromPosition:"translateY(0)",startOpacity:1,toPosition:"translateY(500px)"}}),yx=ly(nx,{params:v(y({},sx),{toPosition:"translateX(-500px)"})}),vx=ly(nx,{params:v(y({},sx),{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(-500px) translateX(500px)"})}),xx=ly(nx,{params:v(y({},sx),{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(500px) translateX(500px)"})}),_x=ly(nx,{params:v(y({},sx),{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(500px) translateX(-500px)"})}),wx=ly(nx,{params:v(y({},sx),{fromPosition:"translateY(0) translateX(0)",toPosition:"translateY(-500px) translateX(-500px)"})}),Cx=[sy({opacity:"{{startOpacity}}",transform:"rotate{{direction}}({{startAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}),ny("{{duration}} {{delay}} {{easing}}",sy({opacity:"{{endOpacity}}",transform:"rotate{{direction}}({{endAngle}}deg)",transformOrigin:"{{xPos}} {{yPos}}"}))],Sx={delay:"0s",direction:"X",duration:".5s",easing:gy.Back,endAngle:0,endOpacity:1,startAngle:-100,startOpacity:0,xPos:"top",yPos:"center"},bx=v(y({},Sx),{duration:".55s",easing:uy.Back,endAngle:70,endOpacity:0,startAngle:0,startOpacity:1}),Dx=ly(Cx,{params:y({},Sx)}),Ex=ly(Cx,{params:v(y({},Sx),{direction:"Y",xPos:"center",yPos:"right"})}),Ix=ly(Cx,{params:v(y({},Sx),{startAngle:100,xPos:"bottom"})}),Tx=ly(Cx,{params:v(y({},Sx),{direction:"Y",startAngle:100,xPos:"center",yPos:"left"})}),Ax=ly(Cx,{params:v(y({},Sx),{duration:".6s",startAngle:70})}),kx=ly(Cx,{params:v(y({},Sx),{direction:"Y",duration:".6s",startAngle:70,xPos:"center",yPos:"right"})}),Rx=ly(Cx,{params:v(y({},Sx),{duration:".6s",startAngle:-70,xPos:"bottom"})}),Ox=ly(Cx,{params:v(y({},Sx),{direction:"Y",duration:".6s",startAngle:-70,xPos:"center",yPos:"left"})}),Fx=ly(Cx,{params:y({},bx)}),Px=ly(Cx,{params:v(y({},bx),{direction:"Y",xPos:"center",yPos:"right"})}),Mx=ly(Cx,{params:v(y({},bx),{endAngle:-70,xPos:"bottom"})}),Vx=ly(Cx,{params:v(y({},bx),{direction:"Y",endAngle:-70,xPos:"center",yPos:"left"})}),Nx=ly(Cx,{params:v(y({},bx),{duration:".45s",endAngle:-100})}),Lx=ly(Cx,{params:v(y({},bx),{direction:"Y",duration:".45s",endAngle:-100,xPos:"center",yPos:"right"})}),Hx=ly(Cx,{params:v(y({},bx),{duration:".45s",endAngle:100,xPos:"bottom"})}),Bx=ly(Cx,{params:v(y({},bx),{direction:"Y",duration:".45s",endAngle:100,xPos:"center",yPos:"left"})}),Gx=[sy({opacity:"{{ startOpacity }}",height:"{{ startHeight }}",paddingBlock:"{{ startPadding }}"}),ny("{{duration}} {{delay}} {{easing}}",sy({opacity:"{{ endOpacity }}",height:"{{ endHeight }}",paddingBlock:"{{ endPadding }}"}))],zx={delay:"0s",duration:"350ms",easing:uy.Quad,startOpacity:0,endOpacity:1,startHeight:"",endHeight:"",startPadding:"",endPadding:""},$x=ly(Gx,{params:v(y({},zx),{easing:gy.Quad,startOpacity:0,endOpacity:1,startHeight:"0px",endHeight:"*",startPadding:"0px",endPadding:"*"})}),Wx=ly(Gx,{params:v(y({},zx),{easing:gy.Quad,startOpacity:1,endOpacity:0,startHeight:"*",endHeight:"0px",startPadding:"*",endPadding:"0px"})}),jx=(()=>{let e=class{constructor(){this.navs={}}add(e,t){this.navs[e]=t}remove(e){delete this.navs[e]}get(e){if(e)return this.navs[e]}toggle(e,...t){if(this.navs[e])return this.navs[e].toggle(...t)}open(e,...t){if(this.navs[e])return this.navs[e].open(...t)}close(e,...t){if(this.navs[e])return this.navs[e].close(...t)}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac,providedIn:"root"}),t})(),Kx=(()=>{let e=class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}},t=e;return e.fac=function(t){return new(t||e)(Rd(hd),Rd(ld))},e.dir=er({type:e}),t})(),Ux=(()=>{let e=class extends Kx{},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,features:[Tc]}),t})(),qx=new Dl("NgValueAccessor"),Yx={provide:qx,useExisting:Ni((()=>Zx)),multi:!0},Xx=new Dl("CompositionEventMode"),Zx=(()=>{let e=class extends Kx{constructor(e,t,i){super(e,t),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){let e=_p()?_p().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){let t=e??"";this.setProperty("value",t)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}},t=e;return e.fac=function(t){return new(t||e)(Rd(hd),Rd(ld),Rd(Xx,8))},e.dir=er({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&oh("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[cu([Yx]),Tc]}),t})();function Qx(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function Jx(e){return null!=e&&"number"==typeof e.length}var e_=new Dl("NgValidators"),t_=new Dl("NgAsyncValidators"),i_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,n_=class{static min(e){return r_(e)}static max(e){return s_(e)}static required(e){return o_(e)}static requiredTrue(e){return function(e){return!0===e.value?null:{required:!0}}(e)}static email(e){return a_(e)}static minLength(e){return l_(e)}static maxLength(e){return d_(e)}static pattern(e){return c_(e)}static nullValidator(e){return null}static compose(e){return y_(e)}static composeAsync(e){return x_(e)}};function r_(e){return t=>{if(Qx(t.value)||Qx(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}function s_(e){return t=>{if(Qx(t.value)||Qx(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}function o_(e){return Qx(e.value)?{required:!0}:null}function a_(e){return Qx(e.value)||i_.test(e.value)?null:{email:!0}}function l_(e){return t=>Qx(t.value)||!Jx(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function d_(e){return t=>Jx(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function c_(e){if(!e)return h_;let t,i;return"string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),e=>{if(Qx(e.value))return null;let n=e.value;return t.test(n)?null:{pattern:{requiredPattern:i,actualValue:n}}}}function h_(e){return null}function u_(e){return null!=e}function g_(e){return rh(e)?kt(e):e}function p_(e){let t={};return e.forEach((e=>{t=null!=e?y(y({},t),e):t})),0===Object.keys(t).length?null:t}function m_(e,t){return t.map((t=>t(e)))}function f_(e){return e.map((e=>function(e){return!e.validate}(e)?e:t=>e.validate(t)))}function y_(e){if(!e)return null;let t=e.filter(u_);return 0==t.length?null:function(e){return p_(m_(e,t))}}function v_(e){return null!=e?y_(f_(e)):null}function x_(e){if(!e)return null;let t=e.filter(u_);return 0==t.length?null:function(e){return function(...e){if(1===e.length){let t=e[0];if(De(t))return Nt(t,null);if(Ee(t)&&Object.getPrototypeOf(t)===Object.prototype){let e=Object.keys(t);return Nt(e.map((e=>t[e])),e)}}if("function"==typeof e[e.length-1]){let t=e.pop();return Nt(e=1===e.length&&De(e[0])?e[0]:e,null).pipe(St((e=>t(...e))))}return Nt(e,null)}(m_(e,t).map(g_)).pipe(St(p_))}}function __(e){return null!=e?x_(f_(e)):null}function w_(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function C_(e){return e._rawValidators}function S_(e){return e._rawAsyncValidators}function b_(e){return e?Array.isArray(e)?e:[e]:[]}function D_(e,t){return Array.isArray(e)?e.includes(t):e===t}function E_(e,t){let i=b_(t);return b_(e).forEach((e=>{D_(i,e)||i.push(e)})),i}function I_(e,t){return b_(t).filter((t=>!D_(e,t)))}var T_=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=v_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=__(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach((e=>e())),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}},A_=class extends T_{get formDirective(){return null}get path(){return null}},k_=class extends T_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},R_=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},O_=(v(y({},{"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"}),{"[class.ng-submitted]":"isSubmitted"}),(()=>{let e=class extends R_{constructor(e){super(e)}},t=e;return e.fac=function(t){return new(t||e)(Rd(k_,2))},e.dir=er({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&Ah("ng-untouched",t.isUntouched)("ng-touched",t.isTouched)("ng-pristine",t.isPristine)("ng-dirty",t.isDirty)("ng-valid",t.isValid)("ng-invalid",t.isInvalid)("ng-pending",t.isPending)},features:[Tc]}),t})()),F_=(()=>{let e=class extends R_{constructor(e){super(e)}},t=e;return e.fac=function(t){return new(t||e)(Rd(A_,10))},e.dir=er({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&Ah("ng-untouched",t.isUntouched)("ng-touched",t.isTouched)("ng-pristine",t.isPristine)("ng-dirty",t.isDirty)("ng-valid",t.isValid)("ng-invalid",t.isInvalid)("ng-pending",t.isPending)("ng-submitted",t.isSubmitted)},features:[Tc]}),t})(),P_="VALID",M_="INVALID",V_="PENDING",N_="DISABLED";function L_(e){return(B_(e)?e.validators:e)||null}function H_(e,t){return(B_(t)?t.asyncValidators:e)||null}function B_(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var G_=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===P_}get invalid(){return this.status===M_}get pending(){return this.status==V_}get disabled(){return this.status===N_}get enabled(){return this.status!==N_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(E_(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(E_(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(I_(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(I_(e,this._rawAsyncValidators))}hasValidator(e){return D_(this._rawValidators,e)}hasAsyncValidator(e){return D_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild((e=>e.markAllAsTouched()))}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild((e=>{e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild((e=>{e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=V_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=N_,this.errors=null,this._forEachChild((t=>{t.disable(v(y({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(v(y({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((e=>e(!0)))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=P_,this._forEachChild((t=>{t.enable(v(y({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(v(y({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((e=>e(!1)))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===P_||this.status===V_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild((t=>t._updateTreeValidity(e))),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?N_:P_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=V_,this._hasOwnPendingAsyncValidator=!0;let t=g_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe((t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce(((e,t)=>e&&e._find(t)),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new zu,this.statusChanges=new zu}_calculateStatus(){return this._allControlsDisabled()?N_:this.errors?M_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(V_)?V_:this._anyControlsHaveStatus(M_)?M_:P_}_anyControlsHaveStatus(e){return this._anyControls((t=>t.status===e))}_anyControlsDirty(){return this._anyControls((e=>e.dirty))}_anyControlsTouched(){return this._anyControls((e=>e.touched))}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){B_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function(e){return Array.isArray(e)?v_(e):e||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function(e){return Array.isArray(e)?__(e):e||null}(this._rawAsyncValidators)}},z_=class extends G_{constructor(e,t,i){super(L_(t),H_(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange((()=>{})),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange((()=>{})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function(e,t,i){e._forEachChild(((e,t)=>{if(void 0===i[t])throw new zi(1002,"")}))})(this,0,e),Object.keys(e).forEach((i=>{(function(e,t,i){let n=e.controls;if(!Object.keys(n).length)throw new zi(1e3,"");if(!n[i])throw new zi(1001,"")})(this,0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach((i=>{let n=this.controls[i];n&&n.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild(((i,n)=>{i.reset(e[n],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},((e,t,i)=>(e[i]=t.getRawValue(),e)))}_syncPendingControls(){let e=this._reduceChildren(!1,((e,t)=>!!t._syncPendingControls()||e));return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach((t=>{let i=this.controls[t];i&&e(i,t)}))}_setUpControls(){this._forEachChild((e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}))}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},((e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e)))}_reduceChildren(e,t){let i=e;return this._forEachChild(((e,n)=>{i=t(i,e,n)})),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},$_=new Dl("CallSetDisabledState",{providedIn:"root",factory:()=>W_}),W_="always";function j_(e,t,i=W_){q_(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===i)&&t.valueAccessor.setDisabledState?.(e.disabled),function(e,t){t.valueAccessor.registerOnChange((i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&X_(e,t)}))}(e,t),function(e,t){let i=(e,i)=>{t.valueAccessor.writeValue(e),i&&t.viewToModelUpdate(e)};e.registerOnChange(i),t._registerOnDestroy((()=>{e._unregisterOnChange(i)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&X_(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){let i=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(i),t._registerOnDestroy((()=>{e._unregisterOnDisabledChange(i)}))}}(e,t)}function K_(e,t,i=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Y_(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange((()=>{})))}function U_(e,t){e.forEach((e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)}))}function q_(e,t){let i=C_(e);null!==t.validator?e.setValidators(w_(i,t.validator)):"function"==typeof i&&e.setValidators([i]);let n=S_(e);null!==t.asyncValidator?e.setAsyncValidators(w_(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);let r=()=>e.updateValueAndValidity();U_(t._rawValidators,r),U_(t._rawAsyncValidators,r)}function Y_(e,t){let i=!1;if(null!==e){if(null!==t.validator){let n=C_(e);if(Array.isArray(n)&&n.length>0){let r=n.filter((e=>e!==t.validator));r.length!==n.length&&(i=!0,e.setValidators(r))}}if(null!==t.asyncValidator){let n=S_(e);if(Array.isArray(n)&&n.length>0){let r=n.filter((e=>e!==t.asyncValidator));r.length!==n.length&&(i=!0,e.setAsyncValidators(r))}}}let n=()=>{};return U_(t._rawValidators,n),U_(t._rawAsyncValidators,n),i}function X_(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Z_(e,t){if(!e.hasOwnProperty("model"))return!1;let i=e.model;return!!i.isFirstChange()||!Object.is(t,i.currentValue)}function Q_(e,t){if(!t)return null;let i,n,r;return Array.isArray(t),t.forEach((e=>{e.constructor===Zx?i=e:function(e){return Object.getPrototypeOf(e.constructor)===Ux}(e)?n=e:r=e})),r||n||i||null}function J_(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function ew(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}var tw=class extends G_{constructor(e=null,t,i){super(L_(t),H_(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),B_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(ew(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach((e=>e(this.value,!1!==t.emitViewToModelChange))),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){J_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){J_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ew(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},iw={provide:k_,useExisting:Ni((()=>rw))},nw=Promise.resolve(),rw=(()=>{let e=class extends k_{constructor(e,t,i,n,r,s){super(),this._changeDetectorRef=r,this.callSetDisabledState=s,this.control=new tw,this._registered=!1,this.name="",this.update=new zu,this._parent=e,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=Q_(0,n)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let t=e.name.previousValue;this.formDirective.removeControl({name:t,path:this._getPath(t)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Z_(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){j_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){nw.then((()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()}))}_updateDisabled(e){let t=e.isDisabled.currentValue,i=0!==t&&fp(t);nw.then((()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()}))}_getPath(e){return this._parent?function(e,t){return[...t.path,e]}(e,this._parent):[e]}},t=e;return e.fac=function(t){return new(t||e)(Rd(A_,9),Rd(e_,10),Rd(t_,10),Rd(qx,10),Rd(Jg,8),Rd($_,8))},e.dir=er({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[cu([iw]),Tc,ns]}),t})(),sw={provide:qx,useExisting:Ni((()=>ow)),multi:!0},ow=(()=>{let e=class extends Ux{writeValue(e){let t=e??"";this.setProperty("value",t)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&oh("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[cu([sw]),Tc]}),t})(),aw=(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.mod=Qn({type:e}),e.inj=Ki({}),t})(),lw=new Dl("NgModelWithFormControlWarning"),dw={provide:k_,useExisting:Ni((()=>cw))},cw=(()=>{let e=class extends k_{set isDisabled(e){}constructor(e,t,i,n,r){super(),this._ngModelWarningConfig=n,this.callSetDisabledState=r,this.update=new zu,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(t),this.valueAccessor=Q_(0,i)}ngOnChanges(e){if(this._isControlChanged(e)){let t=e.form.previousValue;t&&K_(t,this,!1),j_(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Z_(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&K_(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}},t=e;return e._ngModelWarningSentOnce=!1,e.fac=function(t){return new(t||e)(Rd(e_,10),Rd(t_,10),Rd(qx,10),Rd(lw,8),Rd($_,8))},e.dir=er({type:e,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[cu([dw]),Tc,ns]}),t})(),hw={provide:A_,useExisting:Ni((()=>uw))},uw=(()=>{let e=class extends A_{constructor(e,t,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new zu,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Y_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange((()=>{})))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let t=this.form.get(e.path);return j_(t,e,this.callSetDisabledState),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){K_(e.control||null,e,!1),function(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,function(e,t){e._syncPendingControls(),t.forEach((e=>{let t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}))}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach((e=>{let t=e.control,i=this.form.get(e.path);t!==i&&(K_(t||null,e),(e=>e instanceof tw)(i)&&(j_(i,e,this.callSetDisabledState),e.control=i))})),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let t=this.form.get(e.path);(function(e,t){q_(e,t)})(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let t=this.form.get(e.path);t&&function(e,t){return Y_(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange((()=>{}))}_updateValidators(){q_(this.form,this),this._oldForm&&Y_(this._oldForm,this)}_checkFormPresent(){this.form}},t=e;return e.fac=function(t){return new(t||e)(Rd(e_,10),Rd(t_,10),Rd($_,8))},e.dir=er({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&oh("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[cu([hw]),Tc,ns]}),t})();function gw(e){return"number"==typeof e?e:parseInt(e,10)}function pw(e){return"number"==typeof e?e:parseFloat(e)}var mw=(()=>{let e=class{constructor(){this._validator=h_}ngOnChanges(e){if(this.inputName in e){let t=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(t),this._validator=this._enabled?this.createValidator(t):h_,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,features:[ns]}),t})(),fw={provide:e_,useExisting:Ni((()=>yw)),multi:!0},yw=(()=>{let e=class extends mw{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>pw(e),this.createValidator=e=>s_(e)}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&Gc("max",t._enabled?t.max:null)},inputs:{max:"max"},features:[cu([fw]),Tc]}),t})(),vw={provide:e_,useExisting:Ni((()=>xw)),multi:!0},xw=(()=>{let e=class extends mw{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>pw(e),this.createValidator=e=>r_(e)}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&Gc("min",t._enabled?t.min:null)},inputs:{min:"min"},features:[cu([vw]),Tc]}),t})(),_w={provide:e_,useExisting:Ni((()=>ww)),multi:!0},ww=(()=>{let e=class extends mw{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=fp,this.createValidator=e=>o_}enabled(e){return e}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&Gc("required",t._enabled?"":null)},inputs:{required:"required"},features:[cu([_w]),Tc]}),t})(),Cw={provide:e_,useExisting:Ni((()=>Sw)),multi:!0},Sw=(()=>{let e=class extends mw{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=fp,this.createValidator=e=>a_}enabled(e){return e}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[cu([Cw]),Tc]}),t})(),bw={provide:e_,useExisting:Ni((()=>Dw)),multi:!0},Dw=(()=>{let e=class extends mw{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>gw(e),this.createValidator=e=>l_(e)}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&Gc("minlength",t._enabled?t.minlength:null)},inputs:{minlength:"minlength"},features:[cu([bw]),Tc]}),t})(),Ew={provide:e_,useExisting:Ni((()=>Iw)),multi:!0},Iw=(()=>{let e=class extends mw{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>gw(e),this.createValidator=e=>d_(e)}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&Gc("maxlength",t._enabled?t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[cu([Ew]),Tc]}),t})(),Tw={provide:e_,useExisting:Ni((()=>Aw)),multi:!0},Aw=(()=>{let e=class extends mw{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>c_(e)}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&Gc("pattern",t._enabled?t.pattern:null)},inputs:{pattern:"pattern"},features:[cu([Tw]),Tc]}),t})(),kw=(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.mod=Qn({type:e}),e.inj=Ki({imports:[aw]}),t})(),Rw=(()=>{let e=class{static withConfig(t){return{ngModule:e,providers:[{provide:$_,useValue:t.callSetDisabledState??W_}]}}},t=e;return e.fac=function(t){return new(t||e)},e.mod=Qn({type:e}),e.inj=Ki({imports:[kw]}),t})(),Ow=(()=>{let e=class{static withConfig(t){return{ngModule:e,providers:[{provide:lw,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:$_,useValue:t.callSetDisabledState??W_}]}}},t=e;return e.fac=function(t){return new(t||e)},e.mod=Qn({type:e}),e.inj=Ki({imports:[kw]}),t})(),Fw="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,Pw="object"==typeof self&&self&&self.Object===Object&&self,Mw=Fw||Pw||Function("return this")(),Vw=Mw.Symbol,Nw=Object.prototype,Lw=Nw.hasOwnProperty,Hw=Nw.toString,Bw=Vw?Vw.toStringTag:void 0,Gw=Object.prototype.toString,zw=Vw?Vw.toStringTag:void 0,$w=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":zw&&zw in Object(e)?function(e){var t=Lw.call(e,Bw),i=e[Bw];try{e[Bw]=void 0;var n=!0}catch{}var r=Hw.call(e);return n&&(t?e[Bw]=i:delete e[Bw]),r}(e):function(e){return Gw.call(e)}(e)},Ww=function(e){return null!=e&&"object"==typeof e},jw=Array.isArray,Kw=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Uw=function(e){return e},qw=function(e){if(!Kw(e))return!1;var t=$w(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Yw=Mw["__core-js_shared__"],Xw=function(){var e=/[^.]+$/.exec(Yw&&Yw.keys&&Yw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Zw=Function.prototype.toString,Qw=/^\[object .+?Constructor\]$/,Jw=Function.prototype,eC=Object.prototype,tC=Jw.toString,iC=eC.hasOwnProperty,nC=RegExp("^"+tC.call(iC).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rC=function(e){return!(!Kw(e)||function(e){return!!Xw&&Xw in e}(e))&&(qw(e)?nC:Qw).test(function(e){if(null!=e){try{return Zw.call(e)}catch{}try{return e+""}catch{}}return""}(e))},sC=function(e,t){var i=function(e,t){return e?.[t]}(e,t);return rC(i)?i:void 0},oC=Object.create,aC=function(){function e(){}return function(t){if(!Kw(t))return{};if(oC)return oC(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}(),lC=aC,dC=Date.now,cC=function(e){return function(){return e}},hC=function(){try{var e=sC(Object,"defineProperty");return e({},"",{}),e}catch{}}(),uC=hC,gC=uC?function(e,t){return uC(e,"toString",{configurable:!0,enumerable:!1,value:cC(t),writable:!0})}:Uw,pC=function(e){var t=0,i=0;return function(){var n=dC(),r=16-(n-i);if(i=n,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(gC),mC=/^(?:0|[1-9]\d*)$/,fC=function(e,t){var i=typeof e;return!!(t=t??9007199254740991)&&("number"==i||"symbol"!=i&&mC.test(e))&&e>-1&&e%1==0&&e<t},yC=function(e,t,i){"__proto__"==t&&uC?uC(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i},vC=function(e,t){return e===t||e!=e&&t!=t},xC=Object.prototype.hasOwnProperty,_C=function(e,t,i){var n=e[t];(!xC.call(e,t)||!vC(n,i)||void 0===i&&!(t in e))&&yC(e,t,i)},wC=Math.max,CC=function(e,t){return pC(function(e,t,i){return t=wC(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,s=wC(n.length-t,0),o=Array(s);++r<s;)o[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=i(o),function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}(e,this,a)}}(e,t,Uw),e+"")},SC=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},bC=function(e){return null!=e&&SC(e.length)&&!qw(e)},DC=Object.prototype,EC=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||DC)},IC=function(e){return Ww(e)&&"[object Arguments]"==$w(e)},TC=Object.prototype,AC=TC.hasOwnProperty,kC=TC.propertyIsEnumerable,RC=IC(function(){return arguments}())?IC:function(e){return Ww(e)&&AC.call(e,"callee")&&!kC.call(e,"callee")},OC=RC,FC="object"==typeof exports&&exports&&!exports.nodeType&&exports,PC=FC&&e&&!e.nodeType&&e,MC=PC&&PC.exports===FC?Mw.Buffer:void 0,VC=(MC?MC.isBuffer:void 0)||function(){return!1},NC={};NC["[object Float32Array]"]=NC["[object Float64Array]"]=NC["[object Int8Array]"]=NC["[object Int16Array]"]=NC["[object Int32Array]"]=NC["[object Uint8Array]"]=NC["[object Uint8ClampedArray]"]=NC["[object Uint16Array]"]=NC["[object Uint32Array]"]=!0,NC["[object Arguments]"]=NC["[object Array]"]=NC["[object ArrayBuffer]"]=NC["[object Boolean]"]=NC["[object DataView]"]=NC["[object Date]"]=NC["[object Error]"]=NC["[object Function]"]=NC["[object Map]"]=NC["[object Number]"]=NC["[object Object]"]=NC["[object RegExp]"]=NC["[object Set]"]=NC["[object String]"]=NC["[object WeakMap]"]=!1;var LC="object"==typeof exports&&exports&&!exports.nodeType&&exports,HC=LC&&e&&!e.nodeType&&e,BC=HC&&HC.exports===LC&&Fw.process,GC=function(){try{return HC&&HC.require&&HC.require("util").types||BC&&BC.binding&&BC.binding("util")}catch{}}(),zC=GC&&GC.isTypedArray,$C=zC?function(e){return function(t){return e(t)}}(zC):function(e){return Ww(e)&&SC(e.length)&&!!NC[$w(e)]},WC=Object.prototype.hasOwnProperty,jC=function(e,t){var i=jw(e),n=!i&&OC(e),r=!i&&!n&&VC(e),s=!i&&!n&&!r&&$C(e),o=i||n||r||s,a=o?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],l=a.length;for(var d in e)(t||WC.call(e,d))&&(!o||!("length"==d||r&&("offset"==d||"parent"==d)||s&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||fC(d,l)))&&a.push(d);return a},KC=Object.prototype.hasOwnProperty,UC=function(e){if(!Kw(e))return function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}(e);var t=EC(e),i=[];for(var n in e)"constructor"==n&&(t||!KC.call(e,n))||i.push(n);return i},qC=function(e){return bC(e)?jC(e,!0):UC(e)},YC=sC(Object,"create"),XC=Object.prototype.hasOwnProperty,ZC=Object.prototype.hasOwnProperty;function QC(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}QC.prototype.clear=function(){this.__data__=YC?YC(null):{},this.size=0},QC.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},QC.prototype.get=function(e){var t=this.__data__;if(YC){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return XC.call(t,e)?t[e]:void 0},QC.prototype.has=function(e){var t=this.__data__;return YC?void 0!==t[e]:ZC.call(t,e)},QC.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=YC&&void 0===t?"__lodash_hash_undefined__":t,this};var JC=QC,eS=function(e,t){for(var i=e.length;i--;)if(vC(e[i][0],t))return i;return-1},tS=Array.prototype.splice;function iS(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}iS.prototype.clear=function(){this.__data__=[],this.size=0},iS.prototype.delete=function(e){var t=this.__data__,i=eS(t,e);return!(i<0||(i==t.length-1?t.pop():tS.call(t,i,1),--this.size,0))},iS.prototype.get=function(e){var t=this.__data__,i=eS(t,e);return i<0?void 0:t[i][1]},iS.prototype.has=function(e){return eS(this.__data__,e)>-1},iS.prototype.set=function(e,t){var i=this.__data__,n=eS(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this};var nS=iS,rS=sC(Mw,"Map"),sS=function(e,t){var i=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?i["string"==typeof t?"string":"hash"]:i.map};function oS(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}oS.prototype.clear=function(){this.size=0,this.__data__={hash:new JC,map:new(rS||nS),string:new JC}},oS.prototype.delete=function(e){var t=sS(this,e).delete(e);return this.size-=t?1:0,t},oS.prototype.get=function(e){return sS(this,e).get(e)},oS.prototype.has=function(e){return sS(this,e).has(e)},oS.prototype.set=function(e,t){var i=sS(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this};var aS=oS,lS=function(e,t){return function(i){return e(t(i))}}(Object.getPrototypeOf,Object),dS=Function.prototype,cS=Object.prototype,hS=dS.toString,uS=cS.hasOwnProperty,gS=hS.call(Object);function pS(e){var t=this.__data__=new nS(e);this.size=t.size}pS.prototype.clear=function(){this.__data__=new nS,this.size=0},pS.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},pS.prototype.get=function(e){return this.__data__.get(e)},pS.prototype.has=function(e){return this.__data__.has(e)},pS.prototype.set=function(e,t){var i=this.__data__;if(i instanceof nS){var n=i.__data__;if(!rS||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new aS(n)}return i.set(e,t),this.size=i.size,this};var mS=pS,fS="object"==typeof exports&&exports&&!exports.nodeType&&exports,yS=fS&&e&&!e.nodeType&&e,vS=yS&&yS.exports===fS?Mw.Buffer:void 0,xS=vS?vS.allocUnsafe:void 0,_S=Mw.Uint8Array,wS=function(e,t){var i=t?function(e){var t=new e.constructor(e.byteLength);return new _S(t).set(new _S(e)),t}(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)},CS=function(e){return function(t,i,n){for(var r=-1,s=Object(t),o=n(t),a=o.length;a--;){var l=o[e?a:++r];if(!1===i(s[l],l,s))break}return t}}(),SS=function(e,t,i){(void 0!==i&&!vC(e[t],i)||void 0===i&&!(t in e))&&yC(e,t,i)},bS=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},DS=function(e){return function(e,t,i,n){var r=!i;i||(i={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=n?n(i[a],e[a],a,i,e):void 0;void 0===l&&(l=e[a]),r?yC(i,a,l):_C(i,a,l)}return i}(e,qC(e))},ES=function(e,t,i,n,r,s,o){var a=bS(e,i),l=bS(t,i),d=o.get(l);if(d)SS(e,i,d);else{var c=s?s(a,l,i+"",e,t,o):void 0,h=void 0===c;if(h){var u=jw(l),g=!u&&VC(l),p=!u&&!g&&$C(l);c=l,u||g||p?jw(a)?c=a:function(e){return Ww(e)&&bC(e)}(a)?c=function(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}(a):g?(h=!1,c=function(e,t){if(t)return e.slice();var i=e.length,n=xS?xS(i):new e.constructor(i);return e.copy(n),n}(l,!0)):p?(h=!1,c=wS(l,!0)):c=[]:function(e){if(!Ww(e)||"[object Object]"!=$w(e))return!1;var t=lS(e);if(null===t)return!0;var i=uS.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&hS.call(i)==gS}(l)||OC(l)?(c=a,OC(a)?c=DS(a):(!Kw(a)||qw(a))&&(c=function(e){return"function"!=typeof e.constructor||EC(e)?{}:lC(lS(e))}(l))):h=!1}h&&(o.set(l,c),r(c,l,n,s,o),o.delete(l)),SS(e,i,c)}},IS=function e(t,i,n,r,s){t!==i&&CS(i,(function(o,a){if(s||(s=new mS),Kw(o))ES(t,i,a,n,e,r,s);else{var l=r?r(bS(t,a),o,a+"",t,i,s):void 0;void 0===l&&(l=o),SS(t,a,l)}}),qC)},TS=function(e){return CC((function(t,i){var n=-1,r=i.length,s=r>1?i[r-1]:void 0,o=r>2?i[2]:void 0;for(s=e.length>3&&"function"==typeof s?(r--,s):void 0,o&&function(e,t,i){if(!Kw(i))return!1;var n=typeof t;return!!("number"==n?bC(i)&&fC(t,i.length):"string"==n&&t in i)&&vC(i[t],e)}(i[0],i[1],o)&&(s=r<3?void 0:s,r=1),t=Object(t);++n<r;){var a=i[n];a&&e(t,a,n,s)}return t}))}((function(e,t,i,n){IS(e,t,i,n)})),AS=TS,kS={},RS=0,OS=!1,FS=e=>(e=>{if(kS.hasOwnProperty(e)){let t=kS[e];delete kS[e],t()}})(e.data),PS=()=>window.ResizeObserver,MS=(e,t)=>{let i=[];if(!e)return i;let n=e.length;for(;n--;)i[n]=t?LS(e[n]):e[n];return i},VS=(e,t)=>{let i=[];if(!e)return i;for(let n of e){let e=LS(n);Array.isArray(n[t])&&(e[t]=VS(e[t],t)),i.push(e)}return i},NS=(e,t)=>AS(e,t,((e,t)=>{if(Array.isArray(t))return t})),LS=e=>{if(GS(e))return new Date(e.getTime());if(Array.isArray(e))return[...e];if(e instanceof Map||e instanceof Set)return e;if(BS(e)){let t={};for(let i of Object.keys(e))t[i]=LS(e[i]);return t}return e},HS=e=>GS(e)?isNaN(e.getTime())?null:e:e?new Date(e):null,BS=e=>!(!e||"[object Object]"!==e.toString()),GS=e=>e instanceof Date,zS=(e,t)=>GS(e)&&GS(t)?e.getTime()===t.getTime():e===t,$S=(()=>{let e=class{constructor(e){this.platformId=e,this.isBrowser=function(e){return e===Xm}(this.platformId),this.isIOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.isFirefox=this.isBrowser&&/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent),this.isEdge=this.isBrowser&&/Edge[\/\s](\d+\.\d+)/.test(navigator.userAgent),this.isChromium=this.isBrowser&&(/Chrom|e?ium/g.test(navigator.userAgent)||/Google Inc/g.test(navigator.vendor))&&!/Edge/g.test(navigator.userAgent),this.KEYMAP={ENTER:"Enter",SPACE:" ",ESCAPE:"Escape",ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",END:"End",HOME:"Home",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",F2:"F2",TAB:"Tab",SEMICOLON:";",DELETE:"Delete",BACKSPACE:"Backspace",CONTROL:"Control",X:"x",Y:"y",Z:"z"}}getNodeSizeViaRange(e,t,i){let n,r=null;if(this.isFirefox||(r=t.style.overflow,t.style.overflow="visible"),i){let e=i.style;n=[e.width,e.minWidth,e.flexBasis],e.width="",e.minWidth="",e.flexBasis=""}e.selectNodeContents(t);let s=t.getBoundingClientRect().width/t.offsetWidth,o=e.getBoundingClientRect().width/s;return this.isFirefox||(t.style.overflow=r),i&&(i.style.width=n[0],i.style.minWidth=n[1],i.style.flexBasis=n[2]),o}isActivationKey(e){return e.key===this.KEYMAP.ENTER||e.key===this.KEYMAP.SPACE}isFilteringKeyCombo(e){return e.key===this.KEYMAP.ESCAPE||e.ctrlKey&&e.shiftKey&&"l"===e.key.toLowerCase()}isLeftClick(e){return 0===e.button}isNavigationKey(e){return[this.KEYMAP.HOME,this.KEYMAP.END,this.KEYMAP.SPACE,this.KEYMAP.ARROW_DOWN,this.KEYMAP.ARROW_LEFT,this.KEYMAP.ARROW_RIGHT,this.KEYMAP.ARROW_UP].includes(e)}},t=e;return e.fac=function(t){return new(t||e)(pn(Ql))},e.prov=ji({token:e,factory:e.fac,providedIn:"root"}),t})(),WS=e=>{let t=[];return e.forEach((e=>{if(t.push(e),e.children){let i=Array.isArray(e.children)?e.children:e.children.toArray();t=t.concat(WS(i))}})),t},jS=new Set(["arrowleft","left","arrowright","right","home","end"]),KS=new Set(["down","up","left","right","arrowdown","arrowup","arrowleft","arrowright","home","end","space","spacebar"," "]),US=new Set("up down arrowup arrowdown home end".split(" ")),qS=new Set("right down arrowright arrowdown".split(" ")),YS=new Set("left up arrowleft arrowup".split(" ")),XS=new Set(["+","add","","","="]),ZS=new Set([...Array.from(KS),...Array.from(XS),"enter","f2","escape","esc","pagedown","pageup"]),QS=new Set([...Array.from(KS),"escape","esc","l",""]),JS=e=>new Le((t=>{let i=new(PS())((e=>{t.next(e)}));return i.observe(e),()=>i.disconnect()})),eb=(e,t)=>{if(!t)return!e;if(e.size!==t.size)return!1;let i=!0,n=Array.from(t.keys());for(let r of n)if(i=!!e.has(r)&&e.get(r)===t.get(r),!i)break;return i},tb=(e,t)=>{let i=t?.split(".")??[],n=e[i.shift()];return i.forEach((e=>{n&&(n=n[e])})),n},ib=(e,t,i,n)=>{let r=0,s=()=>{let o=Math.min(r+t,e);for(;r<o;++r)i(r);r<e?function(e,...t){if(window.setImmediate)return window.setImmediate(e);OS||(OS=!0,window.addEventListener("message",FS,!1)),kS[++RS]=()=>{e.apply(void 0,t)};let i=window.location;window.postMessage(RS+"",i.protocol+"//"+i.host)}(s):n()};s()},nb=e=>rb.get(e)??e,rb=new Map([[fy,fy],[yy,yy],[_y,wy],[wy,_y],[Sy,Cy],[Cy,Sy],[by,Dy],[Dy,by],[Ey,Iy],[Iy,Ey],[$x,$x],[Wx,Wx],[Cv,Cv],[_v,wv],[wv,_v],[Sv,Sv],[sv,sv],[ov,ov],[av,av],[lv,lv],[dv,dv],[cv,cv],[hv,hv],[uv,uv],[gv,gv],[pv,pv],[mv,mv],[Ry,Ry],[Oy,Oy],[Fy,Ny],[Py,Ly],[My,Hy],[Vy,By],[Hy,My],[By,Vy],[Ny,Fy],[Ly,Py],[Gy,jy],[zy,Ky],[$y,Uy],[Wy,qy],[jy,Gy],[Ky,zy],[Uy,$y],[qy,Wy],[Yy,Yy],[Xy,Xy],[Zy,Zy],[Qy,Qy],[Jy,Jy],[ev,ev],[tv,tv],[iv,iv],[kv,Bv],[qv,Jv],[Vv,Rv],[Qv,Yv],[Bv,kv],[Jv,qv],[Rv,Vv],[Yv,Qv],[Iv,Iv],[zv,zv],[Fv,Tv],[Xv,$v],[Lv,Pv],[Wv,Zv],[Tv,Fv],[$v,Xv],[Pv,Lv],[Zv,Wv],[Ov,Mv],[Kv,Uv],[Mv,Ov],[Uv,Kv],[Av,Av],[jv,jv],[Nv,Nv],[ex,ex],[Hv,Gv],[tx,ix],[Gv,Hv],[ix,tx],[ox,dx],[px,fx],[lx,ax],[mx,yx],[dx,ox],[fx,px],[ax,lx],[yx,mx],[cx,gx],[vx,_x],[ux,hx],[xx,wx],[gx,cx],[_x,vx],[hx,ux],[wx,xx],[Dx,Ix],[Fx,Mx],[Ex,Tx],[Px,Vx],[Tx,Ex],[Vx,Px],[Ix,Dx],[Mx,Fx],[Ax,Rx],[Nx,Hx],[kx,Ox],[Lx,Bx],[Rx,Ax],[Hx,Nx],[Ox,kx],[Bx,Lx]]),sb=[Sy,Cy,Ey,Iy,My,Vy,Hy,By,Gy,zy,$y,Wy,jy,Ky,Uy,qy,Vv,Qv,Rv,Yv,Fv,Xv,Lv,Wv,Tv,$v,Pv,Zv,Hv,tx,Gv,ix,lx,mx,ax,yx,cx,vx,ux,xx,gx,_x,hx,wx,Ex,Px,Tx,Vx,kx,Lx,Ox,Bx],ob=[_y,wy,by,Dy,$x,Wx,Fy,Py,Ny,Ly,Gy,zy,$y,Wy,jy,Ky,Uy,qy,kv,qv,Bv,Jv,Fv,Xv,Lv,Wv,Tv,$v,Pv,Zv,Ov,Kv,Mv,Uv,ox,px,dx,fx,cx,vx,ux,xx,gx,_x,hx,wx,Dx,Fx,Ix,Mx,Ax,Nx,Rx,Hx],ab=(e,t,i,n)=>null==e||""===e?"":Kp(e,t,i,n),lb=new Km(void 0).transform,db=e=>{let t=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("font-size"));return Number(e)/t},cb=((cb=cb||{})[cb.None=0]="None",cb[cb.IncorrectPageIndex=1]="IncorrectPageIndex",cb[cb.IncorrectRecordsPerPage=2]="IncorrectRecordsPerPage",cb),hb=((hb=hb||{}).ADD="add",hb.DELETE="delete",hb.UPDATE="update",hb),ub=((ub=ub||{}).UNDO="undo",ub.REDO="redo",ub.CLEAR="clear",ub.ADD="add",ub.END="endPending",ub),gb=((gb=gb||{})[gb.None=0]="None",gb[gb.Asc=1]="Asc",gb[gb.Desc=2]="Desc",gb),pb=(()=>{let e=class{constructor(){}static instance(){return this._instance||(this._instance=new this)}sort(e,t,i,n,r,s,o){let a=t,l=i===gb.Desc?-1:1;return this.arraySort(e,((e,t)=>this.compareObjects(e,t,a,l,n,r,s,o)))}compareValues(e,t){let i=null==t;return null==e?i?0:-1:i||e>t?1:e<t?-1:0}compareObjects(e,t,i,n,r,s,o,a){let l=s.call(this,e,i,o,a),d=s.call(this,t,i,o,a);return r&&(l=l&&l.toLowerCase?l.toLowerCase():l,d=d&&d.toLowerCase?d.toLowerCase():d),n*this.compareValues(l,d)}arraySort(e,t){return e.sort(t)}},t=e;return e._instance=null,t})(),mb=(e,t,i)=>e.length===t.length&&e.every(((e,n)=>{let r=i.find((t=>t.fieldName===e.fieldName)).groupingComparer||pb.instance().compareValues;return e.fieldName===t[n].fieldName&&0===r(e.value,t[n].value)})),fb=e=>{let t=[];if(void 0!==e&&e.expression)for(t.push({fieldName:e.expression.fieldName,value:e.value});e.groupParent;)e=e.groupParent,t.unshift({fieldName:e.expression.fieldName,value:e.value});return t},yb="date",vb="time",xb="dateTime",_b="string",wb=class{sort(e,t,i){return this.sortDataRecursive(e,t,0,i)}groupDataRecursive(e,t,i,n,r,s=null,o=[],a={data:[],metadata:[]}){let l=t.expressions,d=t.expansion,c=0,h=[];for(;c<e.length;){let u=s?s.getColumnByName(l[i].fieldName):null,g=u?.dataType===yb||u?.dataType===xb,p=u?.dataType===vb||u?.dataType===xb,m=u?.dataType===_b,f=this.groupedRecordsByExpression(e,c,l[i],g,p,m),y={expression:l[i],level:i,records:MS(f),value:this.getFieldValue(f[0],l[i].fieldName,g,p),groupParent:n,groups:[],height:s?s.renderedRowHeight:null,column:u};n?n.groups.push(y):o.push(y);let v,x=fb(y),_=d.find((e=>mb(e.hierarchy||[{fieldName:y.expression.fieldName,value:y.value}],x,l))),w=_?_.expanded:t.defaultExpanded;if(h.push(y),r.push(null),a.data.push(y),a.metadata.push(null),i<l.length-1)v=this.groupDataRecursive(f,t,i+1,y,w?r:[],s,o,a),w&&(h=h.concat(v));else{for(let e of f)a.metadata.push(y),a.data.push(e);w&&(r.push(...a.metadata.slice(a.metadata.length-f.length)),h.push(...a.data.slice(a.data.length-f.length)))}c+=f.length}return h}getFieldValue(e,t,i=!1,n=!1){let r=tb(e,t),s=HS(r);return s&&i&&n?r=s:s&&i&&!n?r=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0):s&&n&&!i&&(r=new Date((new Date).setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()))),r}groupedRecordsByExpression(e,t,i,n=!1,r=!1,s,o){let a=[],l=i.fieldName,d=e.length,c=e[t],h=this.getFieldValue(c,l,n,r);a.push(c),t++;let u=i.groupingComparer||o||pb.instance().compareValues;for(let o=t;o<d;o++){let t=e[o],d=this.getFieldValue(t,l,n,r);if(i.ignoreCase&&s&&(d=d?.toString().toLowerCase(),h=h?.toString().toLowerCase()),0!==u(d,h,t,c))break;a.push(t)}return a}sortDataRecursive(e,t,i=0,n){let r,s,o,a,l=t.length,d=e.length;if((i=i||0)>=l||d<=1)return e;let c=t[i];c.strategy||(c.strategy=pb.instance());let h=n?.getColumnByName(c.fieldName),u=h?.dataType===yb||h?.dataType===xb,g=h?.dataType===vb||h?.dataType===xb,p=h?.dataType===_b;if(e=c.strategy.sort(e,c.fieldName,c.dir,c.ignoreCase,this.getFieldValue,u,g,n),i===l-1)return e;for(r=0;r<d;r++){for(o=this.groupedRecordsByExpression(e,r,c,u,g,p,h?.groupingComparer),a=o.length,a>1&&(o=this.sortDataRecursive(o,t,i+1,n)),s=0;s<a;s++)e[r+s]=o[s];r+=a-1}return e}},Cb=class extends wb{groupBy(e,t,i,n,r={data:[],metadata:[]}){let s=[];return{data:this.groupDataRecursive(e,t,0,null,s,i,n,r),metadata:s}}},Sb=class extends wb{getFieldValue(e,t,i=!1,n=!1){return super.getFieldValue(e.data,t,i,n)}},bb=class{clone(e){return LS(e)}},Db={String:"string",Number:"number",Boolean:"boolean",Date:"date",DateTime:"dateTime",Time:"time",Currency:"currency",Percent:"percent",Image:"image"},Eb=Db,Ib=class{static sort(e,t,i=new wb,n){return i.sort(e,t,n)}static treeGridSort(e,t,i=new Sb,n,r){let s=[];return e.forEach((e=>{let o=Ib.cloneTreeGridRecord(e);o.parent=n,o.children&&(o.children=Ib.treeGridSort(o.children,t,i,o,r)),s.push(o)})),s=Ib.sort(s,t,i,r),s}static cloneTreeGridRecord(e){return{key:e.key,data:e.data,children:e.children,isFilteredOutParent:e.isFilteredOutParent,level:e.level,expanded:e.expanded}}static group(e,t,i=new Cb,n=null,r=[],s={data:[],metadata:[]}){return r.splice(0,r.length),i.groupBy(e,t,n,r,s)}static page(e,t,i){if(!t)return e;let n=void 0!==i?i:e.length,r=t.index,s=[],o=void 0!==i&&t.recordsPerPage>i?i:t.recordsPerPage;return t.metadata={countPages:0,countRecords:n,error:cb.None},r<0||isNaN(r)?(t.metadata.error=cb.IncorrectPageIndex,s):o<=0||isNaN(o)?(t.metadata.error=cb.IncorrectRecordsPerPage,s):(t.metadata.countPages=Math.ceil(n/o),n?r>=t.metadata.countPages?(t.metadata.error=cb.IncorrectPageIndex,s):e.slice(r*o,(r+1)*o):e)}static correctPagingState(e,t){let i=Math.ceil(t/e.recordsPerPage)-1;!isNaN(i)&&e.index>i&&(e.index=i)}static getHierarchy(e){return fb(e)}static isHierarchyMatch(e,t,i){return mb(e,t,i)}static mergeTransactions(e,t,i,n=new bb,r=!1){return e.forEach(((r,s)=>{let o=i?r[i]:r,a=t.find((e=>e.id===o));a&&a.type===hb.UPDATE&&(e[s]=NS(n.clone(e[s]),a.newValue))})),r&&t.filter((e=>e.type===hb.DELETE)).forEach((t=>{let n=i?e.findIndex((e=>e[i]===t.id)):e.findIndex((e=>e===t.id));0<=n&&n<e.length&&e.splice(n,1)})),e.push(...t.filter((e=>e.type===hb.ADD)).map((e=>e.newValue))),e}static mergeHierarchicalTransactions(e,t,i,n,r=new bb,s=!1){for(let o of t)if(o.path){let t=this.findParentFromPath(e,n,i,o.path),a=t?t[i]:e;switch(o.type){case hb.ADD:t&&!t[i]&&(t[i]=a=[]),a.push(o.newValue);break;case hb.UPDATE:let e=a.findIndex((e=>e[n]===o.id));-1!==e&&(a[e]=NS(r.clone(a[e]),o.newValue));break;case hb.DELETE:if(s){let e=a.findIndex((e=>e[n]===o.id));-1!==e&&a.splice(e,1)}}}else e.push(o.newValue);return e}static parseValue(e,t){return(e===Eb.Number||e===Eb.Currency||e===Eb.Percent)&&(t=parseFloat(t)),t}static findParentFromPath(e,t,i,n){let r,s=e;for(let e of n){if(r=s&&s.find((i=>i[t]===e)),!r)break;s=r[i]}return r}},Tb=class{static getKeysFromData(e){let t=e.length;if(0===t)return[];let i=e[0],n=e[Math.floor(t/2)],r=e[t-1],s=Object.keys(i),o=Object.keys(n),a=Object.keys(r),l=new Set(s.concat(o).concat(a));return Tb.isSpecialData(i)?["Column 1"]:Array.from(l)}static saveBlobToFile(e,t){let i=document.createElement("a"),n=window.URL.createObjectURL(e);i.download=t,i.href=n,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}static stringToArrayBuffer(e){let t=new ArrayBuffer(e.length),i=new Uint8Array(t);for(let t=0;t!==e.length;++t)i[t]=255&e.charCodeAt(t);return t}static isSpecialData(e){return"string"==typeof e||"number"==typeof e||e instanceof Date}static hasValue(e){return null!=e}static isNullOrWhitespaces(e){return null==e||!e.trim()}static sanitizeValue(e){return this.hasValue(e)?String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):""}},Ab=((Ab=Ab||{})[Ab.Regular=0]="Regular",Ab[Ab.Advanced=1]="Advanced",Ab),kb=class{constructor(e,t){this.filteringOperands=[],this.operator=e,this.fieldName=t}static empty(e){return!e||!e.filteringOperands||!e.filteringOperands.length}find(e){let t=this.findIndex(e);return t>-1?this.filteringOperands[t]:null}findIndex(e){let t;for(let i=0;i<this.filteringOperands.length;i++)if(t=this.filteringOperands[i],t instanceof kb){if(this.isFilteringExpressionsTreeForColumn(t,e))return i}else if(t.fieldName===e)return i;return-1}isFilteringExpressionsTreeForColumn(e,t){if(e.fieldName===t)return!0;for(let i of e.filteringOperands)return i instanceof kb?this.isFilteringExpressionsTreeForColumn(i,t):i.fieldName===t;return!1}},Rb=((Rb=Rb||{})[Rb.And=0]="And",Rb[Rb.Or=1]="Or",Rb),Ob=class{static filter(e,t,i){return t.strategy||(t.strategy=new Pb),t.strategy.filter(e,t.expressionsTree,t.advancedExpressionsTree,i)}},Fb=class{findMatchByExpression(e,t,i,n,r){let s=t.condition,o=this.getFieldValue(e,t.fieldName,i,n,r);return s.logic(o,t.searchVal,t.ignoreCase)}matchRecord(e,t,i){if(t){if(t instanceof kb){let n,r=t,s=r.operator;if(r.filteringOperands&&r.filteringOperands.length){for(let t of r.filteringOperands){if(n=this.matchRecord(e,t,i),!n&&s===Rb.And)return!1;if(n&&s===Rb.Or)return!0}return n}return!0}{let n=t,r=i&&i.getColumnByName(n.fieldName),s=!!r&&("date"===r.dataType||"dateTime"===r.dataType),o=!!r&&"time"===r.dataType;return this.findMatchByExpression(e,n,s,o,i)}}return!0}getFilterItems(e,t){let i=e.grid.gridAPI.filterDataByExpressions(t);i=e.grid.gridAPI.sortDataByExpressions(i,[{fieldName:e.field,dir:gb.Asc,ignoreCase:e.sortingIgnoreCase}]);let n=e.field,r=i.map((t=>{let i=tb(t,n),r=e.formatter&&this.shouldFormatFilterValues(e);return i=r?e.formatter(i,t):i,{value:i,label:this.getFilterItemLabel(e,i,!r,t)}}));return r=this.getUniqueFilterItems(e,r),Promise.resolve(r)}getFilterItemLabel(e,t,i,n){if(e.formatter)return i?e.formatter(t,n):t;let{display:r,format:s,digitsInfo:o,currencyCode:a,timezone:l}=e.pipeArgs,d=e.grid.locale;switch(e.dataType){case Eb.Date:case Eb.DateTime:case Eb.Time:return ab(t,s,d,l);case Eb.Currency:return lb(t,a||Mp(d),r,o,d);case Eb.Number:return vm(t,d,o);case Eb.Percent:return ym(t,d,o);default:return t}}getUniqueFilterItems(e,t){let i=t.reduce(((t,i)=>{let n=i.value;if(e.dataType===Eb.String&&e.filteringIgnoreCase)n=n?.toString().toLowerCase();else if(e.dataType===Eb.DateTime)n=i.value?.toString(),i.value=n&&new Date(n);else if(e.dataType===Eb.Time){let e=n&&new Date(n);n=e?(new Date).setHours(e.getHours(),e.getMinutes(),e.getSeconds()):n,i.value=n&&new Date(n)}else if(e.dataType===Eb.Date){let e=n&&new Date(n);n=e?new Date(e.getFullYear(),e.getMonth(),e.getDate()).toISOString():n,i.value=e}return t.has(n)?t:t.set(n,i)}),new Map);return Array.from(i.values())}shouldFormatFilterValues(e){return!1}},Pb=(()=>{let e=class extends Fb{constructor(){super()}static instance(){return this._instance||(this._instance=new this)}filter(e,t,i,n){let r,s,o=e.length,a=[];if(kb.empty(t)&&kb.empty(i)||!o)return e;for(r=0;r<o;r++)s=e[r],this.matchRecord(s,t,n)&&this.matchRecord(s,i,n)&&a.push(s);return a}getFieldValue(e,t,i=!1,n=!1,r){let s=r?.getColumnByName(t),o=tb(e,t);return o=s?.formatter&&this.shouldFormatFilterValues(s)?s.formatter(o,e):o&&(i||n)?HS(o):o,o}},t=e;return e._instance=null,t})(),Mb=class extends Fb{constructor(e){super(),this.hierarchicalFilterFields=e}filter(e,t,i,n){return this.filterImpl(e,t,i,void 0,n)}getFieldValue(e,t,i=!1,n=!1,r){let s=r?.getColumnByName(t),o=e,a=this.isHierarchicalFilterField(t)?this.getHierarchicalFieldValue(o,t):tb(o.data,t);return a=s?.formatter&&this.shouldFormatFilterValues(s)?s.formatter(a,e.data):a&&(i||n)?HS(a):a,a}getHierarchicalFieldValue(e,t){let i=tb(e.data,t);return e.parent?`${this.getHierarchicalFieldValue(e.parent,t)}${i?`.[${i}]`:""}`:`[${i}]`}filterImpl(e,t,i,n,r){let s,o,a=e.length,l=[];if(kb.empty(t)&&kb.empty(i)||!a)return e;for(s=0;s<a;s++){if(o=Ib.cloneTreeGridRecord(e[s]),o.parent=n,o.children){let e=this.filterImpl(o.children,t,i,o,r);o.children=e.length>0?e:null}this.matchRecord(o,t,r)&&this.matchRecord(o,i,r)?l.push(o):o.children&&o.children.length>0&&(o.isFilteredOutParent=!0,l.push(o))}return l}isHierarchicalFilterField(e){return this.hierarchicalFilterFields&&-1!==this.hierarchicalFilterFields.indexOf(e)}getFilterItems(e,t){if(!this.isHierarchicalFilterField(e.field))return super.getFilterItems(e,t);let i=e.grid.gridAPI.filterTreeDataByExpressions(t);i=Ib.treeGridSort(i,[{fieldName:e.field,dir:gb.Asc,ignoreCase:e.sortingIgnoreCase}],e.grid.sortStrategy,null,e.grid);let n=this.getHierarchicalFilterItems(i,e);return Promise.resolve(n)}getHierarchicalFilterItems(e,t,i){return e?.map((e=>{let n=tb(e.data,t.field),r=t.formatter&&this.shouldFormatFilterValues(t);n=r?t.formatter(n,e.data):n;let s={value:i?n||0===n?`${i.value}.[${n}]`:n:`[${n}]`};return s.label=this.getFilterItemLabel(t,n,!r,e.data),s.children=this.getHierarchicalFilterItems(e.children,t,s),s}))}},Vb="quickFilter",Nb="excelStyleFilter",Lb="top",Hb="bottom",Bb="rootLevelOnly",Gb="childLevelsOnly",zb="rootAndChildLevels",$b="none",Wb="single",jb="multiple",Kb="multipleCascade",Ub="Alphabetical",qb="DisplayOrder",Yb=((Yb=Yb||{})[Yb.Start=0]="Start",Yb[Yb.End=1]="End",Yb),Xb=((Xb=Xb||{})[Xb.Top=0]="Top",Xb[Xb.Bottom=1]="Bottom",Xb),Zb=((Zb=Zb||{})[Zb.Local=0]="Local",Zb[Zb.Remote=1]="Remote",Zb),Qb=((Qb=Qb||{})[Qb.Grid=0]="Grid",Qb[Qb.TreeGrid=1]="TreeGrid",Qb),Jb=((Jb=Jb||{}).GroupedRecord="GroupedRecord",Jb.TreeGridRecord="TreeGridRecord",Jb.DataRecord="DataRecord",Jb.HierarchicalGridRecord="HierarchicalGridRecord",Jb.HeaderRecord="HeaderRecord",Jb.SummaryRecord="SummaryRecord",Jb.PivotGridRecord="PivotGridRecord",Jb),eD=((eD=eD||{}).RowHeader="RowHeader",eD.ColumnHeader="ColumnHeader",eD.MultiRowHeader="MultiRowHeader",eD.MultiColumnHeader="MultiColumnHeader",eD),tD=class{get columnIndex(){return this._columnIndex}set columnIndex(e){this._columnIndex=e,this.userSetIndex=!0}constructor(e){this.userSetIndex=!1,this.header=e.header,this.field=e.field,this.cancel=e.cancel,this.skipFormatter=e.skipFormatter,this.grid=e.grid,this.owner=e.owner,this._columnIndex=e.columnIndex}},iD="default",nD="igxGridRootSummary",rD="grid-parent",sD="GRID_LEVEL_COL",oD=8.43,aD="grid-child-",lD=class{constructor(){this.exportEnded=new zu,this.rowExporting=new zu,this.columnExporting=new zu,this._sort=null,this._ownersMap=new Map,this._setChildSummaries=!1,this.summaries=new Map,this.rowIslandCounter=-1,this.flatRecords=[],this.pivotGridColumns=[],this.pivotGridKeyValueMap=new Map}export(e,t){if(null==t)throw Error("No options provided!");this.options=t,this.locale=e.locale;let i=e.columns;this.options.ignoreMultiColumnHeaders&&(i=i.filter((e=>void 0===e.children)));let n=this.getColumns(i),r=e.nativeElement.tagName.toLowerCase();if(/^ig.-hierarchical-grid$/.test(r)){this._ownersMap.set(e,n);let t=e.childLayoutList;for(let i of t)this.mapHierarchicalGridColumns(i,e.data[0])}else/^ig.-pivot-grid$/.test(r)?(this.pivotGridColumns=[],this.isPivotGridExport=!0,this.pivotGridKeyValueMap=new Map,this.pivotGridRowDimensionsMap=new Map,e.pivotConfiguration.rows.filter((e=>e.enabled)).forEach((e=>{this.addToRowDimensionsMap(e,e.memberName)})),this._ownersMap.set(iD,n)):this._ownersMap.set(iD,n);this.summaries=this.prepareSummaries(e),this._setChildSummaries=this.summaries.size>1&&e.summaryCalculationMode!==Bb,this.addLevelColumns(),this.prepareData(e),this.addLevelData(),this.addPivotGridColumns(e),this.exportGridRecordsData(this.flatRecords,e)}exportData(e,t){if(null==t)throw Error("No options provided!");this.options=t;let i=e.map((e=>({data:e,type:Jb.DataRecord,level:0})));this.exportGridRecordsData(i)}addToRowDimensionsMap(e,t){this.pivotGridRowDimensionsMap[e.memberName]=t,e.childLevel&&this.addToRowDimensionsMap(e.childLevel,t)}exportGridRecordsData(e,t){if(0===this._ownersMap.size){let t=e.filter((e=>e.type!==Jb.SummaryRecord)).map((e=>e.data)),i=Tb.getKeysFromData(t),n={columns:i.map((e=>({header:e,field:e,skip:!1,headerType:eD.ColumnHeader,level:0,columnSpan:1}))),columnWidths:new Array(i.length).fill(oD),indexOfLastPinnedColumn:-1,maxLevel:0};this._ownersMap.set(iD,n)}let i=!1;for(let[e,n]of this._ownersMap){let r=0,s=1,o=n.indexOfLastPinnedColumn;n.columns.forEach(((a,l)=>{if(!a.skip){let d={header:Tb.isNullOrWhitespaces(a.header)?"Column"+s++:a.header,field:a.field,columnIndex:l,cancel:!1,skipFormatter:!1,grid:e===iD?t:e},c=new tD(d);if(this.columnExporting.emit(c),a.header=c.header,a.skip=c.cancel,a.skipFormatter=c.skipFormatter,c.userSetIndex&&(a.exportIndex=c.columnIndex,i=!0),a.skip){l<=o&&r++,this.calculateColumnSpans(a,n,a.columnSpan);let t=n.columns.filter((e=>!e.skip));t.length>0&&(this._ownersMap.get(e).maxLevel=t.sort(((e,t)=>t.level-e.level))[0].level)}this._sort&&this._sort.fieldName===a.field&&(a.skip?this._sort=null:this._sort.fieldName=a.header)}})),o-=r,i&&(n.columns=this.reorderColumns(n.columns))}let n=new Array,r=e[0]?.data,s=Tb.isSpecialData(r);ib(e.length,100,(t=>{let i=e[t];this.exportRow(n,i,t,s)}),(()=>{this.exportDataImplementation(n,this.options,(()=>{this.resetDefaults()}))}))}calculateColumnSpans(e,t,i){e.headerType===eD.MultiColumnHeader&&e.skip&&t.columns.filter((t=>t.columnGroupParent===e.columnGroup)).forEach((e=>{e.headerType===eD.MultiColumnHeader?(e.columnSpan=0,e.columnGroupParent=null,e.skip=!0,this.calculateColumnSpans(e,t,e.columnSpan)):e.skip=!0}));let n=t.columns.filter((t=>null!==e.columnGroupParent&&t.columnGroup===e.columnGroupParent))[0];void 0!==n&&(n.columnSpan-=i,null!==n.columnGroupParent&&this.calculateColumnSpans(n,t,i),0===n.columnSpan&&(n.skip=!0))}exportRow(e,t,i,n){if(!n){let e=void 0===t.owner?iD:t.owner,i=this._ownersMap.get(e).columns;if(t.type!==Jb.HeaderRecord){let e=i.filter((e=>e.headerType===eD.ColumnHeader&&!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex));t.data=e.reduce(((e,i)=>{if(!i.skip){let n=tb(t.data,i.field),r=i.formatter&&!i.skipFormatter&&t.type!==Jb.GroupedRecord;"date"!==i.dataType&&"dateTime"!==i.dataType&&"time"!==i.dataType||t.type===Jb.SummaryRecord||t.type===Jb.GroupedRecord||n instanceof Date||r||null==n?"string"===i.dataType&&n instanceof Date&&(n=n.toString()):n=new Date(n);let s=r?i.formatter(n):n;this.isPivotGridExport&&!isNaN(parseFloat(s))&&(s=parseFloat(s)),e[i.field]=s}return e}),{})}else{let e=i.filter((e=>e.skip)).map((e=>e.header?e.header:e.field));t.data=t.data.filter((t=>-1===e.indexOf(t)))}}let r={rowData:t.data,rowIndex:i,cancel:!1};this.rowExporting.emit(r),r.cancel||e.push(t)}reorderColumns(e){let t=e.filter((e=>!e.skip)),i=t.length,n=t.filter((e=>!isNaN(e.exportIndex))).sort(((e,t)=>e.exportIndex-t.exportIndex)),r=n.map((e=>e.exportIndex));n.forEach((e=>{t.splice(t.indexOf(e),1)}));let s=new Array(i);if(n.length>Math.max(...r))return n.concat(t);r.forEach(((e,r)=>{if(e<0||e>=i)t.push(n[r]);else{let t=e;for(;t<i&&void 0!==s[t];)++t;s[t]=n[r]}}));for(let e=0;e<i;e++)void 0===s[e]&&(s[e]=t.splice(0,1)[0]);return s}prepareData(e){this.flatRecords=[];let t=e.nativeElement.tagName.toLowerCase(),i=e.filteringExpressionsTree&&e.filteringExpressionsTree.filteringOperands.length>0||e.advancedFilteringExpressionsTree&&e.advancedFilteringExpressionsTree.filteringOperands.length>0,n=e.groupingExpressions?e.groupingExpressions.concat(e.sortingExpressions||[]):e.sortingExpressions,r=n&&n.length>0,s=!1;switch(!0){case/^ig.-pivot-grid$/.test(t):this.preparePivotGridData(e);break;case/^ig.-hierarchical-grid$/.test(t):this.prepareHierarchicalGridData(e,i,r),s=!0;break;case/^ig.-tree-grid$/.test(t):this.prepareTreeGridData(e,i,r);break;default:this.prepareGridData(e,i,r)}this.summaries.size>0&&e.summaryCalculationMode!==Gb&&(s?this.setSummaries(nD,0,!1,e):this.setSummaries(nD))}preparePivotGridData(e){for(let t of e.filteredSortedData){let e=Object.fromEntries(t.aggregationValues);t.dimensionValues.forEach(((t,i)=>{let n=this.pivotGridRowDimensionsMap[i];e[n]=t}));let i={data:e,level:t.level,type:Jb.PivotGridRecord};this.flatRecords.push(i)}}prepareHierarchicalGridData(e,t,i){if(t&&this.options.ignoreFiltering||i&&this.options.ignoreSorting){let n=e.data;if(t&&!this.options.ignoreFiltering){let t={expressionsTree:e.filteringExpressionsTree,advancedExpressionsTree:e.advancedFilteringExpressionsTree,strategy:e.filterStrategy};n=Ob.filter(n,t,e)}i&&!this.options.ignoreSorting&&(this._sort=LS(e.sortingExpressions[0]),n=Ib.sort(n,e.sortingExpressions,e.sortStrategy,e)),this.addHierarchicalGridData(e,n)}else{let t=e.filteredSortedData;this.addHierarchicalGridData(e,t)}}addHierarchicalGridData(e,t){let i=e.childLayoutList,n=this._ownersMap.get(e).columns.map((e=>e.field));for(let r of t){let t=!!e.expansionStates.has(r)&&e.expansionStates.get(r),s={data:Object.keys(r).filter((e=>n.includes(e))).reduce(((e,t)=>(e[t]=r[t],e)),{}),level:0,type:Jb.HierarchicalGridRecord,owner:e,hierarchicalOwner:rD};this.flatRecords.push(s);for(let n of i){let i={rowID:n.primaryKey?r[n.primaryKey]:r,rowIslandKey:n.key},s=e?.gridAPI.getChildGrid([i]),o=this.prepareIslandData(n,s,r[n.key])||[];this.getAllChildColumnsAndData(n,o,t,s)}}}prepareSummaries(e){let t=new Map;if(this.options.exportSummaries&&e.summaryService.summaryCacheMap.size>0){let i=e.summaryService.summaryCacheMap;switch(e.summaryCalculationMode){case Gb:i.delete(nD);break;case Bb:for(let e of i.keys())e!==nD&&i.delete(e)}t=i}return t}prepareIslandData(e,t,i){if(void 0!==t){let e=t.filteringExpressionsTree&&t.filteringExpressionsTree.filteringOperands.length>0||t.advancedFilteringExpressionsTree&&t.advancedFilteringExpressionsTree.filteringOperands.length>0,n=t.sortingExpressions&&t.sortingExpressions.length>0;if(e&&this.options.ignoreFiltering||n&&this.options.ignoreSorting){if(e&&!this.options.ignoreFiltering){let e={expressionsTree:t.filteringExpressionsTree,advancedExpressionsTree:t.advancedFilteringExpressionsTree,strategy:t.filterStrategy};i=Ob.filter(i,e,t)}n&&!this.options.ignoreSorting&&(this._sort=LS(t.sortingExpressions[0]),i=Ib.sort(i,t.sortingExpressions,t.sortStrategy,t))}else i=t.filteredSortedData}else{let t=e.filteringExpressionsTree&&e.filteringExpressionsTree.filteringOperands.length>0||e.advancedFilteringExpressionsTree&&e.advancedFilteringExpressionsTree.filteringOperands.length>0,n=e.sortingExpressions&&e.sortingExpressions.length>0;if(t&&!this.options.ignoreFiltering||n&&!this.options.ignoreSorting){if(t&&!this.options.ignoreFiltering){let t={expressionsTree:e.filteringExpressionsTree,advancedExpressionsTree:e.advancedFilteringExpressionsTree,strategy:e.filterStrategy};i=Ob.filter(i,t,e)}n&&!this.options.ignoreSorting&&(this._sort=LS(e.sortingExpressions[0]),i=Ib.sort(i,e.sortingExpressions,e.sortStrategy,e))}}return i}getAllChildColumnsAndData(e,t,i,n){let r=`${aD}${++this.rowIslandCounter}`,s={data:this._ownersMap.get(e).columns.filter((e=>e.headerType===eD.ColumnHeader)).map((e=>e.header?e.header:e.field)),level:e.level,type:Jb.HeaderRecord,owner:e,hidden:!i,hierarchicalOwner:r};if(t&&t.length>0){this.flatRecords.push(s);for(let s of t){let t={data:s,level:e.level,type:Jb.HierarchicalGridRecord,owner:e,hidden:!i,hierarchicalOwner:r};if(t.summaryKey=e.key,this.flatRecords.push(t),e.children.length>0){let t=void 0!==n&&!!n.expansionStates.has(s)&&n.expansionStates.get(s);for(let i of e.children){let r={rowID:i.primaryKey?s[i.primaryKey]:s,rowIslandKey:i.key},o=n?.gridAPI.getChildGrid([r]),a=this.prepareIslandData(e,o,s[i.key])||[];this.getAllChildColumnsAndData(i,a,t,o)}}}if(n){let t=this.prepareSummaries(n);for(let n of t.keys()){let s=t.get(n);this.setSummaries(e.key,e.level,!i,e,s,r)}}}}prepareGridData(e,t,i){let n={expressions:e.groupingExpressions,expansion:e.groupingExpansionState,defaultExpanded:e.groupsExpanded},r=e.groupingExpressions&&e.groupingExpressions.length>0;if(t&&this.options.ignoreFiltering||i&&this.options.ignoreSorting||r&&this.options.ignoreGrouping){let s=e.data;if(t&&!this.options.ignoreFiltering){let t={expressionsTree:e.filteringExpressionsTree,advancedExpressionsTree:e.advancedFilteringExpressionsTree,strategy:e.filterStrategy};s=Ob.filter(s,t,e)}if(i&&!this.options.ignoreSorting){let t=e.groupingExpressions?e.groupingExpressions.concat(e.sortingExpressions||[]):e.sortingExpressions;s=Ib.sort(s,t,e.sortStrategy,e)}if(r&&!this.options.ignoreGrouping){let t=[];Ib.group(MS(s),n,e.groupStrategy,e,t),s=t}r&&!this.options.ignoreGrouping?this.addGroupedData(e,s,n,!0):this.addFlatData(s)}else r?this.addGroupedData(e,e.groupsRecords,n,!0):this.addFlatData(e.filteredSortedData)}prepareTreeGridData(e,t,i){if(t&&this.options.ignoreFiltering||i&&this.options.ignoreSorting){let n=e.rootRecords;if(t&&!this.options.ignoreFiltering){let t={expressionsTree:e.filteringExpressionsTree,advancedExpressionsTree:e.advancedFilteringExpressionsTree,strategy:e.filterStrategy?e.filterStrategy:new Mb};n=t.strategy.filter(n,t.expressionsTree,t.advancedExpressionsTree)}i&&!this.options.ignoreSorting&&(this._sort=LS(e.sortingExpressions[0]),n=Ib.treeGridSort(n,e.sortingExpressions,e.sortStrategy)),this.addTreeGridData(n)}else this.addTreeGridData(e.processedRootRecords)}addTreeGridData(e,t=!0,i){if(e)for(let n of e){let e={data:n.data,level:n.level,hidden:!t,type:Jb.TreeGridRecord,summaryKey:n.key,hierarchicalOwner:0===n.level?rD:i};this.flatRecords.push(e),n.children&&this.getTreeGridChildData(n.children,n.key,n.level,n.expanded&&t)}}getTreeGridChildData(e,t,i,n=!0){let r=`${aD}${++this.rowIslandCounter}`,s=i,o=!n;for(let i of e)if(i.children&&i.children.length>0)this.addTreeGridData([i],n,r),s=i.level;else{let e={data:i.data,level:i.level,hidden:!n,type:Jb.DataRecord,hierarchicalOwner:r};this._setChildSummaries&&(e.summaryKey=t),this.flatRecords.push(e),s=i.level,o=!n}this._setChildSummaries&&this.setSummaries(t,s,o,null,null,r)}addFlatData(e){if(e)for(let t of e){let e={data:t,type:Jb.DataRecord,level:0};this.flatRecords.push(e)}}setSummaries(e,t=0,i=!1,n,r,s){let o=r??this.summaries.get(e);if(o){let r=[...o.values()].sort(((e,t)=>t.length-e.length))[0];for(let a=0;a<r.length;a++){let r={};for(let[e,t]of o){let i=t.map((e=>({label:e.label,value:e.summaryResult})));r[e]=i[a]}let l={data:r,type:Jb.SummaryRecord,level:t,hidden:i,summaryKey:e,hierarchicalOwner:s};n&&(l.owner=n),this.flatRecords.push(l)}}}addGroupedData(e,t,i,n,r=!0,s=[]){if(!t)return;let o="",a=this._ownersMap.get(iD).columns.filter((e=>e.headerType===eD.ColumnHeader&&!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex))[0].field;for(let l of t){let t=l.value,d=n?rD:`${aD}${++this.rowIslandCounter}`,c=fb(l),h=i.expansion.find((i=>mb(i.hierarchy||[{fieldName:l.expression.fieldName,value:t}],c,e.groupingExpressions))),u=h?h.expanded:i.defaultExpanded;if(t instanceof Date){let i=6e4*t.getTimezoneOffset(),n=new Date(t-i).toISOString();t=new $m(e.locale).transform(n)}let g=l.column&&l.column.header?l.column.header:l.expression.fieldName;t=null!==t?t:"";let p={data:{[a]:`${g}: ${t??"(Blank)"} (${l.records.length})`},level:l.level,hidden:!r,type:Jb.GroupedRecord,hierarchicalOwner:d};this.flatRecords.push(p);let m="",f="";if(this._setChildSummaries&&(m=`'${g}': '${t}'`,s=s.filter((e=>e!==o)),o=m,s.push(m),f=`{ ${s.join(", ")} }`,p.summaryKey=f),l.groups.length>0)this.addGroupedData(e,l.groups,i,!1,u&&r,s);else{let e=l.records;for(let t of e){let e={data:t,level:l.level+1,hidden:!(u&&r),type:Jb.DataRecord,hierarchicalOwner:d};f&&(e.summaryKey=f),this.flatRecords.push(e)}}this._setChildSummaries&&(this.setSummaries(f,l.level+1,!(u&&r),null,null,d),s.pop())}}getColumns(e){let t=[],i=[],n=[],r=-1,s=-1,o=0;return e.forEach((e=>{let a=Tb.isNullOrWhitespaces(e.header)?e.field:e.header,l=!e.hidden||this.options.ignoreColumnsVisibility,d=this.options.ignoreColumnsOrder||this.options.ignoreColumnsVisibility?e.index:e.visibleIndex,c=Number(e.width?.slice(0,-2))||oD,h=this.options.ignoreMultiColumnHeaders?0:e.level,u=e.columnGroup,g=u?e.allChildren.filter((e=>!(e.columnGroup||!this.options.ignoreColumnsVisibility&&e.hidden))).length:1,p={header:Tb.sanitizeValue(a),dataType:e.dataType,field:e.field,skip:!l,formatter:e.formatter,skipFormatter:!1,headerType:u?eD.MultiColumnHeader:eD.ColumnHeader,columnSpan:g,level:h,startIndex:d,pinnedIndex:e.pinned?e.hidden?NaN:e.grid.pinnedColumns.indexOf(e):Number.MAX_VALUE,columnGroupParent:e.parent?e.parent:null,columnGroup:u?e:null};"currency"===e.dataType&&(p.currencyCode=e.pipeArgs.currencyCode?e.pipeArgs.currencyCode:Mp(this.locale),p.displayFormat=e.pipeArgs.display?e.pipeArgs.display:"symbol",p.digitsInfo=e.pipeArgs.digitsInfo?e.pipeArgs.digitsInfo:"1.0-2"),"date"===e.dataType&&(p.dateFormat=kp(this.locale,Ip.Medium)),"dateTime"===e.dataType&&(p.dateFormat=Op(this.locale,Ip.Medium)),this.options.ignoreColumnsOrder&&p.startIndex!==p.pinnedIndex&&(p.pinnedIndex=Number.MAX_VALUE),e.level>o&&!this.options.ignoreMultiColumnHeaders&&(o=e.level),-1!==d?(t.push(p),i.push(c),s=Math.max(s,t.indexOf(p))):n.push(p),e.pinned&&l&&p.headerType===eD.ColumnHeader&&r++})),n.forEach((e=>{t[++s]=e})),{columns:t,columnWidths:i,indexOfLastPinnedColumn:r,maxLevel:o}}mapHierarchicalGridColumns(e,t){let i,n;if(e.autoGenerate){n=t[e.key];let r=e.children.map((e=>e.key)),s=n.map((e=>{let t={};return Object.keys(e).map((i=>{r.includes(i)||(t[i]=e[i])})),t}));i=this.getAutoGeneratedColumns(s)}else{let t=e.columns;i=this.getColumns(t)}if(this._ownersMap.set(e,i),e.children.length>0)for(let t of e.children){let e=void 0!==n?n[0]:{};this.mapHierarchicalGridColumns(t,e)}}getAutoGeneratedColumns(e){let t=[],i=[];return Object.keys(e[0]).forEach(((e,n)=>{let r={header:e,field:e,dataType:"string",skip:!1,headerType:eD.ColumnHeader,columnSpan:1,level:0,startIndex:n,pinnedIndex:Number.MAX_VALUE};t.push(r),i.push(oD)})),{columns:t,columnWidths:i,indexOfLastPinnedColumn:-1,maxLevel:0}}addPivotGridColumns(e){if(!/^ig.-pivot-grid$/.test(e.nativeElement.tagName.toLowerCase()))return;let t=e.pivotConfiguration.rows.filter((e=>e.enabled)).map(((e,t)=>({name:e.memberName,level:t})));this.preparePivotGridColumns(t),this.pivotGridFilterFieldsCount=t.length;let i=this._ownersMap.get(iD);i.columns.unshift(...this.pivotGridColumns),i.columnWidths.unshift(...Array(this.pivotGridColumns.length).fill(200)),i.indexOfLastPinnedColumn=t.length-1,i.maxRowLevel=t.length,this._ownersMap.set(iD,i)}preparePivotGridColumns(e,t){if(0===e.length)return;let i=0,n=e[0],r=this.flatRecords.map((e=>e.data)).reduce(((e,t)=>v(y({},e),{[t[n.name]]:(e[t[n.name]]||[]).concat(t)})),{});if(t){let e=[...this.pivotGridKeyValueMap.keys()],t=[...this.pivotGridKeyValueMap.values()];for(let i of Object.keys(r))r[i]=r[i].filter((i=>e.every((e=>Object.keys(i).includes(e)))&&t.every((e=>Object.values(i).includes(e))))),0===r[i].length&&delete r[i]}for(let s of Object.keys(r)){let o=r[s].length,a={rowSpan:o,field:s,header:s,startIndex:i,skip:!1,pinnedIndex:0,level:n.level,dataType:"string",headerType:r[s].length>1?eD.MultiRowHeader:eD.RowHeader};if(t?a.columnGroupParent=t:a.columnGroup=s,this.pivotGridColumns.push(a),e.length>1){this.pivotGridKeyValueMap.set(n.name,s);let t=e.filter((e=>e!==n));this.preparePivotGridColumns(t,s),this.pivotGridKeyValueMap.delete(n.name)}i+=o}}addLevelColumns(){this.options.exportSummaries&&this.summaries.size>0&&this._ownersMap.forEach((e=>{let t={header:sD,dataType:"number",field:sD,skip:!1,skipFormatter:!1,headerType:eD.ColumnHeader,columnSpan:1,level:0};e.columns.push(t),e.columnWidths.push(20)}))}addLevelData(){if(this.options.exportSummaries&&this.summaries.size>0)for(let e of this.flatRecords)(e.type===Jb.DataRecord||e.type===Jb.TreeGridRecord||e.type===Jb.HierarchicalGridRecord)&&(e.data[sD]=e.level)}resetDefaults(){this._sort=null,this.flatRecords=[],this.options={},this._ownersMap.clear(),this.rowIslandCounter=0}},dD=class{constructor(e,t,i=[]){this._data=e,this.columns=i,this._headerRecord="",this._dataRecords="",this._eor="\r\n",this._escapeCharacters=["\r","\n","\r\n"],this._delimiterLength=1,this._isSpecialData=!1,this.setDelimiter(t)}prepareData(e){if(!this._data||0===this._data.length)return"";let t=[];return t=e||Tb.getKeysFromData(this._data),0===t.length?"":(this._isSpecialData=Tb.isSpecialData(this._data[0]),this._escapeCharacters.push(this._delimiter),this._headerRecord=this.processHeaderRecord(t,this._data.length),this._dataRecords=this.processDataRecords(this._data,t),this._headerRecord+this._dataRecords)}prepareDataAsync(e){let t=this.columns?.filter((e=>!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)),i=t&&t.length?t.map((e=>e.field)):Tb.getKeysFromData(this._data);this._isSpecialData=Tb.isSpecialData(this._data[0]),this._escapeCharacters.push(this._delimiter);let n=t&&t.length?t.map((e=>e.header??e.field)):i;this._headerRecord=this.processHeaderRecord(n,this._data.length),0!==i.length&&(this._data&&0!==this._data.length||0!==i.length)?this.processDataRecordsAsync(this._data,i,(t=>{e(this._headerRecord+t)})):e("")}processField(e,t){let i=Tb.hasValue(e)?String(e):"";return t.some((e=>i.includes(e)))&&(i=`"${i}"`),i+this._delimiter}processHeaderRecord(e,t){let i="";for(let t of e)i+=this.processField(t,this._escapeCharacters);let n=i.slice(0,-this._delimiterLength);return t>0?n+this._eor:n}processRecord(e,t){let i=new Array(t.length);for(let n=0;n<t.length;n++){let r=void 0!==e[t[n]]?e[t[n]]:this._isSpecialData?e:"";i[n]=this.processField(r,this._escapeCharacters)}return i.join("").slice(0,-this._delimiterLength)+this._eor}processDataRecords(e,t){let i=new Array(e.length);for(let n=0;n<e.length;n++){let r=e[n];i[n]=this.processRecord(r,t)}return i.join("")}processDataRecordsAsync(e,t,i){let n=new Array(e.length);ib(e.length,1e3,(i=>{let r=e[i];n[i]=this.processRecord(r,t)}),(()=>{i(n.join(""))}))}setDelimiter(e){this._delimiter=e,this._delimiterLength=e.length}},cD=class{constructor(e,t){this._fileExtension=t,this.ignoreColumnsVisibility=!1,this.ignoreFiltering=!1,this.ignoreColumnsOrder=!1,this.ignoreSorting=!1,this.ignoreGrouping=!1,this.ignoreMultiColumnHeaders=!1,this.exportSummaries=!0,this.freezeHeaders=!1,this.alwaysExportHeaders=!0,this.setFileName(e)}setFileName(e){this._fileName=e+(!1===e.endsWith(this._fileExtension)?this._fileExtension:"")}get fileName(){return this._fileName}set fileName(e){this.setFileName(e)}},hD=class extends cD{constructor(e,t){super(e,hD.getExtensionFromFileType(t)),this.setFileType(t),this.setDelimiter()}static getExtensionFromFileType(e){let t="";switch(e){case uD.CSV:t=".csv";break;case uD.TSV:t=".tsv";break;case uD.TAB:t=".tab";break;default:throw Error("Unsupported CSV file type!")}return t}get valueDelimiter(){return this._valueDelimiter}set valueDelimiter(e){this.setDelimiter(e)}get fileType(){return this._fileType}set fileType(e){this.setFileType(e)}setFileType(e){if(null!=e&&e!==this._fileType){this._fileType=e;let t=hD.getExtensionFromFileType(e);if(!this.fileName.endsWith(t)){let e="."+this.fileName.split(".").pop(),i=this.fileName.replace(e,t);this._fileExtension=t,this.fileName=i}}}setDelimiter(e){if(void 0!==e&&""!==e&&null!==e)this._valueDelimiter=e;else switch(this.fileType){case uD.CSV:this._valueDelimiter=",";break;case uD.TSV:case uD.TAB:this._valueDelimiter="\t"}}},uD=((uD=uD||{})[uD.CSV=0]="CSV",uD[uD.TSV=1]="TSV",uD[uD.TAB=2]="TAB",uD),gD=(()=>{let e=class extends lD{constructor(){super(...arguments),this.exportEnded=new zu}exportDataImplementation(e,t,i){e=e.map((e=>e.data));let n=this._ownersMap.get(iD);new dD(e,t.valueDelimiter,n?.columns).prepareDataAsync((e=>{this._stringData=e,this.saveFile(t),this.exportEnded.emit({csvData:this._stringData}),i()}))}saveFile(e){switch(e.fileType){case uD.CSV:this.exportFile(this._stringData,e.fileName,"text/csv;charset=utf-8;");break;case uD.TSV:case uD.TAB:this.exportFile(this._stringData,e.fileName,"text/tab-separated-values;charset=utf-8;")}}exportFile(e,t,i){let n=new Blob([e?"\ufeff":"",e],{type:i});Tb.saveBlobToFile(n,t)}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.prov=ji({token:e,factory:e.fac,providedIn:"root"}),t})(),pD={},mD=Uint8Array,fD=Uint16Array,yD=Uint32Array,vD=new mD([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),xD=new mD([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_D=new mD([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wD=function(e,t){for(var i=new fD(31),n=0;n<31;++n)i[n]=t+=1<<e[n-1];var r=new yD(i[30]);for(n=1;n<30;++n)for(var s=i[n];s<i[n+1];++s)r[s]=s-i[n]<<5|n;return[i,r]},CD=wD(vD,2),SD=CD[0],bD=CD[1];SD[28]=258,bD[258]=28;var DD,ED=wD(xD,0),ID=(ED[0],ED[1]),TD=new fD(32768);for(RD=0;RD<32768;++RD)DD=(61680&(DD=(52428&(DD=(43690&RD)>>>1|(21845&RD)<<1))>>>2|(13107&DD)<<2))>>>4|(3855&DD)<<4,TD[RD]=((65280&DD)>>>8|(255&DD)<<8)>>>1;var AD=function(e,t,i){for(var n=e.length,r=0,s=new fD(t);r<n;++r)e[r]&&++s[e[r]-1];var o,a=new fD(t);for(r=0;r<t;++r)a[r]=a[r-1]+s[r-1]<<1;if(i){o=new fD(1<<t);var l=15-t;for(r=0;r<n;++r)if(e[r])for(var d=r<<4|e[r],c=t-e[r],h=a[e[r]-1]++<<c,u=h|(1<<c)-1;h<=u;++h)o[TD[h]>>>l]=d}else for(o=new fD(n),r=0;r<n;++r)e[r]&&(o[r]=TD[a[e[r]-1]++]>>>15-e[r]);return o},kD=new mD(288);for(RD=0;RD<144;++RD)kD[RD]=8;for(RD=144;RD<256;++RD)kD[RD]=9;for(RD=256;RD<280;++RD)kD[RD]=7;for(RD=280;RD<288;++RD)kD[RD]=8;var RD,OD=new mD(32);for(RD=0;RD<32;++RD)OD[RD]=5;var FD=AD(kD,9,0),PD=AD(OD,5,0),MD=function(e){return(e+7)/8|0},VD=function(e,t,i){(null==t||t<0)&&(t=0),(null==i||i>e.length)&&(i=e.length);var n=new(2==e.BYTES_PER_ELEMENT?fD:4==e.BYTES_PER_ELEMENT?yD:mD)(i-t);return n.set(e.subarray(t,i)),n},ND=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],LD=function(e,t,i){var n=new Error(t||ND[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,LD),!i)throw n;return n},HD=function(e,t,i){i<<=7&t;var n=t/8|0;e[n]|=i,e[n+1]|=i>>>8},BD=function(e,t,i){i<<=7&t;var n=t/8|0;e[n]|=i,e[n+1]|=i>>>8,e[n+2]|=i>>>16},GD=function(e,t){for(var i=[],n=0;n<e.length;++n)e[n]&&i.push({s:n,f:e[n]});var r=i.length,s=i.slice();if(!r)return[qD,0];if(1==r){var o=new mD(i[0].s+1);return o[i[0].s]=1,[o,1]}i.sort((function(e,t){return e.f-t.f})),i.push({s:-1,f:25001});var a=i[0],l=i[1],d=0,c=1,h=2;for(i[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=r-1;)a=i[i[d].f<i[h].f?d++:h++],l=i[d!=c&&i[d].f<i[h].f?d++:h++],i[c++]={s:-1,f:a.f+l.f,l:a,r:l};var u=s[0].s;for(n=1;n<r;++n)s[n].s>u&&(u=s[n].s);var g=new fD(u+1),p=zD(i[c-1],g,0);if(p>t){n=0;var m=0,f=p-t,y=1<<f;for(s.sort((function(e,t){return g[t.s]-g[e.s]||e.f-t.f}));n<r;++n){var v=s[n].s;if(!(g[v]>t))break;m+=y-(1<<p-g[v]),g[v]=t}for(m>>>=f;m>0;){var x=s[n].s;g[x]<t?m-=1<<t-g[x]++-1:++n}for(;n>=0&&m;--n){var _=s[n].s;g[_]==t&&(--g[_],++m)}p=t}return[new mD(g),p]},zD=function(e,t,i){return-1==e.s?Math.max(zD(e.l,t,i+1),zD(e.r,t,i+1)):t[e.s]=i},$D=function(e){for(var t=e.length;t&&!e[--t];);for(var i=new fD(++t),n=0,r=e[0],s=1,o=function(e){i[n++]=e},a=1;a<=t;++a)if(e[a]==r&&a!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=e[a]}return[i.subarray(0,n),t]},WD=function(e,t){for(var i=0,n=0;n<t.length;++n)i+=e[n]*t[n];return i},jD=function(e,t,i){var n=i.length,r=MD(t+2);e[r]=255&n,e[r+1]=n>>>8,e[r+2]=255^e[r],e[r+3]=255^e[r+1];for(var s=0;s<n;++s)e[r+s+4]=i[s];return 8*(r+4+n)},KD=function(e,t,i,n,r,s,o,a,l,d,c){HD(t,c++,i),++r[256];for(var h=GD(r,15),u=h[0],g=h[1],p=GD(s,15),m=p[0],f=p[1],y=$D(u),v=y[0],x=y[1],_=$D(m),w=_[0],C=_[1],S=new fD(19),b=0;b<v.length;++b)S[31&v[b]]++;for(b=0;b<w.length;++b)S[31&w[b]]++;for(var D=GD(S,7),E=D[0],I=D[1],T=19;T>4&&!E[_D[T-1]];--T);var A,k,R,O,F=d+5<<3,P=WD(r,kD)+WD(s,OD)+o,M=WD(r,u)+WD(s,m)+o+14+3*T+WD(S,E)+(2*S[16]+3*S[17]+7*S[18]);if(F<=P&&F<=M)return jD(t,c,e.subarray(l,l+d));if(HD(t,c,1+(M<P)),c+=2,M<P){A=AD(u,g,0),k=u,R=AD(m,f,0),O=m;var V=AD(E,I,0);for(HD(t,c,x-257),HD(t,c+5,C-1),HD(t,c+10,T-4),c+=14,b=0;b<T;++b)HD(t,c+3*b,E[_D[b]]);c+=3*T;for(var N=[v,w],L=0;L<2;++L){var H=N[L];for(b=0;b<H.length;++b){var B=31&H[b];HD(t,c,V[B]),c+=E[B],B>15&&(HD(t,c,H[b]>>>5&127),c+=H[b]>>>12)}}}else A=FD,k=kD,R=PD,O=OD;for(b=0;b<a;++b)if(n[b]>255){B=n[b]>>>18&31,BD(t,c,A[B+257]),c+=k[B+257],B>7&&(HD(t,c,n[b]>>>23&31),c+=vD[B]);var G=31&n[b];BD(t,c,R[G]),c+=O[G],G>3&&(BD(t,c,n[b]>>>5&8191),c+=xD[G])}else BD(t,c,A[n[b]]),c+=k[n[b]];return BD(t,c,A[256]),c+k[256]},UD=new yD([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),qD=new mD(0),YD=function(e,t,i,n,r,s){var o=e.length,a=new mD(n+o+5*(1+Math.ceil(o/7e3))+r),l=a.subarray(n,a.length-r),d=0;if(!t||o<8)for(var c=0;c<=o;c+=65535){var h=c+65535;h>=o&&(l[d>>3]=s),d=jD(l,d+1,e.subarray(c,h))}else{for(var u=UD[t-1],g=u>>>13,p=8191&u,m=(1<<i)-1,f=new fD(32768),y=new fD(m+1),v=Math.ceil(i/3),x=2*v,_=function(t){return(e[t]^e[t+1]<<v^e[t+2]<<x)&m},w=new yD(25e3),C=new fD(288),S=new fD(32),b=0,D=0,E=(c=0,0),I=0,T=0;c<o;++c){var A=_(c),k=32767&c,R=y[A];if(f[k]=R,y[A]=k,I<=c){var O=o-c;if((b>7e3||E>24576)&&O>423){d=KD(e,l,0,w,C,S,D,E,T,c-T,d),E=b=D=0,T=c;for(var F=0;F<286;++F)C[F]=0;for(F=0;F<30;++F)S[F]=0}var P=2,M=0,V=p,N=k-R&32767;if(O>2&&A==_(c-N))for(var L=Math.min(g,O)-1,H=Math.min(32767,c),B=Math.min(258,O);N<=H&&--V&&k!=R;){if(e[c+P]==e[c+P-N]){for(var G=0;G<B&&e[c+G]==e[c+G-N];++G);if(G>P){if(P=G,M=N,G>L)break;var z=Math.min(N,G-2),$=0;for(F=0;F<z;++F){var W=c-N+F+32768&32767,j=W-f[W]+32768&32767;j>$&&($=j,R=W)}}}N+=(k=R)-(R=f[k])+32768&32767}if(M){w[E++]=268435456|bD[P]<<18|ID[M];var K=31&bD[P],U=31&ID[M];D+=vD[K]+xD[U],++C[257+K],++S[U],I=c+P,++b}else w[E++]=e[c],++C[e[c]]}}d=KD(e,l,s,w,C,S,D,E,T,c-T,d),!s&&7&d&&(d=jD(l,d+1,qD))}return VD(a,0,n+MD(d)+r)},XD=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var i=t,n=9;--n;)i=(1&i&&-306674912)^i>>>1;e[t]=i}return e}(),ZD=function(e,t,i,n,r){return YD(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,i,n,!r)},QD=function(e,t){var i={};for(var n in e)i[n]=e[n];for(var n in t)i[n]=t[n];return i},JD=function(e,t,i){for(var n=e(),r=e.toString(),s=r.slice(r.indexOf("[")+1,r.lastIndexOf("]")).replace(/\s+/g,"").split(","),o=0;o<n.length;++o){var a=n[o],l=s[o];if("function"==typeof a){t+=";"+l+"=";var d=a.toString();if(a.prototype)if(-1!=d.indexOf("[native code]")){var c=d.indexOf(" ",8)+1;t+=d.slice(c,d.indexOf("(",c))}else for(var h in t+=d,a.prototype)t+=";"+l+".prototype."+h+"="+a.prototype[h].toString();else t+=d}else i[l]=a}return[t,i]},eE=[],tE=function(){return[mD,fD,yD,vD,xD,_D,bD,ID,FD,kD,PD,OD,TD,UD,qD,AD,HD,BD,GD,zD,$D,WD,jD,KD,MD,VD,YD,ZD,sE,iE]},iE=function(e){return postMessage(e,[e.buffer])},nE=function(e,t,i,n,r,s){var o=function(e,t,i,n){var r;if(!eE[i]){for(var s="",o={},a=e.length-1,l=0;l<a;++l)s=(r=JD(e[l],s,o))[0],o=r[1];eE[i]=JD(e[a],s,o)}var d=QD({},eE[i][1]);return function(e,t,i,n,r){var s=new Worker(pD[t]||(pD[t]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return s.onmessage=function(e){var t=e.data,i=t.$e$;if(i){var n=new Error(i[0]);n.code=i[1],n.stack=i[2],r(n,null)}else r(null,t)},s.postMessage(i,n),s}(eE[i][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",i,d,function(e){var t=[];for(var i in e)e[i].buffer&&t.push((e[i]=new e[i].constructor(e[i])).buffer);return t}(d),n)}(i,n,r,(function(e,t){o.terminate(),s(e,t)}));return o.postMessage([e,t],t.consume?[e.buffer]:[]),function(){o.terminate()}},rE=function(e,t,i){for(;i;++t)e[t]=i,i>>>=8};function sE(e,t){return ZD(e,t||{},0,0)}var oE=function(e,t,i,n){for(var r in e){var s=e[r],o=t+r,a=n;Array.isArray(s)&&(a=QD(n,s[1]),s=s[0]),s instanceof mD?i[o]=[s,a]:(i[o+="/"]=[new mD(0),a],oE(s,o,i,n))}},aE=typeof TextEncoder<"u"&&new TextEncoder,lE=typeof TextDecoder<"u"&&new TextDecoder;try{lE.decode(qD,{stream:!0})}catch{}function dE(e,t){if(t){for(var i=new mD(e.length),n=0;n<e.length;++n)i[n]=e.charCodeAt(n);return i}if(aE)return aE.encode(e);var r=e.length,s=new mD(e.length+(e.length>>1)),o=0,a=function(e){s[o++]=e};for(n=0;n<r;++n){if(o+5>s.length){var l=new mD(o+8+(r-n<<1));l.set(s),s=l}var d=e.charCodeAt(n);d<128||t?a(d):d<2048?(a(192|d>>6),a(128|63&d)):d>55295&&d<57344?(a(240|(d=65536+(1047552&d)|1023&e.charCodeAt(++n))>>18),a(128|d>>12&63),a(128|d>>6&63),a(128|63&d)):(a(224|d>>12),a(128|d>>6&63),a(128|63&d))}return VD(s,0,o)}var cE=function(e){var t=0;if(e)for(var i in e){var n=e[i].length;n>65535&&LD(9),t+=n+4}return t},hE=function(e,t,i,n,r,s,o,a){var l=n.length,d=i.extra,c=a&&a.length,h=cE(d);rE(e,t,null!=o?33639248:67324752),t+=4,null!=o&&(e[t++]=20,e[t++]=i.os),e[t]=20,t+=2,e[t++]=i.flag<<1|(s<0&&8),e[t++]=r&&8,e[t++]=255&i.compression,e[t++]=i.compression>>8;var u=new Date(null==i.mtime?Date.now():i.mtime),g=u.getFullYear()-1980;if((g<0||g>119)&&LD(10),rE(e,t,g<<25|u.getMonth()+1<<21|u.getDate()<<16|u.getHours()<<11|u.getMinutes()<<5|u.getSeconds()>>>1),t+=4,-1!=s&&(rE(e,t,i.crc),rE(e,t+4,s<0?-s-2:s),rE(e,t+8,i.size)),rE(e,t+12,l),rE(e,t+14,h),t+=16,null!=o&&(rE(e,t,c),rE(e,t+6,i.attrs),rE(e,t+10,o),t+=14),e.set(n,t),t+=l,h)for(var p in d){var m=d[p],f=m.length;rE(e,t,+p),rE(e,t+2,f),e.set(m,t+4),t+=4+f}return c&&(e.set(a,t),t+=c),t};var uE="function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout?setTimeout:function(e){e()},gE=((gE=gE||{})[gE.RootExcelFolder=0]="RootExcelFolder",gE[gE.RootRelsExcelFolder=1]="RootRelsExcelFolder",gE[gE.DocPropsExcelFolder=2]="DocPropsExcelFolder",gE[gE.XLExcelFolder=3]="XLExcelFolder",gE[gE.XLRelsExcelFolder=4]="XLRelsExcelFolder",gE[gE.ThemeExcelFolder=5]="ThemeExcelFolder",gE[gE.WorksheetsExcelFolder=6]="WorksheetsExcelFolder",gE[gE.WorksheetsRelsExcelFolder=7]="WorksheetsRelsExcelFolder",gE[gE.TablesExcelFolder=8]="TablesExcelFolder",gE),pE=((pE=pE||{})[pE.RootRelsFile=0]="RootRelsFile",pE[pE.AppFile=1]="AppFile",pE[pE.CoreFile=2]="CoreFile",pE[pE.WorkbookRelsFile=3]="WorkbookRelsFile",pE[pE.ThemeFile=4]="ThemeFile",pE[pE.WorksheetFile=5]="WorksheetFile",pE[pE.StyleFile=6]="StyleFile",pE[pE.WorkbookFile=7]="WorkbookFile",pE[pE.ContentTypesFile=8]="ContentTypesFile",pE[pE.SharedStringsFile=9]="SharedStringsFile",pE[pE.WorksheetRelsFile=10]="WorksheetRelsFile",pE[pE.TablesFile=11]="TablesFile",pE),mE=(()=>{let e=class{static getRels(){return e.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>'}static getApp(t){return e.XML_STRING+`<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="1" baseType="lpstr"><vt:lpstr>${t}</vt:lpstr></vt:vector></TitlesOfParts><Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>`}static getCore(){return e.XML_STRING+'<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator></dc:creator><cp:lastModifiedBy></cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">2015-06-05T18:17:20Z</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">2015-06-05T18:17:26Z</dcterms:modified></cp:coreProperties>'}static getTheme(){return e.XML_STRING+'<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="5B9BD5"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="4472C4"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Calibri Light" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" Light"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=" Light"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=""/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>'}static getStyles(){return e.XML_STRING+'<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac x16r2" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:x16r2="http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"><numFmts count="5"><numFmt numFmtId="164" formatCode="&quot;$&quot;#,##0.00"/><numFmt numFmtId="165" formatCode="[$-809]#,##0.00"/><numFmt numFmtId="166" formatCode="[$-804]#,##0.00"/><numFmt numFmtId="167" formatCode="#,##0.00 [$-1]"/><numFmt numFmtId="168" formatCode="[$-411]#,##0.00"/></numFmts><fonts count="2" x14ac:knownFonts="1"><font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font><font><sz val="11"/><color rgb="FFB7B7B7"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts><fills count="3"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill><fill><patternFill patternType="solid"><fgColor rgb="FF0D1822"/><bgColor indexed="64"/></patternFill></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="13"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="14" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" xfId="0"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" applyAlignment="1"><alignment horizontal="center" vertical="center"/></xf><xf numFmtId="164" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="21" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="22" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="10" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles><dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext><ext uri="{9260A510-F301-46a8-8635-F512D64BE5F5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:timelineStyles defaultTimelineStyle="TimeSlicerStyleLight1"/></ext></extLst></styleSheet>'}static getWorkbook(t){return e.XML_STRING+`<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="6" lowestEdited="6" rupBuild="14420"/><workbookPr filterPrivacy="1" defaultThemeVersion="164011"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="22260" windowHeight="12645"/></bookViews><sheets><sheet name="${t}" sheetId="1" r:id="rId1"/></sheets><calcPr calcId="162913"/><extLst><ext uri="{140A7094-0E35-4892-8432-C4D2E57EDEB5}" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><x15:workbookPr chartTrackingRefBase="1"/></ext></extLst></workbook>`}static getWorksheetRels(){return e.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/table" Target="../tables/table1.xml"/></Relationships>'}static getWorkbookRels(t){let i=e.XML_STRING+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/>';return t&&(i+=e.SHARED_STRING_RELATIONSHIP),i+="</Relationships>",i}static getSheetXML(t,i,n,r,s,o=0,a){let l=o>0,d=s?'<tableParts count="1"><tablePart r:id="rId1"/></tableParts>':"",c=l?'<sheetPr><outlinePr summaryBelow="0"/></sheetPr>':"",h=l?`outlineLevelRow="${o}"`:"",u=a?"":`<dimension ref="${t}"/>`;return`${e.XML_STRING}\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\n${c}\n${u}\n<sheetViews><sheetView tabSelected="1" workbookViewId="0">${i}</sheetView></sheetViews>\n<sheetFormatPr defaultRowHeight="15" ${h} x14ac:dyDescent="0.25"/>\n${n}\n${r}\n<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/>\n${d}</worksheet>`}static getSharedStringXML(t,i,n){return e.XML_STRING+'<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="'+t+'" uniqueCount="'+i+'">'+n+"</sst>"}static getContentTypesXML(t,i){let n=e.XML_STRING+'<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n            <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>\n            <Default Extension="xml" ContentType="application/xml"/>\n            <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>\n            <Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>\n            <Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>\n            <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>\n            <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>\n            <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/>';return n+=t?'\t<Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>':"",n+=i?'<Override PartName="/xl/tables/table1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"/>':"",n+="</Types>",n}static getTablesXML(t,i,n,r){return`${e.XML_STRING}<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="${i}" totalsRowShown="0">\n    <autoFilter ref="${t}"/>${r}${n}<tableStyleInfo name="TableStyleMedium2" showFirstColumn="0" showLastColumn="0" showRowStripes="1" showColumnStripes="0"/>\n</table>`}static getExcelColumn(e){let t="";for(;e>=0;){let i=e%26;t=String.fromCharCode(65+i)+t,e=Math.floor(e/26)-1}return t}},t=e;return e.XML_STRING='<?xml version="1.0" encoding="UTF-8"?>\r\n',e.SHARED_STRING_RELATIONSHIP='<Relationship Id="rId4" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />',t})(),fE=(()=>{let e=class{constructor(){this.maxOutlineLevel=0,this.sheetData="",this.dimension="",this.freezePane="",this.rowHeight="",this.mergeCellStr="",this.mergeCellsCounter=0,this.rowIndex=0,this.pivotGridRowHeadersMap=new Map,this.dimensionMap=new Map,this.hierarchicalDimensionMap=new Map,this.currentSummaryOwner="",this.currentHierarchicalOwner="",this.firstColumn=Number.MAX_VALUE,this.firstDataRow=Number.MAX_VALUE,this.currencyStyleMap=new Map([["USD",{styleXf:5,symbol:"$"}],["GBP",{styleXf:6,symbol:""}],["CNY",{styleXf:7,symbol:""}],["EUR",{styleXf:8,symbol:""}],["JPY",{styleXf:9,symbol:""}]])}writeElement(){}writeElementAsync(e,t){return x(this,null,(function*(){return new Promise((i=>{this.prepareDataAsync(t,((n,r)=>{let s=(!t.isEmpty||t.options.alwaysExportHeaders)&&t.options.exportAsTable;e["sheet1.xml"]=dE(mE.getSheetXML(this.dimension,this.freezePane,n,r,s,this.maxOutlineLevel,t.isHierarchical)),i()}))}))}))}prepareDataAsync(t,i){this.sheetData="";let n="",r=t.dataDictionary;if(this.rowIndex=0,!t.isEmpty||t.options.alwaysExportHeaders&&0!==t.owner.columns.length){let s=t.owner,o=t.isHierarchical,a=t.hasMultiColumnHeader,l=t.hasMultiRowHeader,d=s.columns.some((e=>void 0!==e.exportIndex)),c=t.options.rowHeight;this.isValidGrid=t.isHierarchical||t.isTreeGrid||t.isGroupedGrid,this.rowHeight=c?` ht="${c}" customHeight="1"`:"",this.sheetData+="<sheetData>";let h=[];for(let e=0;e<=s.maxRowLevel;e++)h=s.columns.filter((t=>t.level===e&&t.rowSpan>0&&!t.skip)),this.printHeaders(t,h,e,!0),this.rowIndex++;this.rowIndex=0;for(let e=0;e<=s.maxLevel;e++){this.rowIndex++;let i=this.pivotGridRowHeadersMap.get(this.rowIndex)??"";this.sheetData+=`<row r="${this.rowIndex}"${this.rowHeight}>${i}`;let n=s.columns.filter((e=>e.headerType!==eD.RowHeader&&e.headerType!==eD.MultiRowHeader));h=a?n.filter((t=>(t.level<e&&t.headerType!==eD.MultiColumnHeader||t.level===e)&&t.columnSpan>0&&!t.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)):d?n.filter((e=>!e.skip)):n.filter((e=>!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)),this.printHeaders(t,h,e,!1),this.sheetData+="</row>"}let u=t.options.ignoreMultiColumnHeaders?0:s.maxLevel,g=t.options.freezeHeaders?2+u:1;if(o){let e=t.options.columnWidth?t.options.columnWidth:20;if(n+=`<cols><col min="1" max="${t.columnCount}" width="${e}" customWidth="1"/>`,t.options.freezeHeaders){let e=mE.getExcelColumn(0)+g;this.freezePane=`<pane xSplit="0" ySplit="${g-1}"\n                         topLeftCell="${e}" activePane="topRight" state="frozen"/>`}}else{let i=t.hasSummaries?t.columnCount+1:t.columnCount-1;if(this.dimension="A1:"+mE.getExcelColumn(i)+t.rowCount,n+="<cols>",a)n+=`<col min="1" max="${t.columnCount}" width="15" customWidth="1"/>`;else for(let i=0;i<t.columnCount;i++){let s=r.columnWidths[i],o=void 0!==t.options.columnWidth?t.options.columnWidth:Math.max(s/96*14.4,e.MIN_WIDTH);o>0||(o=e.MIN_WIDTH),n+=`<col min="${i+1}" max="${i+1}" width="${o}" customWidth="1"/>`}let s=t.indexOfLastPinnedColumn,o=s+1,l=mE.getExcelColumn(o)+g;void 0===s||-1===s||t.options.ignorePinning||t.options.ignoreColumnsOrder?t.options.freezeHeaders&&(l=mE.getExcelColumn(0)+g,this.freezePane=`<pane xSplit="0" ySplit="${g-1}"\n                         topLeftCell="${l}" activePane="topRight" state="frozen"/>`):this.freezePane=`<pane xSplit="${o}" ySplit="${g-1}"\n                         topLeftCell="${l}" activePane="topRight" state="frozen"/>`}t.hasSummaries&&(n+=`<col min="${t.columnCount+2}" max="${t.columnCount+2}" hidden="1"/>`),n+="</cols>",this.processDataRecordsAsync(t,(e=>{this.sheetData+=e,this.sheetData+="</sheetData>",(a||l)&&this.mergeCellsCounter>0&&(this.sheetData+=`<mergeCells count="${this.mergeCellsCounter}">${this.mergeCellStr}</mergeCells>`),i(n,this.sheetData)}))}else this.sheetData+="<sheetData/>",this.dimension="A1",i("",this.sheetData)}processDataRecordsAsync(e,t){let i=[],n=e.options.rowHeight;this.rowHeight=n?' ht="'+n+'" customHeight="1"':"";let r=e.isHierarchical,s=e.owner.columns.some((e=>void 0!==e.exportIndex)),o=[];ib(e.rowCount-e.multiColumnHeaderRows-1,1e3,(t=>{if(!e.isEmpty){if(r){let n=e.data[t];if(n.type===Jb.HeaderRecord){let t=e.owners.get(n.owner);t.columns.some((e=>!e.skip&&e.headerType===eD.MultiColumnHeader))&&this.hGridPrintMultiColHeaders(e,i,n,t)}o=Object.keys(e.data[t].data)}else o=s?e.rootKeys:e.owner.columns.filter((e=>e.headerType===eD.ColumnHeader&&!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)).map((e=>e.field));i.push(this.processRow(e,t,o,r))}}),(()=>{t(i.join(""))}))}hGridPrintMultiColHeaders(e,t,i,n){for(let r=0;r<n.maxLevel;r++){let s=i.level,o=s>0?` outlineLevel="${s}"`:"";this.maxOutlineLevel=this.maxOutlineLevel<s?s:this.maxOutlineLevel;let a=i.hidden?' hidden="1"':"";this.rowIndex++;let l=`<row r="${this.rowIndex}"${this.rowHeight}${o}${a}>`,d=n.columns.filter((e=>(e.level<r&&e.headerType!==eD.MultiColumnHeader||e.level===r)&&e.columnSpan>0&&!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)),c=0+i.level;for(let t of d){if(t.level===r){let i;if(i=mE.getExcelColumn(c)+this.rowIndex,l+=`<c r="${i}" s="3" t="s"><v>${e.dataDictionary.saveValue(t.header,!0)}</v></c>`,r!==n.maxLevel){if(this.mergeCellsCounter++,this.mergeCellStr+=` <mergeCell ref="${i}:`,t.headerType===eD.ColumnHeader)i=mE.getExcelColumn(c)+(this.rowIndex+n.maxLevel-t.level);else for(let e=1;e<t.columnSpan;e++)i=mE.getExcelColumn(c+e)+this.rowIndex,l+=`<c r="${i}" s="3" />`;this.mergeCellStr+=`${i}" />`}}c+=t.columnSpan}l+="</row>",t.push(l)}}processRow(e,t,i,n){let r=e.data[t],s=new Array(e.columnCount+2),o=r.level,a=o>0?` outlineLevel="${o}"`:"";this.maxOutlineLevel=this.maxOutlineLevel<o?o:this.maxOutlineLevel;let l=r.hidden?' hidden="1"':"";this.rowIndex++;let d=this.pivotGridRowHeadersMap.get(this.rowIndex)??"";s[0]=`<row r="${this.rowIndex}"${this.rowHeight}${a}${l}>${d}`;let c=e.isSpecialData?[r.data]:i,h=r.type===Jb.HierarchicalGridRecord||r.type===Jb.DataRecord||r.type===Jb.GroupedRecord||r.type===Jb.TreeGridRecord;(h||r.type===Jb.SummaryRecord)&&e.hasSummaries&&this.resolveSummaryDimensions(r,h,e.isGroupedGrid);for(let i=0;i<c.length;i++){let r=i+(n?o:e.isPivotGrid?e.owner.maxRowLevel:0),a=this.getCellData(e,t,r,c[i]);s[i+1]=a}return s[c.length+1]="</row>",s.join("")}getCellData(e,t,i,n){let r=e.dataDictionary,s=mE.getExcelColumn(i)+this.rowIndex,o=e.data[t],a=o.type===Jb.HeaderRecord,l=o.type===Jb.SummaryRecord,d=o.type===Jb.GroupedRecord||o.type===Jb.DataRecord||o.type===Jb.HierarchicalGridRecord||o.type===Jb.TreeGridRecord;this.firstDataRow=this.firstDataRow>this.rowIndex?this.rowIndex:this.firstDataRow;let c=e.isSpecialData?o.data:o.data[n];(c===sD||n===sD)&&(s=mE.getExcelColumn(e.columnCount+1)+this.rowIndex),e.hasSummaries&&(d||e.isGroupedGrid&&l)&&this.setSummaryCoordinates(s,n,o.hierarchicalOwner,e.isGroupedGrid&&l),o.summaryKey&&o.summaryKey===nD&&n!==sD&&!this.isValidGrid&&(this.setRootSummaryStartCoordinate(i,n),this.firstColumn>i&&(this.setRootSummaryStartCoordinate(e.columnCount+1,sD),this.firstColumn=i));let h=Array.from(e.owners.values()).map((e=>e.columns)).find((e=>e.some((e=>e.field===n)))),u=h?h.find((e=>e.field===n)):void 0;if(null==c&&!e.hasSummaries)return`<c r="${s}" s="1"/>`;if(e.hasSummaries&&(d||a)||!e.hasSummaries){let e=r.saveValue(c,a),t=-1!==e,i=!t&&c instanceof Date,n=t?e:c;if(i){let e=6e4*n.getTimezoneOffset(),t=new Date(n-e).toISOString();n=t.substring(0,t.indexOf("."))}let o=t?' t="s"':i?' t="d"':"",l="time"===u?.dataType,d="dateTime"===u?.dataType;return`<c r="${s}"${o}${"percent"===u?.dataType?' s="12"':d?' s="11"':l?' s="10"':a?' s="3"':t?"":i?' s="2"':"currency"===u?.dataType?` s="${this.currencyStyleMap.get(u.currencyCode)?.styleXf||0}"`:' s="1"'}><v>${n}</v></c>`}{let t=`"${c??""}"`;if(l&&c){let i=this.isValidGrid?o.hierarchicalOwner??rD:null,a=e.isGroupedGrid?e.maxLevel:o.level;if(t=this.getSummaryFunction(c.label,n,i,a,u),!t){let e=`${c.label}: ${c.value}`;return`<c r="${s}" t="s" s="1"><v>${r.saveValue(e,!1)}</v></c>`}return`<c r="${s}" t="str"><f t="array" ref="${s}">${t}</f></c>`}return`<c r="${s}" t="s" s="1"><f>${t}</f></c>`}}resolveSummaryDimensions(e,t,i){this.isValidGrid&&""!==this.currentHierarchicalOwner&&this.currentHierarchicalOwner!==e.owner&&!this.hierarchicalDimensionMap.get(this.currentHierarchicalOwner)&&this.hierarchicalDimensionMap.set(this.currentHierarchicalOwner,new Map(this.dimensionMap)),t&&((this.currentSummaryOwner!==e.summaryKey||this.currentHierarchicalOwner!==e.hierarchicalOwner)&&this.dimensionMap.clear(),this.currentSummaryOwner=e.summaryKey,i&&""!==this.currentHierarchicalOwner&&e.hierarchicalOwner===rD&&this.hierarchicalDimensionMap.delete(rD),this.currentHierarchicalOwner=e.hierarchicalOwner)}setSummaryCoordinates(e,t,i,n){let r=this.hierarchicalDimensionMap.get(i)??this.dimensionMap;if(r.get(t))n?this.setEndCoordinates(r,!0):(r.get(t).endCoordinate=e,this.lastValidRow=r.get(t).endCoordinate.match(/[a-z]+|[^a-z]+/gi)[1]);else{let i={startCoordinate:e,endCoordinate:e};r.set(t,i)}if(this.isValidGrid&&!n&&i!==rD){let e=this.hierarchicalDimensionMap.get(rD);this.setEndCoordinates(e)}}setEndCoordinates(e,t=!1){for(let i of e.values()){let e=i.endCoordinate.match(/[a-z]+|[^a-z]+/gi)[0];i.endCoordinate=`${e}${t?this.lastValidRow:this.rowIndex}`}}getSummaryFunction(e,t,i,n,r){let s=i?this.hierarchicalDimensionMap.get(i):this.dimensionMap,o=s.get(t),a=s.get(sD),l="",d="",c="",h=this.currencyStyleMap.get(r.currencyCode);switch(e.toLowerCase()){case"count":return`"Count: "&amp;_xlfn.COUNTIF(${a.startCoordinate}:${a.endCoordinate}, ${n})`;case"min":return l=`_xlfn.MIN(_xlfn.IF(${a.startCoordinate}:${a.endCoordinate}=${n}, ${o.startCoordinate}:${o.endCoordinate}))`,d='"Min: "&amp;',c=d+("currency"===r.dataType&&h?`_xlfn.TEXT(${l}, "${h.symbol}#,##0.00")`:`${l}`),c;case"max":return l=`_xlfn.MAX(_xlfn.IF(${a.startCoordinate}:${a.endCoordinate}=${n}, ${o.startCoordinate}:${o.endCoordinate}))`,d='"Max: "&amp;',c=d+("currency"===r.dataType&&h?`_xlfn.TEXT(${l}, "${h.symbol}#,##0.00")`:`${l}`),c;case"sum":return l=`_xlfn.SUMIF(${a.startCoordinate}:${a.endCoordinate}, ${n}, ${o.startCoordinate}:${o.endCoordinate})`,d='"Sum: "&amp;',c=d+("currency"===r.dataType&&h?`_xlfn.TEXT(${l}, "${h.symbol}#,##0.00")`:`${l}`),c;case"avg":return l=`_xlfn.AVERAGEIF(${a.startCoordinate}:${a.endCoordinate}, ${n}, ${o.startCoordinate}:${o.endCoordinate})`,d='"Avg: "&amp;',c=d+("currency"===r.dataType&&h?`_xlfn.TEXT(${l}, "${h.symbol}#,##0.00")`:`${l}`),c;case"earliest":return`"Earliest: "&amp;_xlfn.TEXT(_xlfn.MIN(_xlfn.IF(${a.startCoordinate}:${a.endCoordinate}=${n}, ${o.startCoordinate}:${o.endCoordinate})), "m/d/yyyy")`;case"latest":return`"Latest: "&amp;_xlfn.TEXT(_xlfn.MAX(_xlfn.IF(${a.startCoordinate}:${a.endCoordinate}=${n}, ${o.startCoordinate}:${o.endCoordinate})), "m/d/yyyy")`}}setRootSummaryStartCoordinate(e,t){let i=mE.getExcelColumn(e)+this.firstDataRow;this.dimensionMap.get(t).startCoordinate!==i&&(this.dimensionMap.get(t).startCoordinate=i)}printHeaders(e,t,i,n){let r=0,s="",o=e.isHierarchical?' s="3"':"",a=e.dataDictionary,l=e.owner,d=n?l.maxRowLevel:l.maxLevel;for(let c of t){let t=n?c.rowSpan:c.columnSpan;if(c.level===i){let h,u=n?this.rowIndex:r+(l.maxRowLevel??0),g=n?r+l.maxLevel+2:this.rowIndex,p=a.saveValue(c.header,!0,!1);if(h=(c.field===sD?mE.getExcelColumn(e.columnCount+1):mE.getExcelColumn(u))+g,o=n&&c.rowSpan>1?' s="4"':o,s=`<c r="${h}"${o} t="s"><v>${p}</v></c>`,n?this.pivotGridRowHeadersMap.has(g)?this.pivotGridRowHeadersMap.set(g,this.pivotGridRowHeadersMap.get(g)+s):this.pivotGridRowHeadersMap.set(g,s):this.sheetData+=s,i!==d){if(this.mergeCellsCounter++,this.mergeCellStr+=` <mergeCell ref="${h}:`,c.headerType===eD.ColumnHeader){let e=n?d:r+(l.maxRowLevel??0),t=n?g:l.maxLevel+1;h=mE.getExcelColumn(e)+t}else for(let e=1;e<t;e++){let t=n?u:u+e,i=n?g+e:this.rowIndex;h=mE.getExcelColumn(t)+i,s=`<c r="${h}"${o} />`,n?this.pivotGridRowHeadersMap.set(i,s):this.sheetData+=s}this.mergeCellStr+=`${h}" />`}}r+=t}}},t=e;return e.MIN_WIDTH=8.43,t})(),yE=class{static getExcelFolder(e){switch(e){case gE.RootExcelFolder:return new class{get folderName(){return""}childFiles(){return[pE.ContentTypesFile]}childFolders(){return[gE.RootRelsExcelFolder,gE.DocPropsExcelFolder,gE.XLExcelFolder]}};case gE.RootRelsExcelFolder:return new class{get folderName(){return"_rels"}childFiles(){return[pE.RootRelsFile]}childFolders(){return[]}};case gE.DocPropsExcelFolder:return new class{get folderName(){return"docProps"}childFiles(){return[pE.AppFile,pE.CoreFile]}childFolders(){return[]}};case gE.XLExcelFolder:return new class{get folderName(){return"xl"}childFiles(e){let t=[pE.StyleFile,pE.WorkbookFile];return(!e.isEmpty||e.options.alwaysExportHeaders)&&t.push(pE.SharedStringsFile),t}childFolders(e){let t=[gE.XLRelsExcelFolder,gE.ThemeExcelFolder,gE.WorksheetsExcelFolder];return(!e.isEmpty||e.options.alwaysExportHeaders)&&e.options.exportAsTable&&t.push(gE.TablesExcelFolder),t}};case gE.XLRelsExcelFolder:return new class{get folderName(){return"_rels"}childFiles(){return[pE.WorkbookRelsFile]}childFolders(){return[]}};case gE.ThemeExcelFolder:return new class{get folderName(){return"theme"}childFiles(){return[pE.ThemeFile]}childFolders(){return[]}};case gE.WorksheetsExcelFolder:return new class{get folderName(){return"worksheets"}childFiles(){return[pE.WorksheetFile]}childFolders(e){return e.isEmpty&&!e.options.alwaysExportHeaders||!e.options.exportAsTable?[]:[gE.WorksheetsRelsExcelFolder]}};case gE.WorksheetsRelsExcelFolder:return new class{get folderName(){return"_rels"}childFiles(){return[pE.WorksheetRelsFile]}childFolders(){return[]}};case gE.TablesExcelFolder:return new class{get folderName(){return"tables"}childFiles(){return[pE.TablesFile]}childFolders(){return[]}};default:throw new Error("Unknown excel folder type!")}}static getExcelFile(e){switch(e){case pE.RootRelsFile:return new class{writeElement(e){e[".rels"]=dE(mE.getRels())}};case pE.AppFile:return new class{writeElement(e,t){e["app.xml"]=dE(mE.getApp(t.options.worksheetName))}};case pE.CoreFile:return new class{writeElement(e){e["core.xml"]=dE(mE.getCore())}};case pE.WorkbookRelsFile:return new class{writeElement(e,t){let i=!t.isEmpty||t.options.alwaysExportHeaders;e["workbook.xml.rels"]=dE(mE.getWorkbookRels(i))}};case pE.ThemeFile:return new class{writeElement(e){e["theme1.xml"]=dE(mE.getTheme())}};case pE.WorksheetFile:return new fE;case pE.StyleFile:return new class{writeElement(e){e["styles.xml"]=dE(mE.getStyles())}};case pE.WorkbookFile:return new class{writeElement(e,t){e["workbook.xml"]=dE(mE.getWorkbook(t.options.worksheetName))}};case pE.ContentTypesFile:return new class{writeElement(e,t){let i=!t.isEmpty||t.options.alwaysExportHeaders;e["[Content_Types].xml"]=dE(mE.getContentTypesXML(i,t.options.exportAsTable))}};case pE.SharedStringsFile:return new class{writeElement(e,t){let i=t.dataDictionary,n=i.getKeys(),r=new Array(n.length);for(let e of n)r[i.getSanitizedValue(e)]="<si><t>"+e+"</t></si>";e["sharedStrings.xml"]=dE(mE.getSharedStringXML(i.stringsCount,n.length,r.join("")))}};case pE.WorksheetRelsFile:return new class{writeElement(e){e["sheet1.xml.rels"]=dE(mE.getWorksheetRels())}};case pE.TablesFile:return new class{writeElement(e,t){let i=t.columnCount,n=mE.getExcelColumn(i-1)+t.rowCount,r="A1:"+n,s=t.isEmpty?"A1:"+mE.getExcelColumn(i-1)+(t.rowCount+1):r,o=t.owner.columns.some((e=>void 0!==e.exportIndex))?t.rootKeys:t.owner.columns.filter((e=>!e.skip)).sort(((e,t)=>e.startIndex-t.startIndex)).sort(((e,t)=>e.pinnedIndex-t.pinnedIndex)).map((e=>e.header)),a="",l='<tableColumns count="'+i+'">';for(let e=0;e<i;e++)l+='<tableColumn id="'+(e+1)+'" name="'+o[e]+'"/>';if(l+="</tableColumns>",t.sort){let e=t.sort,i=mE.getExcelColumn(o.indexOf(e.fieldName));a=`<sortState ref="A2:${n}"><sortCondition descending="${e.dir-1}" ref="${i}1:${i}15"/></sortState>`}e["table1.xml"]=dE(mE.getTablesXML(r,s,l,a))}};default:throw Error("Unknown excel file type!")}}},vE=(()=>{let e=class{constructor(e,t,i){this.hasNumberValues=!1,this.hasDateValues=!1,this._dictionary={},this._widthsDictionary={},this._counter=0,this.dirtyKeyCollections(),this._columnWidths=new Array(e),t?this._columnWidths.fill(t):this._columnWidths=i,this.stringsCount=0}get columnWidths(){return this._columnWidths}saveValue(e,t,i=!0){let n="",r=e instanceof Date,s=t||"number"!=typeof e&&e!==Number(e)&&!Number.isFinite(e)&&!r;return s?(n=i?Tb.sanitizeValue(e):e,void 0===this._dictionary[n]&&(this._dictionary[n]=this._counter++,this.dirtyKeyCollections()),this.stringsCount++):r?this.hasDateValues=!0:this.hasNumberValues=!0,s?this.getSanitizedValue(n):-1}getValue(e){return this.getSanitizedValue(Tb.sanitizeValue(e))}getSanitizedValue(e){return this._dictionary[e]}getKeys(){return this._keysAreValid||(this._keys=Object.keys(this._dictionary),this._keysAreValid=!0),this._keys}getTextWidth(t){if(void 0===this._widthsDictionary[t]){let i=this.getContext().measureText(t);this._widthsDictionary[t]=i.width+e.TEXT_PADDING}return this._widthsDictionary[t]}getContext(){if(!this._context){let t=document.createElement("canvas");this._context=t.getContext("2d"),this._context.font=e.DEFAULT_FONT}return this._context}dirtyKeyCollections(){this._keysAreValid=!1}},t=e;return e.DEFAULT_FONT="11pt Calibri",e.TEXT_PADDING=5,t})(),xE=(()=>{let e=class extends lD{constructor(){super(...arguments),this.exportEnded=new zu}static populateZipFileConfig(t,i,n){return x(this,null,(function*(){for(let r of i.childFolders(n)){let i=yE.getExcelFolder(r),s=t[i.folderName]={};yield e.populateZipFileConfig(s,i,n)}for(let e of i.childFiles(n)){let i=yE.getExcelFile(e);i instanceof fE?yield i.writeElementAsync(t,n):i.writeElement(t,n)}}))}exportDataImplementation(t,i,n){let r,s,o,a,l,d=t[0],c=d?.type===Jb.HierarchicalGridRecord,h=d?.type===Jb.PivotGridRecord,u=typeof d<"u"&&(c?t.some((e=>Object.keys(e.data).length>16384)):Object.keys(d.data).length>16384);if(t.length>1048576||u)throw Error("The Excel file can contain up to 1,048,576 rows and 16,384 columns.");if(typeof d<"u"){let e=0;if(t.forEach((t=>{e=Math.max(e,t.level)})),e>7)throw Error("Can create an outline of up to eight levels!");if(c)s=t.map((e=>this._ownersMap.get(e.owner).columns.filter((e=>!e.skip)).length+e.level)).sort(((e,t)=>t-e))[0],r=this._ownersMap.get(d.owner).columns.filter((e=>!e.skip)).map((e=>e.field)),l=this._ownersMap.get(d.owner);else{l=this._ownersMap.get(iD);let e=l.columns.filter((e=>e.field!==sD&&!e.skip&&e.headerType===eD.ColumnHeader));o=l.columnWidths,a=l.indexOfLastPinnedColumn,s=h?e.length+this.pivotGridFilterFieldsCount:e.length,r=e.map((e=>e.field))}}else{let e=Array.from(this._ownersMap.keys());l=this._ownersMap.get(e[0]),o=l.columnWidths,s=l.columns.filter((e=>e.field!==sD&&!e.skip&&e.headerType===eD.ColumnHeader)).length}let g=new class{constructor(e,t,i,n,r,s,o,a,l){this._data=e,this.options=t,this.sort=i,this.columnCount=n,this.rootKeys=r,this.indexOfLastPinnedColumn=s,this.columnWidths=o,this.owner=a,this.owners=l,this.initializeData()}get data(){return this._data}get rowCount(){return this._rowCount}get isEmpty(){return!this.rowCount||this.rowCount===this.owner.maxLevel+1||!this.columnCount||this.owner.columns.every((e=>e.skip))}get isSpecialData(){return this._isSpecialData}get dataDictionary(){return this._dataDictionary}get hasMultiColumnHeader(){return this._hasMultiColumnHeader}get hasSummaries(){return this._hasSummaries}get hasMultiRowHeader(){return this._hasMultiRowHeader}get isHierarchical(){return this._isHierarchical}get isTreeGrid(){return this._isTreeGrid}get isPivotGrid(){return this._isPivotGrid}get isGroupedGrid(){return this._data.some((e=>e.type===Jb.GroupedRecord))}get maxLevel(){return[...new Set(this._data.map((e=>e.level)))].sort(((e,t)=>e>t?-1:1))[0]}get multiColumnHeaderRows(){return this.options.ignoreMultiColumnHeaders?0:Array.from(this.owners.values()).map((e=>e.maxLevel)).reduce(((e,t)=>e+t))}initializeData(){this._dataDictionary=new vE(this.columnCount,this.options.columnWidth,this.columnWidths),this._hasMultiColumnHeader=Array.from(this.owners.values()).some((e=>e.columns.some((e=>!e.skip&&e.headerType===eD.MultiColumnHeader)))),this._hasMultiRowHeader=Array.from(this.owners.values()).some((e=>e.columns.some((e=>!e.skip&&e.headerType===eD.MultiRowHeader)))),this._isHierarchical=this.data[0]?.type===Jb.HierarchicalGridRecord||"string"!=typeof Array.from(this.owners.keys())[0],this._hasSummaries=this._data.filter((e=>e.type===Jb.SummaryRecord)).length>0,this._isTreeGrid=this._data.filter((e=>e.type===Jb.TreeGridRecord)).length>0,this._isPivotGrid=this.data[0]?.type===Jb.PivotGridRecord;let e=this._hasMultiColumnHeader&&!this.options.ignoreMultiColumnHeaders;(this._isHierarchical||e||this._isPivotGrid)&&(this.options.exportAsTable=!1),this._data&&0!==this._data.length?(this._isSpecialData=Tb.isSpecialData(this._data[0].data),this._rowCount=this._data.length+this.multiColumnHeaderRows+1):this._isHierarchical||(this._rowCount=this.owner.maxLevel+1)}}(t,i,this._sort,s,r,a,o,l,this._ownersMap),p=yE.getExcelFolder(gE.RootExcelFolder),m={};e.populateZipFileConfig(m,p,g).then((()=>{!function(e,t,i){i||(i=t,t={}),"function"!=typeof i&&LD(7);var n={};oE(e,"",n,t);var r=Object.keys(n),s=r.length,o=0,a=0,l=s,d=new Array(s),c=[],h=function(){for(var e=0;e<c.length;++e)c[e]()},u=function(e,t){uE((function(){i(e,t)}))};uE((function(){u=i}));var g=function(){var e=new mD(a+22),t=o,i=a-o;a=0;for(var n=0;n<l;++n){var r=d[n];try{var s=r.c.length;hE(e,a,r,r.f,r.u,s);var c=30+r.f.length+cE(r.extra),h=a+c;e.set(r.c,h),hE(e,o,r,r.f,r.u,s,a,r.m),o+=16+c+(r.m?r.m.length:0),a=h+s}catch(e){return u(e,null)}}(function(e,t,i,n,r){rE(e,t,101010256),rE(e,t+8,i),rE(e,t+10,i),rE(e,t+12,n),rE(e,t+16,r)})(e,o,d.length,i,t),u(null,e)};s||g();for(var p=function(e){var t=r[e],i=n[t],l=i[0],p=i[1],m=function(){var e=-1;return{p:function(t){for(var i=e,n=0;n<t.length;++n)i=XD[255&i^t[n]]^i>>>8;e=i},d:function(){return~e}}}(),f=l.length;m.p(l);var y=dE(t),v=y.length,x=p.comment,_=x&&dE(x),w=_&&_.length,C=cE(p.extra),S=0==p.level?0:8,b=function(i,n){if(i)h(),u(i,null);else{var r=n.length;d[e]=QD(p,{size:f,crc:m.d(),c:n,f:y,m:_,u:v!=t.length||_&&x.length!=w,compression:S}),o+=30+v+C+r,a+=76+2*(v+C)+(w||0)+r,--s||g()}};if(v>65535&&b(LD(11,0,1),null),S)if(f<16e4)try{b(null,sE(l,p))}catch(e){b(e,null)}else c.push(function(e,t,i){return i||(i=t,t={}),"function"!=typeof i&&LD(7),nE(e,t,[tE],(function(e){return iE(sE(e.data[0],e.data[1]))}),0,i)}(l,p,b));else b(null,l)},m=0;m<l;++m)p(m)}(m,((e,t)=>{this.saveFile(t,i.fileName),this.exportEnded.emit({xlsx:m}),n()}))}))}saveFile(e,t){let i=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});Tb.saveBlobToFile(i,t)}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.prov=ji({token:e,factory:e.fac,providedIn:"root"}),t})(),_E=class extends cD{constructor(e){super(e,".xlsx"),this.ignorePinning=!1,this.exportAsTable=!0}get columnWidth(){return this._columnWidth}set columnWidth(e){if(e<0)throw Error("Invalid value for column width!");this._columnWidth=e}get rowHeight(){return this._rowHeight}set rowHeight(e){if(e<0)throw Error("Invalid value for row height!");this._rowHeight=e}get worksheetName(){return void 0===this._worksheetName||null===this._worksheetName?"Sheet1":this._worksheetName}set worksheetName(e){this._worksheetName=e}},wE=(()=>{let e=class{constructor(e){this.builder=e}buildAnimation(e,t){if(!e)return null;let i=this.builder.build(e);return new class{get position(){return this._innerPlayer.getPosition()}set position(e){this.internalPlayer.setPosition(e)}constructor(e){this.internalPlayer=e,this.animationStart=new zu,this.animationEnd=new zu,this.internalPlayer.onDone((()=>this.onDone()));let t=this.internalPlayer._renderer;this._innerPlayer=t.engine.players[t.engine.players.length-1]}init(){this.internalPlayer.init()}play(){this.animationStart.emit({owner:this}),this.internalPlayer.play()}finish(){this.internalPlayer.finish()}reset(){this.internalPlayer.reset(),this.internalPlayer._started=!1}destroy(){this.internalPlayer.destroy()}hasStarted(){return this.internalPlayer.hasStarted()}onDone(){this.animationEnd.emit({owner:this})}}(i.create(t))}},t=e;return e.fac=function(t){return new(t||e)(pn(Jf))},e.prov=ji({token:e,factory:e.fac,providedIn:"root"}),t})(),CE=((CE=CE||{})[CE.Left=-1]="Left",CE[CE.Center=-.5]="Center",CE[CE.Right=0]="Right",CE),SE=((SE=SE||{})[SE.Top=-1]="Top",SE[SE.Middle=-.5]="Middle",SE[SE.Bottom=0]="Bottom",SE),bE=((bE=bE||{}).Connected="connected",bE.Auto="auto",bE.Elastic="elastic",bE),DE=((DE=DE||{}).Above="above",DE.Below="below",DE.Before="before",DE.After="after",DE.Default="default",DE),EE=((EE=EE||{}).Bottom="bottom",EE.Top="top",EE.Center="center",EE),IE=class{constructor(e,t){this.x=e,this.y=t}},TE=class{static getTargetRect(e){let t={bottom:0,height:0,left:0,right:0,top:0,width:0};if(e instanceof HTMLElement)t=e.getBoundingClientRect();else if(e instanceof IE){let i=e;t={bottom:i.y,height:0,left:i.x,right:i.x,top:i.y,width:0}}return t}static getViewportRect(e){let t=e.documentElement.clientWidth,i=e.documentElement.clientHeight,n=TE.getViewportScrollPosition(e);return{top:n.y,left:n.x,right:n.x+t,bottom:n.y+i,width:t,height:i}}static getViewportScrollPosition(e){let t=e.documentElement,i=t.getBoundingClientRect(),n=-i.left||e.body.scrollLeft||window.scrollX||t.scrollLeft||0,r=-i.top||e.body.scrollTop||window.scrollY||t.scrollTop||0;return new IE(n,r)}static cloneInstance(e){let t=Object.assign(Object.create(Object.getPrototypeOf(e)),e);return t.settings=LS(t.settings),t}},AE=class{constructor(e){this._defaultSettings={horizontalDirection:CE.Right,verticalDirection:SE.Bottom,horizontalStartPoint:CE.Left,verticalStartPoint:SE.Bottom,openAnimation:Ov,closeAnimation:Kv,minSize:{width:0,height:0}},this.settings=Object.assign({},this._defaultSettings,e)}position(e,t,i,n,r){let s=r||this.settings.target,o=this.calculateElementRectangles(e,s);this.setStyle(e,o.targetRect,o.elementRect,{})}clone(){return TE.cloneInstance(this)}calculateElementRectangles(e,t){return{targetRect:TE.getTargetRect(t),elementRect:e.getBoundingClientRect()}}setStyle(e,t,i,n){let r=n.horizontalOffset?n.horizontalOffset:0,s=n.verticalOffset?n.verticalOffset:0,o=t.right+t.width*this.settings.horizontalStartPoint+r,a=t.bottom+t.height*this.settings.verticalStartPoint+s,l=e.parentElement.getBoundingClientRect();switch(e.style.right="",e.style.left="",e.style.bottom="",e.style.top="",this.settings.horizontalDirection){case CE.Left:e.style.right=`${Math.round(l.right-o)}px`;break;case CE.Center:e.style.left=`${Math.round(o-l.left-i.width/2)}px`;break;case CE.Right:e.style.left=`${Math.round(o-l.left)}px`}switch(this.settings.verticalDirection){case SE.Top:e.style.bottom=`${Math.round(l.bottom-a)}px`;break;case SE.Middle:e.style.top=`${Math.round(a-l.top-i.height/2)}px`;break;case SE.Bottom:e.style.top=`${Math.round(a-l.top)}px`}}},kE=class extends AE{position(e,t,i,n,r){let s=r||this.settings.target,o=super.calculateElementRectangles(e,s),a={};n&&(a.targetRect=o.targetRect,a.contentElementRect=o.elementRect,this._initialSettings=this._initialSettings||Object.assign({},this.settings),this.settings=Object.assign({},this._initialSettings),a.viewPortRect=TE.getViewportRect(i),this.updateViewPortFit(a),this.shouldFitInViewPort(a)&&this.fitInViewport(e,a)),this.setStyle(e,o.targetRect,o.elementRect,a)}updateViewPortFit(e){e.left=this.calculateLeft(e.targetRect,e.contentElementRect,this.settings.horizontalStartPoint,this.settings.horizontalDirection,e.horizontalOffset?e.horizontalOffset:0),e.right=e.left+e.contentElementRect.width,e.fitHorizontal={back:Math.round(e.left),forward:Math.round(e.viewPortRect.width-e.right)},e.top=this.calculateTop(e.targetRect,e.contentElementRect,this.settings.verticalStartPoint,this.settings.verticalDirection,e.verticalOffset?e.verticalOffset:0),e.bottom=e.top+e.contentElementRect.height,e.fitVertical={back:Math.round(e.top),forward:Math.round(e.viewPortRect.height-e.bottom)}}calculateLeft(e,t,i,n,r){return e.right+e.width*i+t.width*n+r}calculateTop(e,t,i,n,r){return e.bottom+e.height*i+t.height*n+r}shouldFitInViewPort(e){return e.fitHorizontal.back<0||e.fitHorizontal.forward<0||e.fitVertical.back<0||e.fitVertical.forward<0}},RE=class extends kE{fitInViewport(e,t){let i=[];if(t.fitHorizontal.back<0||t.fitHorizontal.forward<0)if(this.canFlipHorizontal(t))this.flipHorizontal(),this.flipAnimation(OE.Horizontal);else{let e=this.horizontalPush(t);i.push(`translateX(${e}px)`)}if(t.fitVertical.back<0||t.fitVertical.forward<0)if(this.canFlipVertical(t))this.flipVertical(),this.flipAnimation(OE.Vertical);else{let e=this.verticalPush(t);i.push(`translateY(${e}px)`)}e.style.transform=i.join(" ").trim()}canFlipHorizontal(e){let t=-1*(this.settings.horizontalStartPoint+1),i=-1*(this.settings.horizontalDirection+1),n=this.calculateLeft(e.targetRect,e.contentElementRect,t,i,0),r=n+e.contentElementRect.width;return 0<n&&r<e.viewPortRect.width}canFlipVertical(e){let t=-1*(this.settings.verticalStartPoint+1),i=-1*(this.settings.verticalDirection+1),n=this.calculateTop(e.targetRect,e.contentElementRect,t,i,0),r=n+e.contentElementRect.height;return 0<n&&r<e.viewPortRect.height}flipHorizontal(){switch(this.settings.horizontalDirection){case CE.Left:this.settings.horizontalDirection=CE.Right;break;case CE.Right:this.settings.horizontalDirection=CE.Left}switch(this.settings.horizontalStartPoint){case CE.Left:this.settings.horizontalStartPoint=CE.Right;break;case CE.Right:this.settings.horizontalStartPoint=CE.Left}}flipVertical(){switch(this.settings.verticalDirection){case SE.Top:this.settings.verticalDirection=SE.Bottom;break;case SE.Bottom:this.settings.verticalDirection=SE.Top}switch(this.settings.verticalStartPoint){case SE.Top:this.settings.verticalStartPoint=SE.Bottom;break;case SE.Bottom:this.settings.verticalStartPoint=SE.Top}}horizontalPush(e){let t=e.left,i=e.right-e.viewPortRect.width;return t<0?Math.abs(t):i>0?-Math.min(i,t):0}verticalPush(e){let t=e.top,i=e.bottom-e.viewPortRect.height;return t<0?Math.abs(t):i>0?-Math.min(i,t):0}flipAnimation(e){this.settings.openAnimation&&(this.settings.openAnimation=this.updateAnimation(this.settings.openAnimation,e)),this.settings.closeAnimation&&(this.settings.closeAnimation=this.updateAnimation(this.settings.closeAnimation,e))}updateAnimation(e,t){switch(t){case OE.Horizontal:if((e=>sb.includes(e))(e))return nb(e);break;case OE.Vertical:if((e=>ob.includes(e))(e))return nb(e)}return e}},OE=((OE=OE||{})[OE.Horizontal=0]="Horizontal",OE[OE.Vertical=1]="Vertical",OE),FE=class{constructor(e){this._defaultSettings={horizontalDirection:CE.Center,verticalDirection:SE.Middle,horizontalStartPoint:CE.Center,verticalStartPoint:SE.Middle,openAnimation:fy,closeAnimation:yy,minSize:{width:0,height:0}},this.settings=Object.assign({},this._defaultSettings,e)}position(e){e.classList.add("igx-overlay__content--relative"),e.parentElement.classList.add("igx-overlay__wrapper--flex"),this.setPosition(e)}clone(){return TE.cloneInstance(this)}setPosition(e){switch(this.settings.horizontalDirection){case CE.Left:e.parentElement.style.justifyContent="flex-start";break;case CE.Center:e.parentElement.style.justifyContent="center";break;case CE.Right:e.parentElement.style.justifyContent="flex-end"}switch(this.settings.verticalDirection){case SE.Top:e.parentElement.style.alignItems="flex-start";break;case SE.Middle:e.parentElement.style.alignItems="center";break;case SE.Bottom:e.parentElement.style.alignItems="flex-end"}}},PE=class extends FE{constructor(e){super(e)}position(e){e.classList.add("igx-overlay__content--relative"),e.parentElement.classList.add("igx-overlay__wrapper--flex-container"),this.setPosition(e)}},ME=class extends kE{fitInViewport(e,t){e.classList.add("igx-overlay__content--elastic");let i=[];if(t.fitHorizontal.back<0||t.fitHorizontal.forward<0){let n=Math.max(0,t.contentElementRect.width-this.settings.minSize.width),r=Math.max(0,-t.fitHorizontal.back),s=Math.max(0,-t.fitHorizontal.forward),o=Math.min(n,r+s);if(e.style.width=t.contentElementRect.width-o+"px",this.settings.horizontalDirection===CE.Center){let e=r*o/(r+s);e>0&&i.push(`translateX(${e}px)`)}}if(t.fitVertical.back<0||t.fitVertical.forward<0){let n=Math.max(0,t.contentElementRect.height-this.settings.minSize.height),r=Math.max(0,-t.fitVertical.back),s=Math.max(0,-t.fitVertical.forward),o=Math.min(n,r+s);if(e.style.height=t.contentElementRect.height-o+"px",this.settings.verticalDirection===SE.Middle){let e=r*o/(r+s);e>0&&i.push(`translateY(${e}px)`)}}e.style.transform=i.join(" ").trim()}},VE=class{constructor(){}},NE=class extends VE{constructor(){super()}initialize(){}attach(){}detach(){}},LE=(()=>{let e=class{constructor(e,t,i,n,r,s,o){this._factoryResolver=e,this._appRef=t,this._injector=i,this.document=n,this._zone=r,this.platformUtil=s,this.animationService=o,this.opening=new zu,this.opened=new zu,this.closing=new zu,this.closed=new zu,this.contentAppending=new zu,this.contentAppended=new zu,this.animationStarting=new zu,this._componentId=0,this._overlayInfos=[],this.destroy$=new We,this._cursorStyleIsSet=!1,this._defaultSettings={excludeFromOutsideClick:[],positionStrategy:new FE,scrollStrategy:new NE,modal:!0,closeOnOutsideClick:!0,closeOnEscape:!1},this.repositionAll=()=>{for(let e=this._overlayInfos.length;e--;)this.reposition(this._overlayInfos[e].id)},this.documentClicked=e=>{for(let t=this._overlayInfos.length;t--;){let i=this._overlayInfos[t];if(i.settings.modal)return;if(i.settings.closeOnOutsideClick){let t=e.composed?e.composedPath()[0]:e.target,n=i.elementRef.nativeElement;if((i.settings.excludeFromOutsideClick?[...i.settings.excludeFromOutsideClick,n]:[n]).some((e=>e.contains(t))))return;i.closeAnimationPlayer?.hasStarted()||this._hide(i.id,e)}}},this._document=this.document}static createAbsoluteOverlaySettings(e,t){let i=this.createAbsolutePositionSettings(e);return{positionStrategy:t?new PE(i):new FE(i),scrollStrategy:new NE,modal:!1,closeOnOutsideClick:!0,outlet:t}}static createRelativeOverlaySettings(e,t,i){let n=this.createRelativePositionSettings(t);return{target:e,positionStrategy:this.createPositionStrategy(i,n),scrollStrategy:new NE,modal:!1,closeOnOutsideClick:!0}}static createAbsolutePositionSettings(e){let t;switch(e){case EE.Bottom:t={horizontalDirection:CE.Center,verticalDirection:SE.Bottom,openAnimation:dx,closeAnimation:fx};break;case EE.Top:t={horizontalDirection:CE.Center,verticalDirection:SE.Top,openAnimation:ox,closeAnimation:px};break;case EE.Center:default:t={horizontalDirection:CE.Center,verticalDirection:SE.Middle,openAnimation:fy,closeAnimation:yy}}return t}static createRelativePositionSettings(e){let t;switch(e){case DE.Above:t={horizontalStartPoint:CE.Center,verticalStartPoint:SE.Top,horizontalDirection:CE.Center,verticalDirection:SE.Top,openAnimation:Mv,closeAnimation:Uv};break;case DE.Below:t={horizontalStartPoint:CE.Center,verticalStartPoint:SE.Bottom,horizontalDirection:CE.Center,verticalDirection:SE.Bottom,openAnimation:Ov,closeAnimation:Kv};break;case DE.After:t={horizontalStartPoint:CE.Right,verticalStartPoint:SE.Middle,horizontalDirection:CE.Right,verticalDirection:SE.Middle,openAnimation:Hv,closeAnimation:tx};break;case DE.Before:t={horizontalStartPoint:CE.Left,verticalStartPoint:SE.Middle,horizontalDirection:CE.Left,verticalDirection:SE.Middle,openAnimation:Gv,closeAnimation:ix};break;case DE.Default:default:t={horizontalStartPoint:CE.Left,verticalStartPoint:SE.Bottom,horizontalDirection:CE.Right,verticalDirection:SE.Bottom,openAnimation:Ov,closeAnimation:Kv}}return t}static createPositionStrategy(e,t){switch(e){case bE.Connected:return new AE(t);case bE.Elastic:return new ME(t);case bE.Auto:default:return new RE(t)}}attach(e,t,i){let n=this.getOverlayInfo(e,this.getUserViewContainerOrModuleRef(t,i));if(!n)return console.warn("Overlay was not able to attach provided component!"),null;n.id=(this._componentId++).toString(),n.visible=!1;let r=Object.assign({},this._defaultSettings,this.getUserOverlaySettings(t,i)),s={id:n.id,elementRef:n.elementRef,componentRef:n.componentRef,settings:r};this.contentAppending.emit(s),n.settings=s.settings,this._overlayInfos.push(n),n.hook=this.placeElementHook(n.elementRef.nativeElement);let o=n.elementRef.nativeElement.getBoundingClientRect();return n.initialSize={width:o.width,height:o.height},this.moveElementToOverlay(n),this.contentAppended.emit({id:n.id,componentRef:n.componentRef}),n.settings.scrollStrategy.initialize(this._document,this,n.id),n.settings.scrollStrategy.attach(),this.addOutsideClickListener(n),this.addResizeHandler(),this.addCloseOnEscapeListener(n),this.buildAnimationPlayers(n),n.id}detach(e){let t=this.getOverlayById(e);t?(t.detached=!0,this.finishAnimations(t),t.settings.scrollStrategy.detach(),this.removeOutsideClickListener(t),this.removeResizeHandler(),this.cleanUp(t)):console.warn("igxOverlay.detach was called with wrong id: ",e)}detachAll(){for(let e=this._overlayInfos.length;e--;)this.detach(this._overlayInfos[e].id)}show(e,t){let i=this.getOverlayById(e);if(!i)return void console.warn("igxOverlay.show was called with wrong id: ",e);let n={id:e,componentRef:i.componentRef,cancel:!1};this.opening.emit(n),!n.cancel&&(this.updateSize(i),i.settings.positionStrategy.position(i.elementRef.nativeElement.parentElement,{width:i.initialSize.width,height:i.initialSize.height},document,!0,i.settings.target),this.addModalClasses(i),i.settings.positionStrategy.settings.openAnimation?this.playOpenAnimation(i):(i.wrapperElement.style.visibility="",i.visible=!0,this.opened.emit({id:i.id,componentRef:i.componentRef})))}hide(e,t){this._hide(e,t)}hideAll(){for(let e=this._overlayInfos.length;e--;)this.hide(this._overlayInfos[e].id)}reposition(e){let t=this.getOverlayById(e);if(!t||!t.settings)return void console.error("Wrong id provided in overlay.reposition method. Id: "+e);if(!t.visible)return;let i=t.elementRef.nativeElement.parentElement,n=i.getBoundingClientRect();t.settings.positionStrategy.position(i,{width:n.width,height:n.height},this._document,!1,t.settings.target)}setOffset(e,t,i){let n=this.getOverlayById(e);if(!n)return;n.transformX+=t,n.transformY+=i;let r=`translate(${n.transformX}px, ${n.transformY}px)`;n.elementRef.nativeElement.parentElement.style.transform=r}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}getOverlayById(e){return e?this._overlayInfos.find((t=>t.id===e)):null}_hide(e,t){let i=this.getOverlayById(e);if(!i)return void console.warn("igxOverlay.hide was called with wrong id: ",e);let n={id:e,componentRef:i.componentRef,cancel:!1,event:t};this.closing.emit(n),!n.cancel&&(this.removeModalClasses(i),i.settings.positionStrategy.settings.closeAnimation?this.playCloseAnimation(i,t):this.closeDone(i))}getUserOverlaySettings(e,t){let i;return!e||e instanceof Xu?(t&&!("injector"in t&&"componentFactoryResolver"in t)&&(i=t),i):(i=e,i)}getUserViewContainerOrModuleRef(e,t){let i;return e instanceof Xu&&(i=e),t&&"injector"in t&&"componentFactoryResolver"in t&&(i=t),i}getOverlayInfo(e,t){let i={ngZone:this._zone,transformX:0,transformY:0};if(e instanceof ld)i.elementRef=e;else{let n;if(t instanceof Xu)n=t.createComponent(e);else{let i,r=t?t.componentFactoryResolver:this._factoryResolver;try{i=r.resolveComponentFactory(e)}catch(e){return console.error(e),null}let s=t?t.injector:this._injector;n=i.create(s),this._appRef.attachView(n.hostView)}n.onDestroy&&n.onDestroy((()=>{!i.detached&&-1!==this._overlayInfos.indexOf(i)&&this.detach(i.id)}));let r=n.location.nativeElement;i.elementRef={nativeElement:r},i.componentRef=n}return i}placeElementHook(e){if(!e.parentElement)return null;let t=this._document.createElement("div");return t.style.display="none",e.parentElement.insertBefore(t,e),t}moveElementToOverlay(e){e.wrapperElement=this.getWrapperElement();let t=this.getContentElement(e.wrapperElement,e.settings.modal);this.getOverlayElement(e).appendChild(e.wrapperElement),t.appendChild(e.elementRef.nativeElement)}getWrapperElement(){let e=this._document.createElement("div");return e.classList.add("igx-overlay__wrapper"),e}getContentElement(e,t){let i=this._document.createElement("div");return t?(i.classList.add("igx-overlay__content--modal"),i.addEventListener("click",(e=>{e.stopPropagation()}))):i.classList.add("igx-overlay__content"),i.addEventListener("scroll",(e=>{e.stopPropagation()})),e.style.visibility="hidden",e.appendChild(i),i}getOverlayElement(e){return e.settings.outlet?e.settings.outlet.nativeElement||e.settings.outlet:(this._overlayElement||(this._overlayElement=this._document.createElement("div"),this._overlayElement.classList.add("igx-overlay"),this._document.body.appendChild(this._overlayElement)),this._overlayElement)}updateSize(e){e.componentRef&&(e.componentRef.changeDetectorRef.detectChanges(),e.initialSize=e.elementRef.nativeElement.getBoundingClientRect()),0!==e.initialSize.width&&(e.elementRef.nativeElement.parentElement.style.width=e.initialSize.width+"px")}closeDone(e){e.visible=!1,e.wrapperElement&&(e.wrapperElement.style.visibility="hidden"),e.closeAnimationDetaching||this.closed.emit({id:e.id,componentRef:e.componentRef,event:e.event}),delete e.event}cleanUp(e){let t=e.elementRef.nativeElement,i=this.getOverlayElement(e);i.contains(t)&&i.removeChild(t.parentNode.parentNode),e.componentRef&&(this._appRef.detachView(e.componentRef.hostView),e.componentRef.destroy(),delete e.componentRef),e.hook&&(e.hook.parentElement.insertBefore(e.elementRef.nativeElement,e.hook),e.hook.parentElement.removeChild(e.hook),delete e.hook);let n=this._overlayInfos.indexOf(e);this._overlayInfos.splice(n,1),0===this._overlayInfos.length&&(this._overlayElement&&this._overlayElement.parentElement&&(this._overlayElement.parentElement.removeChild(this._overlayElement),this._overlayElement=null),this.removeCloseOnEscapeListener()),delete e.elementRef,delete e.settings,delete e.initialSize,e.openAnimationDetaching=!0,e.openAnimationPlayer?.destroy(),delete e.openAnimationPlayer,e.closeAnimationDetaching=!0,e.closeAnimationPlayer?.destroy(),delete e.closeAnimationPlayer,delete e.ngZone,delete e.wrapperElement,e=null}playOpenAnimation(e){if(!e.openAnimationPlayer?.hasStarted()){if(e.closeAnimationPlayer?.hasStarted()){let t=e.closeAnimationPlayer.position;e.closeAnimationPlayer.reset(),e.openAnimationPlayer.init(),e.openAnimationPlayer.position=1-t}this.animationStarting.emit({id:e.id,animationPlayer:e.openAnimationPlayer,animationType:"open"}),e.wrapperElement.style.visibility="",e.visible=!0,e.openAnimationPlayer.play()}}playCloseAnimation(e,t){if(!e.closeAnimationPlayer?.hasStarted()){if(e.openAnimationPlayer?.hasStarted()){let t=e.openAnimationPlayer.position;e.openAnimationPlayer.reset(),e.closeAnimationPlayer.init(),e.closeAnimationPlayer.position=1-t}this.animationStarting.emit({id:e.id,animationPlayer:e.closeAnimationPlayer,animationType:"close"}),e.event=t,e.closeAnimationPlayer.play()}}applyAnimationParams(e,t){if(!t)return void(e.style.transitionDuration="0ms");if(!t.options||!t.options.params)return;let i=t.options.params;i.duration&&(e.style.transitionDuration=i.duration),i.easing&&(e.style.transitionTimingFunction=i.easing)}addOutsideClickListener(e){e.settings.closeOnOutsideClick&&(e.settings.modal?Lt(e.elementRef.nativeElement.parentElement.parentElement,"click").pipe(yi(this.destroy$)).subscribe((t=>this._hide(e.id,t))):this._overlayInfos.filter((e=>e.settings.closeOnOutsideClick&&!e.settings.modal)).length-this._overlayInfos.filter((e=>e.settings.closeOnOutsideClick&&!e.settings.modal&&e.closeAnimationPlayer?.hasStarted())).length==1&&(this.platformUtil.isIOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._document.addEventListener("click",this.documentClicked,!0)))}removeOutsideClickListener(e){if(!1===e.settings.modal){let t=!0;this._overlayInfos.forEach((i=>{!1===i.settings.modal&&i.id!==e.id&&(t=!1)})),t&&(this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorOriginalValue="",this._cursorStyleIsSet=!1),this._document.removeEventListener("click",this.documentClicked,!0))}}addResizeHandler(){let e=this._overlayInfos.filter((e=>e.closeAnimationPlayer?.hasStarted())).length;this._overlayInfos.length-e==1&&this._document.defaultView.addEventListener("resize",this.repositionAll)}removeResizeHandler(){let e=this._overlayInfos.filter((e=>e.closeAnimationPlayer?.hasStarted())).length;this._overlayInfos.length-e==1&&this._document.defaultView.removeEventListener("resize",this.repositionAll)}addCloseOnEscapeListener(e){e.settings.closeOnEscape&&!this._keyPressEventListener&&(this._keyPressEventListener=Lt(this._document,"keydown").pipe(Wt((e=>"Escape"===e.key||"Esc"===e.key))).subscribe((e=>{let t=this._overlayInfos.filter((e=>e.visible));if(t.length<1)return;let i=t[t.length-1];i.visible&&i.settings.closeOnEscape&&this.hide(i.id,e)})))}removeCloseOnEscapeListener(){this._keyPressEventListener&&(this._keyPressEventListener.unsubscribe(),this._keyPressEventListener=null)}addModalClasses(e){if(e.settings.modal){let t=e.elementRef.nativeElement.parentElement.parentElement;t.classList.remove("igx-overlay__wrapper"),this.applyAnimationParams(t,e.settings.positionStrategy.settings.openAnimation),requestAnimationFrame((()=>{t.classList.add("igx-overlay__wrapper--modal")}))}}removeModalClasses(e){if(e.settings.modal){let t=e.elementRef.nativeElement.parentElement.parentElement;this.applyAnimationParams(t,e.settings.positionStrategy.settings.closeAnimation),t.classList.remove("igx-overlay__wrapper--modal"),t.classList.add("igx-overlay__wrapper")}}buildAnimationPlayers(e){e.settings.positionStrategy.settings.openAnimation&&(e.openAnimationPlayer=this.animationService.buildAnimation(e.settings.positionStrategy.settings.openAnimation,e.elementRef.nativeElement),e.openAnimationPlayer.animationEnd.pipe(yi(this.destroy$)).subscribe((()=>this.openAnimationDone(e)))),e.settings.positionStrategy.settings.closeAnimation&&(e.closeAnimationPlayer=this.animationService.buildAnimation(e.settings.positionStrategy.settings.closeAnimation,e.elementRef.nativeElement),e.closeAnimationPlayer.animationEnd.pipe(yi(this.destroy$)).subscribe((()=>this.closeAnimationDone(e))))}openAnimationDone(e){e.openAnimationDetaching||this.opened.emit({id:e.id,componentRef:e.componentRef}),e.openAnimationPlayer&&e.openAnimationPlayer.reset(),e.closeAnimationPlayer?.hasStarted()&&e.closeAnimationPlayer.reset()}closeAnimationDone(e){e.closeAnimationPlayer&&e.closeAnimationPlayer.reset(),e.openAnimationPlayer?.hasStarted()&&e.openAnimationPlayer.reset(),this.closeDone(e)}finishAnimations(e){e.openAnimationPlayer?.hasStarted()&&e.openAnimationPlayer.finish(),e.closeAnimationPlayer?.hasStarted()&&e.closeAnimationPlayer.finish()}},t=e;return e.fac=function(t){return new(t||e)(pn(sd),pn(qg),pn(kd),pn(Cp),pn(Ig),pn($S),pn(wE))},e.prov=ji({token:e,factory:e.fac,providedIn:"root"}),t})(),HE=class extends VE{constructor(e){super(),this._initialized=!1,this.onScroll=e=>{let t=this._overlayService.getOverlayById(this._id);t&&(t.elementRef.nativeElement.contains(e.target)||this._overlayService.reposition(this._id))},this._scrollContainer=e}initialize(e,t,i){this._initialized||(this._overlayService=t,this._id=i,this._document=e,this._zone=t.getOverlayById(i).ngZone,this._initialized=!0)}attach(){this._zone?this._zone.runOutsideAngular((()=>{this.addScrollEventListener()})):this.addScrollEventListener()}detach(){this._scrollContainer?this._scrollContainer.removeEventListener("scroll",this.onScroll,!0):this._document?.removeEventListener("scroll",this.onScroll,!0),this._initialized=!1}addScrollEventListener(){this._scrollContainer?this._scrollContainer.addEventListener("scroll",this.onScroll,!0):this._document.addEventListener("scroll",this.onScroll,!0)}},BE=class extends VE{constructor(e){super(),this._initialized=!1,this.onScroll=e=>{this._sourceElement||(this._sourceElement=e.target,this.initialScrollTop=this._sourceElement.scrollTop,this.initialScrollLeft=this._sourceElement.scrollLeft),!this._overlayInfo.elementRef.nativeElement.contains(this._sourceElement)&&(Math.abs(this._sourceElement.scrollTop-this.initialScrollTop)>this._threshold||Math.abs(this._sourceElement.scrollLeft-this.initialScrollLeft)>this._threshold)&&this._overlayService.hide(this._id)},this._scrollContainer=e,this._threshold=10}initialize(e,t,i){this._initialized||(this._overlayService=t,this._id=i,this._document=e,this._initialized=!0,this._overlayInfo=t.getOverlayById(i))}attach(){this._scrollContainer?(this._scrollContainer.addEventListener("scroll",this.onScroll),this._sourceElement=this._scrollContainer):this._document.addEventListener("scroll",this.onScroll,!0)}detach(){this._scrollContainer?this._scrollContainer.removeEventListener("scroll",this.onScroll):this._document.removeEventListener("scroll",this.onScroll,!0),this._sourceElement=null,this._initialized=!1}},GE=class{constructor(){this.onStateUpdate=new zu,this._isPending=!1,this._pendingTransactions=[],this._pendingStates=new Map,this._cloneStrategy=new bb}get cloneStrategy(){return this._cloneStrategy}set cloneStrategy(e){e&&(this._cloneStrategy=e)}get canRedo(){return!1}get canUndo(){return!1}get enabled(){return this._isPending}add(e,t){this._isPending&&(this.updateState(this._pendingStates,e,t),this._pendingTransactions.push(e))}getTransactionLog(e){return[]}undo(){}redo(){}getAggregatedChanges(e){let t=[];return this._pendingStates.forEach(((i,n)=>{let r=e?this.getAggregatedValue(n,e):i.value;t.push({id:n,newValue:r,type:i.type})})),t}getState(e){return this._pendingStates.get(e)}getAggregatedValue(e,t){let i=this._pendingStates.get(e);return i?t&&i.recordRef?this.updateValue(i):i.value:null}commit(e,t){}clear(e){this._pendingStates.clear(),this._pendingTransactions=[]}startPending(){this._isPending=!0}endPending(e){this._isPending=!1,this._pendingStates.clear(),this._pendingTransactions=[]}updateState(e,t,i){let n=e.get(t.id);n?BS(n.value)?NS(n.value,t.newValue):n.value=t.newValue:(n={value:this.cloneStrategy.clone(t.newValue),recordRef:i,type:t.type},e.set(t.id,n)),this.cleanState(t.id,e)}updateValue(e){return this.mergeValues(e.recordRef,e.value)}mergeValues(e,t){return BS(e)||BS(t)?NS(this.cloneStrategy.clone(e),t):t||e}cleanState(e,t){let i=t.get(e);if(i&&i.value&&i.recordRef)if(BS(i.recordRef)){for(let e of Object.keys(i.value))JSON.stringify(i.recordRef[e])===JSON.stringify(i.value[e])&&delete i.value[e];i.type!==hb.DELETE&&0===Object.keys(i.value).length&&t.delete(e)}else i.recordRef===i.value&&t.delete(e)}},zE=class extends GE{constructor(){super(...arguments),this._transactions=[],this._redoStack=[],this._undoStack=[],this._states=new Map}get canUndo(){return this._undoStack.length>0}get canRedo(){return this._redoStack.length>0}add(e,t){let i=this._isPending?this._pendingStates:this._states;this.verifyAddedTransaction(i,e,t),this.addTransaction(e,i,t)}getTransactionLog(e){return void 0!==e?this._transactions.filter((t=>t.id===e)):[...this._transactions]}getAggregatedChanges(e){let t=[];return this._states.forEach(((i,n)=>{let r=e?this.mergeValues(i.recordRef,i.value):i.value;t.push({id:n,newValue:r,type:i.type})})),t}getState(e,t=!1){return t?this._pendingStates.get(e):this._states.get(e)}get enabled(){return!0}getAggregatedValue(e,t){let i=this._states.get(e),n=super.getState(e);if(!i&&!n)return null;let r=super.getAggregatedValue(e,!1),s=i&&i.value,o=this.mergeValues(s,r);if(t){let e=i?i.recordRef:n.recordRef;o=this.mergeValues(e,o)}return o}endPending(e){if(this._isPending=!1,e){let e=[];for(let t of this._pendingTransactions){let i=this._pendingStates.get(t.id);this._transactions.push(t),this.updateState(this._states,t,i.recordRef),e.push({transaction:t,recordRef:i.recordRef})}this._undoStack.push(e),this._redoStack=[],this.onStateUpdate.emit({origin:ub.END,actions:e})}super.endPending(e)}commit(e,t){if(void 0!==t){let i=this.getState(t);i&&this.updateRecord(e,i)}else this._states.forEach((t=>{this.updateRecord(e,t)}));this.clear(t)}clear(e){void 0!==e?(this._transactions=this._transactions.filter((t=>t.id!==e)),this._states.delete(e),this._undoStack=this._undoStack.map((t=>t.filter((t=>t.transaction.id!==e)))).filter((e=>e.length>0))):(this._transactions=[],this._states.clear(),this._undoStack=[]),this._redoStack=[],this.onStateUpdate.emit({origin:ub.CLEAR,actions:[]})}undo(){if(this._undoStack.length<=0)return;let e=this._undoStack.pop();this._transactions.splice(this._transactions.length-e.length),this._redoStack.push(e),this._states.clear();for(let e of this._undoStack)for(let t of e)this.updateState(this._states,t.transaction,t.recordRef);this.onStateUpdate.emit({origin:ub.UNDO,actions:e})}redo(){if(this._redoStack.length>0){let e=this._redoStack.pop();for(let t of e)this.updateState(this._states,t.transaction,t.recordRef),this._transactions.push(t.transaction);this._undoStack.push(e),this.onStateUpdate.emit({origin:ub.REDO,actions:e})}}addTransaction(e,t,i){if(this.updateState(t,e,i),(this._isPending?this._pendingTransactions:this._transactions).push(e),!this._isPending){let t=[{transaction:e,recordRef:i}];this._undoStack.push(t),this._redoStack=[],this.onStateUpdate.emit({origin:ub.ADD,actions:t})}}verifyAddedTransaction(e,t,i){let n=e.get(t.id);switch(t.type){case hb.ADD:if(n)throw new Error(`Cannot add this transaction. Transaction with id: ${t.id} has been already added.`);break;case hb.DELETE:case hb.UPDATE:if(n&&n.type===hb.DELETE)throw new Error(`Cannot add this transaction. Transaction with id: ${t.id} has been already deleted.`);if(!n&&!i&&!this._isPending)throw new Error(`Cannot add this transaction. This is first transaction of type ${t.type} for id ${t.id}. For first transaction of this type recordRef is mandatory.`)}}updateState(e,t,i){let n=e.get(t.id);if(n)switch(t.type){case hb.DELETE:n.type===hb.ADD?e.delete(t.id):n.type===hb.UPDATE&&(n.value=t.newValue,n.type=hb.DELETE);break;case hb.UPDATE:BS(n.value)?(n.type===hb.ADD&&(n.value=this.mergeValues(n.value,t.newValue)),n.type===hb.UPDATE&&NS(n.value,t.newValue)):n.value=t.newValue}else n={value:this.cloneStrategy.clone(t.newValue),recordRef:i,type:t.type},e.set(t.id,n);this.cleanState(t.id,e)}updateRecord(e,t){let i=e.findIndex((e=>JSON.stringify(e)===JSON.stringify(t.recordRef||{})));switch(t.type){case hb.ADD:e.push(t.value);break;case hb.DELETE:0<=i&&i<e.length&&e.splice(i,1);break;case hb.UPDATE:0<=i&&i<e.length&&(e[i]=this.updateValue(t))}}},$E=class extends zE{getAggregatedChanges(e){let t=[];return this._states.forEach(((i,n)=>{let r=e?this.mergeValues(i.recordRef,i.value):this.cloneStrategy.clone(i.value);this.clearArraysFromObject(r),t.push({id:n,path:i.path,newValue:r,type:i.type})})),t}commit(e,t,i,n){if(void 0!==i){let r=this.getAggregatedChanges(!0);void 0!==n&&(r=r.filter((e=>e.id===n))),Ib.mergeHierarchicalTransactions(e,r,i,t,this.cloneStrategy,!0),this.clear(n)}else super.commit(e,t)}updateState(e,t,i){if(super.updateState(e,t,i),!t.path)return;let n=e.get(t.id);n&&(n.path=t.path),t.type===hb.DELETE&&e.forEach(((i,n)=>{if(i.path&&-1!==i.path.indexOf(t.id))switch(i.type){case hb.ADD:e.delete(n);break;case hb.UPDATE:e.get(n).type=hb.DELETE,e.get(n).value=null}}))}clearArraysFromObject(e){if(e)for(let t of Object.keys(e))Array.isArray(e[t])&&delete e[t]}},WE=(()=>{let e=class{create(e){return"Base"===e?new zE:new GE}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac,providedIn:"root"}),t})(),jE=(()=>{let e=class extends WE{create(e){return"Base"===e?new $E:new GE}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.prov=ji({token:e,factory:e.fac,providedIn:"root"}),t})(),KE=((KE=KE||{})[KE.Up=-1]="Up",KE[KE.Down=1]="Down",KE),UE="escape",qE="enter",YE="space",XE=new Dl("IgxDropDownBaseToken"),ZE="comfortable",QE="cosy",JE="compact",eI=new Dl("DisplayDensity"),tI=(()=>{let e=class{get displayDensity(){return this._displayDensity||this.displayDensityOptions&&this.displayDensityOptions.displayDensity||ZE}set displayDensity(e){let t=this._displayDensity;if(this._displayDensity=e,t!==this._displayDensity){let e={oldDensity:t,newDensity:this._displayDensity};this.densityChanged.emit(e)}}constructor(e){this.displayDensityOptions=e,this.densityChanged=new zu,this.oldDisplayDensityOptions={displayDensity:ZE},Object.assign(this.oldDisplayDensityOptions,e)}ngOnInit(){this.initialDensity=this._displayDensity}ngDoCheck(){if(!this._displayDensity&&this.displayDensityOptions&&this.oldDisplayDensityOptions.displayDensity!==this.displayDensityOptions.displayDensity){let e={oldDensity:this.oldDisplayDensityOptions.displayDensity,newDensity:this.displayDensityOptions.displayDensity};this.densityChanged.emit(e),this.oldDisplayDensityOptions=Object.assign(this.oldDisplayDensityOptions,this.displayDensityOptions)}}getComponentDensityClass(e){switch(this.displayDensity){case QE:return`${e}--${QE}`;case JE:return`${e}--${JE}`;default:return e}}},t=e;return e.fac=function(t){return new(t||e)(Rd(eI,8))},e.dir=er({type:e,selectors:[["","igxDisplayDensityBase",""]],inputs:{displayDensity:"displayDensity"},outputs:{densityChanged:"densityChanged"},standalone:!0}),t})(),iI=0,nI=(()=>{let e=class extends tI{get id(){return this._id}set id(e){this._id=e}get items(){let e=[];if(void 0!==this.children)for(let t of this.children.toArray())t.isHeader||e.push(t);return e}get headers(){let e=[];if(void 0!==this.children)for(let t of this.children.toArray())t.isHeader&&e.push(t);return e}get element(){return this.elementRef.nativeElement}get scrollContainer(){return this.element}constructor(e,t,i){super(i),this.elementRef=e,this.cdr=t,this._displayDensityOptions=i,this.selectionChanging=new zu,this.maxHeight=null,this.cssClass=!0,this._focusedItem=null,this._id="igx-drop-down-"+iI++}onItemActionKey(e,t){switch(e){case qE:case YE:this.selectItem(this.focusedItem,t)}}selectItem(e,t){this.selectionChanging.emit({newSelection:e,oldSelection:null,cancel:!1})}get focusedItem(){return this._focusedItem}set focusedItem(e){this._focusedItem=e}navigateItem(e){if(-1!==e){let t=this._focusedItem,i=this.items[e];t&&(t.focused=!1),this.focusedItem=i,this.scrollToHiddenItem(i),this.focusedItem.focused=!0}}navigateFirst(){this.navigate(KE.Down,-1)}navigateLast(){this.navigate(KE.Up,this.items.length)}navigateNext(){this.navigate(KE.Down)}navigatePrev(){this.navigate(KE.Up)}scrollToHiddenItem(e){let t=e.element.nativeElement.getBoundingClientRect(),i=this.scrollContainer.getBoundingClientRect();i.top>t.top&&(this.scrollContainer.scrollTop-=i.top-t.top),i.bottom<t.bottom&&(this.scrollContainer.scrollTop+=t.bottom-i.bottom)}navigate(e,t){let i=-1;this._focusedItem&&(i=t||this.focusedItem.itemIndex);let n=this.getNearestSiblingFocusableItemIndex(i,e);this.navigateItem(n)}getNearestSiblingFocusableItemIndex(e,t){let i=e,n=this.items;for(;n[i+t]&&n[i+t].disabled;)i+=t;return i+=t,i>=0&&i<n.length?i:-1}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(Jg),Rd(eI,8))},e.dir=er({type:e,hostVars:4,hostBindings:function(e,t){2&e&&(Th("max-height",t.maxHeight),Ah("igx-drop-down",t.cssClass))},inputs:{width:"width",height:"height",id:"id",maxHeight:"maxHeight"},outputs:{selectionChanging:"selectionChanging"},features:[Tc]}),t})(),rI=(()=>{let e=class{constructor(e){this.dropdown=e,this._target=null}get target(){return this._target}set target(e){this._target=e||this.dropdown}handleKeyDown(e){if(e){let t=e.key.toLowerCase();if(this.target.collapsed)return;if(-1===["esc","escape","enter","space","spacebar"," ","arrowup","up","arrowdown","down","home","end"].indexOf(t))return;switch(e.preventDefault(),e.stopPropagation(),t){case"esc":case"escape":this.target.onItemActionKey(UE,e);break;case"enter":this.target.onItemActionKey(qE,e);break;case"space":case"spacebar":case" ":this.target.onItemActionKey(YE,e);break;case"arrowup":case"up":this.onArrowUpKeyDown();break;case"arrowdown":case"down":this.onArrowDownKeyDown();break;case"home":this.onHomeKeyDown();break;case"end":this.onEndKeyDown();break;default:return}}}onArrowDownKeyDown(){this.target.navigateNext()}onArrowUpKeyDown(){this.target.navigatePrev()}onEndKeyDown(){this.target.navigateLast()}onHomeKeyDown(){this.target.navigateFirst()}},t=e;return e.fac=function(t){return new(t||e)(Rd(XE,10))},e.dir=er({type:e,selectors:[["","igxDropDownItemNavigation",""]],hostBindings:function(e,t){1&e&&oh("keydown",(function(e){return t.handleKeyDown(e)}))},inputs:{target:["igxDropDownItemNavigation","target"]},standalone:!0}),t})(),sI=((sI=sI||{})[sI.START=0]="START",sI[sI.END=1]="END",sI),oI=(()=>{let e=class{constructor(){this.isPositionStart=!1,this.isPositionEnd=!1,this._position=sI.START}set position(e){let t=sI[e.toUpperCase()];void 0!==t&&(this._position=t,this._applyPosition(this._position))}get position(){return this._position.toString()}ngOnInit(){this._applyPosition(this._position)}_applyPosition(e){switch(this.isPositionStart=this.isPositionEnd=!1,e){case sI.START:this.isPositionStart=!0;break;case sI.END:this.isPositionEnd=!0}}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["igx-hint"],["","igxHint",""]],hostVars:4,hostBindings:function(e,t){2&e&&Ah("igx-input-group__hint-item--start",t.isPositionStart)("igx-input-group__hint-item--end",t.isPositionEnd)},inputs:{position:"position"},standalone:!0}),t})(),aI=class{},lI=["required","pattern","minlength","maxlength","min","max","step"],dI=((dI=dI||{})[dI.INITIAL=0]="INITIAL",dI[dI.VALID=1]="VALID",dI[dI.INVALID=2]="INVALID",dI),cI=(()=>{let e=class{constructor(e,t,i,n,r,s){this.inputGroup=e,this.ngModel=t,this.formControl=i,this.element=n,this.cdr=r,this.renderer=s,this.isInput=!1,this.isTextArea=!1,this._valid=dI.INITIAL,this._disabled=!1}get ngControl(){return this.ngModel?this.ngModel:this.formControl}set value(e){this.nativeElement.value=e??"",this.updateValidityState()}get value(){return this.nativeElement.value}set disabled(e){this._disabled=this.inputGroup.disabled=!(""!==e&&!e),this.focused&&this._disabled&&(this.inputGroup.isFocused=!1)}get disabled(){return this._disabled}set required(e){this.nativeElement.required=this.inputGroup.isRequired=""===e||e}get required(){let e;return this.ngControl&&(this.ngControl.control.validator||this.ngControl.control.asyncValidator)&&(e=this.ngControl.control.validator({})),e&&e.required||this.nativeElement.hasAttribute("required")}onFocus(){this.inputGroup.isFocused=!0}onBlur(){this.inputGroup.isFocused=!1,this.updateValidityState()}onInput(){this.checkNativeValidity()}change(e){if("file"===this.type){let t=e.target.files,i=[];if(t)for(let e of Array.from(t))i.push(e);this._fileNames=(i||[]).map((e=>e.name)).join(", "),this.required&&t?.length>0&&(this._valid=dI.INITIAL)}}get fileNames(){return this._fileNames}clear(){this.ngControl?.control?.setValue(""),this.nativeElement.value=null,this._fileNames=""}ngAfterViewInit(){this.inputGroup.hasPlaceholder=this.nativeElement.hasAttribute("placeholder"),this.ngControl&&null!==this.ngControl.disabled&&(this.disabled=this.ngControl.disabled),this.inputGroup.disabled=this.inputGroup.disabled||this.nativeElement.hasAttribute("disabled"),this.inputGroup.isRequired=this.nativeElement.hasAttribute("required"),this.ngControl||(this._valid=dI.INITIAL),this.required&&!this.inputGroup.isRequired&&(this.inputGroup.isRequired=this.required),this.renderer.setAttribute(this.nativeElement,"aria-required",this.required.toString()),"textarea"===this.nativeElement.tagName.toLowerCase()?this.isTextArea=!0:this.isInput=!0,this.ngControl&&(this._statusChanges$=this.ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this)),this._valueChanges$=this.ngControl.valueChanges.subscribe(this.onValueChanged.bind(this))),this.cdr.detectChanges()}ngOnDestroy(){this._statusChanges$&&this._statusChanges$.unsubscribe(),this._valueChanges$&&this._valueChanges$.unsubscribe()}focus(){this.nativeElement.focus()}get nativeElement(){return this.element.nativeElement}onStatusChanged(){this.disabled!==this.ngControl.disabled&&(this.disabled=this.ngControl.disabled),this.updateValidityState()}onValueChanged(){this._fileNames&&!this.value&&(this._fileNames="")}updateValidityState(){if(this.ngControl){if(!this.disabled&&this.isTouchedOrDirty)if(this.hasValidators){let e=this.ngControl.control.validator({});this.inputGroup.isRequired=e&&e.required,this.focused?this._valid=this.ngControl.valid?dI.VALID:dI.INVALID:this._valid=this.ngControl.valid?dI.INITIAL:dI.INVALID}else this.inputGroup.isRequired=!1,this._valid=this.ngControl.valid?dI.INITIAL:dI.INVALID;else this._valid=dI.INITIAL;this.renderer.setAttribute(this.nativeElement,"aria-required",this.required.toString());let e=this.valid===dI.INVALID;this.renderer.setAttribute(this.nativeElement,"aria-invalid",e.toString())}else this.checkNativeValidity()}get isTouchedOrDirty(){return this.ngControl.control.touched||this.ngControl.control.dirty}get hasValidators(){return!!this.ngControl.control.validator||!!this.ngControl.control.asyncValidator}get hasPlaceholder(){return this.nativeElement.hasAttribute("placeholder")}get placeholder(){return this.nativeElement.placeholder}_hasValidators(){for(let e of lI)if(this.nativeElement.hasAttribute(e))return!0;return!1}get focused(){return this.inputGroup.isFocused}get valid(){return this._valid}set valid(e){this._valid=e}get isValid(){return this.valid!==dI.INVALID}checkNativeValidity(){!this.disabled&&this._hasValidators()&&(this._valid=this.nativeElement.checkValidity()?this.focused?dI.VALID:dI.INITIAL:dI.INVALID)}get type(){return this.nativeElement.type}},t=e;return e.fac=function(t){return new(t||e)(Rd(aI),Rd(rw,10),Rd(k_,10),Rd(ld),Rd(Jg),Rd(hd))},e.dir=er({type:e,selectors:[["","igxInput",""]],hostVars:5,hostBindings:function(e,t){1&e&&oh("focus",(function(){return t.onFocus()}))("blur",(function(){return t.onBlur()}))("input",(function(){return t.onInput()}))("change",(function(e){return t.change(e)})),2&e&&(Yh("disabled",t.disabled),Ah("igx-input-group__input",t.isInput)("igx-input-group__textarea",t.isTextArea))},inputs:{value:"value",disabled:"disabled",required:"required"},exportAs:["igxInput"],standalone:!0}),t})(),hI=0,uI=(()=>{let e=class{constructor(){this.defaultClass=!0,this.id="igx-label-"+hI++}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxLabel",""]],hostVars:3,hostBindings:function(e,t){2&e&&(Gc("id",t.id),Ah("igx-input-group__label",t.defaultClass))},inputs:{id:"id"},standalone:!0}),t})(),gI=(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["igx-prefix"],["","igxPrefix",""],["","igxStart",""]],standalone:!0}),t})(),pI=(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["igx-suffix"],["","igxSuffix",""],["","igxEnd",""]],standalone:!0}),t})(),mI={igx_grid_groupByArea_message:"Drag a column header and drop it here to group by that column.",igx_grid_groupByArea_select_message:"Select all rows in the group with field name {0} and value {1}.",igx_grid_groupByArea_deselect_message:"Deselect all rows in the group with field name {0} and value {1}.",igx_grid_emptyFilteredGrid_message:"No records found.",igx_grid_emptyGrid_message:"Grid has no data.",igx_grid_filter:"Filter",igx_grid_filter_row_close:"Close",igx_grid_filter_row_reset:"Reset",igx_grid_filter_row_placeholder:"Add filter value",igx_grid_filter_row_boolean_placeholder:"All",igx_grid_filter_row_date_placeholder:"Pick up date",igx_grid_filter_row_time_placeholder:"Pick up time",igx_grid_filter_operator_and:"And",igx_grid_filter_operator_or:"Or",igx_grid_complex_filter:"Complex Filter",igx_grid_filter_contains:"Contains",igx_grid_filter_doesNotContain:"Does Not Contain",igx_grid_filter_startsWith:"Starts With",igx_grid_filter_endsWith:"Ends With",igx_grid_filter_equals:"Equals",igx_grid_filter_doesNotEqual:"Does Not Equal",igx_grid_filter_empty:"Empty",igx_grid_filter_notEmpty:"Not Empty",igx_grid_filter_null:"Null",igx_grid_filter_notNull:"Not Null",igx_grid_filter_before:"Before",igx_grid_filter_after:"After",igx_grid_filter_at:"At",igx_grid_filter_not_at:"Not At",igx_grid_filter_at_before:"At or Before",igx_grid_filter_at_after:"At or After",igx_grid_filter_today:"Today",igx_grid_filter_yesterday:"Yesterday",igx_grid_filter_thisMonth:"This Month",igx_grid_filter_lastMonth:"Last Month",igx_grid_filter_nextMonth:"Next Month",igx_grid_filter_thisYear:"This Year",igx_grid_filter_lastYear:"Last Year",igx_grid_filter_nextYear:"Next Year",igx_grid_filter_greaterThan:"Greater Than",igx_grid_filter_lessThan:"Less Than",igx_grid_filter_greaterThanOrEqualTo:"Greater Than Or Equal To",igx_grid_filter_lessThanOrEqualTo:"Less Than Or Equal To",igx_grid_filter_true:"True",igx_grid_filter_false:"False",igx_grid_filter_all:"All",igx_grid_filter_condition_placeholder:"Select filter",igx_grid_summary_count:"Count",igx_grid_summary_min:"Min",igx_grid_summary_max:"Max",igx_grid_summary_sum:"Sum",igx_grid_summary_average:"Avg",igx_grid_summary_earliest:"Earliest",igx_grid_summary_latest:"Latest",igx_grid_excel_filter_moving_left:"move left",igx_grid_excel_filter_moving_left_short:"left",igx_grid_excel_filter_moving_right:"move right",igx_grid_excel_filter_moving_right_short:"right",igx_grid_excel_filter_moving_header:"move",igx_grid_excel_filter_sorting_asc:"ascending",igx_grid_excel_filter_sorting_asc_short:"asc",igx_grid_excel_filter_sorting_desc:"descending",igx_grid_excel_filter_sorting_desc_short:"desc",igx_grid_excel_filter_sorting_header:"sort",igx_grid_excel_filter_clear:"Clear column filters",igx_grid_excel_custom_dialog_add:"add filter",igx_grid_excel_custom_dialog_clear:"Clear filter",igx_grid_excel_custom_dialog_header:"Custom auto-filter on column: ",igx_grid_excel_cancel:"cancel",igx_grid_excel_apply:"apply",igx_grid_excel_search_placeholder:"Search",igx_grid_excel_select_all:"Select All",igx_grid_excel_select_all_search_results:"Select all search results",igx_grid_excel_add_to_filter:"Add current selection to filter",igx_grid_excel_blanks:"(Blanks)",igx_grid_excel_hide:"Hide column",igx_grid_excel_show:"Show column",igx_grid_excel_pin:"Pin column",igx_grid_excel_unpin:"Unpin column",igx_grid_excel_select:"Select column",igx_grid_excel_deselect:"Deselect column",igx_grid_excel_text_filter:"Text filter",igx_grid_excel_number_filter:"Number filter",igx_grid_excel_date_filter:"Date filter",igx_grid_excel_boolean_filter:"Boolean filter",igx_grid_excel_currency_filter:"Currency filter",igx_grid_excel_custom_filter:"Custom filter...",igx_grid_excel_no_matches:"No matches",igx_grid_advanced_filter_title:"Advanced Filtering",igx_grid_advanced_filter_and_group:'"And" Group',igx_grid_advanced_filter_or_group:'"Or" Group',igx_grid_advanced_filter_end_group:"End Group",igx_grid_advanced_filter_create_and_group:'Create "And" Group',igx_grid_advanced_filter_create_or_group:'Create "Or" Group',igx_grid_advanced_filter_and_label:"and",igx_grid_advanced_filter_or_label:"or",igx_grid_advanced_filter_add_condition:"Condition",igx_grid_advanced_filter_ungroup:"Ungroup",igx_grid_advanced_filter_delete:"Delete",igx_grid_advanced_filter_delete_filters:"Delete filters",igx_grid_advanced_filter_initial_text:'Start with creating a group of conditions linked with "And" or "Or"',igx_grid_advanced_filter_column_placeholder:"Select column",igx_grid_advanced_filter_value_placeholder:"Value",igx_grid_pinned_row_indicator:"Pinned",igx_grid_hiding_check_all_label:"Show All",igx_grid_hiding_uncheck_all_label:"Hide All",igx_grid_pinning_check_all_label:"Pin All",igx_grid_pinning_uncheck_all_label:"Unpin All",igx_grid_row_edit_btn_done:"Done",igx_grid_row_edit_btn_cancel:"Cancel",igx_grid_toolbar_actions_filter_prompt:"Filter columns list ...",igx_grid_toolbar_pinning_button_tooltip:"Open column pinning dropdown",igx_grid_toolbar_hiding_button_tooltip:"Open column hiding dropdown",igx_grid_toolbar_pinning_title:"Pinned columns",igx_grid_toolbar_hiding_title:"Visible columns",igx_grid_toolbar_advanced_filtering_button_tooltip:"Open advanced filtering dialog",igx_grid_toolbar_advanced_filtering_button_label:"Advanced filtering",igx_grid_toolbar_exporter_button_tooltip:"Open exporter dropdown",igx_grid_toolbar_exporter_button_label:"Export",igx_grid_toolbar_exporter_excel_entry_text:"Export to Excel",igx_grid_toolbar_exporter_csv_entry_text:"Export to CSV",igx_grid_snackbar_addrow_label:"Row added",igx_grid_snackbar_addrow_actiontext:"SHOW",igx_grid_actions_edit_label:"Edit",igx_grid_actions_add_label:"Add",igx_grid_add_row_label:"ADD ROW",igx_grid_actions_add_child_label:"Add Child",igx_grid_actions_delete_label:"Delete",igx_grid_actions_pin_label:"Pin",igx_grid_actions_unpin_label:"Unpin",igx_grid_actions_jumpUp_label:"Jump up",igx_grid_actions_jumpDown_label:"Jump down",igx_grid_pivot_date_dimension_total:"All Periods",igx_grid_pivot_aggregate_count:"Count",igx_grid_pivot_aggregate_min:"Minimum",igx_grid_pivot_aggregate_max:"Maximum",igx_grid_pivot_aggregate_sum:"Sum",igx_grid_pivot_aggregate_avg:"Average",igx_grid_pivot_aggregate_date_latest:"Latest Date",igx_grid_pivot_aggregate_date_earliest:"Earliest Date",igx_grid_pivot_aggregate_time_latest:"Latest Time",igx_grid_pivot_aggregate_time_earliest:"Earliest Time",igx_grid_pivot_empty_row_drop_area:"Drop Row Fields here.",igx_grid_pivot_empty_column_drop_area:"Drop Column Fields here.",igx_grid_pivot_empty_filter_drop_area:"Drop Filter Fields here.",igx_grid_pivot_empty_value_drop_area:"Drop Value Fields here.",igx_grid_pivot_row_drop_chip:"Drop here to use as row",igx_grid_pivot_column_drop_chip:"Drop here to use as column",igx_grid_pivot_filter_drop_chip:"Drop here to use as filter",igx_grid_pivot_value_drop_chip:"Drop here to use as value",igx_grid_pivot_empty_message:"Pivot grid has no dimensions and values.",igx_grid_pivot_selector_filters:"Filters",igx_grid_pivot_selector_rows:"Rows",igx_grid_pivot_selector_columns:"Columns",igx_grid_pivot_selector_values:"Values",igx_grid_pivot_selector_panel_empty:"Drop Items Here",igx_grid_required_validation_error:"This field is required",igx_grid_min_validation_error:"A value of at least {0} should be entered",igx_grid_max_validation_error:"A value no more than {0} should be entered",igx_grid_min_length_validation_error:"Entry should be at least {0} character(s) long",igx_grid_max_length_validation_error:"Entry should be no more than {0} character(s) long",igx_grid_email_validation_error:"A valid email address should be entered",igx_grid_pattern_validation_error:"Entry does not match the required pattern",igx_grid_pivot_no_aggregator:"No valid aggregator found for {0}. Please set either a valid aggregatorName or aggregator."},fI={GridResStrings:LS(mI),PaginatorResStrings:LS({igx_paginator_label:"Items per page",igx_paginator_pager_text:"of",igx_paginator_first_page_button_text:"Go to first page",igx_paginator_previous_page_button_text:"Previous page",igx_paginator_last_page_button_text:"Go to last page",igx_paginator_next_page_button_text:"Next page"}),TimePickerResStrings:LS({igx_time_picker_ok:"OK",igx_time_picker_cancel:"Cancel",igx_time_picker_change_time:"Change Time",igx_time_picker_choose_time:"Choose Time"}),CalendarResStrings:LS({igx_calendar_previous_month:"Previous Month",igx_calendar_next_month:"Next Month",igx_calendar_select_month:"Select Month",igx_calendar_select_year:"Select Year",igx_calendar_range_start:"Range start",igx_calendar_range_end:"Range end",igx_calendar_selected_month_is:"Selected month is ",igx_calendar_first_picker_of:"First picker of {0} starts from",igx_calendar_multi_selection:"Multi selection calendar with {0} date pickers",igx_calendar_range_selection:"Range selection calendar with {0} date pickers",igx_calendar_single_selection:"Calendar with {0} date pickers",igx_calendar_singular_multi_selection:"Multi selection calendar",igx_calendar_singular_range_selection:"Range selection calendar",igx_calendar_singular_single_selection:"Calendar"}),ChipResStrings:LS({igx_chip_remove:"remove chip",igx_chip_select:"select chip"}),ComboResStrings:LS({igx_combo_empty_message:"The list is empty"}),DatePickerResourceStrings:LS({igx_date_picker_change_date:"Change Date",igx_date_picker_choose_date:"Choose Date"}),DateRangePickerResStrings:LS({igx_date_range_picker_date_separator:"to",igx_date_range_picker_done_button:"Done"}),CarouselResStrings:LS({igx_carousel_of:"of",igx_carousel_slide:"slide",igx_carousel_previous_slide:"previous slide",igx_carousel_next_slide:"next slide"}),ListResStrings:LS({igx_list_no_items:"There are no items in the list.",igx_list_loading:"Loading data from the server..."}),InputResStrings:LS({igx_input_upload_button:"Upload File",igx_input_file_placeholder:"No file chosen"}),TreeResStrings:LS({igx_expand:"Expand",igx_collapse:"Collapse"}),ActionStripResourceStrings:LS({igx_action_strip_button_more_title:"More"}),QueryBuilderResStrings:LS({igx_query_builder_date_placeholder:"Pick up date",igx_query_builder_time_placeholder:"Pick up time",igx_query_builder_filter_operator_and:"And",igx_query_builder_filter_operator_or:"Or",igx_query_builder_filter_contains:"Contains",igx_query_builder_filter_doesNotContain:"Does Not Contain",igx_query_builder_filter_startsWith:"Starts With",igx_query_builder_filter_endsWith:"Ends With",igx_query_builder_filter_equals:"Equals",igx_query_builder_filter_doesNotEqual:"Does Not Equal",igx_query_builder_filter_empty:"Empty",igx_query_builder_filter_notEmpty:"Not Empty",igx_query_builder_filter_null:"Null",igx_query_builder_filter_notNull:"Not Null",igx_query_builder_filter_before:"Before",igx_query_builder_filter_after:"After",igx_query_builder_filter_at:"At",igx_query_builder_filter_not_at:"Not At",igx_query_builder_filter_at_before:"At or Before",igx_query_builder_filter_at_after:"At or After",igx_query_builder_filter_today:"Today",igx_query_builder_filter_yesterday:"Yesterday",igx_query_builder_filter_thisMonth:"This Month",igx_query_builder_filter_lastMonth:"Last Month",igx_query_builder_filter_nextMonth:"Next Month",igx_query_builder_filter_thisYear:"This Year",igx_query_builder_filter_lastYear:"Last Year",igx_query_builder_filter_nextYear:"Next Year",igx_query_builder_filter_greaterThan:"Greater Than",igx_query_builder_filter_lessThan:"Less Than",igx_query_builder_filter_greaterThanOrEqualTo:"Greater Than Or Equal To",igx_query_builder_filter_lessThanOrEqualTo:"Less Than Or Equal To",igx_query_builder_filter_true:"True",igx_query_builder_filter_false:"False",igx_query_builder_filter_all:"All",igx_query_builder_title:"Query Builder",igx_query_builder_and_group:'"And" Group',igx_query_builder_or_group:'"Or" Group',igx_query_builder_end_group:"End Group",igx_query_builder_and_label:"and",igx_query_builder_or_label:"or",igx_query_builder_add_condition:"Condition",igx_query_builder_create_and_group:'Create "And" Group',igx_query_builder_create_or_group:'Create "Or" Group',igx_query_builder_ungroup:"Ungroup",igx_query_builder_delete:"Delete",igx_query_builder_delete_filters:"Delete filters",igx_query_builder_initial_text:'Start with creating a group of conditions linked with "And" or "Or"',igx_query_builder_column_placeholder:"Select column",igx_query_builder_condition_placeholder:"Select filter",igx_query_builder_value_placeholder:"Value"}),BannerResourceStrings:LS({igx_banner_button_dismiss:"Dismiss"})},yI="flat",vI="raised",xI="outlined",_I="icon",wI="fab",CI=(()=>{let e=class extends tI{set selected(e){this._selected!==e&&(this._selected||this.buttonSelected.emit({button:this}),this._selected=e)}get selected(){return this._selected}constructor(e,t,i){super(i),this.element=e,this._renderer=t,this._displayDensityOptions=i,this.buttonClick=new zu,this.buttonSelected=new zu,this.role="button",this._cssClass="igx-button",this._disabled=!1,this._selected=!1}onClick(e){this.buttonClick.emit(e)}get nativeElement(){return this.element.nativeElement}set type(e){let t=e||yI;this._type!==t&&(this._type=t)}set color(e){this._color=e||this.nativeElement.style.color,this._renderer.setStyle(this.nativeElement,"color",this._color)}set background(e){this._backgroundColor=e||this._backgroundColor,this._renderer.setStyle(this.nativeElement,"background",this._backgroundColor)}set label(e){this._label=e||this._label,this._renderer.setAttribute(this.nativeElement,"aria-label",this._label)}get disabled(){return this._disabled}set disabled(e){this._disabled=""===e||e}get flat(){return this._type===yI}get raised(){return this._type===vI}get outlined(){return this._type===xI}get icon(){return this._type===_I}get fab(){return this._type===wI}get cosy(){return this.displayDensity===QE}get compact(){return this.displayDensity===JE}get disabledAttribute(){return this._disabled?this._disabled:null}select(){this.selected=!0}deselect(){this._selected=!1}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(hd),Rd(eI,8))},e.dir=er({type:e,selectors:[["","igxButton",""]],hostVars:20,hostBindings:function(e,t){1&e&&oh("click",(function(e){return t.onClick(e)})),2&e&&(Gc("role",t.role)("disabled",t.disabledAttribute),Ah("igx-button",t._cssClass)("igx-button--disabled",t.disabled)("igx-button--flat",t.flat)("igx-button--raised",t.raised)("igx-button--outlined",t.outlined)("igx-button--icon",t.icon)("igx-button--fab",t.fab)("igx-button--cosy",t.cosy)("igx-button--compact",t.compact))},inputs:{selected:"selected",type:["igxButton","type"],color:["igxButtonColor","color"],background:["igxButtonBackground","background"],label:["igxLabel","label"],disabled:"disabled"},outputs:{buttonClick:"buttonClick",buttonSelected:"buttonSelected"},standalone:!0,features:[Tc]}),t})(),SI=new Dl("InputGroupType"),bI=(()=>{let e=class{constructor(e,t,i,n){this._sanitizer=e,this._httpClient=t,this._platformUtil=i,this._document=n,this._family="material-icons",this._familyAliases=new Map,this._cachedSvgIcons=new Map,this._iconLoaded=new We,this.iconLoaded=this._iconLoaded.asObservable(),this._platformUtil?.isBrowser&&(this._domParser=new DOMParser)}get defaultFamily(){return this._family}set defaultFamily(e){this._family=e}registerFamilyAlias(e,t=e){return this._familyAliases.set(e,t),this}familyClassName(e){return this._familyAliases.get(e)||e}addSvgIcon(e,t,i=this._family,n=!1){if(!e||!t)throw new Error("You should provide at least `name` and `url` to register an svg icon.");{let r=this._sanitizer.bypassSecurityTrustResourceUrl(t);if(!r)throw new Error(`The provided URL could not be processed as trusted resource URL by Angular's DomSanitizer: "${t}".`);if(!this._sanitizer.sanitize(wl.RESOURCE_URL,r))throw new Error(`The URL provided was not trusted as a resource URL: "${t}".`);this.isSvgIconCached(e,i)||this.fetchSvg(t).subscribe((t=>{this.cacheSvgIcon(e,t,i,n),this._iconLoaded.next({name:e,value:t,family:i})}))}}addSvgIconFromText(e,t,i="",n=!1){if(!e||!t)throw new Error("You should provide at least `name` and `iconText` to register an svg icon.");this.isSvgIconCached(e,i)||this.cacheSvgIcon(e,t,i,n)}isSvgIconCached(e,t=""){let i=this.familyClassName(t);return!!this._cachedSvgIcons.has(i)&&this._cachedSvgIcons.get(i).has(e)}getSvgIcon(e,t=""){let i=this.familyClassName(t);return this._cachedSvgIcons.get(i)?.get(e)}fetchSvg(e){return this._httpClient.get(e,{responseType:"text"})}cacheSvgIcon(e,t,i=this._family,n){if(i=i||this._family,this._platformUtil?.isBrowser&&e&&t){let r=this._domParser.parseFromString(t,"image/svg+xml").querySelector("svg");if(this._cachedSvgIcons.has(i)||this._cachedSvgIcons.set(i,new Map),r){if(r.setAttribute("fit",""),r.setAttribute("preserveAspectRatio","xMidYMid meet"),n){let e=r.querySelector("title"),t=r.querySelector("desc");e&&r.removeChild(e),t&&r.removeChild(t)}let t=this._sanitizer.bypassSecurityTrustHtml(r.outerHTML);this._cachedSvgIcons.get(i).set(e,t)}}}},t=e;return e.fac=function(t){return new(t||e)(pn(Zf,8),pn(mf,8),pn($S,8),pn(Cp,8))},e.prov=ji({token:e,factory:e.fac,providedIn:"root"}),t})(),DI=["noLigature"],EI=["explicitLigature"],II=["svgImage"];function TI(e,t){}function AI(e,t){1&e&&uh(0)}function kI(e,t){1&e&&Zc(0,"div",4),2&e&&Uc("innerHTML",dh().getSvg,Cl)}function RI(e,t){1&e&&th(0)}var OI=["*"],FI=(()=>{let e=class{constructor(e,t,i){this.el=e,this.iconService=t,this.ref=i,this.cssClass="igx-icon",this.ariaHidden=!0,this.active=!0,this.destroy$=new We,this.family=this.iconService.defaultFamily,this.iconService.registerFamilyAlias("material","material-icons"),this.iconService.iconLoaded.pipe(ci((e=>e.name===this.name&&e.family===this.family)),yi(this.destroy$)).subscribe((()=>this.ref.detectChanges()))}ngOnInit(){this.updateIconClass()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get getFamily(){return this.family}get getActive(){return this.active}get getInactive(){return!this.active}get getName(){return this.name}get getSvg(){return this.iconService.isSvgIconCached(this.name,this.family)?this.iconService.getSvgIcon(this.name,this.family):null}get template(){return this.name?this.iconService.isSvgIconCached(this.name,this.family)?this.svgImage:this.noLigature:this.explicitLigature}updateIconClass(){let e=this.iconService.familyClassName(this.family);this.el.nativeElement.classList.add(e),this.name&&!this.iconService.isSvgIconCached(this.name,this.family)&&this.el.nativeElement.classList.add(this.name)}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(bI),Rd(Jg))},e.cmp=Yn({type:e,selectors:[["igx-icon"]],viewQuery:function(e,t){if(1&e&&(pg(DI,7,ju),pg(EI,7,ju),pg(II,7,ju)),2&e){let e;gg(e=fg())&&(t.noLigature=e.first),gg(e=fg())&&(t.explicitLigature=e.first),gg(e=fg())&&(t.svgImage=e.first)}},hostVars:5,hostBindings:function(e,t){2&e&&(Gc("aria-hidden",t.ariaHidden),Ah("igx-icon",t.cssClass)("igx-icon--inactive",t.getInactive))},inputs:{family:"family",active:"active",name:"name"},standalone:!0,features:[yu],ngContentSelectors:OI,decls:7,vars:1,consts:[["noLigature",""],["explicitLigature",""],["svgImage",""],[4,"ngTemplateOutlet"],[3,"innerHTML"]],template:function(e,t){1&e&&(hh(),Wc(0,TI,0,0,"ng-template",null,0,_g),Wc(2,AI,1,0,"ng-template",null,1,_g),Wc(4,kI,1,1,"ng-template",null,2,_g),Wc(6,RI,1,0,"ng-container",3)),2&e&&(Ed(6),Uc("ngTemplateOutlet",t.template))},dependencies:[Pm],encapsulation:2}),t})();function PI(e,t){1&e&&th(0)}function MI(e,t){if(1&e&&(Yc(0,"div",13),Wc(1,PI,1,0,"ng-container",14),Xc()),2&e){dh();let e=Kc(24);Ed(1),Uc("ngTemplateOutlet",e)}}function VI(e,t){1&e&&uh(0,1)}function NI(e,t){1&e&&uh(0,2)}function LI(e,t){1&e&&uh(0,3)}var HI=function(e){return{"igx-input-group__upload-button":e}};function BI(e,t){if(1&e){let e=nh();Yc(0,"igx-prefix",16)(1,"button",17),oh("click",(function(){return Is(e),Ts(dh(2).uploadButtonHandler())})),$h(2),Xc()()}if(2&e){let e=dh(2);Ed(1),Uc("displayDensity",e.displayDensity)("disabled",e.disabled)("ngClass",xu(4,HI,e.isTypeLine)),Ed(1),Kh(" ",e.resourceStrings.igx_input_upload_button," ")}}function GI(e,t){1&e&&Wc(0,BI,3,6,"igx-prefix",15),2&e&&Uc("ngIf",dh().isFileType)}function zI(e,t){if(1&e&&(Yc(0,"div",19)(1,"span"),$h(2),Xc()()),2&e){let e=dh(2);Uc("title",e.fileNames),Ed(2),jh(e.fileNames)}}function $I(e,t){1&e&&Wc(0,zI,3,2,"div",18),2&e&&Uc("ngIf",dh().isFileType)}function WI(e,t){if(1&e){let e=nh();Yc(0,"igx-suffix",21),oh("click",(function(){return Is(e),Ts(dh(2).clearValueHandler())}))("keydown.Enter",(function(){return Is(e),Ts(dh(2).clearValueHandler())})),Yc(1,"igx-icon"),$h(2,"clear"),Xc()()}}function jI(e,t){if(1&e&&Wc(0,WI,3,0,"igx-suffix",20),2&e){let e=dh();Uc("ngIf",e.isFileType&&e.isFilled)}}function KI(e,t){1&e&&uh(0,4)}function UI(e,t){1&e&&th(0)}function qI(e,t){1&e&&th(0)}function YI(e,t){1&e&&th(0)}function XI(e,t){1&e&&th(0)}function ZI(e,t){1&e&&th(0)}function QI(e,t){1&e&&th(0)}function JI(e,t){1&e&&th(0)}function eT(e,t){1&e&&Zc(0,"div",29)}function tT(e,t){if(1&e&&(Yc(0,"div",22)(1,"div",23),Wc(2,UI,1,0,"ng-container",14),Wc(3,qI,1,0,"ng-container",14),Xc(),Jc(4),Yc(5,"div",24),Wc(6,YI,1,0,"ng-container",14),Xc(),eh(),Yc(7,"div",25),Wc(8,XI,1,0,"ng-container",14),Wc(9,ZI,1,0,"ng-container",14),Xc(),Zc(10,"div",26),Yc(11,"div",27),Wc(12,QI,1,0,"ng-container",14),Wc(13,JI,1,0,"ng-container",14),Xc(),Wc(14,eT,1,0,"div",28),Xc()),2&e){let e=dh(),t=Kc(8),i=Kc(10),n=Kc(4),r=Kc(6),s=Kc(12),o=Kc(14),a=Kc(16);Ed(2),Uc("ngTemplateOutlet",t),Ed(1),Uc("ngTemplateOutlet",i),Ed(3),Uc("ngTemplateOutlet",n),Ed(2),Uc("ngTemplateOutlet",r),Ed(1),Uc("ngTemplateOutlet",s),Ed(3),Uc("ngTemplateOutlet",o),Ed(1),Uc("ngTemplateOutlet",a),Ed(1),Uc("ngIf",e.hasBorder)}}function iT(e,t){1&e&&th(0)}function nT(e,t){1&e&&th(0)}function rT(e,t){1&e&&th(0)}function sT(e,t){1&e&&th(0)}function oT(e,t){1&e&&th(0)}function aT(e,t){1&e&&th(0)}function lT(e,t){1&e&&th(0)}function dT(e,t){1&e&&Zc(0,"div",29)}function cT(e,t){if(1&e&&(Wc(0,iT,1,0,"ng-container",14),Yc(1,"div",22)(2,"div",23),Wc(3,nT,1,0,"ng-container",14),Wc(4,rT,1,0,"ng-container",14),Xc(),Yc(5,"div",25),Wc(6,sT,1,0,"ng-container",14),Wc(7,oT,1,0,"ng-container",14),Xc(),Yc(8,"div",27),Wc(9,aT,1,0,"ng-container",14),Wc(10,lT,1,0,"ng-container",14),Xc(),Wc(11,dT,1,0,"div",28),Xc()),2&e){let e=dh(),t=Kc(4),i=Kc(8),n=Kc(10),r=Kc(6),s=Kc(12),o=Kc(14),a=Kc(16);Uc("ngTemplateOutlet",t),Ed(3),Uc("ngTemplateOutlet",i),Ed(1),Uc("ngTemplateOutlet",n),Ed(2),Uc("ngTemplateOutlet",r),Ed(1),Uc("ngTemplateOutlet",s),Ed(2),Uc("ngTemplateOutlet",o),Ed(1),Uc("ngTemplateOutlet",a),Ed(1),Uc("ngIf",e.hasBorder)}}function hT(e,t){1&e&&th(0)}function uT(e,t){1&e&&th(0)}function gT(e,t){1&e&&th(0)}function pT(e,t){1&e&&th(0)}function mT(e,t){1&e&&th(0)}function fT(e,t){1&e&&th(0)}function yT(e,t){1&e&&th(0)}function vT(e,t){if(1&e&&(Wc(0,hT,1,0,"ng-container",14),Yc(1,"div",22)(2,"div",23),Wc(3,uT,1,0,"ng-container",14),Wc(4,gT,1,0,"ng-container",14),Xc(),Wc(5,pT,1,0,"ng-container",14),Wc(6,mT,1,0,"ng-container",14),Yc(7,"div",27),Wc(8,fT,1,0,"ng-container",14),Wc(9,yT,1,0,"ng-container",14),Xc()()),2&e){dh();let e=Kc(4),t=Kc(8),i=Kc(10),n=Kc(6),r=Kc(12),s=Kc(14),o=Kc(16);Uc("ngTemplateOutlet",e),Ed(3),Uc("ngTemplateOutlet",t),Ed(1),Uc("ngTemplateOutlet",i),Ed(1),Uc("ngTemplateOutlet",n),Ed(1),Uc("ngTemplateOutlet",r),Ed(2),Uc("ngTemplateOutlet",s),Ed(1),Uc("ngTemplateOutlet",o)}}function xT(e,t){1&e&&th(0)}function _T(e,t){if(1&e&&(Jc(0),Wc(1,xT,1,0,"ng-container",14),eh()),2&e){dh(2);let e=Kc(22);Ed(1),Uc("ngTemplateOutlet",e)}}function wT(e,t){1&e&&th(0)}function CT(e,t){if(1&e&&(Jc(0),Wc(1,wT,1,0,"ng-container",14),eh()),2&e){dh(2);let e=Kc(20);Ed(1),Uc("ngTemplateOutlet",e)}}function ST(e,t){1&e&&th(0)}function bT(e,t){if(1&e&&(Jc(0),Wc(1,ST,1,0,"ng-container",14),eh()),2&e){dh(2);let e=Kc(20);Ed(1),Uc("ngTemplateOutlet",e)}}function DT(e,t){1&e&&th(0)}function ET(e,t){if(1&e&&(Jc(0),Wc(1,DT,1,0,"ng-container",14),eh()),2&e){dh(2);let e=Kc(18);Ed(1),Uc("ngTemplateOutlet",e)}}function IT(e,t){1&e&&(Jc(0,30),Wc(1,_T,2,1,"ng-container",31),Wc(2,CT,2,1,"ng-container",31),Wc(3,bT,2,1,"ng-container",31),Wc(4,ET,2,1,"ng-container",32),eh()),2&e&&(Uc("ngSwitch",dh().theme),Ed(1),Uc("ngSwitchCase","bootstrap"),Ed(1),Uc("ngSwitchCase","fluent"),Ed(1),Uc("ngSwitchCase","indigo-design"))}var TT=[[["igx-hint"],["","igxHint",""]],[["","igxLabel",""]],[["","igxInput",""]],[["igx-prefix"],["","igxPrefix",""]],[["igx-suffix"],["","igxSuffix",""]]],AT=["igx-hint, [igxHint]","[igxLabel]","[igxInput]","igx-prefix, [igxPrefix]","igx-suffix, [igxSuffix]"],kT=(()=>{let e=class extends tI{set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}get validClass(){return this.input.valid===dI.VALID}get invalidClass(){return this.input.valid===dI.INVALID}get isFilled(){return this._filled||this.input&&this.input.value}get isDisplayDensityCosy(){return this.displayDensity===QE}get isDisplayDensityComfortable(){return this.displayDensity===ZE}get isDisplayDensityCompact(){return this.displayDensity===JE}get textAreaClass(){return this.input.isTextArea}set type(e){this._type=e}get type(){return this._type||this._inputGroupType||"line"}set theme(e){this._theme=e}get theme(){return this._theme}constructor(e,t,i,n,r,s){super(t),this.element=e,this._inputGroupType=i,this.document=n,this.platform=r,this.cdr=s,this.defaultClass=!0,this.hasPlaceholder=!1,this.isRequired=!1,this.isFocused=!1,this.disabled=!1,this.suppressInputAutofocus=!1,this.hasWarning=!1,this._type=null,this._filled=!1,this._theme$=new We,this._resourceStrings=fI.InputResStrings,this._subscription=this._theme$.asObservable().subscribe((e=>{this._theme=e,this.cdr.detectChanges()}))}onClick(e){!this.isFocused&&e.target!==this.input.nativeElement&&!this.suppressInputAutofocus&&this.input.focus()}onPointerDown(e){this.isFocused&&e.target!==this.input.nativeElement&&e.preventDefault()}hintClickHandler(e){e.stopPropagation()}get hasHints(){return this.hints.length>0}get hasPrefixes(){return this._prefixes.length>0||this.isFileType}set prefixes(e){this._prefixes=e}get hasSuffixes(){return this._suffixes.length>0||this.isFileType&&this.isFilled}set suffixes(e){this._suffixes=e}get hasBorder(){return("line"===this.type||"box"===this.type)&&"material"===this._theme}get isTypeLine(){return"line"===this.type&&"material"===this._theme}get isTypeBox(){return"box"===this.type&&"material"===this._theme}uploadButtonHandler(){this.input.nativeElement.click()}clearValueHandler(){this.input.clear()}get isFileType(){return"file"===this.input.type}get fileNames(){return this.input.fileNames||this._resourceStrings.igx_input_file_placeholder}get isTypeBorder(){return"border"===this.type&&"material"===this._theme}get isTypeFluent(){return"fluent"===this._theme}get isTypeBootstrap(){return"bootstrap"===this._theme}get isTypeIndigo(){return"indigo-design"===this._theme}get isTypeSearch(){return"search"===this.type}get filled(){return this._filled}set filled(e){this._filled=e}ngAfterViewChecked(){if(!this._theme){let e=this.document.defaultView.getComputedStyle(this.element.nativeElement).getPropertyValue("--theme").trim();""!==e&&Promise.resolve().then((()=>{this._theme$.next(e),this.cdr.markForCheck()}))}}ngOnDestroy(){this._subscription.unsubscribe()}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(eI,8),Rd(SI,8),Rd(Cp),Rd($S),Rd(Jg))},e.cmp=Yn({type:e,selectors:[["igx-input-group"]],contentQueries:function(e,t,i){if(1&e&&(mg(i,cI,7,cI),mg(i,oI,4,oI),mg(i,gI,5,gI),mg(i,pI,5,pI)),2&e){let e;gg(e=fg())&&(t.input=e.first),gg(e=fg())&&(t.hints=e),gg(e=fg())&&(t._prefixes=e),gg(e=fg())&&(t._suffixes=e)}},hostVars:44,hostBindings:function(e,t){1&e&&oh("click",(function(e){return t.onClick(e)}))("pointerdown",(function(e){return t.onPointerDown(e)})),2&e&&Ah("igx-input-group",t.defaultClass)("igx-input-group--placeholder",t.hasPlaceholder)("igx-input-group--required",t.isRequired)("igx-input-group--focused",t.isFocused)("igx-input-group--disabled",t.disabled)("igx-input-group--warning",t.hasWarning)("igx-input-group--valid",t.validClass)("igx-input-group--invalid",t.invalidClass)("igx-input-group--filled",t.isFilled)("igx-input-group--cosy",t.isDisplayDensityCosy)("igx-input-group--comfortable",t.isDisplayDensityComfortable)("igx-input-group--compact",t.isDisplayDensityCompact)("igx-input-group--textarea-group",t.textAreaClass)("igx-input-group--prefixed",t.hasPrefixes)("igx-input-group--suffixed",t.hasSuffixes)("igx-input-group--box",t.isTypeBox)("igx-input-group--file",t.isFileType)("igx-input-group--border",t.isTypeBorder)("igx-input-group--fluent",t.isTypeFluent)("igx-input-group--bootstrap",t.isTypeBootstrap)("igx-input-group--indigo",t.isTypeIndigo)("igx-input-group--search",t.isTypeSearch)},inputs:{resourceStrings:"resourceStrings",suppressInputAutofocus:"suppressInputAutofocus",type:"type",theme:"theme"},standalone:!0,features:[cu([{provide:aI,useExisting:e}]),Tc,yu],ngContentSelectors:AT,decls:25,vars:2,consts:[["class","igx-input-group__wrapper",4,"ngIf","ngIfElse"],[1,"igx-input-group__hint",3,"click"],["label",""],["input",""],["prefix",""],["uploadButton",""],["files",""],["clear",""],["suffix",""],["materialBundle",""],["fluentBundle",""],["bootstrapBundle",""],["bundle",""],[1,"igx-input-group__wrapper"],[4,"ngTemplateOutlet"],["class","igx-input-group__upload-button",4,"ngIf"],[1,"igx-input-group__upload-button"],["igxButton","raised","type","button",3,"displayDensity","disabled","ngClass","click"],["class","igx-input-group__file-input",3,"title",4,"ngIf"],[1,"igx-input-group__file-input",3,"title"],["class","igx-input-group__clear-icon","title","clear files","tabindex","0",3,"click","keydown.Enter",4,"ngIf"],["title","clear files","tabindex","0",1,"igx-input-group__clear-icon",3,"click","keydown.Enter"],[1,"igx-input-group__bundle"],[1,"igx-input-group__bundle-start"],[1,"igx-input-group__notch"],[1,"igx-input-group__bundle-main"],[1,"igx-input-group__filler"],[1,"igx-input-group__bundle-end"],["class","igx-input-group__line",4,"ngIf"],[1,"igx-input-group__line"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(e,t){if(1&e&&(hh(TT),Wc(0,MI,2,1,"div",0),Yc(1,"div",1),oh("click",(function(e){return t.hintClickHandler(e)})),uh(2),Xc(),Wc(3,VI,1,0,"ng-template",null,2,_g),Wc(5,NI,1,0,"ng-template",null,3,_g),Wc(7,LI,1,0,"ng-template",null,4,_g),Wc(9,GI,1,1,"ng-template",null,5,_g),Wc(11,$I,1,1,"ng-template",null,6,_g),Wc(13,jI,1,1,"ng-template",null,7,_g),Wc(15,KI,1,0,"ng-template",null,8,_g),Wc(17,tT,15,8,"ng-template",null,9,_g),Wc(19,cT,12,8,"ng-template",null,10,_g),Wc(21,vT,10,7,"ng-template",null,11,_g),Wc(23,IT,5,4,"ng-template",null,12,_g)),2&e){let e=Kc(24);Uc("ngIf",t.isTypeBox)("ngIfElse",e)}},dependencies:[Em,Pm,gI,CI,Sm,pI,FI,km,Rm,Om],encapsulation:2}),t})(),RT=((RT=RT||{})[RT.UP=0]="UP",RT[RT.DOWN=1]="DOWN",RT[RT.LEFT=2]="LEFT",RT[RT.RIGHT=3]="RIGHT",RT),OT=((OT=OT||{})[OT.VERTICAL=0]="VERTICAL",OT[OT.HORIZONTAL=1]="HORIZONTAL",OT[OT.BOTH=2]="BOTH",OT),FT=class{constructor(e,t){this._pageX=e,this._pageY=t,this.pageX=parseFloat(e),this.pageY=parseFloat(t)}},PT=(()=>{let e=class{constructor(e){this.element=e,this.baseClass=!0,this.parentDragElement=null}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld))},e.dir=er({type:e,selectors:[["","igxDragHandle",""]],hostVars:2,hostBindings:function(e,t){2&e&&Ah("igx-drag__handle",t.baseClass)},standalone:!0}),t})(),MT=(()=>{let e=class{constructor(e){this.element=e,this.baseClass=!0}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld))},e.dir=er({type:e,selectors:[["","igxDragIgnore",""]],hostVars:2,hostBindings:function(e,t){2&e&&Ah("igx-drag__ignore",t.baseClass)},standalone:!0}),t})(),VT=(()=>{let e=class{set data(e){this._data=e}get data(){return this._data}get location(){return new FT(this.pageX,this.pageY)}get originLocation(){return new FT(this.baseOriginLeft,this.baseOriginTop)}get pointerEventsEnabled(){return typeof PointerEvent<"u"}get touchEventsEnabled(){return"ontouchstart"in window}get pageX(){return this.ghost&&this.ghostElement?this.ghostLeft:this.baseLeft+this.windowScrollLeft}get pageY(){return this.ghost&&this.ghostElement?this.ghostTop:this.baseTop+this.windowScrollTop}get baseLeft(){return this.element.nativeElement.getBoundingClientRect().left}get baseTop(){return this.element.nativeElement.getBoundingClientRect().top}get baseOriginLeft(){return this.baseLeft-this.getTransformX(this.element.nativeElement)}get baseOriginTop(){return this.baseTop-this.getTransformY(this.element.nativeElement)}set ghostLeft(e){if(this.ghostElement){let t=parseInt(document.defaultView.getComputedStyle(this.ghostElement)["margin-left"],10);this.ghostElement.style.left=e-t-this._ghostHostX+"px"}}get ghostLeft(){if(this.ghostElement)return parseInt(this.ghostElement.style.left,10)+this._ghostHostX}set ghostTop(e){if(this.ghostElement){let t=parseInt(document.defaultView.getComputedStyle(this.ghostElement)["margin-top"],10);this.ghostElement.style.top=e-t-this._ghostHostY+"px"}}get ghostTop(){if(this.ghostElement)return parseInt(this.ghostElement.style.top,10)+this._ghostHostY}get windowScrollTop(){return document.documentElement.scrollTop||window.scrollY}get windowScrollLeft(){return document.documentElement.scrollLeft||window.scrollX}get windowScrollHeight(){return document.documentElement.scrollHeight}get windowScrollWidth(){return document.documentElement.scrollWidth}set ghostOffsetX(e){this._offsetX=parseInt(e,10)}get ghostOffsetX(){return void 0!==this._offsetX?this._offsetX:this._defaultOffsetX}set ghostOffsetY(e){this._offsetY=parseInt(e,10)}get ghostOffsetY(){return void 0!==this._offsetY?this._offsetY:this._defaultOffsetY}constructor(e,t,i,n,r,s){this.cdr=e,this.element=t,this.viewContainer=i,this.zone=n,this.renderer=r,this.platformUtil=s,this.dragTolerance=5,this.dragDirection=OT.BOTH,this.ghost=!0,this.ghostClass="",this.scrollContainer=null,this.dragStart=new zu,this.dragMove=new zu,this.dragEnd=new zu,this.dragClick=new zu,this.ghostCreate=new zu,this.ghostDestroy=new zu,this.transitioned=new zu,this.baseClass=!0,this.selectDisabled=!1,this.defaultReturnDuration="0.5s",this.animInProgress=!1,this.ghostContext=null,this._startX=0,this._startY=0,this._lastX=0,this._lastY=0,this._dragStarted=!1,this._ghostHostX=0,this._ghostHostY=0,this._pointerDownId=null,this._clicked=!1,this._lastDropArea=null,this._destroy=new We,this._removeOnDestroy=!0,this._scrollContainer=null,this._originalScrollContainerWidth=0,this._originalScrollContainerHeight=0,this._scrollContainerStep=5,this._scrollContainerStepMs=10,this._scrollContainerThreshold=25,this._containerScrollIntervalId=null}ngAfterContentInit(){(!this.dragHandles||!this.dragHandles.length)&&(this.selectDisabled=!0),this.zone.runOutsideAngular((()=>{this.platformUtil.isBrowser&&((this.dragHandles&&this.dragHandles.length?this.dragHandles.filter((e=>null===e.parentDragElement)).map((e=>(e.parentDragElement=this.element.nativeElement,e.element.nativeElement))):[this.element.nativeElement]).forEach((e=>{this.pointerEventsEnabled?(Lt(e,"pointerdown").pipe(yi(this._destroy)).subscribe((e=>this.onPointerDown(e))),Lt(e,"pointermove").pipe(Di((()=>Gt(0,yt))),yi(this._destroy)).subscribe((e=>this.onPointerMove(e))),Lt(e,"pointerup").pipe(yi(this._destroy)).subscribe((e=>this.onPointerUp(e))),this.ghost||Lt(e,"lostpointercapture").pipe(yi(this._destroy)).subscribe((e=>this.onPointerLost(e)))):this.touchEventsEnabled?Lt(e,"touchstart").pipe(yi(this._destroy)).subscribe((e=>this.onPointerDown(e))):Lt(e,"mousedown").pipe(yi(this._destroy)).subscribe((e=>this.onPointerDown(e)))})),!this.pointerEventsEnabled&&this.touchEventsEnabled?(Lt(document.defaultView,"touchmove").pipe(Di((()=>Gt(0,yt))),yi(this._destroy)).subscribe((e=>this.onPointerMove(e))),Lt(document.defaultView,"touchend").pipe(yi(this._destroy)).subscribe((e=>this.onPointerUp(e)))):this.pointerEventsEnabled||(Lt(document.defaultView,"mousemove").pipe(Di((()=>Gt(0,yt))),yi(this._destroy)).subscribe((e=>this.onPointerMove(e))),Lt(document.defaultView,"mouseup").pipe(yi(this._destroy)).subscribe((e=>this.onPointerUp(e)))),this.element.nativeElement.addEventListener("transitionend",(e=>{this.onTransitionEnd(e)})))})),this.element.nativeElement.style.transitionDuration="0.0s"}ngOnDestroy(){this._destroy.next(!0),this._destroy.complete(),this.ghost&&this.ghostElement&&this._removeOnDestroy&&(this.ghostElement.parentNode.removeChild(this.ghostElement),this.ghostElement=null,this._dynamicGhostRef&&(this._dynamicGhostRef.destroy(),this._dynamicGhostRef=null)),this._containerScrollIntervalId&&(clearInterval(this._containerScrollIntervalId),this._containerScrollIntervalId=null)}setLocation(e){if(this.ghost&&this.ghostElement)this.ghostLeft=e.pageX+this.windowScrollLeft,this.ghostTop=e.pageY+this.windowScrollTop;else if(!this.ghost){let t=e.pageX-this.pageX,i=e.pageY-this.pageY,n=this.getTransformX(this.element.nativeElement),r=this.getTransformY(this.element.nativeElement);this.setTransformXY(n+t,r+i)}this._startX=this.baseLeft,this._startY=this.baseTop}transitionToOrigin(e,t){t&&t.pageX===this.baseOriginLeft&&t.pageY===this.baseOriginLeft||!t&&this.ghost&&!this.ghostElement||(t&&t.pageX!==this.pageX&&t.pageY!==this.pageY&&(this.ghost&&!this.ghostElement&&(this._startX=t.pageX,this._startY=t.pageY,this._ghostStartX=this._startX,this._ghostStartY=this._startY,this.createGhost(this._startX,this._startY)),this.setLocation(t)),this.animInProgress=!0,setTimeout((()=>{this.ghost?(this.ghostElement.style.transitionProperty="top, left",this.ghostElement.style.transitionDuration=e&&e.duration?e.duration+"s":this.defaultReturnDuration,this.ghostElement.style.transitionTimingFunction=e&&e.timingFunction?e.timingFunction:"",this.ghostElement.style.transitionDelay=e&&e.delay?e.delay+"s":"",this.setLocation(new FT(this.baseLeft,this.baseTop))):this.ghost||(this.element.nativeElement.style.transitionProperty="transform",this.element.nativeElement.style.transitionDuration=e&&e.duration?e.duration+"s":this.defaultReturnDuration,this.element.nativeElement.style.transitionTimingFunction=e&&e.timingFunction?e.timingFunction:"",this.element.nativeElement.style.transitionDelay=e&&e.delay?e.delay+"s":"",this._startX=this.baseLeft,this._startY=this.baseTop,this.setTransformXY(0,0))}),0))}transitionTo(e,t,i){i&&this.ghost&&!this.ghostElement?(this._startX=i.pageX,this._startY=i.pageY,this._ghostStartX=this._startX,this._ghostStartY=this._startY):!i||this.ghost&&!this.ghostElement?this.ghost&&!this.ghostElement&&(this._startX=this.baseLeft,this._startY=this.baseTop,this._ghostStartX=this._startX+this.windowScrollLeft,this._ghostStartY=this._startY+this.windowScrollTop):this.setLocation(i),this.ghost&&!this.ghostElement&&this.createGhost(this._startX,this._startY),this.animInProgress=!0,setTimeout((()=>{let i=this.ghost?this.ghostElement:this.element.nativeElement;if(i.style.transitionProperty=this.ghost&&this.ghostElement?"left, top":"transform",i.style.transitionDuration=t&&t.duration?t.duration+"s":this.defaultReturnDuration,i.style.transitionTimingFunction=t&&t.timingFunction?t.timingFunction:"",i.style.transitionDelay=t&&t.delay?t.delay+"s":"",e instanceof FT)this.setLocation(new FT(e.pageX,e.pageY));else{let t=e.nativeElement.getBoundingClientRect();this.setLocation(new FT(t.left-this.windowScrollLeft,t.top-this.windowScrollTop))}}),0)}onPointerDown(e){if(this.dragIgnoredElems.find((t=>t.element.nativeElement===e.target)))return;this._clicked=!0,this._pointerDownId=e.pointerId;let t=this.dragHandles.find((t=>t.element.nativeElement===e.target)),i=t?t.element.nativeElement:this.element.nativeElement;this.pointerEventsEnabled?i.setPointerCapture(this._pointerDownId):(i.focus(),e.preventDefault()),this.pointerEventsEnabled||!this.touchEventsEnabled?(this._startX=e.pageX,this._startY=e.pageY):this.touchEventsEnabled&&(this._startX=e.touches[0].pageX,this._startY=e.touches[0].pageY),this._defaultOffsetX=this.baseLeft-this._startX+this.windowScrollLeft,this._defaultOffsetY=this.baseTop-this._startY+this.windowScrollTop,this._ghostStartX=this._startX+this.ghostOffsetX,this._ghostStartY=this._startY+this.ghostOffsetY,this._lastX=this._startX,this._lastY=this._startY}onPointerMove(e){if(this._clicked){let t,i;this.pointerEventsEnabled||!this.touchEventsEnabled?(t=e.pageX,i=e.pageY):this.touchEventsEnabled&&(t=e.touches[0].pageX,i=e.touches[0].pageY,e.preventDefault());let n=t-this._startX,r=i-this._startY;if(!this._dragStarted&&(Math.abs(n)>this.dragTolerance||Math.abs(r)>this.dragTolerance)){let s={originalEvent:e,owner:this,startX:t-n,startY:i-r,pageX:t,pageY:i,cancel:!1};if(this.zone.run((()=>{this.dragStart.emit(s)})),s.cancel)return;if(this._dragStarted=!0,this.ghost)this.createGhost(t,i);else if(void 0!==this._offsetX||void 0!==this._offsetY){let e=(void 0!==this._offsetX?this._offsetX-this._defaultOffsetX:0)+this.getTransformX(this.element.nativeElement),t=(void 0!==this._offsetY?this._offsetY-this._defaultOffsetY:0)+this.getTransformY(this.element.nativeElement);this.setTransformXY(e,t)}}else if(!this._dragStarted)return;let s={originalEvent:e,owner:this,startX:this._startX,startY:this._startY,pageX:this._lastX,pageY:this._lastY,nextPageX:t,nextPageY:i,cancel:!1};this.dragMove.emit(s);let o=s.nextPageX,a=s.nextPageY;if(!s.cancel){if(this.onScrollContainer(),this.ghost){let e=this.dragDirection===OT.VERTICAL?0:o-this._startX,t=this.dragDirection===OT.HORIZONTAL?0:a-this._startY;this.ghostLeft=this._ghostStartX+e,this.ghostTop=this._ghostStartY+t}else{let e=this.dragDirection===OT.VERTICAL?0:o-this._lastX,t=this.dragDirection===OT.HORIZONTAL?0:a-this._lastY,i=this.getTransformX(this.element.nativeElement)+e,n=this.getTransformY(this.element.nativeElement)+t;this.setTransformXY(i,n)}this.dispatchDragEvents(t,i,e)}this._lastX=o,this._lastY=a}}onPointerUp(e){if(!this._clicked)return;let t,i;this.pointerEventsEnabled||!this.touchEventsEnabled?(t=e.pageX,i=e.pageY):this.touchEventsEnabled&&(t=e.touches[0].pageX,i=e.touches[0].pageY,e.preventDefault());let n={originalEvent:e,owner:this,startX:this._startX,startY:this._startY,pageX:t,pageY:i};this._pointerDownId=null,this._clicked=!1,this._dragStarted?(this._lastDropArea&&this._lastDropArea!==this.element.nativeElement&&this.dispatchDropEvent(e.pageX,e.pageY,e),this.zone.run((()=>{this.dragEnd.emit(n)})),this.animInProgress||this.onTransitionEnd(null)):this.zone.run((()=>{this.dragClick.emit(n)})),this._containerScrollIntervalId&&(clearInterval(this._containerScrollIntervalId),this._containerScrollIntervalId=null)}onPointerLost(e){if(!this._clicked)return;let t={originalEvent:e,owner:this,startX:this._startX,startY:this._startY,pageX:e.pageX,pageY:e.pageY};this._pointerDownId=null,this._clicked=!1,this._dragStarted&&(this.zone.run((()=>{this.dragEnd.emit(t)})),this.animInProgress||this.onTransitionEnd(null))}onTransitionEnd(e){if((this._dragStarted||this.animInProgress)&&!this._clicked){if(this.ghost&&this.ghostElement){this._ghostStartX=this.baseLeft+this.windowScrollLeft,this._ghostStartY=this.baseTop+this.windowScrollTop;let e={owner:this,ghostElement:this.ghostElement,cancel:!1};if(this.ghostDestroy.emit(e),e.cancel)return;this.ghostElement.remove(),this.ghostElement=null,this._dynamicGhostRef&&(this._dynamicGhostRef.destroy(),this._dynamicGhostRef=null)}else this.ghost||(this.element.nativeElement.style.transitionProperty="",this.element.nativeElement.style.transitionDuration="0.0s",this.element.nativeElement.style.transitionTimingFunction="",this.element.nativeElement.style.transitionDelay="");this.animInProgress=!1,this._dragStarted=!1,this.zone.run((()=>{this.transitioned.emit({originalEvent:e,owner:this,startX:this._startX,startY:this._startY,pageX:this._startX,pageY:this._startY})}))}}createGhost(e,t,i=null){if(!this.ghost)return;this.ghostTemplate?(this._dynamicGhostRef=this.viewContainer.createEmbeddedView(this.ghostTemplate,this.ghostContext),"contents"===this._dynamicGhostRef.rootNodes[0].style.display&&(this._dynamicGhostRef.rootNodes[0].style.display="block"),this.ghostElement=this._dynamicGhostRef.rootNodes[0]):this.ghostElement=i?i.cloneNode(!0):this.element.nativeElement.cloneNode(!0);let n=e-this._startX,r=t-this._startY;this._ghostHostX=this.getGhostHostBaseOffsetX(),this._ghostHostY=this.getGhostHostBaseOffsetY(),this.ghostElement.style.transitionDuration="0.0s",this.ghostElement.style.position="absolute",this.ghostClass&&this.renderer.addClass(this.ghostElement,this.ghostClass);let s={owner:this,ghostElement:this.ghostElement,cancel:!1};if(this.ghostCreate.emit(s),s.cancel)return this.ghostElement=null,void(this.ghostTemplate&&this._dynamicGhostRef&&this._dynamicGhostRef.destroy());this.ghostHost?this.ghostHost.appendChild(this.ghostElement):document.body.appendChild(this.ghostElement);let o=parseInt(document.defaultView.getComputedStyle(this.ghostElement)["margin-left"],10),a=parseInt(document.defaultView.getComputedStyle(this.ghostElement)["margin-top"],10);this.ghostElement.style.left=this._ghostStartX-o+n-this._ghostHostX+"px",this.ghostElement.style.top=this._ghostStartY-a+r-this._ghostHostY+"px",this.pointerEventsEnabled&&(null!==this._pointerDownId&&this.ghostElement.setPointerCapture(this._pointerDownId),this.ghostElement.addEventListener("pointermove",(e=>{this.onPointerMove(e)})),this.ghostElement.addEventListener("pointerup",(e=>{this.onPointerUp(e)})),this.ghostElement.addEventListener("lostpointercapture",(e=>{this.onPointerLost(e)}))),this.ghostElement.addEventListener("transitionend",(e=>{this.onTransitionEnd(e)})),this.cdr.detectChanges()}dispatchDragEvents(e,t,i){let n,r={startX:this._startX,startY:this._startY,pageX:e,pageY:t,owner:this,originalEvent:i},s=this.getElementsAtPoint(e,t),o=[];for(let i of s)i?.shadowRoot?o=o.concat(this.getFromShadowRoot(i,e,t,s)):-1===o.indexOf(i)&&o.push(i);for(let e of o)if("true"===e.getAttribute("droppable")&&e!==this.ghostElement&&e!==this.element.nativeElement){n=e;break}if(n&&(!this._lastDropArea||this._lastDropArea&&this._lastDropArea!==n))this._lastDropArea&&this.dispatchEvent(this._lastDropArea,"igxDragLeave",r),this._lastDropArea=n,this.dispatchEvent(this._lastDropArea,"igxDragEnter",r);else if(!n&&this._lastDropArea)return this.dispatchEvent(this._lastDropArea,"igxDragLeave",r),void(this._lastDropArea=null);n&&this.dispatchEvent(n,"igxDragOver",r)}getFromShadowRoot(e,t,i,n){let r=e.shadowRoot.elementsFromPoint(t,i),s=r.filter((e=>-1===n.indexOf(e))),o=[];for(let n of s)n?.shadowRoot&&n.shadowRoot!==e.shadowRoot&&(o=o.concat(this.getFromShadowRoot(n,t,i,r))),o.push(n);return o}dispatchDropEvent(e,t,i){let n={startX:this._startX,startY:this._startY,pageX:e,pageY:t,owner:this,originalEvent:i};this.dispatchEvent(this._lastDropArea,"igxDrop",n),this.dispatchEvent(this._lastDropArea,"igxDragLeave",n),this._lastDropArea=null}getElementsAtPoint(e,t){let i=e-window.pageXOffset,n=t-window.pageYOffset;if(document.msElementsFromPoint){let e=document.msElementsFromPoint(i,n);return null===e?[]:e}return document.elementsFromPoint(i,n)}dispatchEvent(e,t,i){let n=document.createEvent("CustomEvent");n.initCustomEvent(t,!1,!1,i),e.dispatchEvent(n)}getTransformX(e){let t=0;if(e.style.transform){let i=e.style.transform,n=i?i.match(/-?[\d\.]+/g):void 0;t=n?Number(n[1]):0}return t}getTransformY(e){let t=0;if(e.style.transform){let i=e.style.transform,n=i?i.match(/-?[\d\.]+/g):void 0;t=n?Number(n[2]):0}return t}setTransformXY(e,t){this.element.nativeElement.style.transform="translate3d("+e+"px, "+t+"px, 0px)"}getGhostHostBaseOffsetX(){if(!this.ghostHost)return 0;let e=document.defaultView.getComputedStyle(this.ghostHost).getPropertyValue("position");return"static"===e&&this.ghostHost.offsetParent&&this.ghostHost.offsetParent===document.body?0:"static"===e&&this.ghostHost.offsetParent?this.ghostHost.offsetParent.getBoundingClientRect().left+this.windowScrollLeft:this.ghostHost.getBoundingClientRect().left+this.windowScrollLeft}getGhostHostBaseOffsetY(){if(!this.ghostHost)return 0;let e=document.defaultView.getComputedStyle(this.ghostHost).getPropertyValue("position");return"static"===e&&this.ghostHost.offsetParent&&this.ghostHost.offsetParent===document.body?0:"static"===e&&this.ghostHost.offsetParent?this.ghostHost.offsetParent.getBoundingClientRect().top+this.windowScrollTop:this.ghostHost.getBoundingClientRect().top+this.windowScrollTop}getContainerScrollDirection(){let e=this.scrollContainer?this.scrollContainer.getBoundingClientRect():null,t=this.scrollContainer?this.scrollContainer.scrollLeft>0:this.windowScrollLeft>0,i=this.scrollContainer?this.scrollContainer.scrollTop>0:this.windowScrollTop>0,n=(this.scrollContainer?e.top:0)+this.windowScrollTop+this._scrollContainerThreshold,r=this.ghost&&this.ghostElement?this.ghostElement.offsetHeight:this.element.nativeElement.offsetHeight,s=(this.scrollContainer?e.bottom:window.innerHeight)+this.windowScrollTop-this._scrollContainerThreshold-r,o=(this.scrollContainer?e.left:0)+this.windowScrollLeft+this._scrollContainerThreshold,a=this.ghost&&this.ghostElement?this.ghostElement.offsetWidth:this.element.nativeElement.offsetWidth,l=(this.scrollContainer?e.right:window.innerWidth)+this.windowScrollLeft-this._scrollContainerThreshold-a;return this.pageY<=n&&i?RT.UP:this.pageY>s?RT.DOWN:this.pageX<o&&t?RT.LEFT:this.pageX>l?RT.RIGHT:null}onScrollContainerStep(e){yt.schedule((()=>{let t=e==RT.LEFT?-1:e==RT.RIGHT?1:0,i=e==RT.UP?-1:e==RT.DOWN?1:0;if(this.scrollContainer){let e=this._originalScrollContainerWidth-this.scrollContainer.clientWidth,n=this._originalScrollContainerHeight-this.scrollContainer.clientHeight;t=this.scrollContainer.scrollLeft<=0&&t<0||this.scrollContainer.scrollLeft>=e&&t>0?0:t,i=this.scrollContainer.scrollTop<=0&&i<0||this.scrollContainer.scrollTop>=n&&i>0?0:i}else{let e=this._originalScrollContainerWidth-document.documentElement.clientWidth,n=this._originalScrollContainerHeight-document.documentElement.clientHeight;t=this.windowScrollLeft<=0&&t<0||this.windowScrollLeft>=e&&t>0?0:t,i=this.windowScrollTop<=0&&i<0||this.windowScrollTop>=n&&i>0?0:i}let n=t*this._scrollContainerStep,r=i*this._scrollContainerStep;if(this.scrollContainer?(this.scrollContainer.scrollLeft+=n,this.scrollContainer.scrollTop+=r):window.scrollBy(n,r),this.ghost&&!this.scrollContainer)this.ghostLeft+=n,this.ghostTop+=r;else if(!this.ghost){let e=this.getTransformX(this.element.nativeElement)+n,t=this.getTransformY(this.element.nativeElement)+r;this.setTransformXY(e,t),this.scrollContainer||(this._lastX+=n,this._lastY+=r)}}))}onScrollContainer(){let e=this.getContainerScrollDirection();null==e||this._containerScrollIntervalId?null==e&&this._containerScrollIntervalId&&(clearInterval(this._containerScrollIntervalId),this._containerScrollIntervalId=null):(this._originalScrollContainerWidth=this.scrollContainer?this.scrollContainer.scrollWidth:this.windowScrollWidth,this._originalScrollContainerHeight=this.scrollContainer?this.scrollContainer.scrollHeight:this.windowScrollHeight,this._containerScrollIntervalId=setInterval((()=>this.onScrollContainerStep(e)),this._scrollContainerStepMs))}},t=e;return e.fac=function(t){return new(t||e)(Rd(Jg),Rd(ld),Rd(Xu),Rd(Ig),Rd(hd),Rd($S))},e.dir=er({type:e,selectors:[["","igxDrag",""]],contentQueries:function(e,t,i){if(1&e&&(mg(i,PT,5),mg(i,MT,5)),2&e){let e;gg(e=fg())&&(t.dragHandles=e),gg(e=fg())&&(t.dragIgnoredElems=e)}},hostVars:4,hostBindings:function(e,t){2&e&&Ah("igx-drag",t.baseClass)("igx-drag--select-disabled",t.selectDisabled)},inputs:{data:["igxDrag","data"],dragTolerance:"dragTolerance",dragDirection:"dragDirection",dragChannel:"dragChannel",ghost:"ghost",ghostClass:"ghostClass",ghostTemplate:"ghostTemplate",ghostHost:"ghostHost",scrollContainer:"scrollContainer",ghostOffsetX:"ghostOffsetX",ghostOffsetY:"ghostOffsetY"},outputs:{dragStart:"dragStart",dragMove:"dragMove",dragEnd:"dragEnd",dragClick:"dragClick",ghostCreate:"ghostCreate",ghostDestroy:"ghostDestroy",transitioned:"transitioned"},exportAs:["drag"],standalone:!0}),t})(),NT=(()=>{let e=class{set data(e){this._data=e}get data(){return this._data}set dropStrategy(e){this._dropStrategy=new e(this._renderer)}get dropStrategy(){return this._dropStrategy}constructor(e,t,i){this.element=e,this._renderer=t,this._zone=i,this.enter=new zu,this.over=new zu,this.leave=new zu,this.dropped=new zu,this.droppable=!0,this.dragover=!1,this._destroy=new We,this._dropStrategy=new class{dropAction(e,t,i){}}}onDragDrop(e){if(!this.isDragLinked(e.detail.owner))return;let t=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),n=e.detail.pageX-t,r=e.detail.pageY-i,s={owner:this,originalEvent:e.detail.originalEvent,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:n,offsetY:r,cancel:!1};if(this._zone.run((()=>{this.dropped.emit(s)})),this._dropStrategy&&!s.cancel){let t=e.detail.owner.getElementsAtPoint(e.detail.pageX,e.detail.pageY),i=this.getInsertIndexAt(e.detail.owner,t);this._dropStrategy.dropAction(e.detail.owner,this,i)}}ngOnInit(){this._zone.runOutsideAngular((()=>{Lt(this.element.nativeElement,"igxDragEnter").pipe(yi(this._destroy)).subscribe((e=>this.onDragEnter(e))),Lt(this.element.nativeElement,"igxDragLeave").pipe(yi(this._destroy)).subscribe((e=>this.onDragLeave(e))),Lt(this.element.nativeElement,"igxDragOver").pipe(yi(this._destroy)).subscribe((e=>this.onDragOver(e)))}))}ngOnDestroy(){this._destroy.next(!0),this._destroy.complete()}onDragOver(e){let t=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),n=e.detail.pageX-t,r=e.detail.pageY-i,s={originalEvent:e.detail.originalEvent,owner:this,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:n,offsetY:r};this.over.emit(s)}onDragEnter(e){if(!this.isDragLinked(e.detail.owner))return;this.dragover=!0;let t=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),n=e.detail.pageX-t,r=e.detail.pageY-i,s={originalEvent:e.detail.originalEvent,owner:this,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:n,offsetY:r};this._zone.run((()=>{this.enter.emit(s)}))}onDragLeave(e){if(!this.isDragLinked(e.detail.owner))return;this.dragover=!1;let t=this.element.nativeElement.getBoundingClientRect().left+this.getWindowScrollLeft(),i=this.element.nativeElement.getBoundingClientRect().top+this.getWindowScrollTop(),n=e.detail.pageX-t,r=e.detail.pageY-i,s={originalEvent:e.detail.originalEvent,owner:this,drag:e.detail.owner,dragData:e.detail.owner.data,startX:e.detail.startX,startY:e.detail.startY,pageX:e.detail.pageX,pageY:e.detail.pageY,offsetX:n,offsetY:r};this._zone.run((()=>{this.leave.emit(s)}))}getWindowScrollTop(){return window.scrollY?window.scrollY:window.pageYOffset?window.pageYOffset:0}getWindowScrollLeft(){return window.scrollX?window.scrollX:window.pageXOffset?window.pageXOffset:0}isDragLinked(e){let t=e.dragChannel instanceof Array,i=this.dropChannel instanceof Array;if(!t&&!i)return this.dropChannel===e.dragChannel;if(!t&&i){let t=this.dropChannel;for(let i of t)if(i===e.dragChannel)return!0}else if(t&&!i){let t=e.dragChannel;for(let e of t)if(e===this.dropChannel)return!0}else{let t=e.dragChannel,i=this.dropChannel;for(let e of t)for(let t of i)if(e===t)return!0}return!1}getInsertIndexAt(e,t){let i=-1,n=Array.prototype.slice.call(this.element.nativeElement.children);if(!n.length)return i;let r=0,s=null;for(;!s&&r<t.length;)t[r].parentElement===this.element.nativeElement&&(s=t[r]),r++;let o=n.indexOf(e.element.nativeElement);return i=n.indexOf(s),-1!==o&&o<i&&i++,i}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(hd),Rd(Ig))},e.dir=er({type:e,selectors:[["","igxDrop",""]],hostVars:3,hostBindings:function(e,t){1&e&&oh("igxDrop",(function(e){return t.onDragDrop(e)})),2&e&&(Gc("droppable",t.droppable),Ah("dragOver",t.dragover))},inputs:{data:["igxDrop","data"],dropChannel:"dropChannel",dropStrategy:"dropStrategy"},outputs:{enter:"enter",over:"over",leave:"leave",dropped:"dropped"},exportAs:["drop"],standalone:!0}),t})(),LT=new Dl("EditorProvider"),HT=(()=>{let e=class{get focused(){return this.focusState}set focused(e){this.focusState=e,this.trigger()}get nativeElement(){return this.comp&&this.comp[0]&&this.comp[0].getEditElement?this.comp[0].getEditElement():this.control&&this.control[0]&&this.control[0].getEditElement?this.control[0].getEditElement():this.element.nativeElement}constructor(e,t,i){this.element=e,this.comp=t,this.control=i,this.focusState=!0}trigger(){this.focusState&&requestAnimationFrame((()=>this.nativeElement.focus({preventScroll:!0})))}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(qx,10),Rd(LT,10))},e.dir=er({type:e,selectors:[["","igxFocus",""]],inputs:{focused:["igxFocus","focused"]},exportAs:["igxFocus"],standalone:!0}),t})(),BT=(()=>{let e=class{constructor(e,t){this.element=e,this._zone=t,this.wheelStep=50,this.inertiaStep=1.5,this.smoothingStep=1.5,this.smoothingDuration=.5,this.swipeToleranceX=20,this.inertiaDeltaY=3,this.inertiaDeltaX=2,this.inertiaDuration=.5,this._savedSpeedsX=[],this.baseDeltaMultiplier=1/120,this.firefoxDeltaMultiplier=1/30}ngOnInit(){this._zone.runOutsideAngular((()=>{if(this.parentElement=this.element.nativeElement.parentElement||this.element.nativeElement.parentNode,!this.parentElement)return;let e=this.parentElement;e.addEventListener("wheel",this.onWheel.bind(this)),e.addEventListener("touchstart",this.onTouchStart.bind(this)),e.addEventListener("touchmove",this.onTouchMove.bind(this)),e.addEventListener("touchend",this.onTouchEnd.bind(this))}))}ngOnDestroy(){this._zone.runOutsideAngular((()=>{let e=this.parentElement;e&&(e.removeEventListener("wheel",this.onWheel),e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("touchmove",this.onTouchMove),e.removeEventListener("touchend",this.onTouchEnd))}))}onWheel(e){if(!this.IgxScrollInertiaScrollContainer||e.ctrlKey)return;let t,i,n=this.wheelStep,r=1/this.wheelStep,s=0!==this.smoothingDuration;if(this._startX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._startY=this.IgxScrollInertiaScrollContainer.scrollTop,e.wheelDeltaX)t=-e.wheelDeltaX*this.baseDeltaMultiplier,-r<t&&t<r&&(t=Math.sign(t)*r);else if(e.deltaX){let i=e.deltaX*(0===e.deltaMode?this.firefoxDeltaMultiplier:1);t=this.calcAxisCoords(i,-1,1)}if(e.wheelDeltaY)i=-e.wheelDeltaY*this.baseDeltaMultiplier,-r<i&&i<r&&(i=Math.sign(i)*r);else if(e.deltaY){let t=e.deltaY*(0===e.deltaMode?this.firefoxDeltaMultiplier:1);i=this.calcAxisCoords(t,-1,1)}if(!e.composedPath||!this.didChildScroll(e,t,i))if(t&&"horizontal"===this.IgxScrollInertiaDirection){let i=this._startX+t*n;s?this._smoothWheelScroll(t):this._scrollToX(i);let r=parseInt(this.IgxScrollInertiaScrollContainer.children[0].style.width,10);0<i&&i<r&&e.preventDefault()}else if(e.shiftKey&&i&&"horizontal"===this.IgxScrollInertiaDirection)if(s)this._smoothWheelScroll(i);else{let e=this._startX+i*n;this._scrollToX(e)}else if(!e.shiftKey&&i&&"vertical"===this.IgxScrollInertiaDirection){let t=this._startY+i*n;s?this._smoothWheelScroll(i):this._scrollToY(t),this.preventParentScroll(e,!0,t)}}preventParentScroll(e,t,i=0){let n=0===i?this.IgxScrollInertiaScrollContainer.scrollTop:i,r=this.IgxScrollInertiaScrollContainer.children[0].scrollHeight-this.IgxScrollInertiaScrollContainer.offsetHeight;0<n&&n<r&&(t&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())}didChildScroll(e,t,i){let n=e.composedPath(),r=0;for(;r<n.length&&"igx-display-container"!==n[r].localName;){let e=n[r++];if(e.scrollHeight>e.clientHeight){let t=window.getComputedStyle(e)["overflow-y"];if(("auto"===t||"scroll"===t)&&(i>0&&e.scrollHeight-Math.abs(Math.round(e.scrollTop))!==e.clientHeight||i<0&&0!==e.scrollTop))return!0}if(e.scrollWidth>e.clientWidth){let i=window.getComputedStyle(e)["overflow-x"];if(("auto"===i||"scroll"===i)&&(t>0&&e.scrollWidth-Math.abs(Math.round(e.scrollLeft))!==e.clientWidth||t<0&&0!==e.scrollLeft))return!0}}return!1}onTouchStart(e){if(!this.IgxScrollInertiaScrollContainer)return!1;cancelAnimationFrame(this._touchInertiaAnimID);let t=e.touches[0];this._startX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._startY=this.IgxScrollInertiaScrollContainer.scrollTop,this._touchStartX=t.pageX,this._touchStartY=t.pageY,this._lastTouchEnd=(new Date).getTime(),this._lastTouchX=t.pageX,this._lastTouchY=t.pageY,this._savedSpeedsX=[],this._savedSpeedsY=[],this._totalMovedX=0,this._offsetRecorded=!1,this._offsetDirection=0,"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e,!1)}onTouchMove(e){if(!this.IgxScrollInertiaScrollContainer)return;let t=e.touches[0],i=this._startX+(this._touchStartX-t.pageX)*Math.sign(this.inertiaStep),n=this._startY+(this._touchStartY-t.pageY)*Math.sign(this.inertiaStep),r=(new Date).getTime()-this._lastTouchEnd;if(0!==r&&r<100){let e=(this._lastTouchX-t.pageX)/r,i=(this._lastTouchY-t.pageY)/r;this._savedSpeedsX.length<5||this._savedSpeedsX.shift(),this._savedSpeedsX.push(e),this._savedSpeedsY.length<5||this._savedSpeedsY.shift(),this._savedSpeedsY.push(i)}this._lastTouchEnd=(new Date).getTime(),this._lastMovedX=this._lastTouchX-t.pageX,this._lastMovedY=this._lastTouchY-t.pageY,this._lastTouchX=t.pageX,this._lastTouchY=t.pageY,this._totalMovedX+=this._lastMovedX,Math.abs(this._totalMovedX)<this.swipeToleranceX&&!this._offsetRecorded?this._scrollTo(this._startX,n):(this._offsetRecorded||(this._offsetDirection=Math.sign(i-this._startX),this._offsetRecorded=!0),this._scrollTo(i-this._offsetDirection*this.swipeToleranceX,n)),"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e,!0)}onTouchEnd(e){let t=0,i=0;for(let e=0;e<this._savedSpeedsX.length;e++)t+=this._savedSpeedsX[e],i+=this._savedSpeedsY[e];t=this._savedSpeedsX.length?t/this._savedSpeedsX.length:0,i=this._savedSpeedsX.length?i/this._savedSpeedsY.length:0,(Math.abs(t)>.1||Math.abs(i)>.1)&&(Math.abs(this._lastMovedX)>2||Math.abs(this._lastMovedY)>2)&&this._inertiaInit(t,i),"vertical"===this.IgxScrollInertiaDirection&&this.preventParentScroll(e,!1)}_smoothWheelScroll(e){this._nextY=this.IgxScrollInertiaScrollContainer.scrollTop,this._nextX=this.IgxScrollInertiaScrollContainer.scrollLeft;let t=-1,i=null,n=()=>{if(t>1)return void cancelAnimationFrame(i);let r=(-3*t*t+3)*e*2*this.smoothingStep;"vertical"===this.IgxScrollInertiaDirection?(this._nextY+=r,this._scrollToY(this._nextY)):(this._nextX+=r,this._scrollToX(this._nextX)),t+=1/this.smoothingDuration*.08,i=requestAnimationFrame(n)};i=requestAnimationFrame(n)}_inertiaInit(e,t){let i=this.inertiaStep,n=this.inertiaDuration,r=0;this._nextX=this.IgxScrollInertiaScrollContainer.scrollLeft,this._nextY=this.IgxScrollInertiaScrollContainer.scrollTop;let s=()=>{r>6?cancelAnimationFrame(this._touchInertiaAnimID):(Math.abs(e),Math.abs(t),r+=.05/(1*n),r<=1?(Math.abs(t)<=Math.abs(e)*this.inertiaDeltaY&&(this._nextX+=1*e*15*i),Math.abs(t)>=Math.abs(e)*this.inertiaDeltaX&&(this._nextY+=1*t*15*i)):(Math.abs(t)<=Math.abs(e)*this.inertiaDeltaY&&(this._nextX+=Math.abs(2/(r+.55)-.3)*e*15*i),Math.abs(t)>=Math.abs(e)*this.inertiaDeltaX&&(this._nextY+=Math.abs(2/(r+.55)-.3)*t*15*i)),this._scrollTo(this._nextX,this._nextY),this._touchInertiaAnimID=requestAnimationFrame(s))};this._touchInertiaAnimID=requestAnimationFrame(s)}calcAxisCoords(e,t,i){return void 0===e||e<t?e=t:e>i&&(e=i),e}_scrollTo(e,t){return{x:this._scrollToX(e),y:this._scrollToY(t)}}_scrollToX(e){this.IgxScrollInertiaScrollContainer.scrollLeft=e}_scrollToY(e){this.IgxScrollInertiaScrollContainer.scrollTop=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(Ig))},e.dir=er({type:e,selectors:[["","igxScrollInertia",""]],inputs:{IgxScrollInertiaDirection:"IgxScrollInertiaDirection",IgxScrollInertiaScrollContainer:"IgxScrollInertiaScrollContainer",wheelStep:"wheelStep",inertiaStep:"inertiaStep",smoothingStep:"smoothingStep",smoothingDuration:"smoothingDuration",swipeToleranceX:"swipeToleranceX",inertiaDeltaY:"inertiaDeltaY",inertiaDeltaX:"inertiaDeltaX",inertiaDuration:"inertiaDuration"},standalone:!0}),t})(),GT=["display_container"];function zT(e,t){}var $T=(()=>{let e=class{constructor(e,t){this.cdr=e,this._viewContainer=t,this.cssClass="igx-display-container",this.notVirtual=!0}},t=e;return e.fac=function(t){return new(t||e)(Rd(Jg),Rd(Xu))},e.cmp=Yn({type:e,selectors:[["igx-display-container"]],viewQuery:function(e,t){if(1&e&&(pg(GT,7,Xu),pg(GT,7,BT)),2&e){let e;gg(e=fg())&&(t._vcr=e.first),gg(e=fg())&&(t._scrollInertia=e.first)}},hostVars:4,hostBindings:function(e,t){2&e&&(kh(t.cssClass),Ah("igx-display-container--inactive",t.notVirtual))},standalone:!0,features:[yu],decls:2,vars:2,consts:[["igxScrollInertia","",3,"IgxScrollInertiaScrollContainer","IgxScrollInertiaDirection"],["display_container",""]],template:function(e,t){1&e&&Wc(0,zT,0,0,"ng-template",0,1,_g),2&e&&Uc("IgxScrollInertiaScrollContainer",t.scrollContainer)("IgxScrollInertiaDirection",t.scrollDirection)},dependencies:[BT],encapsulation:2}),t})(),WT=(()=>{let e=class{constructor(e,t,i,n,r){this.elementRef=e,this.cdr=t,this._zone=i,this.document=n,this.platformUtil=r,this.scrollAmount=0,this._size=0,this.destroy$=new We,this._afterViewInit=!1,this._detached=!1,this._scrollNativeSize=this.calculateScrollNativeSize()}onScroll(e){this.scrollAmount=e.target.scrollTop||e.target.scrollLeft}ngAfterViewInit(){this._afterViewInit=!0,this.platformUtil.isBrowser&&this._zone.runOutsideAngular((()=>{JS(this.nativeElement).pipe(Ti(0),yi(this.destroy$)).subscribe((e=>this.handleMutations(e)))}))}get nativeElement(){return this.elementRef.nativeElement}ngOnDestroy(){this.destroyed=!0,this.destroy$.next(!0),this.destroy$.complete()}calculateScrollNativeSize(){let e=this.document.createElement("div"),t=e.style;t.width="100px",t.height="100px",t.position="absolute",t.top="-10000px",t.top="-10000px",t.overflow="scroll",this.document.body.appendChild(e);let i=e.offsetWidth-e.clientWidth;return this.document.body.removeChild(e),i?i+1:1}set size(e){this.destroyed||(this._size=e,this._afterViewInit&&this.cdr.detectChanges())}get size(){return this._size}get scrollNativeSize(){return this._scrollNativeSize}get isAttachedToDom(){return this.document.body.contains(this.nativeElement)}handleMutations(e){let t=!(0===e[0].contentRect.height&&0===e[0].contentRect.width);t||this.isAttachedToDom?this._detached&&t&&this.isAttachedToDom&&this.restoreScroll():this._detached=!0}restoreScroll(){}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(Jg),Rd(Ig),Rd(Cp),Rd($S))},e.dir=er({type:e,selectors:[["","igxVirtualHelperBase",""]],hostBindings:function(e,t){1&e&&oh("scroll",(function(e){return t.onScroll(e)}))},standalone:!0}),t})(),jT=["horizontal_container"],KT=(()=>{let e=class extends WT{constructor(e,t,i,n,r){super(e,t,i,n,r),this.cssClasses="igx-vhelper--horizontal"}restoreScroll(){this.nativeElement.scrollLeft=this.scrollAmount}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(Jg),Rd(Ig),Rd(Cp),Rd($S))},e.cmp=Yn({type:e,selectors:[["igx-horizontal-virtual-helper"]],viewQuery:function(e,t){if(1&e&&pg(jT,7,Xu),2&e){let e;gg(e=fg())&&(t._vcr=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&kh(t.cssClasses)},inputs:{width:"width"},standalone:!0,features:[Tc,yu],decls:2,vars:2,consts:[[1,"igx-vhelper__placeholder-content"],["horizontal_container",""]],template:function(e,t){1&e&&Zc(0,"div",0,1),2&e&&Th("width",t.size,"px")},encapsulation:2}),t})(),UT=["container"],qT=(()=>{let e=class extends WT{constructor(e,t,i,n,r){super(e,t,i,n,r),this.cssClasses="igx-vhelper--vertical"}ngOnInit(){this.scrollWidth=this.scrollNativeSize}restoreScroll(){this.nativeElement.scrollTop=this.scrollAmount}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(Jg),Rd(Ig),Rd(Cp),Rd($S))},e.cmp=Yn({type:e,selectors:[["igx-virtual-helper"]],viewQuery:function(e,t){if(1&e&&pg(UT,7,Xu),2&e){let e;gg(e=fg())&&(t._vcr=e.first)}},hostVars:5,hostBindings:function(e,t){2&e&&(Yh("scrollTop",t.scrollTop),kh(t.cssClasses),Th("width",t.scrollWidth,"px"))},inputs:{itemsLength:"itemsLength"},standalone:!0,features:[Tc,yu],decls:2,vars:2,consts:[[1,"igx-vhelper__placeholder-content"],["container",""]],template:function(e,t){1&e&&Zc(0,"div",0,1),2&e&&Th("height",t.size,"px")},encapsulation:2}),t})(),YT=(()=>{let e=class{constructor(){this._master=new Map}isMaster(e){return this._master.get(e.igxForScrollOrientation)===e}setMaster(e,t=!1){let i=e.igxForScrollOrientation;i&&(t||!this._master.has(i))&&this._master.set(i,e)}resetMaster(){this._master.clear()}sizesCache(e){return this._master.get(e).sizesCache}chunkSize(e){return this._master.get(e).state.chunkSize}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac,providedIn:"root"}),t})(),XT=(()=>{let e=class{constructor(){this._masterScroll=new Map}setScrollMaster(e,t){this._masterScroll.set(e,t)}getScrollMaster(e){return this._masterScroll.get(e)}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac,providedIn:"root"}),t})(),ZT=class{constructor(e,t,i,n){this.$implicit=e,this.igxForOf=t,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}},QT=(()=>{let e=class{get igxForTotalItemCount(){return this.totalItemCount}set igxForTotalItemCount(e){this.totalItemCount=e}get totalItemCount(){return this._totalItemCount}set totalItemCount(e){if(this._totalItemCount!==e){this._totalItemCount=e;let t=this.initSizesCache(this.igxForOf),i=this.scrollComponent.size-t;this.scrollComponent.size=t,this.state.startIndex+this.state.chunkSize>e&&(this.state.startIndex=e-this.state.chunkSize),this._adjustScrollPositionAfterSizeChange(i)}}get displayContainer(){return this.dc?.instance?._viewContainer?.element?.nativeElement}get virtualHelper(){return this.scrollComponent.nativeElement}get isRemote(){return null!==this.totalItemCount}get scrollPosition(){return this.scrollComponent.scrollAmount}set scrollPosition(e){e!==this.scrollComponent.scrollAmount&&("horizontal"===this.igxForScrollOrientation&&this.scrollComponent?this.scrollComponent.nativeElement.scrollLeft=e:this.scrollComponent&&(this.scrollComponent.nativeElement.scrollTop=e))}get isRTL(){return"rtl"===window.getComputedStyle(this.dc.instance._viewContainer.element.nativeElement).getPropertyValue("direction")}get sizesCache(){return this._sizesCache}set sizesCache(e){this._sizesCache=e}get _isScrolledToBottom(){if(!this.getScroll())return!0;let e=this.getScroll().scrollHeight;return Math.round(this.getScroll().scrollTop+this.igxForContainerSize)===e}get _isAtBottomIndex(){return this.igxForOf&&this.state.startIndex+this.state.chunkSize>this.igxForOf.length}constructor(e,t,i,n,r,s,o,a){this._viewContainer=e,this._template=t,this._differs=i,this.cdr=n,this._zone=r,this.syncScrollService=s,this.platformUtil=o,this.document=a,this.igxForScrollOrientation="vertical",this.chunkLoad=new zu,this.scrollbarVisibilityChanged=new zu,this.contentSizeChange=new zu,this.dataChanged=new zu,this.beforeViewDestroyed=new zu,this.chunkPreload=new zu,this.state={startIndex:0,chunkSize:0},this._sizesCache=[],this._differ=null,this.heightCache=[],this._virtScrollTop=0,this._bScrollInternal=!1,this._embeddedViews=[],this.contentResizeNotify=new We,this._virtHeight=0,this.destroy$=new We,this._totalItemCount=null,this._virtHeightRatio=1}verticalScrollHandler(e){this.onScroll(e)}isScrollable(){return this.scrollComponent.size>parseInt(this.igxForContainerSize,10)}ngOnInit(){let e=0,t=this.igxForScrollContainer?this.igxForScrollContainer._viewContainer:this._viewContainer;if(this.igxForSizePropName=this.igxForSizePropName||"width",this.dc=this._viewContainer.createComponent($T,{index:0}),this.dc.instance.scrollDirection=this.igxForScrollOrientation,this.igxForOf&&this.igxForOf.length){e=this.initSizesCache(this.igxForOf),this.scrollComponent=this.syncScrollService.getScrollMaster(this.igxForScrollOrientation),this.state.chunkSize=this._calculateChunkSize(),this.dc.instance.notVirtual=!(this.igxForContainerSize&&this.state.chunkSize<this.igxForOf.length),this.scrollComponent&&!this.scrollComponent.destroyed&&(this.state.startIndex=Math.min(this.getIndexAt(this.scrollPosition,this.sizesCache),this.igxForOf.length-this.state.chunkSize));for(let e=this.state.startIndex;e<this.state.startIndex+this.state.chunkSize&&void 0!==this.igxForOf[e];e++){let t=this.igxForOf[e],i=this.dc.instance._vcr.createEmbeddedView(this._template,new ZT(t,this.igxForOf,this.getContextIndex(t),this.igxForOf.length));this._embeddedViews.push(i)}}if("vertical"===this.igxForScrollOrientation){this.dc.instance._viewContainer.element.nativeElement.style.top="0px",this.scrollComponent=this.syncScrollService.getScrollMaster(this.igxForScrollOrientation),(!this.scrollComponent||this.scrollComponent.destroyed)&&(this.scrollComponent=t.createComponent(qT).instance),this._maxHeight=this._calcMaxBrowserHeight(),this.scrollComponent.size=this.igxForOf?this._calcHeight():0,this.syncScrollService.setScrollMaster(this.igxForScrollOrientation,this.scrollComponent),this._zone.runOutsideAngular((()=>{this.verticalScrollHandler=this.verticalScrollHandler.bind(this),this.scrollComponent.nativeElement.addEventListener("scroll",this.verticalScrollHandler),this.dc.instance.scrollContainer=this.scrollComponent.nativeElement}));let e=yi(this.destroy$);this.contentResizeNotify.pipe(Wt((()=>this.igxForContainerSize&&this.igxForOf&&this.igxForOf.length>0)),Ti(40,void 0,{leading:!0,trailing:!0}),e).subscribe((()=>this._zone.runTask((()=>this.updateSizes()))))}"horizontal"===this.igxForScrollOrientation&&(this.func=e=>this.onHScroll(e),this.scrollComponent=this.syncScrollService.getScrollMaster(this.igxForScrollOrientation),this.scrollComponent||(this.scrollComponent=t.createComponent(KT).instance,this.scrollComponent.size=e,this.syncScrollService.setScrollMaster(this.igxForScrollOrientation,this.scrollComponent)),this._zone.runOutsideAngular((()=>{this.scrollComponent.nativeElement.addEventListener("scroll",this.func),this.dc.instance.scrollContainer=this.scrollComponent.nativeElement})),this._updateHScrollOffset())}ngAfterViewInit(){"vertical"===this.igxForScrollOrientation&&this._zone.runOutsideAngular((()=>{this.contentObserver=new(PS())((()=>this.contentResizeNotify.next())),this.contentObserver.observe(this.dc.instance._viewContainer.element.nativeElement)}))}ngOnDestroy(){this.removeScrollEventListeners(),this.destroy$.next(!0),this.destroy$.complete(),this.contentObserver&&this.contentObserver.disconnect()}static ngTemplateContextGuard(e,t){return!0}ngOnChanges(e){let t="igxForOf";if(t in e){let i=e[t].currentValue;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.igxForTrackBy)}catch{throw new Error(`Cannot find a differ supporting object "${i}" of type "${JT(i)}".\n                     NgFor only supports binding to Iterables such as Arrays.`)}}let i="igxForItemSize";i in e&&!e[i].firstChange&&"vertical"===this.igxForScrollOrientation&&this.igxForOf&&(this.initSizesCache(this.igxForOf),this._applyChanges());let n="igxForContainerSize";n in e&&!e[n].firstChange&&this.igxForOf&&this._recalcOnContainerChange()}ngDoCheck(){this._differ&&this._differ.diff(this.igxForOf)&&(this.igxForOf||(this.igxForOf=[]),this._updateSizeCache(),this._zone.run((()=>{this._applyChanges(),this.cdr.markForCheck(),this._updateScrollOffset(),this.dataChanged.emit()})))}addScrollTop(e){if(0===e&&"horizontal"===this.igxForScrollOrientation)return!1;let t=this._virtScrollTop,i=parseInt(this.igxForContainerSize,10),n=this._virtHeight-i;if(this._bScrollInternal=!0,this._virtScrollTop+=e,this._virtScrollTop=this._virtScrollTop>0?this._virtScrollTop<n?this._virtScrollTop:n:0,this.scrollPosition+=e/this._virtHeightRatio,Math.abs(e/this._virtHeightRatio)<1){let e=this.fixedUpdateAllElements(this._virtScrollTop);this.dc.instance._viewContainer.element.nativeElement.style.top=-e+"px"}let r=this.scrollComponent.nativeElement.scrollHeight-i;return this._virtScrollTop>0&&0===this.scrollPosition||this._virtScrollTop<n&&this.scrollPosition===r?this.scrollPosition=this._virtScrollTop/this._virtHeightRatio:0===this._virtScrollTop&&this.scrollPosition>0?this.scrollPosition=0:this._virtScrollTop===n&&this.scrollPosition<r&&(this.scrollPosition=r),this._virtScrollTop!==t}scrollTo(e){if(e<0||e>(this.isRemote?this.totalItemCount:this.igxForOf.length)-1)return;let t=parseInt(this.igxForContainerSize,10),i=e<this.state.startIndex||this.scrollPosition>this.sizesCache[e],n=i?this.sizesCache[e]:this.sizesCache[e+1]-t;if(!(n<0))if("horizontal"===this.igxForScrollOrientation)this.scrollPosition=this.isRTL?-n:n;else{let r=this._virtHeight-t;n>r&&(n=r),this._bScrollInternal=!0,this._virtScrollTop=n,this.scrollPosition=this._virtScrollTop/this._virtHeightRatio,this._adjustToIndex=i?null:e}}scrollNext(){let e=Math.abs(Math.ceil(this.scrollPosition)),t=this.getIndexAt(e+parseInt(this.igxForContainerSize,10),this.sizesCache);this.scrollTo(t)}scrollPrev(){this.scrollTo(this.state.startIndex-1)}scrollNextPage(){"horizontal"===this.igxForScrollOrientation?this.scrollPosition+=this.isRTL?-parseInt(this.igxForContainerSize,10):parseInt(this.igxForContainerSize,10):this.addScrollTop(parseInt(this.igxForContainerSize,10))}scrollPrevPage(){if("horizontal"===this.igxForScrollOrientation)this.scrollPosition-=this.isRTL?-parseInt(this.igxForContainerSize,10):parseInt(this.igxForContainerSize,10);else{let e=parseInt(this.igxForContainerSize,10);this.addScrollTop(-e)}}getColumnScrollLeft(e){return this.sizesCache[e]}getItemCountInView(){let e=this.getIndexAt(this.scrollPosition,this.sizesCache);return this.scrollPosition-this.sizesCache[e]>0&&e++,this.getIndexAt(this.scrollPosition+parseInt(this.igxForContainerSize,10),this.sizesCache)-e}getScroll(){return this.scrollComponent?.nativeElement}getSizeAt(e){return this.sizesCache[e+1]-this.sizesCache[e]}getScrollNativeSize(){return this.scrollComponent?this.scrollComponent.scrollNativeSize:0}getScrollForIndex(e,t){let i=parseInt(this.igxForContainerSize,10);return t?Math.max(0,this.sizesCache[e+1]-i):this.sizesCache[e]}getIndexAtScroll(e){return this.getIndexAt(e,this.sizesCache)}isIndexOutsideView(e){let t=e>=this.state.startIndex&&e<=this.state.startIndex+this.state.chunkSize?this._embeddedViews.map((e=>e.rootNodes.find((e=>e.nodeType===Node.ELEMENT_NODE))||e.rootNodes[0].nextElementSibling))[e-this.state.startIndex]:null,i=this.getSizeAt(e),n=parseInt(this.igxForContainerSize,10),r=-(this.scrollPosition-this.sizesCache[this.state.startIndex]),s=t?t.offsetTop+i+r:n+i;return!t||t.offsetTop<Math.abs(r)||n&&s-n>5}recalcUpdateSizes(){let e="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height",t=[],i=0,n=this._embeddedViews.length,r=this._embeddedViews.map((e=>e.rootNodes.find((e=>e.nodeType===Node.ELEMENT_NODE))||e.rootNodes[0].nextElementSibling));for(let s=0;s<n;s++){let n=r[s];if(n){let r=window.getComputedStyle(n).getPropertyValue("height"),o=parseFloat(r)||parseInt(this.igxForItemSize,10),a=this.state.startIndex+s;if(!this.isRemote&&!this.igxForOf[a])continue;let l=this.getMargin(n,e),d="height"===e?this.heightCache[a]:this.igxForOf[a][e],c=("height"===e?o:n.clientWidth)+l;"height"===e?this.heightCache[a]=c:this.igxForOf[a][e]=c;let h=c-d;t.push(h),i+=h,this.sizesCache[a+1]+=i}}if(Math.abs(i)>0){for(let e=this.state.startIndex+this.state.chunkSize+1;e<this.sizesCache.length;e++)this.sizesCache[e]+=i;if("horizontal"===this.igxForScrollOrientation){let e=this.scrollComponent.nativeElement.children.item(0),t=parseInt(e.style.width,10)+i;e.style.width=`${t}px`}let e=(e,t)=>e+t;if("vertical"===this.igxForScrollOrientation){let n=this._isScrolledToBottom&&!this.dc.instance.notVirtual,r=this.heightCache.reduce(e);if(r>this._maxHeight&&(this._virtHeightRatio=r/this._maxHeight),this.scrollComponent.size=Math.min(this.scrollComponent.size+i,this._maxHeight),this._virtHeight=r,this.scrollComponent.destroyed||this.scrollComponent.cdr.detectChanges(),n&&!this._isAtBottomIndex){let e=parseInt(this.igxForContainerSize,10),t=this._virtHeight-e;return this._bScrollInternal=!0,this._virtScrollTop=t,void(this.scrollPosition=t)}if(this._adjustToIndex){let i=this._adjustToIndex-this.state.startIndex+1,n=t.slice(0,i).reduce(e);0!==n&&this.addScrollTop(n),this._adjustToIndex=null}}}}resetScrollPosition(){this.scrollPosition=0,this.scrollComponent.scrollAmount=0,this.state.startIndex=0}removeScrollEventListeners(){"horizontal"===this.igxForScrollOrientation?this._zone.runOutsideAngular((()=>this.scrollComponent?.nativeElement?.removeEventListener("scroll",this.func))):this._zone.runOutsideAngular((()=>this.scrollComponent?.nativeElement?.removeEventListener("scroll",this.verticalScrollHandler)))}onScroll(e){if(!parseInt(this.scrollComponent.nativeElement.style.height,10))return;this._bScrollInternal?this._bScrollInternal=!1:this._calcVirtualScrollTop(e.target.scrollTop);let t=this.state.startIndex,i=this.fixedUpdateAllElements(this._virtScrollTop);this.dc.instance._viewContainer.element.nativeElement.style.top=-i+"px",this._zone.onStable.pipe(ci()).subscribe(this.recalcUpdateSizes.bind(this)),this.dc.changeDetectorRef.detectChanges(),t!==this.state.startIndex&&this.chunkLoad.emit(this.state)}updateSizes(){if(!this.scrollComponent.nativeElement.isConnected)return;let e=this.isScrollable();this.recalcUpdateSizes(),this._applyChanges(),this._updateScrollOffset(),e!==this.isScrollable()?this.scrollbarVisibilityChanged.emit():this.contentSizeChange.emit()}fixedUpdateAllElements(e){let t=this.isRemote?this.totalItemCount:this.igxForOf.length,i=this.getIndexAt(e,this.sizesCache);i+this.state.chunkSize>t&&(i=t-this.state.chunkSize);let n=this.state.startIndex,r=i-this.state.startIndex;return this.state.startIndex=i,r&&(this.chunkPreload.emit(this.state),this.isRemote||(r&&Math.abs(r)<=4?r>0?this.moveApplyScrollNext(n):this.moveApplyScrollPrev(n):this.fixedApplyScroll())),e-this.sizesCache[this.state.startIndex]}moveApplyScrollNext(e){let t=e+this.state.chunkSize,i=t+this.state.startIndex-e,n=this.dc.instance._vcr;for(let e=t;e<i&&void 0!==this.igxForOf[e];e++){let t=this._embeddedViews.shift();if(!t.destroyed){this.scrollFocus(t.rootNodes.find((e=>e.nodeType===Node.ELEMENT_NODE))||t.rootNodes[0].nextElementSibling);let i=n.detach(0);this.updateTemplateContext(t.context,e),n.insert(i),this._embeddedViews.push(t)}}}moveApplyScrollPrev(e){let t=this.dc.instance._vcr;for(let i=e-1;i>=this.state.startIndex&&void 0!==this.igxForOf[i];i--){let e=this._embeddedViews.pop();if(!e.destroyed){this.scrollFocus(e.rootNodes.find((e=>e.nodeType===Node.ELEMENT_NODE))||e.rootNodes[0].nextElementSibling);let n=t.detach(t.length-1);this.updateTemplateContext(e.context,i),t.insert(n,0),this._embeddedViews.unshift(e)}}}getContextIndex(e){return this.isRemote?this.state.startIndex+this.igxForOf.indexOf(e):this.igxForOf.indexOf(e)}updateTemplateContext(e,t=0){e.$implicit=this.igxForOf[t],e.index=this.getContextIndex(this.igxForOf[t]),e.count=this.igxForOf.length}fixedApplyScroll(){let e=0,t=this.state.startIndex+this.state.chunkSize;for(let i=this.state.startIndex;i<t&&void 0!==this.igxForOf[i];i++){let t=this._embeddedViews[e++];this.updateTemplateContext(t.context,i)}}scrollFocus(e){if(!e)return;let t=e.getRootNode().activeElement;e&&e.contains(t)&&t.blur()}onHScroll(e){let t=this.scrollComponent.nativeElement.children.item(0);if(!parseInt(t.style.width,10))return;let i=this.state.startIndex,n=e.target.scrollLeft,r=this.fixedUpdateAllElements(Math.abs(e.target.scrollLeft));this.dc.instance._viewContainer.element.nativeElement.style.left=n<0?r+"px":-r+"px",this.dc.changeDetectorRef.detectChanges(),i!==this.state.startIndex&&this.chunkLoad.emit(this.state)}get igxForTrackBy(){return this._trackByFn}set igxForTrackBy(e){this._trackByFn=e}_applyChanges(){let e=this.state.chunkSize;if(this.applyChunkSizeChange(),this._recalcScrollBarSize(),this.igxForOf&&this.igxForOf.length&&this.dc){let t=Object.assign([],this._embeddedViews),i=this.state.startIndex,n=this.state.chunkSize+this.state.startIndex;this.isRemote&&(i=0,n=this.igxForOf.length);for(let e=i;e<n&&void 0!==this.igxForOf[e];e++){let i=t.shift();this.updateTemplateContext(i.context,e)}e!==this.state.chunkSize&&this.chunkLoad.emit(this.state)}}_calcMaxBrowserHeight(){if(!this.platformUtil.isBrowser)return 0;let e=this.document.createElement("div"),t=e.style;t.position="absolute",t.top="9999999999999999px",this.document.body.appendChild(e);let i=Math.abs(e.getBoundingClientRect().top);return this.document.body.removeChild(e),i}_calculateChunkSize(){let e=0;return null!==this.igxForContainerSize&&void 0!==this.igxForContainerSize?(this.sizesCache||this.initSizesCache(this.igxForOf),e=this._calcMaxChunkSize(),this.igxForOf&&e>this.igxForOf.length&&(e=this.igxForOf.length)):this.igxForOf&&(e=this.igxForOf.length),e}getElement(e,t){let i=e.element.nativeElement.parentNode.getElementsByTagName(t);return i.length>0?i[0]:null}initSizesCache(e){let t=0,i=0,n=this.igxForSizePropName||"height",r=0;this.sizesCache=[],this.heightCache=[],this.sizesCache.push(0);let s=this.isRemote?this.totalItemCount:e.length;for(;r<s;r++)i=this._getItemSize(e[r],n),"vertical"===this.igxForScrollOrientation&&this.heightCache.push(i),t+=i,this.sizesCache.push(t);return t}_updateSizeCache(){if("horizontal"===this.igxForScrollOrientation)return void this.initSizesCache(this.igxForOf);let e=this.heightCache.length>0?this.heightCache.reduce(((e,t)=>e+t)):0,t=e-this.initSizesCache(this.igxForOf);this._adjustScrollPositionAfterSizeChange(t)}_calcMaxChunkSize(){let e=0,t=0,i=0,n=[],r=0,s=parseInt(this.igxForContainerSize,10);if(!s)return 0;let o="horizontal"===this.igxForScrollOrientation?this.igxForSizePropName:"height",a=(e,t)=>e+this._getItemSize(t,o);for(;e<this.igxForOf.length;e++){let l=this.igxForOf[e];"height"===o&&(l={value:this.igxForOf[e],height:this.heightCache[e]});let d="height"===o?this.heightCache[e]:this._getItemSize(l,o);if(r=n.reduce(a,d),r<s){if(n.push(l),t=n.length,e===this.igxForOf.length-1){let e="height"===o?n[0].value:n[0],i=this.igxForOf.indexOf(e)-1;for(;i>=0&&r<=s;){e="height"===o?n[0].value:n[0],i=this.igxForOf.indexOf(e)-1;let s=this.igxForOf[i],l="height"===o?this.heightCache[i]:parseInt(s[o],10);r=n.reduce(a,l),n.unshift(s),t=n.length}}}else n.push(l),t=n.length+1,n.shift();t>i&&(i=t)}return i}getIndexAt(e,t){let i=0,n=t.length-1;if(0===e)return 0;for(;i<=n;){let r=Math.floor((i+n)/2),s=e-t[r];if(s>0)i=r+1;else{if(!(s<0))return r;n=r-1}}return n}_recalcScrollBarSize(){let e=this.isRemote?this.totalItemCount:this.igxForOf?this.igxForOf.length:0;this.dc.instance.notVirtual=!(this.igxForContainerSize&&this.dc&&this.state.chunkSize<e);let t=this.isScrollable();if("horizontal"===this.igxForScrollOrientation){let e=parseInt(this.igxForContainerSize,10)>0?this.initSizesCache(this.igxForOf):0;this.scrollComponent.nativeElement.style.width=this.igxForContainerSize+"px",this.scrollComponent.size=e,e<=parseInt(this.igxForContainerSize,10)&&this.resetScrollPosition()}"vertical"===this.igxForScrollOrientation&&(this.scrollComponent.nativeElement.style.height=parseInt(this.igxForContainerSize,10)+"px",this.scrollComponent.size=this._calcHeight(),this.scrollComponent.size<=parseInt(this.igxForContainerSize,10)&&this.resetScrollPosition()),t!==this.isScrollable()&&this.scrollbarVisibilityChanged.emit()}_calcHeight(){let e;return e=this.heightCache?this.heightCache.reduce(((e,t)=>e+t),0):this.initSizesCache(this.igxForOf),this._virtHeight=e,e>this._maxHeight&&(this._virtHeightRatio=e/this._maxHeight,e=this._maxHeight),e}_recalcOnContainerChange(){let e=this.state.chunkSize;if(this.applyChunkSizeChange(),this._recalcScrollBarSize(),e!==this.state.chunkSize&&this.chunkLoad.emit(this.state),this.sizesCache&&"horizontal"===this.igxForScrollOrientation){let e=this.fixedUpdateAllElements(this.scrollPosition);this.dc.instance._viewContainer.element.nativeElement.style.left=-e+"px"}}removeLastElem(){let e=this._embeddedViews.pop();this.beforeViewDestroyed.emit(e),this.dc.instance._vcr.detach(this.dc.instance._vcr.length-1),e.destroy(),this.state.chunkSize--}addLastElem(){let e=this.state.startIndex+this.state.chunkSize;if(!this.isRemote&&!this.igxForOf)return;e>=this.igxForOf.length&&(e=this.igxForOf.length-this.state.chunkSize);let t=this.igxForOf[e],i=this.dc.instance._vcr.createEmbeddedView(this._template,new ZT(t,this.igxForOf,this.getContextIndex(t),this.igxForOf.length));this._embeddedViews.push(i),this.state.chunkSize++,this._zone.run((()=>this.cdr.markForCheck()))}applyChunkSizeChange(){let e=this.isRemote?this.igxForOf?this.igxForOf.length:0:this._calculateChunkSize();if(e>this.state.chunkSize){let t=e-this.state.chunkSize;for(let e=0;e<t;e++)this.addLastElem()}else if(e<this.state.chunkSize){let t=this.state.chunkSize-e;for(let e=0;e<t;e++)this.removeLastElem()}}_updateScrollOffset(){"horizontal"===this.igxForScrollOrientation?this._updateHScrollOffset():this._updateVScrollOffset()}_calcVirtualScrollTop(e){let t=parseInt(this.igxForContainerSize,10),i=this.scrollComponent.size-t,n=0!==i?e/i:0,r=this._virtHeight-t;this._virtScrollTop=n*r}_getItemSize(e,t){let i=e?e[t]:null;return"number"==typeof i?i:parseInt(this.igxForItemSize,10)||0}_updateVScrollOffset(){let e=0,t=this.scrollPosition;1!==this._virtHeightRatio&&(this._calcVirtualScrollTop(this.scrollPosition),t=this._virtScrollTop),e=this.scrollComponent.nativeElement&&this.scrollComponent.size?t-this.sizesCache[this.state.startIndex]:0,this.dc.instance._viewContainer.element.nativeElement.style.top=-e+"px"}_updateHScrollOffset(){let e=0;e=this.scrollComponent.nativeElement&&this.scrollComponent.size?this.scrollPosition-this.sizesCache[this.state.startIndex]:0,this.dc.instance._viewContainer.element.nativeElement.style.left=-e+"px"}_adjustScrollPositionAfterSizeChange(e){if(Math.abs(e)>0&&this.scrollPosition>0){this.recalcUpdateSizes();let e="horizontal"===this.igxForScrollOrientation?parseInt(this.dc.instance._viewContainer.element.nativeElement.style.left,10):parseInt(this.dc.instance._viewContainer.element.nativeElement.style.top,10),t=this.sizesCache[this.state.startIndex]-e;this.scrollPosition=t,this.scrollPosition!==t&&(this.scrollComponent.scrollAmount=t)}}getMargin(e,t){let i=window.getComputedStyle(e);return"height"===t?parseFloat(i.marginTop)+parseFloat(i.marginBottom)||0:parseFloat(i.marginLeft)+parseFloat(i.marginRight)||0}},t=e;return e.fac=function(t){return new(t||e)(Rd(Xu),Rd(ju),Rd(hp),Rd(Jg),Rd(Ig),Rd(XT),Rd($S),Rd(Cp))},e.dir=er({type:e,selectors:[["","igxFor","","igxForOf",""]],inputs:{igxForOf:"igxForOf",igxForSizePropName:"igxForSizePropName",igxForScrollOrientation:"igxForScrollOrientation",igxForScrollContainer:"igxForScrollContainer",igxForContainerSize:"igxForContainerSize",igxForItemSize:"igxForItemSize",igxForTotalItemCount:"igxForTotalItemCount",igxForTrackBy:"igxForTrackBy"},outputs:{chunkLoad:"chunkLoad",scrollbarVisibilityChanged:"scrollbarVisibilityChanged",contentSizeChange:"contentSizeChange",dataChanged:"dataChanged",beforeViewDestroyed:"beforeViewDestroyed",chunkPreload:"chunkPreload"},standalone:!0,features:[cu([XT]),ns]}),t})(),JT=e=>e.name||typeof e,eA=class extends ZT{constructor(e,t,i,n){super(e,t,i,n),this.igxGridForOf=t}},tA=(()=>{let e=class extends QT{set igxGridForOf(e){this.igxForOf=e}get igxGridForOf(){return this.igxForOf}get sizesCache(){return"horizontal"===this.igxForScrollOrientation?this.igxGridForOfUniqueSizeCache||this.syncService.isMaster(this)?this._sizesCache:this.syncService.sizesCache(this.igxForScrollOrientation):this._sizesCache}set sizesCache(e){this._sizesCache=e}get itemsDimension(){return this.igxForSizePropName||"height"}recalcUpdateSizes(){this.igxGridForOfVariableSizes&&"vertical"===this.igxForScrollOrientation&&super.recalcUpdateSizes()}constructor(e,t,i,n,r,s,o,a,l){super(e,t,i,n,r,a,s,o),this.syncService=l,this.igxGridForOfUniqueSizeCache=!1,this.igxGridForOfVariableSizes=!0,this.dataChanging=new zu}static ngTemplateContextGuard(e,t){return!0}ngOnInit(){this.syncService.setMaster(this),super.ngOnInit(),this.removeScrollEventListeners()}ngOnChanges(e){let t="igxGridForOf";if(this.syncService.setMaster(this),t in e){let i=e[t].currentValue;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.igxForTrackBy)}catch{throw new Error(`Cannot find a differ supporting object "${i}" of type "${JT(i)}".\n                     NgFor only supports binding to Iterables such as Arrays.`)}"horizontal"===this.igxForScrollOrientation&&this.syncService.setMaster(this,!0)}let i="igxForItemSize";i in e&&!e[i].firstChange&&"vertical"===this.igxForScrollOrientation&&this.igxForOf&&this.initSizesCache(this.igxForOf);let n="igxForContainerSize";n in e&&!e[n].firstChange&&this.igxForOf&&this._recalcOnContainerChange()}assumeMaster(){this._sizesCache=this.syncService.sizesCache(this.igxForScrollOrientation),this.syncService.setMaster(this,!0)}ngDoCheck(){if(this._differ){let e=this._differ.diff(this.igxForOf);if(e){let t={containerSize:this.igxForContainerSize};this.dataChanging.emit(t),this.igxForOf||(this.igxForOf=[]),!this.igxForOf.length&&"vertical"===this.igxForScrollOrientation&&this.syncService.resetMaster(),this.syncService.setMaster(this),this.igxForContainerSize=t.containerSize;let i=this._updateSizeCache(e);this._applyChanges(),i&&"vertical"===this.igxForScrollOrientation&&this._adjustScrollPositionAfterSizeChange(i),this._updateScrollOffset(),this.dataChanged.emit()}}}onScroll(e){if(!parseInt(this.scrollComponent.nativeElement.style.height,10))return;this._bScrollInternal?this._bScrollInternal=!1:this._calcVirtualScrollTop(e.target.scrollTop);let t=this.fixedUpdateAllElements(this._virtScrollTop);this.dc.instance._viewContainer.element.nativeElement.style.top=-t+"px",this._zone.onStable.pipe(ci()).subscribe(this.recalcUpdateSizes.bind(this)),this.cdr.markForCheck()}onHScroll(e){let t=this.scrollComponent.nativeElement.children.item(0);if(!this.scrollComponent||!parseInt(t.style.width,10))return;let i=this.fixedUpdateAllElements(Math.abs(e));this.dc.instance._viewContainer.element.nativeElement.style.left=e<0?i+"px":-i+"px"}getItemSize(e){let t=0,i=this.igxForSizePropName||"height";return"vertical"===this.igxForScrollOrientation?(t=this._getItemSize(e,i),e&&e.summaries?t=e.max:e&&e.groups&&e.height&&(t=e.height)):t=parseInt(e[i],10)||0,t}initSizesCache(e){if(!this.syncService.isMaster(this)&&"horizontal"===this.igxForScrollOrientation){let e=this.syncService.sizesCache(this.igxForScrollOrientation);return e[e.length-1]}let t=0,i=0,n=0;this.sizesCache=[],this.heightCache=[],this.sizesCache.push(0);let r=this.isRemote?this.totalItemCount:e.length;for(;n<r;n++)i=this.getItemSize(e[n]),"vertical"===this.igxForScrollOrientation&&this.heightCache.push(i),t+=i,this.sizesCache.push(t);return t}_updateSizeCache(e=null){if("horizontal"===this.igxForScrollOrientation)return this.sizesCache[this.sizesCache.length-1]-this.initSizesCache(this.igxForOf);let t=this.heightCache.length>0?this.heightCache.reduce(((e,t)=>e+t)):0,i=t;if(!e||this.isRemote)return;i=this.handleCacheChanges(e);let n=t-i;return Math.abs(n)>0&&this.platformUtil.isBrowser&&requestAnimationFrame((()=>{this.recalcUpdateSizes();let e=parseInt(this.dc.instance._viewContainer.element.nativeElement.style.top,10);0!==this.scrollPosition?this.scrollPosition=this.sizesCache[this.state.startIndex]-e:this._updateScrollOffset()})),n}handleCacheChanges(e){let t=[],i=[],n=[];n.push(0);let r=0,s=0;return e.forEachRemovedItem((()=>s++)),e.forEachIdentityChange((e=>{e.currentIndex!==e.previousIndex&&(t[e.currentIndex]=e)})),e.forEachItem((e=>{null!==e.previousIndex&&(s<2||!t.length||t[e.currentIndex])?i[e.currentIndex]=this.heightCache[e.previousIndex]:i[e.currentIndex]=this.getItemSize(e.item),n[e.currentIndex+1]=n[e.currentIndex]+i[e.currentIndex],r+=i[e.currentIndex]})),this.heightCache=i,this.sizesCache=n,r}addLastElem(){let e=this.state.startIndex+this.state.chunkSize;if(!this.isRemote&&!this.igxForOf)return;e>=this.igxForOf.length&&(e=this.igxForOf.length-this.state.chunkSize);let t=this.igxForOf[e],i=this.dc.instance._vcr.createEmbeddedView(this._template,new eA(t,this.igxForOf,this.getContextIndex(t),this.igxForOf.length));this._embeddedViews.push(i),this.state.chunkSize++}_updateViews(e){if(this.igxForOf&&this.igxForOf.length&&this.dc){let t,i,n=Object.assign([],this._embeddedViews);this.isRemote?(t=0,i=this.igxForOf.length):(t=this.getIndexAt(this.scrollPosition,this.sizesCache),t+this.state.chunkSize>this.igxForOf.length&&(t=this.igxForOf.length-this.state.chunkSize),this.state.startIndex=t,i=this.state.chunkSize+this.state.startIndex);for(let e=t;e<i&&void 0!==this.igxForOf[e];e++){let t=n.shift();this.updateTemplateContext(t.context,e)}e!==this.state.chunkSize&&this.chunkLoad.emit(this.state)}}_applyChanges(){let e=this.state.chunkSize;this.applyChunkSizeChange(),this._recalcScrollBarSize(),this._updateViews(e)}_calcMaxChunkSize(){return"horizontal"===this.igxForScrollOrientation?this.syncService.isMaster(this)?super._calcMaxChunkSize():this.syncService.chunkSize(this.igxForScrollOrientation):super._calcMaxChunkSize()}},t=e;return e.fac=function(t){return new(t||e)(Rd(Xu),Rd(ju),Rd(hp),Rd(Jg),Rd(Ig),Rd($S),Rd(Cp),Rd(XT),Rd(YT))},e.dir=er({type:e,selectors:[["","igxGridFor","","igxGridForOf",""]],inputs:{igxGridForOf:"igxGridForOf",igxGridForOfUniqueSizeCache:"igxGridForOfUniqueSizeCache",igxGridForOfVariableSizes:"igxGridForOfVariableSizes"},outputs:{dataChanging:"dataChanging"},standalone:!0,features:[Tc,ns]}),t})(),iA=new Set("aACL09#&?"),nA=new Map([["C",/(?!^$)/u],["&",/[^\p{Separator}]/u],["a",/[\p{Letter}\d\p{Separator}]/u],["A",/[\p{Letter}\d]/u],["?",/[\p{Letter}\p{Separator}]/u],["L",/\p{Letter}/u],["0",/\d/],["9",/[\d\p{Separator}]/u],["#",/[\d\-+]/]]),rA=(e,t,i)=>`${e.substring(0,t)}${i}${e.substring(t+1)}`;function sA(e){let t=new Map,i=e;for(let n=0,r=0;n<e.length;n++,r++){let[s,o]=[e.charAt(n),e.charAt(n+1)];"\\"===s&&iA.has(o)?(i=rA(i,r,""),t.set(r,o),n++):iA.has(s)||t.set(r,s)}return{literals:t,mask:i}}var oA=(()=>{let e=class{applyMask(e,t,i=0){let n="",r="",{literals:s,mask:o}=sA(t.format),a=Array.from(s.keys()),l=this.getNonLiteralIndices(o,a),d=Array.from(s.values());null!=e&&(r=e.toString());for(let e of o)n+=t.promptChar;if(s.forEach(((e,t)=>{n=rA(n,t,e)})),!r)return n;let c=this.getNonLiteralValues(r,d);for(let e=0;e<c.length;e++){let i=c[e];!this.validateCharOnPosition(i,l[e],o)&&i!==t.promptChar&&(c[e]=t.promptChar)}c.length>l.length&&c.splice(l.length);for(let e of c){let t=e;n=rA(n,l[i++],t)}return n}parseValueFromMask(e,t){let i="",n=Array.from(sA(t.format).literals.values());for(let r of e)-1===n.indexOf(r)&&r!==t.promptChar&&(i+=r);return i}replaceInMask(e,t,i,n,r){let{literals:s,mask:o}=sA(i.format),a=Array.from(s.keys());t=this.replaceIMENumbers(t);let l=Array.from(t),d=n;r=Math.min(r,e.length);let c=e;for(let t=n;t<r||l.length&&t<e.length;t++){if(-1!==a.indexOf(t)){l[0]===e[t]&&(d=t+1,l.shift());continue}if(l[0]&&!this.validateCharOnPosition(l[0],t,o)&&l[0]!==i.promptChar)break;let n=i.promptChar;l.length&&(d=t+1,n=l.shift()),e=rA(e,t,n)}if(t.length<=1){let i=!1;d=n;for(let e=0;e<a.length;e++)""===t?(d=Math.max(d,r),i=!0):d===a[e]&&(d=a[e]+1);!i&&c!==e&&d++}return{value:e,end:d}}validateCharOnPosition(e,t,i){let n=nA.get(i.charAt(t));return!!n&&n.test(e)}getNonLiteralIndices(e,t){let i=[];for(let n=0;n<e.length;n++)-1===t.indexOf(n)&&i.push(n);return i}getNonLiteralValues(e,t){let i=[];for(let n of e)-1===t.indexOf(n)&&i.push(n);return i}replaceIMENumbers(e){return e.replace(/[]/g,(e=>({"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"}[e])))}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac,providedIn:"root"}),t})(),aA=(()=>{let e=class{get mask(){return this._mask||this.defaultMask}set mask(e){if(e!==this._mask){let t=this.maskParser.parseValueFromMask(this.inputValue,this.maskOptions);this.setPlaceholder(e),this._mask=e,this.updateInputValue(t)}}get nativeElement(){return this.elementRef.nativeElement}get inputValue(){return this.nativeElement.value}set inputValue(e){this.nativeElement.value=e}get maskOptions(){return{format:this.mask||this.defaultMask,promptChar:this.promptChar&&this.promptChar.substring(0,1)}}get selectionStart(){return this.nativeElement.selectionStart===this.nativeElement.selectionEnd&&this._hasDropAction?this.nativeElement.selectionEnd-this._droppedData.length:this.nativeElement.selectionStart}get selectionEnd(){return this.nativeElement.selectionEnd}get start(){return this._start}get end(){return this._end}constructor(e,t,i,n){this.elementRef=e,this.maskParser=t,this.renderer=i,this.platform=n,this.promptChar="_",this.valueChanged=new zu,this._end=0,this._start=0,this._oldText="",this._dataValue="",this._focused=!1,this.defaultMask="CCCCCCCCCC",this._onTouchedCallback=vt,this._onChangeCallback=vt}onKeyDown(e){let t=e.key;t&&(e.ctrlKey&&(t===this.platform.KEYMAP.Z||t===this.platform.KEYMAP.Y)&&e.preventDefault(),this._key=t,this._start=this.selectionStart,this._end=this.selectionEnd)}onCompositionStart(){this._composing||(this._compositionStartIndex=this._start,this._composing=!0)}onCompositionEnd(){this._start=this._compositionStartIndex;let e=this.selectionEnd,t=this.inputValue.substring(this._start,e);this.updateInput(t),this._end=this.selectionEnd,this._compositionValue=this.inputValue}onInputChanged(e){if(this._composing)return void(this.inputValue.length<this._oldText.length&&(this._key=this.platform.KEYMAP.BACKSPACE));if("deleteContentBackward"===e.inputType&&this._key!==this.platform.KEYMAP.BACKSPACE){let e=0===this._compositionStartIndex&&this._end===this.mask.length,t=0,i=sA(this.maskOptions.format).literals.keys();for(let e of i)e>=this._compositionStartIndex&&e<=this._end&&t++;this.inputValue=e?this.inputValue.substring(0,this.selectionEnd-t)+this.inputValue.substring(this.selectionEnd):this._compositionValue?.substring(0,this._compositionStartIndex)||this.inputValue,this._compositionValue&&(this._start=this.selectionStart,this._end=this.selectionEnd,this.nativeElement.selectionStart=e?this._start-t:this._compositionStartIndex,this.nativeElement.selectionEnd=this._end-t,this.nativeElement.selectionEnd=this._end,this._start=this.selectionStart,this._end=this.selectionEnd)}this._hasDropAction&&(this._start=this.selectionStart);let t="";switch(this._key){case this.platform.KEYMAP.DELETE:this._end=this._start===this._end?++this._end:this._end;break;case this.platform.KEYMAP.BACKSPACE:this._start=this.selectionStart;break;default:t=this.inputValue.substring(this._start,this.selectionEnd)}this.updateInput(t)}onPaste(){this._oldText=this.inputValue,this._start=this.selectionStart}onFocus(){this.nativeElement.readOnly||(this._focused=!0,this.showMask(this.inputValue))}onBlur(e){this._focused=!1,this.showDisplayValue(e),this._onTouchedCallback()}onDragEnter(){!this._focused&&!this._dataValue&&this.showMask(this._dataValue)}onDragLeave(){this._focused||this.showDisplayValue(this.inputValue)}onDrop(e){this._hasDropAction=!0,this._droppedData=e.dataTransfer.getData("text")}ngOnInit(){this.setPlaceholder(this.maskOptions.format)}ngAfterViewChecked(){this._composing||(this._oldText=this.inputValue)}writeValue(e){this.promptChar&&this.promptChar.length>1&&(this.maskOptions.promptChar=this.promptChar.substring(0,1)),this.inputValue=e?this.maskParser.applyMask(e,this.maskOptions):"",this.displayValuePipe&&(this.inputValue=this.displayValuePipe.transform(this.inputValue)),this._dataValue=this.includeLiterals?this.inputValue:e,this.valueChanged.emit({rawValue:e,formattedValue:this.inputValue})}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}showMask(e){this.focusedValuePipe?this.inputValue=this.focusedValuePipe.transform(e):this.inputValue=this.maskParser.applyMask(e,this.maskOptions),this._oldText=this.inputValue}setSelectionRange(e,t=e){this.nativeElement.setSelectionRange(e,t)}afterInput(){this._oldText=this.inputValue,this._hasDropAction=!1,this._start=0,this._end=0,this._key=null,this._composing=!1}setPlaceholder(e){let t=this.nativeElement.placeholder;(!t||t===this.mask)&&this.renderer.setAttribute(this.nativeElement,"placeholder",sA(e??"").mask||this.defaultMask)}updateInputValue(e){this._focused?this.showMask(e):this.displayValuePipe||(this.inputValue=this.inputValue?this.maskParser.applyMask(e,this.maskOptions):"")}updateInput(e){let t=this.maskParser.replaceInMask(this._oldText,e,this.maskOptions,this._start,this._end);this.inputValue=t.value,this._key===this.platform.KEYMAP.BACKSPACE&&(t.end=this._start),this.setSelectionRange(t.end);let i=this.maskParser.parseValueFromMask(this.inputValue,this.maskOptions);this._dataValue=this.includeLiterals?this.inputValue:i,this._onChangeCallback(this._dataValue),this.valueChanged.emit({rawValue:i,formattedValue:this.inputValue}),this.afterInput()}showDisplayValue(e){this.displayValuePipe?this.inputValue=this.displayValuePipe.transform(e):e===this.maskParser.applyMask(null,this.maskOptions)&&(this.inputValue="")}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(oA),Rd(hd),Rd($S))},e.dir=er({type:e,selectors:[["","igxMask",""]],hostBindings:function(e,t){1&e&&oh("keydown",(function(e){return t.onKeyDown(e)}))("compositionstart",(function(){return t.onCompositionStart()}))("compositionend",(function(){return t.onCompositionEnd()}))("input",(function(e){return t.onInputChanged(e)}))("paste",(function(){return t.onPaste()}))("focus",(function(){return t.onFocus()}))("blur",(function(e){return t.onBlur(e.target.value)}))("dragenter",(function(){return t.onDragEnter()}))("dragleave",(function(){return t.onDragLeave()}))("drop",(function(e){return t.onDrop(e)}))},inputs:{mask:["igxMask","mask"],promptChar:"promptChar",includeLiterals:"includeLiterals",displayValuePipe:"displayValuePipe",focusedValuePipe:"focusedValuePipe"},outputs:{valueChanged:"valueChanged"},exportAs:["igxMask"],standalone:!0,features:[cu([{provide:qx,useExisting:e,multi:!0}])]}),t})(),lA=(()=>{let e=class{set centered(e){this._centered=e||this.centered}get nativeElement(){return this.elementRef.nativeElement}constructor(e,t,i,n){this.builder=e,this.elementRef=t,this.renderer=i,this.zone=n,this.rippleTarget="",this.rippleDuration=600,this.rippleDisabled=!1,this.rippleElementClass="igx-ripple__inner",this.rippleHostClass="igx-ripple",this._centered=!1,this.animationQueue=[]}onMouseDown(e){this.zone.runOutsideAngular((()=>this._ripple(e)))}setStyles(e,t){this.renderer.addClass(e,this.rippleElementClass),this.renderer.setStyle(e,"width",`${t.radius}px`),this.renderer.setStyle(e,"height",`${t.radius}px`),this.renderer.setStyle(e,"top",`${t.top}px`),this.renderer.setStyle(e,"left",`${t.left}px`),this.rippleColor&&this.renderer.setStyle(e,"background",this.rippleColor)}_ripple(e){if(this.rippleDisabled)return;let t=this.rippleTarget&&this.nativeElement.querySelector(this.rippleTarget)||this.nativeElement,i=t.getBoundingClientRect(),n=Math.max(i.width,i.height),r=Math.round(e.clientX-i.left-n/2),s=Math.round(e.clientY-i.top-n/2);this._centered&&(r=s=0);let o={radius:n,top:s,left:r},a=this.renderer.createElement("span");this.setStyles(a,o),this.renderer.addClass(t,this.rippleHostClass),this.renderer.appendChild(t,a);let l=this.builder.build([sy({opacity:.5,transform:"scale(.3)"}),ny(this.rippleDuration,sy({opacity:0,transform:"scale(2)"}))]).create(a);this.animationQueue.push(l),l.onDone((()=>{this.animationQueue.splice(this.animationQueue.indexOf(l),1),t.removeChild(a),this.animationQueue.length<1&&this.renderer.removeClass(t,this.rippleHostClass)})),l.play()}},t=e;return e.fac=function(t){return new(t||e)(Rd(Jf),Rd(ld),Rd(hd),Rd(Ig))},e.dir=er({type:e,selectors:[["","igxRipple",""]],hostBindings:function(e,t){1&e&&oh("mousedown",(function(e){return t.onMouseDown(e)}))},inputs:{rippleTarget:["igxRippleTarget","rippleTarget"],rippleColor:["igxRipple","rippleColor"],rippleDuration:["igxRippleDuration","rippleDuration"],centered:["igxRippleCentered","centered"],rippleDisabled:["igxRippleDisabled","rippleDisabled"]},standalone:!0}),t})(),dA=new Dl("dir-doc",{providedIn:"root",factory:function(){return mn(Cp)}}),cA=(()=>{let e=class{get value(){return this._dir}get document(){return this._document}get rtl(){return"rtl"===this._dir}constructor(e){this._document=e;let t=this._document.body?this._document.body.dir:null,i=this._document.documentElement?this._document.documentElement.dir:null,n=t||i;this._dir="ltr"===n||"rtl"===n?n:"ltr"}},t=e;return e.fac=function(t){return new(t||e)(pn(dA))},e.prov=ji({token:e,factory:e.fac,providedIn:"root"}),t})(),hA=class{get value(){return this._value}set value(e){this._value=null==e?"":e}get lastSearchInfo(){return this._lastSearchInfo}constructor(e,t){this.element=e,this.renderer=t,this.groupName="",this.destroy$=new We,this._value="",this._div=null,this._observer=null,this._nodeWasRemoved=!1,this._forceEvaluation=!1,this._activeElementIndex=-1,this._defaultCssClass="igx-highlight",this._defaultActiveCssClass="igx-highlight--active",hA.onActiveElementChanged.pipe(yi(this.destroy$)).subscribe((e=>{this.groupName===e&&(-1!==this._activeElementIndex&&this.deactivate(),this.activateIfNecessary())}))}static setActiveHighlight(e,t){hA.highlightGroupsMap.set(e,t),hA.onActiveElementChanged.emit(e)}static clearActiveHighlight(e){hA.highlightGroupsMap.set(e,{index:-1}),hA.onActiveElementChanged.emit(e)}ngOnDestroy(){this.clearHighlight(),null!==this._observer&&this._observer.disconnect(),this.destroy$.next(!0),this.destroy$.complete()}ngOnChanges(e){e.value&&!e.value.firstChange?this._valueChanged=!0:(void 0!==e.row&&!e.row.firstChange||void 0!==e.column&&!e.column.firstChange||void 0!==e.page&&!e.page.firstChange)&&(-1!==this._activeElementIndex&&this.deactivate(),this.activateIfNecessary())}ngAfterViewInit(){this.parentElement=this.renderer.parentNode(this.element.nativeElement),!1===hA.highlightGroupsMap.has(this.groupName)&&hA.highlightGroupsMap.set(this.groupName,{index:-1}),this._lastSearchInfo={searchedText:"",content:this.value,matchCount:0,caseSensitive:!1,exactMatch:!1},this._container=this.parentElement.firstElementChild}ngAfterViewChecked(){this._valueChanged&&(this.highlight(this._lastSearchInfo.searchedText,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch),this.activateIfNecessary(),this._valueChanged=!1)}highlight(e,t,i){let n=!!t,r=!!i;return this.searchNeedsEvaluation(e,n,r)?(this._lastSearchInfo.searchedText=e,this._lastSearchInfo.caseSensitive=n,this._lastSearchInfo.exactMatch=r,this._lastSearchInfo.content=this.value,""===e||null==e?this.clearHighlight():(this.clearChildElements(!0),this._lastSearchInfo.matchCount=this.getHighlightedText(e,t,i))):this._nodeWasRemoved&&(this._lastSearchInfo.searchedText=e,this._lastSearchInfo.caseSensitive=n,this._lastSearchInfo.exactMatch=r),this._lastSearchInfo.matchCount}clearHighlight(){this.clearChildElements(!1),this._lastSearchInfo.searchedText="",this._lastSearchInfo.matchCount=0}activateIfNecessary(){let e=hA.highlightGroupsMap.get(this.groupName);e.index>=0&&e.column===this.column&&e.row===this.row&&eb(this.metadata,e.metadata)&&this.activate(e.index)}observe(){if(null===this._observer){let e=e=>{e.forEach((e=>{Array.from(e.removedNodes).forEach((e=>{e===this._container&&(this._nodeWasRemoved=!0,this.clearChildElements(!1))})),Array.from(e.addedNodes).forEach((e=>{e===this.parentElement.firstElementChild&&this._nodeWasRemoved&&(this._container=this.parentElement.firstElementChild,this._nodeWasRemoved=!1,this._forceEvaluation=!0,this.highlight(this._lastSearchInfo.searchedText,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch),this._forceEvaluation=!1,this.activateIfNecessary(),this._observer.disconnect(),this._observer=null)}))}))};this._observer=new MutationObserver(e),this._observer.observe(this.parentElement,{childList:!0})}}activate(e){if(this.deactivate(),null!==this._div){let t=this._div.querySelectorAll("span");if(this._activeElementIndex=e,t.length<=e)return;let i=t[e];this.renderer.addClass(i,this._defaultActiveCssClass),this.renderer.addClass(i,this.activeCssClass)}}deactivate(){if(-1===this._activeElementIndex)return;let e=this._div.querySelectorAll("span");if(e.length<=this._activeElementIndex)return void(this._activeElementIndex=-1);let t=e[this._activeElementIndex];this.renderer.removeClass(t,this._defaultActiveCssClass),this.renderer.removeClass(t,this.activeCssClass),this._activeElementIndex=-1}clearChildElements(e){this.renderer.setProperty(this.element.nativeElement,"hidden",e),null!==this._div&&(this.renderer.removeChild(this.parentElement,this._div),this._div=null,this._activeElementIndex=-1)}getHighlightedText(e,t,i){this.appendDiv();let n=String(this.value),r=t?n:n.toLowerCase(),s=t?e:e.toLowerCase(),o=0;if(i)r===s?(this.appendSpan(`<span class="${this._defaultCssClass} ${this.cssClass?this.cssClass:""}">${n}</span>`),o++):this.appendText(n);else{let e=r.indexOf(s,0),t=0;for(;-1!==e;){let i=e,a=e+s.length;this.appendText(n.substring(t,i)),this.appendSpan(`<span class="${this._defaultCssClass} ${this.cssClass?this.cssClass:""}">${n.substring(i,a)}</span>`),t=a,o++,e=r.indexOf(s,a)}this.appendText(n.substring(t,n.length))}return o}appendText(e){let t=this.renderer.createText(e);this.renderer.appendChild(this._div,t)}appendSpan(e){let t=this.renderer.createElement("span");this.renderer.appendChild(this._div,t),this.renderer.setProperty(t,"outerHTML",e)}appendDiv(){this._div=this.renderer.createElement("div"),this.containerClass&&this.renderer.addClass(this._div,this.containerClass),this.renderer.appendChild(this.parentElement,this._div)}searchNeedsEvaluation(e,t,i){let n=this._lastSearchInfo.searchedText;return!this._nodeWasRemoved&&(null===n||n!==e||this._lastSearchInfo.content!==this.value||this._lastSearchInfo.caseSensitive!==t||this._lastSearchInfo.exactMatch!==i||this._forceEvaluation)}},uA=hA;hA.highlightGroupsMap=new Map,hA.onActiveElementChanged=new zu,hA.fac=function(e){return new(e||hA)(Rd(ld),Rd(hd))},hA.dir=er({type:hA,selectors:[["","igxTextHighlight",""]],inputs:{cssClass:"cssClass",activeCssClass:"activeCssClass",containerClass:"containerClass",groupName:"groupName",value:"value",row:"row",column:"column",metadata:"metadata"},standalone:!0,features:[ns]});var gA=(()=>{let e=class{get selected(){return this.selectionState}set selected(e){this.selectionState=e}get nativeElement(){return this.element.nativeElement}constructor(e){this.element=e,this.selectionState=!0}onFocus(){this.trigger()}trigger(){this.selected&&this.nativeElement.value.length&&requestAnimationFrame((()=>this.nativeElement.select()))}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld))},e.dir=er({type:e,selectors:[["","igxTextSelection",""]],hostBindings:function(e,t){1&e&&oh("focus",(function(){return t.onFocus()}))},inputs:{selected:["igxTextSelection","selected"]},exportAs:["igxTextSelection"],standalone:!0}),t})(),pA=(()=>{let e=class{constructor(e,t,i){this._viewContainerRef=e,this._zone=t,this.cdr=i,this.viewCreated=new zu,this.viewMoved=new zu,this.cachedViewLoaded=new zu,this.beforeViewDetach=new zu,this._embeddedViewsMap=new Map}ngOnChanges(e){switch(this._getActionType(e)){case mA.CreateView:this._recreateView();break;case mA.MoveView:this._moveView();break;case mA.UseCachedView:this._useCachedView();break;case mA.UpdateViewContext:this._updateExistingContext(this.igxTemplateOutletContext)}}cleanCache(){this._embeddedViewsMap.forEach((e=>{e.forEach((e=>{e.destroyed||e.destroy()})),e.clear()})),this._embeddedViewsMap.clear()}cleanView(e){let t=this._embeddedViewsMap.get(e.type)?.get(e.id);t&&(t.destroy(),this._embeddedViewsMap.get(e.type).delete(e.id))}_recreateView(){let e=this._viewRef?this._viewContainerRef.indexOf(this._viewRef):-1;-1!==e&&(this.beforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this._viewContainerRef.detach(e)),this.igxTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.igxTemplateOutlet,this.igxTemplateOutletContext),this.viewCreated.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this.igxTemplateOutletContext.templateID&&(this._embeddedViewsMap.get(this.igxTemplateOutletContext.templateID.type)?.get(this.igxTemplateOutletContext.templateID.id)||this._embeddedViewsMap.set(this.igxTemplateOutletContext.templateID.type,new Map([[this.igxTemplateOutletContext.templateID.id,this._viewRef]]))))}_moveView(){let e=this.igxTemplateOutletContext.moveView,t=this.igxTemplateOutletContext.owner;e!==this._viewRef?(-1!==t._viewContainerRef.indexOf(e)&&(this.beforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),t._viewContainerRef.detach(t._viewContainerRef.indexOf(e))),this._viewRef&&-1!==this._viewContainerRef.indexOf(this._viewRef)&&(this.beforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this._viewContainerRef.detach(this._viewContainerRef.indexOf(this._viewRef))),this._viewRef=e,this._viewContainerRef.insert(e,0),this._updateExistingContext(this.igxTemplateOutletContext),this.viewMoved.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext})):this._updateExistingContext(this.igxTemplateOutletContext)}_useCachedView(){let e=this.igxTemplateOutletContext.templateID,t=e?this._embeddedViewsMap.get(e.type)?.get(e.id):null;this._viewContainerRef.length>0&&(this.beforeViewDetach.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext}),this._viewContainerRef.detach(this._viewContainerRef.indexOf(this._viewRef))),this._viewRef=t;let i=this._cloneContext(t.context);this._viewContainerRef.insert(this._viewRef,0),this._updateExistingContext(this.igxTemplateOutletContext),this.cachedViewLoaded.emit({owner:this,view:this._viewRef,context:this.igxTemplateOutletContext,oldContext:i})}_shouldRecreateView(e){let t=e.igxTemplateOutletContext;return!!e.igxTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){let t=Object.keys(e.previousValue||{}),i=Object.keys(e.currentValue||{});if(t.length===i.length){for(let e of i)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.igxTemplateOutletContext[t]}_cloneContext(e){let t={};for(let i of Object.keys(e))t[i]=e[i];return t}_getActionType(e){let t=this.igxTemplateOutletContext.moveView,i=this.igxTemplateOutletContext.templateID,n=i?this._embeddedViewsMap.get(i.type)?.get(i.id):null,r=this._shouldRecreateView(e);return t?mA.MoveView:r&&n?mA.UseCachedView:!this._viewRef||r?mA.CreateView:this.igxTemplateOutletContext?mA.UpdateViewContext:void 0}},t=e;return e.fac=function(t){return new(t||e)(Rd(Xu),Rd(Ig),Rd(Jg))},e.dir=er({type:e,selectors:[["","igxTemplateOutlet",""]],inputs:{igxTemplateOutletContext:"igxTemplateOutletContext",igxTemplateOutlet:"igxTemplateOutlet"},outputs:{viewCreated:"viewCreated",viewMoved:"viewMoved",cachedViewLoaded:"cachedViewLoaded",beforeViewDetach:"beforeViewDetach"},standalone:!0,features:[ns]}),t})(),mA=((mA=mA||{})[mA.CreateView=0]="CreateView",mA[mA.MoveView=1]="MoveView",mA[mA.UseCachedView=2]="UseCachedView",mA[mA.UpdateViewContext=3]="UpdateViewContext",mA),fA=(()=>{let e=class{get collapsed(){return this._collapsed}get element(){return this.elementRef.nativeElement}get hiddenClass(){return this.collapsed}get defaultClass(){return!this.collapsed}constructor(e,t,i,n){this.elementRef=e,this.cdr=t,this.overlayService=i,this.navigationService=n,this.opened=new zu,this.opening=new zu,this.closed=new zu,this.closing=new zu,this.appended=new zu,this._collapsed=!0,this.destroy$=new We,this._overlaySubFilter=[Wt((e=>e.id===this._overlayId)),yi(this.destroy$)],this.overlayClosed=e=>{this._collapsed=!0,this.cdr.detectChanges(),this.unsubscribe(),this.overlayService.detach(this.overlayId);let t={owner:this,id:this._overlayId,event:e.event};delete this._overlayId,this.closed.emit(t),this.cdr.markForCheck()}}open(e){let t=this.overlayService.getOverlayById(this._overlayId),i=t?.openAnimationPlayer?.hasStarted()??!1,n=t?.closeAnimationPlayer?.hasStarted()??!1;if(i||!this._collapsed&&!n)return;this._collapsed=!1,this.cdr.detectChanges(),t||(this.unsubscribe(),this.subscribe(),this._overlayId=this.overlayService.attach(this.elementRef,e));let r={cancel:!1,owner:this,id:this._overlayId};if(this.opening.emit(r),r.cancel)return this.unsubscribe(),this.overlayService.detach(this._overlayId),this._collapsed=!0,delete this._overlayId,void this.cdr.detectChanges();this.overlayService.show(this._overlayId,e)}close(e){let t=this.overlayService.getOverlayById(this._overlayId)?.closeAnimationPlayer?.hasStarted()||!1;this._collapsed||t||this.overlayService.hide(this._overlayId,e)}toggle(e){this.collapsed||this.isClosing?this.open(e):this.close()}get isClosing(){let e=this.overlayService.getOverlayById(this._overlayId);return!!e&&e.closeAnimationPlayer?.hasStarted()}get overlayId(){return this._overlayId}reposition(){this.overlayService.reposition(this._overlayId)}setOffset(e,t){this.overlayService.setOffset(this._overlayId,e,t)}ngOnInit(){this.navigationService&&this.id&&this.navigationService.add(this.id,this)}ngOnDestroy(){this.navigationService&&this.id&&this.navigationService.remove(this.id),this._overlayId&&this.overlayService.detach(this._overlayId),this.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete()}subscribe(){this._overlayContentAppendedSub=this.overlayService.contentAppended.pipe(ci(),yi(this.destroy$)).subscribe((()=>{let e={owner:this,id:this._overlayId};this.appended.emit(e)})),this._overlayOpenedSub=this.overlayService.opened.pipe(...this._overlaySubFilter).subscribe((()=>{let e={owner:this,id:this._overlayId};this.opened.emit(e)})),this._overlayClosingSub=this.overlayService.closing.pipe(...this._overlaySubFilter).subscribe((e=>{let t={cancel:!1,event:e.event,owner:this,id:this._overlayId};this.closing.emit(t),e.cancel=t.cancel,e.cancel||this.clearSubscription(this._overlayClosingSub)})),this._overlayClosedSub=this.overlayService.closed.pipe(...this._overlaySubFilter).subscribe(this.overlayClosed)}unsubscribe(){this.clearSubscription(this._overlayOpenedSub),this.clearSubscription(this._overlayClosingSub),this.clearSubscription(this._overlayClosedSub),this.clearSubscription(this._overlayContentAppendedSub)}clearSubscription(e){e&&!e.closed&&e.unsubscribe()}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(Jg),Rd(LE),Rd(jx,8))},e.dir=er({type:e,selectors:[["","igxToggle",""]],hostVars:5,hostBindings:function(e,t){2&e&&(Gc("aria-hidden",t.hiddenClass),Ah("igx-toggle--hidden",t.hiddenClass)("igx-toggle",t.defaultClass))},inputs:{id:"id"},outputs:{opened:"opened",opening:"opening",closed:"closed",closing:"closing",appended:"appended"},exportAs:["toggle"],standalone:!0}),t})(),yA=(()=>{let e=class{set target(e){null!==e&&""!==e&&(this._target=e)}get target(){return"string"==typeof this._target?this.navigationService.get(this._target):this._target}constructor(e,t){this.element=e,this.navigationService=t}onClick(){this.outlet&&(this._overlayDefaults.outlet=this.outlet);let e=Object.assign({},this._overlayDefaults,this.overlaySettings);this.updateOverlaySettings(e),this.target.toggle(e)}ngOnInit(){let e=this.element.nativeElement;this._overlayDefaults={target:e,positionStrategy:new AE,scrollStrategy:new HE,closeOnOutsideClick:!0,modal:!1,excludeFromOutsideClick:[e]}}updateOverlaySettings(e){if(e&&e.positionStrategy){let t=e.positionStrategy.clone();e.target=this.element.nativeElement,e.positionStrategy=t}return e}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(jx,8))},e.dir=er({type:e,selectors:[["","igxToggleAction",""]],hostBindings:function(e,t){1&e&&oh("click",(function(){return t.onClick()}))},inputs:{overlaySettings:"overlaySettings",outlet:["igxToggleOutlet","outlet"],target:["igxToggleAction","target"]},exportAs:["toggle-action"],standalone:!0}),t})(),vA=(()=>{let e=class{constructor(e){this.element=e}get nativeElement(){return this.element.nativeElement}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld))},e.dir=er({type:e,selectors:[["","igxOverlayOutlet",""]],exportAs:["overlay-outlet"],standalone:!0}),t})(),xA=0,_A=(()=>{let e=class extends fA{get hiddenClass(){return this.collapsed}get defaultClass(){return!this.collapsed}get role(){return"tooltip"}constructor(e,t,i,n){super(e,t,i,n),this.id="igx-tooltip-"+xA++,this.toBeHidden=!1,this.toBeShown=!1}forceOpen(e){let t=this.overlayService.getOverlayById(this._overlayId);if(t&&t.openAnimationPlayer)t.openAnimationPlayer.finish(),t.openAnimationPlayer.reset(),t.openAnimationPlayer=null;else if(this.collapsed){let t=e.positionStrategy.settings.openAnimation;e.positionStrategy.settings.openAnimation=null,this.open(e),e.positionStrategy.settings.openAnimation=t}}forceClose(e){let t=this.overlayService.getOverlayById(this._overlayId);if(t&&t.closeAnimationPlayer)t.closeAnimationPlayer.finish(),t.closeAnimationPlayer.reset(),t.closeAnimationPlayer=null;else if(!this.collapsed){let t=e.positionStrategy.settings.closeAnimation;e.positionStrategy.settings.closeAnimation=null,this.close(),e.positionStrategy.settings.closeAnimation=t}}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(Jg),Rd(LE),Rd(jx,8))},e.dir=er({type:e,selectors:[["","igxTooltip",""]],hostVars:6,hostBindings:function(e,t){2&e&&(Gc("id",t.id)("role",t.role),Ah("igx-tooltip--hidden",t.hiddenClass)("igx-tooltip--desktop",t.defaultClass))},inputs:{context:"context",id:"id"},exportAs:["tooltip"],standalone:!0,features:[Tc]}),t})(),wA=(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.cmp=Yn({type:e,selectors:[["igx-tooltip"]],viewQuery:function(e,t){if(1&e&&pg(_A,7),2&e){let e;gg(e=fg())&&(t.tooltip=e.first)}},standalone:!0,features:[yu],decls:2,vars:1,consts:[["igxTooltip",""]],template:function(e,t){1&e&&(Yc(0,"span",0),$h(1),Xc()),2&e&&(Ed(1),jh(t.content))},dependencies:[_A],encapsulation:2}),t})(),CA=(()=>{let e=class extends yA{set target(e){null!==e&&""!==e&&(this._target=e)}get target(){return"string"==typeof this._target?this._navigationService.get(this._target):this._target}set tooltip(e){if(!this.target&&("string"==typeof e||e instanceof String)){let t=this._viewContainerRef.createComponent(wA);t.instance.content=e,this._target=t.instance.tooltip}}get nativeElement(){return this._element.nativeElement}get tooltipHidden(){return!this.target||this.target.collapsed}constructor(e,t,i){super(e,t),this._element=e,this._navigationService=t,this._viewContainerRef=i,this.showDelay=500,this.hideDelay=500,this.tooltipDisabled=!1,this.tooltipShow=new zu,this.tooltipHide=new zu,this.destroy$=new We}onClick(){this.target.collapsed||this.target.forceClose(this.mergedOverlaySettings)}onMouseEnter(){if(this.tooltipDisabled||(this.checkOutletAndOutsideClick(),this.preMouseEnterCheck()))return;let e={target:this,tooltip:this.target,cancel:!1};this.tooltipShow.emit(e),!e.cancel&&(this.target.toBeShown=!0,this.target.timeoutId=setTimeout((()=>{this.target.open(this.mergedOverlaySettings),this.target.toBeShown=!1}),this.showDelay))}onMouseLeave(){this.tooltipDisabled||(this.checkOutletAndOutsideClick(),this.preMouseLeaveCheck()||this.target.collapsed)||(this.target.toBeHidden=!0,this.target.timeoutId=setTimeout((()=>{this.target.close(),this.target.toBeHidden=!1}),this.hideDelay))}onTouchStart(){this.tooltipDisabled||this.showTooltip()}onDocumentTouchStart(e){this.tooltipDisabled||this.nativeElement!==e.target&&!this.nativeElement.contains(e.target)&&this.hideTooltip()}ngOnInit(){super.ngOnInit();let e={horizontalDirection:CE.Center,horizontalStartPoint:CE.Center,openAnimation:dy(Iv,{params:{duration:"150ms"}}),closeAnimation:dy(yy,{params:{duration:"75ms"}})};this._overlayDefaults.positionStrategy=new RE(e),this._overlayDefaults.closeOnOutsideClick=!1,this._overlayDefaults.closeOnEscape=!0,this.target.closing.pipe(yi(this.destroy$)).subscribe((e=>{let t={target:this,tooltip:this.target,cancel:!1};this.tooltipHide.emit(t),t.cancel&&(e.cancel=!0)}))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}showTooltip(){clearTimeout(this.target.timeoutId),this.target.collapsed||(this.target.forceClose(this.mergedOverlaySettings),this.target.toBeHidden=!1);let e={target:this,tooltip:this.target,cancel:!1};this.tooltipShow.emit(e),!e.cancel&&(this.target.toBeShown=!0,this.target.timeoutId=setTimeout((()=>{this.target.open(this.mergedOverlaySettings),this.target.toBeShown=!1}),this.showDelay))}hideTooltip(){this.target.collapsed&&this.target.toBeShown&&clearTimeout(this.target.timeoutId),!this.target.collapsed&&!this.target.toBeHidden&&(this.target.toBeHidden=!0,this.target.timeoutId=setTimeout((()=>{this.target.close(),this.target.toBeHidden=!1}),this.hideDelay))}checkOutletAndOutsideClick(){this.outlet&&(this._overlayDefaults.outlet=this.outlet)}get mergedOverlaySettings(){return Object.assign({},this._overlayDefaults,this.overlaySettings)}preMouseEnterCheck(){return this.target.toBeShown&&(clearTimeout(this.target.timeoutId),this.target.toBeShown=!1),(!this.target.collapsed||this.target.toBeHidden)&&(clearTimeout(this.target.timeoutId),this.target.forceClose(this.mergedOverlaySettings),this.target.toBeHidden=!1),!1}preMouseLeaveCheck(){return clearTimeout(this.target.timeoutId),!!this.target.toBeShown&&(this.target.toBeShown=!1,this.target.toBeHidden=!1,!0)}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(jx,8),Rd(Xu))},e.dir=er({type:e,selectors:[["","igxTooltipTarget",""]],hostBindings:function(e,t){1&e&&oh("click",(function(){return t.onClick()}))("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(){return t.onMouseLeave()}))("touchstart",(function(){return t.onTouchStart()}))("touchstart",(function(e){return t.onDocumentTouchStart(e)}),!1,xd)},inputs:{showDelay:"showDelay",hideDelay:"hideDelay",tooltipDisabled:"tooltipDisabled",target:["igxTooltipTarget","target"],tooltip:"tooltip"},outputs:{tooltipShow:"tooltipShow",tooltipHide:"tooltipHide"},exportAs:["tooltipTarget"],standalone:!0,features:[Tc]}),t})(),SA=((SA=SA||{}).Date="date",SA.Month="month",SA.Year="year",SA.Hours="hours",SA.Minutes="minutes",SA.Seconds="seconds",SA.AmPm="ampm",SA.Literal="literal",SA),bA=["h","H","m","s","S","t","T"],DA=["d","D","M","y","Y"],EA=(()=>{let e=class{static parseValueFromMask(t,i,n){let r={};if(i.forEach((i=>{let s=parseInt(e.getCleanVal(t,i,n),10);s||(s=i.type===SA.Date||i.type===SA.Month?1:0),r[i.type]=s})),r[SA.Month]-=1,r[SA.Month]<0||11<r[SA.Month]||(r[SA.Year]<50&&(r[SA.Year]+=2e3),r[SA.Date]>e.daysInMonth(r[SA.Year],r[SA.Month]))||r[SA.Hours]>23||r[SA.Minutes]>59||r[SA.Seconds]>59)return null;let s=i.find((e=>e.type===SA.AmPm));return s&&(r[SA.Hours]%=12),s&&"pm"===e.getCleanVal(t,s,n).toLowerCase()&&(r[SA.Hours]+=12),new Date(r[SA.Year]||2e3,r[SA.Month]||0,r[SA.Date]||1,r[SA.Hours]||0,r[SA.Minutes]||0,r[SA.Seconds]||0)}static parseDateTimeFormat(t,i){let n=t||e.getDefaultInputFormat(i),r=[],s=Array.from(n),o=null,a=0;for(let t=0;t<s.length;t++,a++){let i=e.determineDatePart(s[t]);if(o){if(o.type===i&&(o.format+=s[t],t<s.length-1))continue;e.addCurrentPart(o,r),a=o.end}o={start:a,end:a+s[t].length,type:i,format:s[t]}}r.filter((e=>e.format.includes(o.format))).length||e.addCurrentPart(o,r);let l=r.filter((e=>e.type===SA.Year))[0];return l&&"yy"!==l.format&&(l.end+=4-l.format.length,l.format="yyyy"),r}static getPartValue(e,t,i){let n;switch(t.type){case SA.Date:n=e.getDate();break;case SA.Month:n=e.getMonth()+1;break;case SA.Year:n=2===i?this.prependValue(parseInt(e.getFullYear().toString().slice(-2),10),i,"0"):e.getFullYear();break;case SA.Hours:n=-1!==t.format.indexOf("h")?this.prependValue(this.toTwelveHourFormat(e.getHours().toString()),i,"0"):e.getHours();break;case SA.Minutes:n=e.getMinutes();break;case SA.Seconds:n=e.getSeconds();break;case SA.AmPm:n=e.getHours()>=12?"PM":"AM"}return t.type!==SA.AmPm?this.prependValue(n,i,"0"):n}static getDefaultInputFormat(t){if(t=t||e.DEFAULT_LOCALE,!Intl||!Intl.DateTimeFormat||!Intl.DateTimeFormat.prototype.formatToParts)return e.DEFAULT_INPUT_FORMAT;let i=e.getDefaultLocaleMask(t);return i.forEach((t=>{t.type!==SA.Year&&t.type!==e.SEPARATOR&&(t.formatType="2-digit")})),e.getMask(i)}static formatDate(t,i,n,r){let s;try{s=Kp(t,i,n,r)}catch{e.logMissingLocaleSettings(n),s=new Intl.DateTimeFormat(n).format(t)}return s}static getLocaleDateFormat(t,i){let n,r=Object.keys(Ip).find((e=>e.toLowerCase()===i?.toLowerCase().replace("date","")));if(!r)return i;try{n=kp(t,Ip[r])}catch{e.logMissingLocaleSettings(t),n=e.getDefaultInputFormat(t)}return n}static isDateOrTimeChar(e){return-1!==bA.indexOf(e)||-1!==DA.indexOf(e)}static spinDate(t,i,n){let r=e.daysInMonth(i.getFullYear(),i.getMonth()),s=i.getDate()+t;s>r?s=n?s%r:r:s<1&&(s=n?r+s%r:1),i.setDate(s)}static spinMonth(t,i,n){let r=e.daysInMonth(i.getFullYear(),i.getMonth()+t);i.getDate()>r&&i.setDate(r);let s=i.getMonth()+t;s>11?s=n?s%11-1:11:s<0&&(s=n?11+s%11+1:0),i.setMonth(s)}static spinYear(t,i){let n=e.daysInMonth(i.getFullYear()+t,i.getMonth());i.getDate()>n&&i.setDate(n),i.setFullYear(i.getFullYear()+t)}static spinHours(e,t,i){let n=t.getHours()+e;n>23?n=i?n%23-1:23:n<0&&(n=i?23+n%23+1:0),t.setHours(n)}static spinMinutes(e,t,i){let n=t.getMinutes()+e;n>59?n=i?n%59-1:59:n<0&&(n=i?59+n%59+1:0),t.setMinutes(n)}static spinSeconds(e,t,i){let n=t.getSeconds()+e;n>59?n=i?n%59-1:59:n<0&&(n=i?59+n%59+1:0),t.setSeconds(n)}static spinAmPm(e,t,i){switch(i){case"AM":e=new Date(e.setHours(e.getHours()+12));break;case"PM":e=new Date(e.setHours(e.getHours()-12))}return e.getDate()!==t.getDate()?t:e}static greaterThanMaxValue(e,t,i=!0,n=!0){if(i&&n)return e.getTime()>t.getTime();let r=new Date(e.getTime()),s=new Date(t.getTime());return i||(r.setHours(0,0,0,0),s.setHours(0,0,0,0)),n||(r.setFullYear(0,0,0),s.setFullYear(0,0,0)),r.getTime()>s.getTime()}static lessThanMinValue(e,t,i=!0,n=!0){if(i&&n)return e.getTime()<t.getTime();let r=new Date(e.getTime()),s=new Date(t.getTime());return i||(r.setHours(0,0,0,0),s.setHours(0,0,0,0)),n||(r.setFullYear(0,0,0),s.setFullYear(0,0,0)),r.getTime()<s.getTime()}static validateMinMax(t,i,n,r=!0,s=!0){if(!t)return null;let o={},a=e.isValidDate(i)?i:e.parseIsoDate(i),l=e.isValidDate(n)?n:e.parseIsoDate(n);return a&&t&&e.lessThanMinValue(t,a,r,s)&&Object.assign(o,{minValue:!0}),l&&t&&e.greaterThanMaxValue(t,l,r,s)&&Object.assign(o,{maxValue:!0}),o}static parseIsoDate(e){let t=/^\d{4}/g;if(t.test(e))return new Date(e+""+(-1===e.indexOf("T")?"T00:00:00":""));if(t=/^\d{2}/g,t.test(e)){let t=(new Date).toISOString(),[i,n]=t.split("T");return new Date(`${i}T${e}`)}return null}static isValidDate(e){return!!GS(e)&&!isNaN(e.getTime())}static addCurrentPart(t,i){e.ensureLeadingZero(t),t.end=t.start+t.format.length,i.push(t)}static daysInMonth(e,t){return new Date(e,t+1,0).getDate()}static trimEmptyPlaceholders(e,t){return e.replace(new RegExp(t||"_","g"),"")}static getMask(t){let i=[];for(let n of t){switch(n.formatType){case"numeric":"day"===n.type?i.push("d"):"month"===n.type?i.push("M"):i.push("yyyy");break;case"2-digit":"day"===n.type?i.push("dd"):"month"===n.type?i.push("MM"):i.push("yy")}n.type===e.SEPARATOR&&i.push(n.value)}return i.join("")}static logMissingLocaleSettings(e){console.warn(`Missing locale data for the locale ${e}. Please refer to https://angular.io/guide/i18n#i18n-pipes`),console.warn("Using default browser locale settings.")}static prependValue(e,t,i){return(i+e.toString()).slice(-t)}static toTwelveHourFormat(e,t="_"){let i=parseInt(e.replace(new RegExp(t,"g"),"0"),10);return i>12?i-=12:0===i&&(i=12),i}static ensureLeadingZero(e){switch(e.type){case SA.Date:case SA.Month:case SA.Hours:case SA.Minutes:case SA.Seconds:1===e.format.length&&(e.format=e.format.repeat(2))}}static getCleanVal(t,i,n){return e.trimEmptyPlaceholders(t.substring(i.start,i.end),n)}static determineDatePart(e){switch(e){case"d":case"D":return SA.Date;case"M":return SA.Month;case"y":case"Y":return SA.Year;case"h":case"H":return SA.Hours;case"m":return SA.Minutes;case"s":case"S":return SA.Seconds;case"t":case"T":return SA.AmPm;default:return SA.Literal}}static getDefaultLocaleMask(t){let i=[],n=new Intl.DateTimeFormat(t),r=n.formatToParts(new Date);for(let t of r)t.type===e.SEPARATOR?i.push({type:e.SEPARATOR,value:t.value}):i.push({type:t.type});let s=n.resolvedOptions();for(let e of i)switch(e.type){case"day":e.formatType=s.day;break;case"month":e.formatType=s.month;break;case"year":e.formatType=s.year}return e.fillDatePartsPositions(i),i}static fillDatePartsPositions(t){let i=0;for(let n of t)if("day"===n.type||"month"===n.type)n.position=[i,i+2],i+=2;else if("year"===n.type)switch(n.formatType){case"numeric":n.position=[i,i+4],i+=4;break;case"2-digit":n.position=[i,i+2],i+=2}else n.type===e.SEPARATOR&&(n.position=[i,i+1],i++)}},t=e;return e.DEFAULT_INPUT_FORMAT="MM/dd/yyyy",e.DEFAULT_TIME_INPUT_FORMAT="hh:mm tt",e.SEPARATOR="literal",e.DEFAULT_LOCALE="en",t})(),IA=(()=>{let e=class extends aA{get minValue(){return this._minValue}set minValue(e){this._minValue=e,this.onValidatorChange()}get maxValue(){return this._maxValue}set maxValue(e){this._maxValue=e,this.onValidatorChange()}set inputFormat(e){e&&(this.setMask(e),this._inputFormat=e)}get inputFormat(){return this._inputFormat||this._defaultInputFormat}set value(e){this._value=e,this.setDateValue(e),this.onChangeCallback(e),this.updateMask()}get value(){return this._value}get datePartDeltas(){return Object.assign({},this._datePartDeltas,this.spinDelta)}get emptyMask(){return this.maskParser.applyMask(null,this.maskOptions)}get targetDatePart(){return this.document.activeElement===this.nativeElement||this.document.activeElement?.shadowRoot?.activeElement===this.nativeElement?this._inputDateParts.find((e=>e.start<=this.selectionStart&&this.selectionStart<=e.end&&e.type!==SA.Literal))?.type:this._inputDateParts.some((e=>e.type===SA.Date))?SA.Date:this._inputDateParts.some((e=>e.type===SA.Hours))?SA.Hours:void 0}get hasDateParts(){return this._inputDateParts.some((e=>e.type===SA.Date||e.type===SA.Month||e.type===SA.Year))}get hasTimeParts(){return this._inputDateParts.some((e=>e.type===SA.Hours||e.type===SA.Minutes||e.type===SA.Seconds))}get dateValue(){return this._dateValue}constructor(e,t,i,n,r,s){super(t,i,e,n),this._document=r,this._locale=s,this.spinLoop=!0,this.valueChange=new zu,this.validationFailed=new zu,this._datePartDeltas={date:1,month:1,year:1,hours:1,minutes:1,seconds:1},this.onTouchCallback=vt,this.onChangeCallback=vt,this.onValidatorChange=vt,this.document=this._document,this.locale=this.locale||this._locale}onWheel(e){this._isFocused&&(e.preventDefault(),e.stopPropagation(),e.deltaY>0?this.decrement():this.increment())}ngOnInit(){this.updateDefaultFormat(),this.setMask(this.inputFormat),this.updateMask()}ngOnChanges(e){e.locale&&!e.locale.firstChange&&(this.updateDefaultFormat(),this._inputFormat||(this.setMask(this.inputFormat),this.updateMask())),e.inputFormat&&!e.inputFormat.firstChange&&this.updateMask()}clear(){this._onClear=!0,this.updateValue(null),this.setSelectionRange(0,this.inputValue.length),this._onClear=!1}increment(e,t){let i=e||this.targetDatePart;if(!i)return;let n=this.trySpinValue(i,t);this.updateValue(n)}decrement(e,t){let i=e||this.targetDatePart;if(!i)return;let n=this.trySpinValue(i,t,!0);this.updateValue(n)}writeValue(e){this._value=e,this.setDateValue(e),this.updateMask()}validate(e){if(!e.value)return null;if(GS(e.value)&&!EA.isValidDate(e.value))return{value:!0};let t={},i=EA.isValidDate(e.value)?e.value:EA.parseIsoDate(e.value),n=EA.isValidDate(this.minValue)?this.minValue:this.parseDate(this.minValue),r=EA.isValidDate(this.maxValue)?this.maxValue:this.parseDate(this.maxValue);return(n||r)&&(t=EA.validateMinMax(i,n,r,this.hasTimeParts,this.hasDateParts)),Object.keys(t).length>0?t:null}registerOnValidatorChange(e){this.onValidatorChange=e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchCallback=e}setDisabledState(e){}onCompositionEnd(){super.onCompositionEnd(),this.updateValue(this.parseDate(this.inputValue)),this.updateMask()}onInputChanged(e){if(super.onInputChanged(e),!this._composing)if(this.inputIsComplete()){let e=this.parseDate(this.inputValue);if(EA.isValidDate(e))this.updateValue(e);else{let t={oldValue:this.value&&new Date(this.dateValue.getTime()),newValue:e,userInput:this.inputValue};this.validationFailed.emit(t),EA.isValidDate(t.newValue)?this.updateValue(t.newValue):this.updateValue(null)}}else this.updateValue(null)}onKeyDown(e){if(this.nativeElement.readOnly)return;super.onKeyDown(e);let t=e.key;if(!e.altKey){if(t===this.platform.KEYMAP.ARROW_DOWN||t===this.platform.KEYMAP.ARROW_UP)return void this.spin(e);e.ctrlKey&&t===this.platform.KEYMAP.SEMICOLON&&this.updateValue(new Date),this.moveCursor(e)}}onFocus(){this.nativeElement.readOnly||(this._isFocused=!0,this.onTouchCallback(),this.updateMask(),super.onFocus(),this.nativeElement.select())}onBlur(e){this._isFocused=!1,this.inputIsComplete()||this.inputValue===this.emptyMask?this.updateMask():this.updateValue(this.parseDate(this.inputValue)),!this.displayValuePipe&&super.onBlur(e)}setPlaceholder(e){}updateDefaultFormat(){this._defaultInputFormat=EA.getDefaultInputFormat(this.locale)}updateMask(){if(this._isFocused){let e=this.selectionEnd;this.inputValue=this.getMaskedValue(),this.setSelectionRange(e)}else{if(!this.dateValue||!EA.isValidDate(this.dateValue))return void(this.inputValue="");if(this.displayValuePipe)return void(this.inputValue=this.displayValuePipe.transform(this.value));let e=this.displayFormat||this.inputFormat;this.inputValue=e?EA.formatDate(this.dateValue,e.replace("tt","aa"),this.locale):this.dateValue.toLocaleString()}}setMask(e){let t=this._inputDateParts?.map((e=>e.format)).join("");this._inputDateParts=EA.parseDateTimeFormat(e),e=this._inputDateParts.map((e=>e.format)).join("");let i=(e||EA.DEFAULT_INPUT_FORMAT).replace(new RegExp(/(?=[^t])[\w]/,"g"),"0");this.mask=-1!==i.indexOf("tt")?i.replace(new RegExp("tt","g"),"LL"):i;let n=this.nativeElement.placeholder;(!n||t===n)&&this.renderer.setAttribute(this.nativeElement,"placeholder",e)}parseDate(e){return e?EA.parseValueFromMask(e,this._inputDateParts,this.promptChar):null}getMaskedValue(){let e=this.emptyMask;if(EA.isValidDate(this.value)){for(let t of this._inputDateParts){if(t.type===SA.Literal)continue;let i=this.getPartValue(t,t.format.length);e=this.maskParser.replaceInMask(e,i,this.maskOptions,t.start,t.end).value}return e}return this.inputIsComplete()&&this._onClear?e:this.inputValue}valueInRange(e){if(!e)return!1;let t={},i=EA.isValidDate(this.minValue)?this.minValue:this.parseDate(this.minValue),n=EA.isValidDate(this.maxValue)?this.maxValue:this.parseDate(this.maxValue);return(i||n)&&(t=EA.validateMinMax(e,this.minValue,this.maxValue,this.hasTimeParts,this.hasDateParts)),0===Object.keys(t).length}spinValue(e,t){if(!this.dateValue||!EA.isValidDate(this.dateValue))return null;let i=new Date(this.dateValue.getTime());switch(e){case SA.Date:EA.spinDate(t,i,this.spinLoop);break;case SA.Month:EA.spinMonth(t,i,this.spinLoop);break;case SA.Year:EA.spinYear(t,i);break;case SA.Hours:EA.spinHours(t,i,this.spinLoop);break;case SA.Minutes:EA.spinMinutes(t,i,this.spinLoop);break;case SA.Seconds:EA.spinSeconds(t,i,this.spinLoop);break;case SA.AmPm:let e=this._inputDateParts.find((e=>e.type===SA.AmPm)),n=this.inputValue.substring(e.start,e.end);return EA.spinAmPm(i,this.dateValue,n)}return i}trySpinValue(e,t,i=!1){t||(t=this.datePartDeltas[e]||1);let n=i?-Math.abs(t):Math.abs(t);return this.spinValue(e,n)||new Date}setDateValue(e){this._dateValue=EA.isValidDate(e)?e:EA.parseIsoDate(e)}updateValue(e){this._oldValue=this.dateValue,this.value=e,(this.inputIsComplete()||this.inputValue===this.emptyMask)&&this.valueChange.emit(this.dateValue),this.dateValue&&!this.valueInRange(this.dateValue)&&this.validationFailed.emit({oldValue:this._oldValue,newValue:this.dateValue,userInput:this.inputValue})}toTwelveHourFormat(e){let t=parseInt(e.replace(new RegExp(this.promptChar,"g"),"0"),10);return t>12?t-=12:0===t&&(t=12),t}getPartValue(e,t){let i;switch(e.type){case SA.Date:i=this.dateValue.getDate();break;case SA.Month:i=this.dateValue.getMonth()+1;break;case SA.Year:i=2===t?this.prependValue(parseInt(this.dateValue.getFullYear().toString().slice(-2),10),t,"0"):this.dateValue.getFullYear();break;case SA.Hours:i=-1!==e.format.indexOf("h")?this.prependValue(this.toTwelveHourFormat(this.dateValue.getHours().toString()),t,"0"):this.dateValue.getHours();break;case SA.Minutes:i=this.dateValue.getMinutes();break;case SA.Seconds:i=this.dateValue.getSeconds();break;case SA.AmPm:i=this.dateValue.getHours()>=12?"PM":"AM"}return e.type!==SA.AmPm?this.prependValue(i,t,"0"):i}prependValue(e,t,i){return(i+e.toString()).slice(-t)}spin(e){switch(e.preventDefault(),e.key){case this.platform.KEYMAP.ARROW_UP:this.increment();break;case this.platform.KEYMAP.ARROW_DOWN:this.decrement()}}inputIsComplete(){return-1===this.inputValue.indexOf(this.promptChar)}moveCursor(e){let t=e.target.value;switch(e.key){case this.platform.KEYMAP.ARROW_LEFT:e.ctrlKey&&(e.preventDefault(),this.setSelectionRange(this.getNewPosition(t)));break;case this.platform.KEYMAP.ARROW_RIGHT:e.ctrlKey&&(e.preventDefault(),this.setSelectionRange(this.getNewPosition(t,1)))}}getNewPosition(e,t=0){let i=this._inputDateParts.filter((e=>e.type===SA.Literal)),n=this.selectionStart;if(t){do{n++}while(!i.some((e=>e.start===n))&&n<e.length);return n}do{n=n>0?--n:n}while(!i.some((e=>e.end===n))&&n>0);return n}},t=e;return e.fac=function(t){return new(t||e)(Rd(hd),Rd(ld),Rd(oA),Rd($S),Rd(Cp),Rd(Sg))},e.dir=er({type:e,selectors:[["","igxDateTimeEditor",""]],hostBindings:function(e,t){1&e&&oh("wheel",(function(e){return t.onWheel(e)}))},inputs:{locale:"locale",minValue:"minValue",maxValue:"maxValue",spinLoop:"spinLoop",displayFormat:"displayFormat",inputFormat:["igxDateTimeEditor","inputFormat"],value:"value",spinDelta:"spinDelta"},outputs:{valueChange:"valueChange",validationFailed:"validationFailed"},exportAs:["igxDateTimeEditor"],standalone:!0,features:[cu([{provide:qx,useExisting:e,multi:!0},{provide:e_,useExisting:e,multi:!0}]),Tc,ns]}),t})(),TA=(()=>{let e=class{constructor(){this.operations=[{name:"null",isUnary:!0,iconName:"is-null",logic:e=>null===e},{name:"notNull",isUnary:!0,iconName:"is-not-null",logic:e=>null!==e},{name:"in",isUnary:!1,iconName:"is-in",hidden:!0,logic:(e,t)=>this.findValueInSet(e,t)}]}static instance(){return this._instance||(this._instance=new this)}conditionList(){return this.operations.filter((e=>!e.hidden)).map((e=>e.name))}condition(e){return this.operations.find((t=>t.name===e))}append(e){this.operations.push(e)}findValueInSet(e,t){return t.has(e)}},t=e;return e._instance=null,t})(),AA=class extends TA{constructor(){super(),this.operations=[{name:"all",isUnary:!0,iconName:"select-all",logic:e=>!0},{name:"true",isUnary:!0,iconName:"is-true",logic:e=>!(!e||null==e)},{name:"false",isUnary:!0,iconName:"is-false",logic:e=>!e&&null!=e},{name:"empty",isUnary:!0,iconName:"is-empty",logic:e=>null==e},{name:"notEmpty",isUnary:!0,iconName:"not-empty",logic:e=>null!=e}].concat(this.operations)}},kA=class extends TA{constructor(){super(),this.operations=[{name:"empty",isUnary:!0,iconName:"is-empty",logic:e=>null==e},{name:"notEmpty",isUnary:!0,iconName:"not-empty",logic:e=>null!=e}].concat(this.operations)}static getDateParts(e,t){let i={day:null,hours:null,milliseconds:null,minutes:null,month:null,seconds:null,year:null};return!e||!t||(t.indexOf("y")>=0&&(i.year=e.getFullYear()),t.indexOf("M")>=0&&(i.month=e.getMonth()),t.indexOf("d")>=0&&(i.day=e.getDate()),t.indexOf("h")>=0&&(i.hours=e.getHours()),t.indexOf("m")>=0&&(i.minutes=e.getMinutes()),t.indexOf("s")>=0&&(i.seconds=e.getSeconds()),t.indexOf("f")>=0&&(i.milliseconds=e.getMilliseconds())),i}findValueInSet(e,t){return!!e&&t.has(e instanceof Date?e.toISOString():e)}validateInputData(e){if(!(e instanceof Date))throw new Error("Could not perform filtering on 'date' column because the datasource object type is not 'Date'.")}},RA=class extends kA{constructor(){super(),this.operations=[{name:"equals",isUnary:!1,iconName:"equals",logic:(e,t)=>{if(!e)return!1;this.validateInputData(e);let i=RA.getDateParts(e,"yMd"),n=RA.getDateParts(t,"yMd");return i.year===n.year&&i.month===n.month&&i.day===n.day}},{name:"doesNotEqual",isUnary:!1,iconName:"not-equal",logic:(e,t)=>{if(!e)return!0;this.validateInputData(e);let i=RA.getDateParts(e,"yMd"),n=RA.getDateParts(t,"yMd");return i.year!==n.year||i.month!==n.month||i.day!==n.day}},{name:"before",isUnary:!1,iconName:"is-before",logic:(e,t)=>!!e&&(this.validateInputData(e),e<t)},{name:"after",isUnary:!1,iconName:"is-after",logic:(e,t)=>!!e&&(this.validateInputData(e),e>t)},{name:"today",isUnary:!0,iconName:"today",logic:e=>{if(!e)return!1;this.validateInputData(e);let t=RA.getDateParts(e,"yMd"),i=RA.getDateParts(new Date,"yMd");return t.year===i.year&&t.month===i.month&&t.day===i.day}},{name:"yesterday",isUnary:!0,iconName:"yesterday",logic:e=>{if(!e)return!1;this.validateInputData(e);let t=RA.getDateParts(e,"yMd"),i=(r=new Date,new Date(r.setDate(r.getDate()-1))),n=RA.getDateParts(i,"yMd");var r;return t.year===n.year&&t.month===n.month&&t.day===n.day}},{name:"thisMonth",isUnary:!0,iconName:"this-month",logic:e=>{if(!e)return!1;this.validateInputData(e);let t=RA.getDateParts(e,"yM"),i=RA.getDateParts(new Date,"yM");return t.year===i.year&&t.month===i.month}},{name:"lastMonth",isUnary:!0,iconName:"last-month",logic:e=>{if(!e)return!1;this.validateInputData(e);let t=RA.getDateParts(e,"yM"),i=RA.getDateParts(new Date,"yM");return i.month?i.month--:(i.month=11,i.year-=1),t.year===i.year&&t.month===i.month}},{name:"nextMonth",isUnary:!0,iconName:"next-month",logic:e=>{if(!e)return!1;this.validateInputData(e);let t=RA.getDateParts(e,"yM"),i=RA.getDateParts(new Date,"yM");return 11===i.month?(i.month=0,i.year+=1):i.month++,t.year===i.year&&t.month===i.month}},{name:"thisYear",isUnary:!0,iconName:"this-year",logic:e=>{if(!e)return!1;this.validateInputData(e);let t=RA.getDateParts(e,"y"),i=RA.getDateParts(new Date,"y");return t.year===i.year}},{name:"lastYear",isUnary:!0,iconName:"last-year",logic:e=>{if(!e)return!1;this.validateInputData(e);let t=RA.getDateParts(e,"y"),i=RA.getDateParts(new Date,"y");return t.year===i.year-1}},{name:"nextYear",isUnary:!0,iconName:"next-year",logic:e=>{if(!e)return!1;this.validateInputData(e);let t=RA.getDateParts(e,"y"),i=RA.getDateParts(new Date,"y");return t.year===i.year+1}}].concat(this.operations)}},OA=class extends kA{constructor(){super(),this.operations=[{name:"equals",isUnary:!1,iconName:"equals",logic:(e,t)=>{if(!e)return!1;this.validateInputData(e);let i=OA.getDateParts(e,"yMdhms"),n=OA.getDateParts(t,"yMdhms");return i.year===n.year&&i.month===n.month&&i.day===n.day&&i.hours===n.hours&&i.minutes===n.minutes&&i.seconds===n.seconds}},{name:"doesNotEqual",isUnary:!1,iconName:"not-equal",logic:(e,t)=>{if(!e)return!0;this.validateInputData(e);let i=OA.getDateParts(e,"yMdhms"),n=OA.getDateParts(t,"yMdhms");return i.year!==n.year||i.month!==n.month||i.day!==n.day||i.hours!==n.hours||i.minutes!==n.minutes||i.seconds!==n.seconds}},{name:"before",isUnary:!1,iconName:"is-before",logic:(e,t)=>!!e&&(this.validateInputData(e),e<t)},{name:"after",isUnary:!1,iconName:"is-after",logic:(e,t)=>!!e&&(this.validateInputData(e),e>t)},{name:"today",isUnary:!0,iconName:"today",logic:e=>{if(!e)return!1;this.validateInputData(e);let t=OA.getDateParts(e,"yMd"),i=OA.getDateParts(new Date,"yMd");return t.year===i.year&&t.month===i.month&&t.day===i.day}},{name:"yesterday",isUnary:!0,iconName:"yesterday",logic:e=>{if(!e)return!1;this.validateInputData(e);let t=OA.getDateParts(e,"yMd"),i=(r=new Date,new Date(r.setDate(r.getDate()-1))),n=OA.getDateParts(i,"yMd");var r;return t.year===n.year&&t.month===n.month&&t.day===n.day}},{name:"thisMonth",isUnary:!0,iconName:"this-month",logic:e=>{if(!e)return!1;this.validateInputData(e);let t=OA.getDateParts(e,"yM"),i=OA.getDateParts(new Date,"yM");return t.year===i.year&&t.month===i.month}},{name:"lastMonth",isUnary:!0,iconName:"last-month",logic:e=>{if(!e)return!1;this.validateInputData(e);let t=OA.getDateParts(e,"yM"),i=OA.getDateParts(new Date,"yM");return i.month?i.month--:(i.month=11,i.year-=1),t.year===i.year&&t.month===i.month}},{name:"nextMonth",isUnary:!0,iconName:"next-month",logic:e=>{if(!e)return!1;this.validateInputData(e);let t=OA.getDateParts(e,"yM"),i=OA.getDateParts(new Date,"yM");return 11===i.month?(i.month=0,i.year+=1):i.month++,t.year===i.year&&t.month===i.month}},{name:"thisYear",isUnary:!0,iconName:"this-year",logic:e=>{if(!e)return!1;this.validateInputData(e);let t=OA.getDateParts(e,"y"),i=OA.getDateParts(new Date,"y");return t.year===i.year}},{name:"lastYear",isUnary:!0,iconName:"last-year",logic:e=>{if(!e)return!1;this.validateInputData(e);let t=OA.getDateParts(e,"y"),i=OA.getDateParts(new Date,"y");return t.year===i.year-1}},{name:"nextYear",isUnary:!0,iconName:"next-year",logic:e=>{if(!e)return!1;this.validateInputData(e);let t=OA.getDateParts(e,"y"),i=OA.getDateParts(new Date,"y");return t.year===i.year+1}}].concat(this.operations)}},FA=class extends kA{constructor(){super(),this.operations=[{name:"at",isUnary:!1,iconName:"equals",logic:(e,t)=>{if(!e)return!1;this.validateInputData(e);let i=FA.getDateParts(e,"hms"),n=FA.getDateParts(t,"hms");return i.hours===n.hours&&i.minutes===n.minutes&&i.seconds===n.seconds}},{name:"not_at",isUnary:!1,iconName:"not-equal",logic:(e,t)=>{if(!e)return!0;this.validateInputData(e);let i=FA.getDateParts(e,"hms"),n=FA.getDateParts(t,"hms");return i.hours!==n.hours||i.minutes!==n.minutes||i.seconds!==n.seconds}},{name:"before",isUnary:!1,iconName:"is-before",logic:(e,t)=>{if(!e)return!1;this.validateInputData(e);let i=FA.getDateParts(e,"hms"),n=FA.getDateParts(t,"hms");return i.hours<n.hours||i.hours===n.hours&&i.minutes<n.minutes||i.hours===n.hours&&i.minutes===n.minutes&&i.seconds<n.seconds}},{name:"after",isUnary:!1,iconName:"is-after",logic:(e,t)=>{if(!e)return!1;this.validateInputData(e);let i=FA.getDateParts(e,"hms"),n=FA.getDateParts(t,"hms");return i.hours>n.hours||i.hours===n.hours&&i.minutes>n.minutes||i.hours===n.hours&&i.minutes===n.minutes&&i.seconds>n.seconds}},{name:"at_before",isUnary:!1,iconName:"is-before",logic:(e,t)=>{if(!e)return!1;this.validateInputData(e);let i=FA.getDateParts(e,"hms"),n=FA.getDateParts(t,"hms");return i.hours===n.hours&&i.minutes===n.minutes&&i.seconds===n.seconds||i.hours<n.hours||i.hours===n.hours&&i.minutes<n.minutes||i.hours===n.hours&&i.minutes===n.minutes&&i.seconds<n.seconds}},{name:"at_after",isUnary:!1,iconName:"is-after",logic:(e,t)=>{if(!e)return!1;this.validateInputData(e);let i=FA.getDateParts(e,"hms"),n=FA.getDateParts(t,"hms");return i.hours===n.hours&&i.minutes===n.minutes&&i.seconds===n.seconds||i.hours>n.hours||i.hours===n.hours&&i.minutes>n.minutes||i.hours===n.hours&&i.minutes===n.minutes&&i.seconds>n.seconds}}].concat(this.operations)}findValueInSet(e,t){return!!e&&t.has(e.toLocaleTimeString())}},PA=class extends TA{constructor(){super(),this.operations=[{name:"equals",isUnary:!1,iconName:"equals",logic:(e,t)=>e===t},{name:"doesNotEqual",isUnary:!1,iconName:"not-equal",logic:(e,t)=>e!==t},{name:"greaterThan",isUnary:!1,iconName:"greater-than",logic:(e,t)=>e>t},{name:"lessThan",isUnary:!1,iconName:"less-than",logic:(e,t)=>e<t},{name:"greaterThanOrEqualTo",isUnary:!1,iconName:"greater-than-or-equal",logic:(e,t)=>e>=t},{name:"lessThanOrEqualTo",isUnary:!1,iconName:"less-than-or-equal",logic:(e,t)=>e<=t},{name:"empty",isUnary:!0,iconName:"is-empty",logic:e=>null==e||isNaN(e)},{name:"notEmpty",isUnary:!0,iconName:"not-empty",logic:e=>null!=e&&!isNaN(e)}].concat(this.operations)}},MA=class extends TA{constructor(){super(),this.operations=[{name:"contains",isUnary:!1,iconName:"contains",logic:(e,t,i)=>{let n=MA.applyIgnoreCase(t,i);return-1!==(e=MA.applyIgnoreCase(e,i)).indexOf(n)}},{name:"doesNotContain",isUnary:!1,iconName:"does-not-contain",logic:(e,t,i)=>{let n=MA.applyIgnoreCase(t,i);return-1===(e=MA.applyIgnoreCase(e,i)).indexOf(n)}},{name:"startsWith",isUnary:!1,iconName:"starts-with",logic:(e,t,i)=>{let n=MA.applyIgnoreCase(t,i);return(e=MA.applyIgnoreCase(e,i)).startsWith(n)}},{name:"endsWith",isUnary:!1,iconName:"ends-with",logic:(e,t,i)=>{let n=MA.applyIgnoreCase(t,i);return(e=MA.applyIgnoreCase(e,i)).endsWith(n)}},{name:"equals",isUnary:!1,iconName:"equals",logic:(e,t,i)=>{let n=MA.applyIgnoreCase(t,i);return(e=MA.applyIgnoreCase(e,i))===n}},{name:"doesNotEqual",isUnary:!1,iconName:"not-equal",logic:(e,t,i)=>{let n=MA.applyIgnoreCase(t,i);return(e=MA.applyIgnoreCase(e,i))!==n}},{name:"empty",isUnary:!0,iconName:"is-empty",logic:e=>null==e||0===e.length},{name:"notEmpty",isUnary:!0,iconName:"not-empty",logic:e=>null!=e&&e.length>0}].concat(this.operations)}static applyIgnoreCase(e,t){return e=e??"",t?(""+e).toLowerCase():e}},VA=(()=>{let e=class{constructor(){this.selection=new Map}get(e){return this.selection.get(e)}set(e,t){if(!e)throw Error("Invalid value for component id!");this.selection.set(e,t)}clear(e){this.selection.set(e,this.get_empty())}size(e){let t=this.get(e);return t?t.size:0}add_item(e,t,i){return i||(i=new Set(this.get(e))),void 0===i&&(i=this.get_empty()),i.add(t),i}add_items(e,t,i){let n;return i?n=this.get_empty():t&&0===t.length&&(n=new Set(this.get(e))),t.forEach((t=>n=this.add_item(e,t,n))),n}select_item(e,t,i){this.set(e,this.add_item(e,t,i))}select_items(e,t,i){this.set(e,this.add_items(e,t,i))}delete_item(e,t,i){if(i||(i=new Set(this.get(e))),void 0!==i)return i.delete(t),i}delete_items(e,t){let i;return t.forEach((t=>i=this.delete_item(e,t,i))),i}deselect_item(e,t,i){this.set(e,this.delete_item(e,t,i))}deselect_items(e,t,i){this.set(e,this.delete_items(e,t))}is_item_selected(e,t){let i=this.get(e);return!!i&&i.has(t)}first_item(e){let t=this.get(e);if(t&&t.size>0)return t.values().next().value}are_all_selected(e,t){return t>0&&t===this.size(e)}are_none_selected(e){return 0===this.size(e)}get_all_ids(e,t){return null!=t?e.map((e=>e[t])):e}get_empty(){return new Set}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac,providedIn:"root"}),t})(),NA=[[["igx-drop-down-item"]]],LA=["igx-drop-down-item"],HA=0,BA=(()=>{let e=class{constructor(){this.role="group",this.groupClass=!0,this.disabled=!1,this._id=HA++}get labelId(){return`igx-item-group-label-${this._id}`}get labelledBy(){return this.labelId}},t=e;return e.fac=function(t){return new(t||e)},e.cmp=Yn({type:e,selectors:[["igx-drop-down-item-group"]],hostVars:7,hostBindings:function(e,t){2&e&&(Gc("aria-labelledby",t.labelledBy)("role",t.role)("aria-disabled",t.disabled),Ah("igx-drop-down__group",t.groupClass)("igx-drop-down__group--disabled",t.disabled))},inputs:{disabled:"disabled",label:"label"},standalone:!0,features:[yu],ngContentSelectors:LA,decls:3,vars:2,consts:[[3,"id"]],template:function(e,t){1&e&&(hh(NA),Yc(0,"label",0),$h(1),Xc(),uh(2)),2&e&&(gh("id",t.labelId),Ed(1),jh(t.label))},encapsulation:2}),t})(),GA=0,zA=(()=>{let e=class{get ariaLabel(){return this._label?this._label:this.value?this.value:this.id}set ariaLabel(e){this._label=e}get itemID(){return this}get index(){return null===this._index?this.itemIndex:this._index}set index(e){this._index=e}get itemStyle(){return!this.isHeader}get itemStyleCosy(){return"cosy"===this.dropDown.displayDensity&&!this.isHeader}get itemStyleCompact(){return"compact"===this.dropDown.displayDensity&&!this.isHeader}get selected(){return this._selected}set selected(e){this.isHeader||(this._selected=e,this.selectedChange.emit(this._selected))}get focused(){return this.isSelectable&&this._focused}set focused(e){this._focused=e}get headerClassCosy(){return this.isHeader&&"cosy"===this.dropDown.displayDensity}get headerClassCompact(){return this.isHeader&&"compact"===this.dropDown.displayDensity}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get itemIndex(){return this.dropDown.items.indexOf(this)}get elementHeight(){return this.elementRef.nativeElement.clientHeight}get element(){return this.elementRef}get hasIndex(){return null!==this._index&&void 0!==this._index}constructor(e,t,i,n){this.dropDown=e,this.elementRef=t,this.group=i,this.selection=n,this.id="igx-drop-down-item-"+GA++,this.selectedChange=new zu,this.role="option",this._focused=!1,this._selected=!1,this._index=null,this._disabled=!1,this._label=null}clicked(e){}handleMousedown(e){this.dropDown.allowItemsFocus||e.preventDefault()}ngDoCheck(){if(this._selected){let e=this.dropDown.selectedItem;e?(this.hasIndex?this._index!==e.index||this.value!==e.value:this!==e)&&this.dropDown.selectItem(this):this.dropDown.selectItem(this)}}get isSelectable(){return!(this.disabled||this.isHeader)}ensureItemFocus(){if(this.dropDown.allowItemsFocus){let e=this.dropDown.items.find((e=>e.focused));if(!e)return;e.element.nativeElement.focus({preventScroll:!0})}}},t=e;return e.fac=function(t){return new(t||e)(Rd(XE),Rd(ld),Rd(BA,8),Rd(VA,8))},e.dir=er({type:e,selectors:[["","igxDropDownItemBase",""]],hostVars:23,hostBindings:function(e,t){1&e&&oh("click",(function(e){return t.clicked(e)}))("mousedown",(function(e){return t.handleMousedown(e)})),2&e&&(Gc("id",t.id)("aria-label",t.ariaLabel)("aria-selected",t.selected)("aria-disabled",t.disabled)("role",t.role),Ah("igx-drop-down__item",t.itemStyle)("igx-drop-down__item--cosy",t.itemStyleCosy)("igx-drop-down__item--compact",t.itemStyleCompact)("igx-drop-down__item--selected",t.selected)("igx-drop-down__item--focused",t.focused)("igx-drop-down__header",t.isHeader)("igx-drop-down__header--cosy",t.headerClassCosy)("igx-drop-down__header--compact",t.headerClassCompact)("igx-drop-down__item--disabled",t.disabled))},inputs:{id:"id",ariaLabel:"ariaLabel",index:"index",value:"value",selected:"selected",isHeader:"isHeader",disabled:"disabled",role:"role"},outputs:{selectedChange:"selectedChange"},standalone:!0}),t})(),$A=[[["igx-prefix"],["","igxPrefix",""]],"*",[["igx-suffix"],["","igxSuffix",""]],[["igx-divider"]]],WA=["igx-prefix, [igxPrefix]","*","igx-suffix, [igxSuffix]","igx-divider"],jA=(()=>{let e=class extends zA{get focused(){let e=this._focused;if(this.hasIndex){let t=this.selection.first_item(`${this.dropDown.id}-active`),i=t?t.index:-1;e=this._index===i}return this.isSelectable&&e}set focused(e){this._focused=e}get selected(){if(this.hasIndex){let e=this.selection.first_item(`${this.dropDown.id}`);return!!e&&e.index===this._index&&e.value===this.value}return this._selected}set selected(e){this.isHeader||(this._selected=e,this.selectedChange.emit(this._selected))}get setTabIndex(){return this.dropDown.allowItemsFocus&&this.isSelectable?0:null}clicked(e){this.isSelectable?this.selection&&this.dropDown.selectItem(this,e):this.ensureItemFocus()}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.cmp=Yn({type:e,selectors:[["igx-drop-down-item"]],hostVars:1,hostBindings:function(e,t){2&e&&Gc("tabindex",t.setTabIndex)},standalone:!0,features:[Tc,yu],ngContentSelectors:WA,decls:6,vars:0,consts:[[1,"igx-drop-down__content"],[1,"igx-drop-down__inner"]],template:function(e,t){1&e&&(hh($A),Yc(0,"span",0),uh(1),Yc(2,"span",1),uh(3,1),Xc(),uh(4,2),uh(5,3),Xc())},encapsulation:2}),t})(),KA=["scrollContainer"];function UA(e,t){1&e&&(Jc(0),uh(1),eh())}var qA=["*"],YA=(()=>{let e=class extends nI{get focusedItem(){return this.virtDir?this._focusedItem&&-1!==this._focusedItem.index&&this.children.find((e=>e.index===this._focusedItem.index))||null:this._focusedItem}set focusedItem(e){if(!e)return this.selection.clear(`${this.id}-active`),void(this._focusedItem=null);this._focusedItem=e,this.virtDir&&(this._focusedItem={value:e.value,index:e.index}),this.selection.set(`${this.id}-active`,new Set([this._focusedItem]))}get id(){return this._id}set id(e){this.selection.set(e,this.selection.get(this.id)),this.selection.clear(this.id),this.selection.set(e,this.selection.get(`${this.id}-active`)),this.selection.clear(`${this.id}-active`),this._id=e}get listId(){return this.id+"-list"}get selectedItem(){return this.selection.first_item(this.id)||null}get collapsed(){return this.toggleDirective.collapsed}get scrollContainer(){return this.scrollContainerRef.nativeElement}get collectionLength(){if(this.virtDir)return this.virtDir.totalItemCount||this.virtDir.igxForOf.length}constructor(e,t,i,n){super(e,t,n),this.selection=i,this.opening=new zu,this.opened=new zu,this.closing=new zu,this.closed=new zu,this.allowItemsFocus=!1,this.destroy$=new We}open(e){this.toggleDirective.open(e),this.updateScrollPosition()}close(e){this.toggleDirective.close(e)}toggle(e){this.collapsed||this.toggleDirective.isClosing?this.open(e):this.close()}setSelectedItem(e){if(e<0||e>=this.items.length)return;let t;t=this.virtDir?{value:this.virtDir.igxForOf[e],index:e}:this.items[e],this.selectItem(t)}navigateItem(e){if(this.virtDir){if(-1===e||e>=this.collectionLength)return;let t=e>(this.focusedItem?this.focusedItem.index:-1)?KE.Down:KE.Up,i=this.isIndexOutOfBounds(e,t);this.focusedItem={value:this.virtDir.igxForOf[e],index:e},i&&this.virtDir.scrollTo(e),i?this.virtDir.chunkLoad.pipe(ai(1)).subscribe((()=>{this.skipHeader(t)})):this.skipHeader(t)}else super.navigateItem(e);this.allowItemsFocus&&this.focusedItem&&(this.focusedItem.element.nativeElement.focus(),this.cdr.markForCheck())}updateScrollPosition(){if(!this.virtDir)return;if(!this.selectedItem)return void this.virtDir.scrollTo(0);let e=this.virtDir.getScrollForIndex(this.selectedItem.index);e-=(this.virtDir.igxForContainerSize/this.virtDir.igxForItemSize/2-1)*this.virtDir.igxForItemSize,this.virtDir.getScroll().scrollTop=e}onToggleOpening(e){let t={owner:this,event:e.event,cancel:!1};this.opening.emit(t),e.cancel=t.cancel,!e.cancel&&this.virtDir&&(this.virtDir.scrollPosition=this._scrollPosition)}onToggleContentAppended(e){!this.virtDir&&this.selectedItem&&this.scrollToItem(this.selectedItem)}onToggleOpened(){this.updateItemFocus(),this.opened.emit({owner:this})}onToggleClosing(e){let t={owner:this,event:e.event,cancel:!1};this.closing.emit(t),e.cancel=t.cancel,!e.cancel&&this.virtDir&&(this._scrollPosition=this.virtDir.scrollPosition)}onToggleClosed(){this.focusItem(!1),this.closed.emit({owner:this})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.selection.clear(this.id),this.selection.clear(`${this.id}-active`)}calculateScrollPosition(e){if(!e)return 0;let t=e.element.nativeElement.getBoundingClientRect(),i=this.scrollContainer.getBoundingClientRect().top-t.top,n=this.scrollContainer.scrollTop-i;return n-=this.scrollContainer.clientHeight/2,n+=e.elementHeight/2,Math.floor(n)}ngOnChanges(e){e.id&&(this.toggleDirective.id=e.id.currentValue)}ngAfterViewInit(){this.virtDir&&(this.virtDir.igxForItemSize=28)}onItemActionKey(e,t){super.onItemActionKey(e,t),this.close(t)}navigateFirst(){this.virtDir?this.navigateItem(0):super.navigateFirst()}navigateLast(){this.virtDir?this.navigateItem(this.virtDir.totalItemCount?this.virtDir.totalItemCount-1:this.virtDir.igxForOf.length-1):super.navigateLast()}navigateNext(){this.virtDir?this.navigateItem(this._focusedItem?this._focusedItem.index+1:0):super.navigateNext()}navigatePrev(){this.virtDir?this.navigateItem(this._focusedItem?this._focusedItem.index-1:0):super.navigatePrev()}selectItem(e,t){let i=this.selectedItem;if(e||(e=this.focusedItem),null===e||e instanceof zA&&e.isHeader)return;this.virtDir&&(e={value:e.value,index:e.index});let n={oldSelection:i,newSelection:e,cancel:!1,owner:this};if(this.selectionChanging.emit(n),!n.cancel){if(!this.isSelectionValid(n.newSelection))throw new Error("Please provide a valid drop-down item for the selection!");this.selection.set(this.id,new Set([n.newSelection])),this.virtDir||(i&&(i.selected=!1),n.newSelection&&(n.newSelection.selected=!0)),t&&this.toggleDirective.close(t)}}clearSelection(){let e={oldSelection:this.selectedItem,newSelection:null,cancel:!1,owner:this};this.selectionChanging.emit(e),this.selectedItem&&!e.cancel&&(this.selectedItem.selected=!1,this.selection.clear(this.id))}isSelectionValid(e){return null===e||this.virtDir&&e.hasOwnProperty("value")&&e.hasOwnProperty("index")||e instanceof jA&&!e.isHeader}scrollToItem(e){this.scrollContainer.scrollTop=this.calculateScrollPosition(e)}focusItem(e){(e||this._focusedItem)&&(this._focusedItem.focused=e)}updateItemFocus(){this.selectedItem?(this.focusedItem=this.selectedItem,this.focusItem(!0)):this.allowItemsFocus&&this.navigateFirst()}skipHeader(e){this.focusedItem&&(this.focusedItem.isHeader||this.focusedItem.disabled)&&(e===KE.Up?this.navigatePrev():this.navigateNext())}isIndexOutOfBounds(e,t){let i=this.virtDir.state,n=this.virtDir.getScroll().scrollTop,r=this.virtDir.getScrollForIndex(e,t===KE.Down),s=e<i.startIndex||e>i.chunkSize+i.startIndex,o=t===KE.Down?n<r:n>r;return s||o}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(Jg),Rd(VA),Rd(eI,8))},e.cmp=Yn({type:e,selectors:[["igx-drop-down"]],contentQueries:function(e,t,i){if(1&e&&(mg(i,QT,5,QT),mg(i,jA,5)),2&e){let e;gg(e=fg())&&(t.virtDir=e.first),gg(e=fg())&&(t.children=e)}},viewQuery:function(e,t){if(1&e&&(pg(fA,7),pg(KA,7)),2&e){let e;gg(e=fg())&&(t.toggleDirective=e.first),gg(e=fg())&&(t.scrollContainerRef=e.first)}},inputs:{allowItemsFocus:"allowItemsFocus",labelledBy:"labelledBy"},outputs:{opening:"opening",opened:"opened",closing:"closing",closed:"closed"},standalone:!0,features:[cu([{provide:XE,useExisting:e}]),Tc,ns,yu],ngContentSelectors:qA,decls:4,vars:9,consts:[["igxToggle","",1,"igx-drop-down__list",3,"appended","opening","opened","closing","closed"],["role","listbox",1,"igx-drop-down__list-scroll"],["scrollContainer",""],[4,"ngIf"]],template:function(e,t){1&e&&(hh(),Yc(0,"div",0),oh("appended",(function(e){return t.onToggleContentAppended(e)}))("opening",(function(e){return t.onToggleOpening(e)}))("opened",(function(){return t.onToggleOpened()}))("closing",(function(e){return t.onToggleClosing(e)}))("closed",(function(){return t.onToggleClosed()})),Yc(1,"div",1,2),Wc(3,UA,2,0,"ng-container",3),Xc()()),2&e&&(Th("width",t.width),Ed(1),Th("height",t.height)("max-height",t.maxHeight),Gc("id",t.listId)("aria-labelledby",t.labelledBy),Ed(2),Uc("ngIf",!t.collapsed))},dependencies:[fA,Em],encapsulation:2}),t})(),XA=["container"],ZA=["menuItemTemplate"];function QA(e,t){if(1&e&&(Yc(0,"igx-icon",4),$h(1),Xc()),2&e){let e=dh(2);Uc("family",e.iconSet)("name",e.iconName),Ed(1),jh(e.iconName)}}function JA(e,t){if(1&e&&(Yc(0,"igx-icon"),$h(1),Xc()),2&e){let e=dh(2);Ed(1),jh(e.iconName)}}function ek(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"button",2),oh("click",(function(t){return Is(e),Ts(dh().handleClick(t))}))("mousedown",(function(t){return Is(e),Ts(dh().preventEvent(t))})),Wc(2,QA,2,3,"igx-icon",3),Wc(3,JA,2,1,"igx-icon",0),Xc(),eh()}if(2&e){let e=dh();Ed(1),Uc("title",e.labelText),Ed(1),Uc("ngIf",e.iconSet),Ed(1),Uc("ngIf",!e.iconSet)}}function tk(e,t){if(1&e&&(Yc(0,"igx-icon",4),$h(1),Xc()),2&e){let e=dh(3);Uc("family",e.iconSet)("name",e.iconName),Ed(1),jh(e.iconName)}}function ik(e,t){if(1&e&&(Yc(0,"igx-icon"),$h(1),Xc()),2&e){let e=dh(3);Ed(1),jh(e.iconName)}}function nk(e,t){if(1&e&&(Jc(0),Yc(1,"div",5,6),Wc(3,tk,2,3,"igx-icon",3),Wc(4,ik,2,1,"igx-icon",0),Yc(5,"label",7),$h(6),Xc()(),eh()),2&e){let e=dh(2);Ed(1),Uc("className",e.containerClass),Ed(2),Uc("ngIf",e.iconSet),Ed(1),Uc("ngIf",!e.iconSet),Ed(2),jh(e.labelText)}}function rk(e,t){1&e&&Wc(0,nk,7,4,"ng-container",0),2&e&&Uc("ngIf",dh().asMenuItem)}var sk=(()=>{let e=class{constructor(){this.actionClick=new zu,this.asMenuItem=!1}get containerClass(){return"igx-action-strip__menu-button "+(this.classNames||"")}handleClick(e){this.actionClick.emit(e)}preventEvent(e){e&&(e.stopPropagation(),e.preventDefault())}},t=e;return e.fac=function(t){return new(t||e)},e.cmp=Yn({type:e,selectors:[["igx-grid-action-button"]],viewQuery:function(e,t){if(1&e&&(pg(XA,5),pg(ZA,5)),2&e){let e;gg(e=fg())&&(t.container=e.first),gg(e=fg())&&(t.templateRef=e.first)}},inputs:{asMenuItem:"asMenuItem",iconName:"iconName",classNames:"classNames",iconSet:"iconSet",labelText:"labelText"},outputs:{actionClick:"actionClick"},standalone:!0,features:[yu],decls:3,vars:1,consts:[[4,"ngIf"],["menuItemTemplate",""],["igxButton","icon","igxRipple","",3,"title","click","mousedown"],[3,"family","name",4,"ngIf"],[3,"family","name"],[3,"className"],["container",""],["igxLabel",""]],template:function(e,t){1&e&&(Wc(0,ek,4,3,"ng-container",0),Wc(1,rk,1,1,"ng-template",null,1,_g)),2&e&&Uc("ngIf",!t.asMenuItem)},dependencies:[Em,CI,lA,FI],encapsulation:2}),t})(),ok=["checkbox"],ak=["label"],lk=["placeholderLabel"],dk=["*"],ck="before",hk="after",uk=0,gk=(()=>{let e=class{get nativeElement(){return this.nativeCheckbox.nativeElement}get required(){return this._required||this.nativeElement.hasAttribute("required")}set required(e){this._required=""===e||e}get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,this._onChangeCallback(this._checked))}get disabled(){return this._disabled}set disabled(e){this._disabled=""===e||e}get invalid(){return this._invalid||!1}set invalid(e){this._invalid=!!e}constructor(e,t,i){this.cdr=e,this.renderer=t,this.ngControl=i,this.change=new zu,this.destroy$=new We,this.id="igx-checkbox-"+uk++,this.labelId=`${this.id}-label`,this.tabindex=null,this.labelPosition=hk,this.disableRipple=!1,this.ariaLabelledBy=this.labelId,this.ariaLabel=null,this.cssClass="igx-checkbox",this.focused=!1,this.indeterminate=!1,this.readonly=!1,this.disableTransitions=!1,this.inputId=`${this.id}-input`,this._checked=!1,this._required=!1,this._disabled=!1,this._invalid=!1,this._onTouchedCallback=vt,this._onChangeCallback=vt,null!==this.ngControl&&(this.ngControl.valueAccessor=this)}ngAfterViewInit(){this.ngControl&&(this.ngControl.statusChanges.pipe(yi(this.destroy$)).subscribe(this.updateValidityState.bind(this)),(this.ngControl.control.validator||this.ngControl.control.asyncValidator)&&(this._required=this.ngControl?.control?.hasValidator(n_.required),this.cdr.detectChanges()))}onKeyUp(e){e.stopPropagation(),this.focused=!0}_onCheckboxClick(e){this.disabled||this.readonly?e.preventDefault():(this.nativeCheckbox.nativeElement.focus(),this.indeterminate=!1,this.checked=!this.checked,this.updateValidityState(),this.change.emit({checked:this._checked,checkbox:this}))}get ariaChecked(){return this.indeterminate?"mixed":this.checked}_onCheckboxChange(e){e.stopPropagation()}onBlur(){this.focused=!1,this._onTouchedCallback(),this.updateValidityState()}writeValue(e){this._checked=e}get labelClass(){return this.labelPosition===ck?`${this.cssClass}__label--before`:`${this.cssClass}__label`}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}setDisabledState(e){this.disabled=e}getEditElement(){return this.nativeCheckbox.nativeElement}updateValidityState(){this.ngControl?this.disabled||this.readonly||!this.ngControl.control.touched&&!this.ngControl.control.dirty?this._invalid=!1:this._invalid=this.ngControl.invalid:this.checkNativeValidity()}checkNativeValidity(){this.disabled||!this._required||this.checked||this.readonly?this._invalid=!1:this._invalid=!0}},t=e;return e.fac=function(t){return new(t||e)(Rd(Jg),Rd(hd),Rd(k_,10))},e.cmp=Yn({type:e,selectors:[["igx-checkbox"]],viewQuery:function(e,t){if(1&e&&(pg(ok,7),pg(ak,7),pg(lk,7)),2&e){let e;gg(e=fg())&&(t.nativeCheckbox=e.first),gg(e=fg())&&(t.nativeLabel=e.first),gg(e=fg())&&(t.placeholderLabel=e.first)}},hostVars:15,hostBindings:function(e,t){1&e&&oh("keyup",(function(e){return t.onKeyUp(e)}))("click",(function(e){return t._onCheckboxClick(e)}))("blur",(function(){return t.onBlur()})),2&e&&(Gc("id",t.id),Ah("igx-checkbox",t.cssClass)("igx-checkbox--focused",t.focused)("igx-checkbox--indeterminate",t.indeterminate)("igx-checkbox--checked",t.checked)("igx-checkbox--disabled",t.disabled)("igx-checkbox--invalid",t.invalid)("igx-checkbox--plain",t.disableTransitions))},inputs:{id:"id",labelId:"labelId",value:"value",name:"name",tabindex:"tabindex",labelPosition:"labelPosition",disableRipple:"disableRipple",required:"required",ariaLabelledBy:["aria-labelledby","ariaLabelledBy"],ariaLabel:["aria-label","ariaLabel"],indeterminate:"indeterminate",checked:"checked",disabled:"disabled",invalid:"invalid",readonly:"readonly",disableTransitions:"disableTransitions"},outputs:{change:"change"},standalone:!0,features:[cu([{provide:LT,useExisting:e,multi:!0}]),yu],ngContentSelectors:dk,decls:11,vars:19,consts:[["type","checkbox",1,"igx-checkbox__input",3,"id","name","value","tabindex","disabled","indeterminate","checked","required","change","blur"],["checkbox",""],["igxRipple","","igxRippleTarget",".igx-checkbox__ripple",1,"igx-checkbox__composite-wrapper",3,"igxRippleDisabled","igxRippleCentered","igxRippleDuration"],[1,"igx-checkbox__composite"],["label",""],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24",1,"igx-checkbox__composite-mark"],["d","M4.1,12.7 9,17.6 20.3,6.3"],[1,"igx-checkbox__ripple"],[3,"id"],["placeholderLabel",""]],template:function(e,t){1&e&&(hh(),Yc(0,"input",0,1),oh("change",(function(e){return t._onCheckboxChange(e)}))("blur",(function(){return t.onBlur()})),Xc(),Yc(2,"div",2)(3,"span",3,4),Qs(),Yc(5,"svg",5),Zc(6,"path",6),Xc()(),Js(),Zc(7,"div",7),Xc(),Yc(8,"span",8,9),uh(10),Xc()),2&e&&(Uc("id",t.inputId)("name",t.name)("value",t.value)("tabindex",t.tabindex)("disabled",t.disabled)("indeterminate",t.indeterminate)("checked",t.checked)("required",t.required),Gc("aria-required",t.required)("aria-invalid",t.invalid)("aria-checked",t.ariaChecked)("aria-labelledby",t.ariaLabel?null:t.ariaLabelledBy)("aria-label",t.ariaLabel),Ed(2),Uc("igxRippleDisabled",t.disableRipple)("igxRippleCentered",!0)("igxRippleDuration",300),Ed(6),kh(t.labelClass),Uc("id",t.labelId))},dependencies:[lA],encapsulation:2}),t})(),pk=class{constructor(e,t,i,n){this.id=e,this.index=t,this.data=i,this.grid=n,this.rowFormGroup=new z_({}),this.rowFormGroup=this.grid.validation.create(e,i)}createEditEventArgs(e=!0,t){let i={rowID:this.id,primaryKey:this.id,rowData:this.data,oldValue:this.data,cancel:!1,owner:this.grid,isAddRow:!1,valid:this.rowFormGroup.valid,event:t};return e&&(i.newValue=this.newData??this.data),i}createDoneEditEventArgs(e,t){let i=this.grid.transactions.enabled?this.grid.transactions.getAggregatedValue(this.id,!0):this.grid.gridAPI.getRowData(this.id),n=i??this.grid.gridAPI.getRowData(this.id);return{rowID:this.id,primaryKey:this.id,rowData:n,oldValue:e,newValue:i,owner:this.grid,isAddRow:!1,valid:!0,event:t}}getClassName(){return this.constructor.name}},mk=class extends pk{constructor(e,t,i,n,r){super(e,t,i,r),this.recordRef=n,this.isAddRow=!0}createEditEventArgs(e=!0,t){let i=super.createEditEventArgs(e,t);return i.oldValue=null,i.isAddRow=!0,i}createDoneEditEventArgs(e,t){let i=super.createDoneEditEventArgs(null,t);return i.isAddRow=!0,i}},fk=class{constructor(e,t,i,n,r,s,o){this.id=e,this.rowIndex=t,this.column=i,this.value=n,this._editValue=r,this.rowData=s,this.grid=o,this.grid.validation.create(e.rowID,s)}get editValue(){let e=this.grid.validation.getFormControl(this.id.rowID,this.column.field);if(e)return e.value}set editValue(e){let t=this.grid.validation.getFormControl(this.id.rowID,this.column.field);"change"===this.grid.validationTrigger?(t.setValue(e),t.markAsTouched()):this.pendingValue=e}castToNumber(e){if("number"===this.column.dataType&&!this.column.inlineEditorTemplate){let t=parseFloat(e);return!isNaN(t)&&isFinite(t)?t:0}return e}createEditEventArgs(e=!0,t){let i=this.grid.validation.getFormControl(this.id.rowID,this.column.field),n={rowID:this.id.rowID,primaryKey:this.id.rowID,cellID:this.id,rowData:this.rowData,oldValue:this.value,cancel:!1,column:this.column,owner:this.grid,valid:!i||i.valid,event:t};return e&&(n.newValue=this.castToNumber(this.editValue)),n}createDoneEditEventArgs(e,t){let i=this.grid.transactions.enabled?this.grid.transactions.getAggregatedValue(this.id.rowID,!0):this.rowData,n=null===i?this.grid.gridAPI.getRowData(this.id.rowID):i,r=this.grid.validation.getFormControl(this.id.rowID,this.column.field);return{rowID:this.id.rowID,primaryKey:this.id.rowID,cellID:this.id,rowData:n,oldValue:this.value,valid:!r||r.valid,newValue:e,column:this.column,owner:this.grid,event:t}}},yk=class{constructor(){this.cell=null,this.row=null,this.isInCompositionMode=!1}createCell(e){return this.cell=new fk(e.cellID||e.id,e.row.index,e.column,e.value,e.value,e.row.data,e.grid)}createRow(e){return this.row=new pk(e.id.rowID,e.rowIndex,e.rowData,e.grid)}sameRow(e){return this.row&&this.row.id===e}sameCell(e){return this.cell.id.rowID===e.id.rowID&&this.cell.id.columnID===e.id.columnID}get cellInEditMode(){return!!this.cell}beginCellEdit(e){let t=this.cell.createEditEventArgs(!1,e);this.grid.cellEditEnter.emit(t),t.cancel&&this.endCellEdit()}cellEdit(e){let t=this.cell.createEditEventArgs(!0,e);return this.grid.cellEdit.emit(t),t}updateCell(e,t){if(!this.cell)return;let i,n=this.grid.validation.getFormControl(this.cell.id.rowID,this.cell.column.field);if("blur"===this.grid.validationTrigger&&void 0!==this.cell.pendingValue&&(n.setValue(this.cell.pendingValue),n.markAsTouched()),"blur"===this.grid.validationTrigger&&this.grid.tbody.nativeElement.focus({preventScroll:!0}),"date"===this.cell.column.dataType&&!GS(this.cell.value)&&zS(EA.parseIsoDate(this.cell.value),this.cell.editValue))return i=this.exitCellEdit(t),i;if(zS(this.cell.value,this.cell.editValue))return i=this.exitCellEdit(t),i;let r=this.cellEdit(t);return r.cancel?r:(this.grid.gridAPI.update_cell(this.cell),i=this.cellEditDone(t,!1),e&&(i=this.exitCellEdit(t)),y(y({},r),i))}cellEditDone(e,t){let i=this.cell.castToNumber(this.cell.editValue),n=this.cell.createDoneEditEventArgs(i,e);return this.grid.cellEditDone.emit(n),t&&(n.rowData=this.row.data),n}exitCellEdit(e){if(!this.cell)return;let t=this.cell.castToNumber(this.cell.editValue),i=this.cell?.createDoneEditEventArgs(t,e);return this.cell.value=t,this.grid.cellEditExit.emit(i),this.endCellEdit(),i}endCellEdit(){this.cell=null}targetInEdit(e,t){return!!this.cell&&this.cell.column.index===t&&this.cell.rowIndex===e}},vk=class extends yk{constructor(){super(...arguments),this.closeRowEditingOverlay=new We,this._rowEditingBlocked=!1,this._rowEditingStarted=!1}get primaryKey(){return this.grid.primaryKey}get rowInEditMode(){let e=this.row;return null!==e?this.grid.rowList.find((t=>t.key===e.id)):null}get rowEditing(){return this.grid.rowEditable}get nonEditable(){return this.grid.rowEditable&&(void 0===this.grid.primaryKey||null===this.grid.primaryKey)}get rowEditingBlocked(){return this._rowEditingBlocked}set rowEditingBlocked(e){this._rowEditingBlocked=e}beginRowEdit(e){if(!this.row||this.row.getClassName()!==pk.name){if(this.row||this.createRow(this.cell),!this._rowEditingStarted){let t=this.row.createEditEventArgs(!1,e);if(this.grid.rowEditEnter.emit(t),t.cancel)return this.endEditMode(),!0;this._rowEditingStarted=!0}this.row.transactionState=this.grid.transactions.getAggregatedValue(this.row.id,!0),this.grid.transactions.startPending(),this.grid.openRowOverlay(this.row.id)}}rowEdit(e){let t=this.row.createEditEventArgs(!0,e);return this.grid.rowEdit.emit(t),t}updateRow(e,t){if(!this.grid.rowEditable||this.grid.rowEditingOverlay&&this.grid.rowEditingOverlay.collapsed||!this.row)return{};let i;return e&&(this.row.newData=this.grid.transactions.getAggregatedValue(this.row.id,!0),this.updateRowEditData(this.row,this.row.newData),i=this.rowEdit(t),i.cancel)||(i=this.endRowTransaction(e,t)),i}endRowTransaction(e,t){this.row.newData=this.grid.transactions.getAggregatedValue(this.row.id,!0);let i,n=this.row.createEditEventArgs(!0,t);if(e)if(this.row.getClassName()===pk.name)n=this.grid.gridAPI.update_row(this.row,this.row.newData,t),i=this.rowEditDone(n.oldValue,t);else{let e=this.row.createEditEventArgs(!0,t);if(this.grid.rowAdd.emit(e),e.cancel)return e;this.grid.transactions.endPending(!1);let n=this.getParentRowId();this.grid.gridAPI.addRowToData(this.row.newData??this.row.data,n),this.grid.triggerPipes(),i=this.rowEditDone(null,t)}else{this.grid.transactions.endPending(!1);let e=this.row&&this.row.getClassName()===mk.name,t=this.row?this.row.id:this.cell.id.rowID;e?this.grid.validation.clear(t):this.grid.validation.update(t,n.oldValue)}return i=this.exitRowEdit(n.oldValue,t),y(y({},i),n)}rowEditDone(e,t){let i=this.row.createDoneEditEventArgs(e,t);return this.grid.rowEditDone.emit(i),i}exitRowEdit(e,t){let i=this.row.createDoneEditEventArgs(e,t);return this.grid.rowEditExit.emit(i),this.grid.closeRowEditingOverlay(),this.endRowEdit(),i}endRowEdit(){this.row=null,this.rowEditingBlocked=!1,this._rowEditingStarted=!1}endEditMode(){this.endCellEdit(),this.grid.rowEditable&&(this.endRowEdit(),this.grid.closeRowEditingOverlay())}updateRowEditData(e,t){let i=this.grid,n=i.gridAPI.crudService.row;if(e.newData=t??n.transactionState,n&&e.id===n.id)e.data=Object.assign((e=>{if(e)return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))})(e.data),e.data,n.transactionState);else if(this.grid.transactions.enabled){let t=i.transactions.getState(e.id);e.data=t?Object.assign({},e.data,t.value):e.data}}getParentRowId(){return null}},xk=class extends vk{constructor(){super(...arguments),this.addRowParent=null}createAddRow(e,t){this.createAddRowParent(e,t);let i=this.grid.getEmptyRecordObjectFor(e),n=this.addRowParent.index+1;return this.row=new mk(i.rowID,n,i.data,i.recordRef,this.grid)}createAddRowParent(e,t){let i=e?e.index:-1,n=e?e.key:i>=0?this.grid.rowList.last.key:null,r=this.grid.isRecordPinnedByViewIndex(i),s=this.grid.pinnedRecords.findIndex((e=>e[this.primaryKey]===n)),o=this.grid.getUnpinnedIndexById(n);this.addRowParent={rowID:n,index:r?s:o,asChild:t,isPinned:r}}endRowTransaction(e,t){let i=this.row&&this.row.getClassName()===mk.name;i&&this.grid.rowAdded.pipe(ci()).subscribe((e=>{let t=e.data,i=this.grid.pinnedRecords.findIndex((e=>e[this.primaryKey]===t[this.primaryKey])),n=-1!==i?i:this._findRecordIndexInView(t),r=this.grid.filteredSortedData.findIndex((e=>e[this.primaryKey]===t[this.primaryKey])),s=-1===n||this.grid.navigation.shouldPerformVerticalScroll(n,0)?r:-1;this.grid.showSnackbarFor(s)}));let n=super.endRowTransaction(e,t);if(n.cancel)return n;if(i&&(this.endAddRow(),e)){let e={data:n.newValue,owner:this.grid,primaryKey:n.newValue[this.grid.primaryKey]};this.grid.rowAddedNotifier.next(e),this.grid.rowAdded.emit(e)}return n}endAddRow(){this.addRowParent=null,this.grid.triggerPipes()}_findRecordIndexInView(e){return this.grid.dataView.findIndex((t=>t[this.primaryKey]===e[this.primaryKey]))}getParentRowId(){return this.addRowParent.asChild?this.addRowParent.asChild?this.addRowParent.rowID:void 0:null!==this.addRowParent.rowID&&void 0!==this.addRowParent.rowID?this.grid.gridAPI.get_rec_by_id(this.addRowParent.rowID)?.parent?.rowID:void 0}},_k=(()=>{let e=class extends xk{enterEditMode(e,t){if(!this.isInCompositionMode){if(this.nonEditable)return void console.warn("The grid must have a `primaryKey` specified when using `rowEditable`!");if(this.cellInEditMode)(!this.endEdit(!0,t)||!this.cell)&&this.grid.tbody.nativeElement.focus();else if(this.rowEditing){if(this.row&&!this.sameRow(e?.cellID?.rowID)){if(this.rowEditingBlocked=this.endEdit(!0,t),this.rowEditingBlocked)return!0;this.rowEditingBlocked=!1,this.endRowEdit()}this.createCell(e),this.beginRowEdit(t)||this.beginCellEdit(t)}else this.createCell(e),this.beginCellEdit(t)}}enterAddRowMode(e,t,i){if(!this.rowEditing&&(void 0===this.grid.primaryKey||null===this.grid.primaryKey))return void console.warn("The grid must use row edit mode to perform row adding! Please set rowEditable to true.");this.endEdit(!0,i),null!=e&&this.grid.expansionStates.get(e.key)&&this.grid.collapseRow(e.key),this.createAddRow(e,t),this.grid.transactions.startPending(),this.addRowParent.isPinned&&this.grid._pinnedRecordIDs.splice(this.row.index,0,this.row.id),this.grid.triggerPipes(),this.grid.notifyChanges(!0),this.grid.navigateTo(this.row.index,-1);let n=this.grid.isRowPinningToTop?this.addRowParent.isPinned?0:this.grid.pinnedRows.length:this.addRowParent.isPinned?this.grid.unpinnedRecords.length:0,r=this.grid.gridAPI.get_row_by_index(this.row.index+n);r.triggerAddAnimation(),r.cdr.detectChanges(),r.addAnimationEnd.pipe(ci()).subscribe((()=>{let e=r.cells.find((e=>e.editable));e&&(this.grid.gridAPI.update_cell(this.cell),this.enterEditMode(e,i),e.activate())}))}endEdit(e=!0,t){if(!this.row&&!this.cell)return;let i;if(e){if(i=this.updateCell(!0,t),i&&i.cancel)return i.cancel}else{let e=this.cell;if(this.exitCellEdit(t),!this.grid.rowEditable&&e){let t=this.grid.transactions.getAggregatedValue(e.id.rowID,!0)||e.rowData;this.grid.validation.update(e.id.rowID,t)}}if(i=this.updateRow(e,t),this.rowEditingBlocked=i.cancel,i.cancel)return!0;let n=this.grid.selectionService.activeElement;if(t&&n){let e=n.row,t=n.layout?n.layout.columnVisibleIndex:n.column;this.grid.navigateTo(e,t)}return!1}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.prov=ji({token:e,factory:e.fac}),t})(),wk=new Dl("IgxGridBaseToken"),Ck=new Dl("IgxGridServiceBaseToken"),Sk=e=>0===e||!!e,bk=e=>e[0],Dk=e=>e[e.length-1],Ek=class{static count(e){return e.length}operate(e=[],t=[],i,n){return[{key:"count",label:"Count",defaultFormatting:!1,summaryResult:Ek.count(e)}]}},Ik=class extends Ek{static min(e){return e.length&&e.filter(Sk).length?e.filter(Sk).reduce(((e,t)=>Math.min(e,t))):0}static max(e){return e.length&&e.filter(Sk).length?e.filter(Sk).reduce(((e,t)=>Math.max(e,t))):0}static sum(e){return e.length&&e.filter(Sk).length?e.filter(Sk).reduce(((e,t)=>+e+ +t)):0}static average(e){return e.length&&e.filter(Sk).length?this.sum(e)/this.count(e):0}operate(e=[],t=[],i,n){let r=super.operate(e,t,i,n);return r.push({key:"min",label:"Min",defaultFormatting:!0,summaryResult:Ik.min(e)}),r.push({key:"max",label:"Max",defaultFormatting:!0,summaryResult:Ik.max(e)}),r.push({key:"sum",label:"Sum",defaultFormatting:!0,summaryResult:Ik.sum(e)}),r.push({key:"average",label:"Avg",defaultFormatting:!0,summaryResult:Ik.average(e)}),r}},Tk=class extends Ek{static latest(e){return e.length&&e.filter(Sk).length?bk(e.filter(Sk).sort(((e,t)=>new Date(t).valueOf()-new Date(e).valueOf()))):void 0}static earliest(e){return e.length&&e.filter(Sk).length?Dk(e.filter(Sk).sort(((e,t)=>new Date(t).valueOf()-new Date(e).valueOf()))):void 0}operate(e=[],t=[],i,n){let r=super.operate(e,t,i,n);return r.push({key:"earliest",label:"Earliest",defaultFormatting:!0,summaryResult:Tk.earliest(e)}),r.push({key:"latest",label:"Latest",defaultFormatting:!0,summaryResult:Tk.latest(e)}),r}},Ak=class extends Ek{static latestTime(e){return e.length&&e.filter(Sk).length?bk(e.filter(Sk).map((e=>new Date(e))).sort(((e,t)=>(new Date).setHours(t.getHours(),t.getMinutes(),t.getSeconds())-(new Date).setHours(e.getHours(),e.getMinutes(),e.getSeconds())))):void 0}static earliestTime(e){return e.length&&e.filter(Sk).length?Dk(e.filter(Sk).map((e=>new Date(e))).sort(((e,t)=>(new Date).setHours(t.getHours(),t.getMinutes(),t.getSeconds())-(new Date).setHours(e.getHours(),e.getMinutes(),e.getSeconds())))):void 0}operate(e=[],t=[],i,n){let r=super.operate(e,t,i,n);return r.push({key:"earliest",label:"Earliest",defaultFormatting:!0,summaryResult:Ak.earliestTime(e)}),r.push({key:"latest",label:"Latest",defaultFormatting:!0,summaryResult:Ak.latestTime(e)}),r}},kk=class{static set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}static get resourceStrings(){return this._resourceStrings}static aggregators(){return[{key:"COUNT",label:this.resourceStrings.igx_grid_pivot_aggregate_count,aggregator:kk.count}]}static count(e){return e.length}},Rk=kk;kk._resourceStrings=fI.GridResStrings;var Ok=class extends Rk{static aggregators(){let e=[];return e=e.concat(super.aggregators()),e.push({key:"MIN",label:this.resourceStrings.igx_grid_pivot_aggregate_min,aggregator:Ok.min}),e.push({key:"MAX",label:this.resourceStrings.igx_grid_pivot_aggregate_max,aggregator:Ok.max}),e.push({key:"SUM",label:this.resourceStrings.igx_grid_pivot_aggregate_sum,aggregator:Ok.sum}),e.push({key:"AVG",label:this.resourceStrings.igx_grid_pivot_aggregate_avg,aggregator:Ok.average}),e}static min(e){return Ik.min(e)}static max(e){return Ik.max(e)}static sum(e){return Ik.sum(e)}static average(e){return Ik.average(e)}},Fk=class extends Rk{static aggregators(){let e=[];return e=e.concat(super.aggregators()),e.push({key:"LATEST",label:this.resourceStrings.igx_grid_pivot_aggregate_date_latest,aggregator:Fk.latest}),e.push({key:"EARLIEST",label:this.resourceStrings.igx_grid_pivot_aggregate_date_earliest,aggregator:Fk.earliest}),e}static latest(e){return Tk.latest(e)}static earliest(e){return Tk.earliest(e)}},Pk=class extends Rk{static aggregators(){let e=[];return e=e.concat(super.aggregators()),e.push({key:"LATEST",label:this.resourceStrings.igx_grid_pivot_aggregate_time_latest,aggregator:Pk.latestTime}),e.push({key:"EARLIEST",label:this.resourceStrings.igx_grid_pivot_aggregate_time_earliest,aggregator:Pk.earliestTime}),e}static latestTime(e){return Ak.latestTime(e)}static earliestTime(e){return Ak.earliestTime(e)}},Mk={aggregations:"aggregations",records:"records",children:"children",level:"level",rowDimensionSeparator:"_",columnDimensionSeparator:"-"},Vk=((Vk=Vk||{})[Vk.Row=0]="Row",Vk[Vk.Column=1]="Column",Vk[Vk.Filter=2]="Filter",Vk),Nk=class{static processGroups(e,t,i,n){for(let r of e){r.children&&r.children.size>0&&r.children.forEach((e=>{this.processGroups(e,t,i,n)}));let e=Nk.getFieldsHierarchy(r.records,[t],Vk.Row,i,n),s=Nk.processHierarchy(e,i,0);r.children.set(t.memberName,s)}}static flattenGroups(e,t,i,n,r,s){for(let o=0;o<e.length;o++){let a=e[o],l=t.memberName;if(!l)continue;let d=a.children.get(l);!d&&r&&(d=a.children.get(r.memberName),d&&(t=r)),s&&s.dimensionValues.forEach(((e,t)=>{if(r.memberName!==t){a.dimensionValues.set(t,e);let i=s.dimensions.find((e=>e.memberName===t));a.dimensions.unshift(i)}}));let c=Nk.getRecordKey(a,t);((void 0===i.get(c)?n:i.get(c))||!t.childLevel||!a.dimensionValues.get(t.memberName))&&d&&(t.childLevel?this.flattenGroups(d,t.childLevel,i,n,t,a):d.forEach((e=>{a.dimensionValues.forEach(((i,n)=>{if(t.memberName!==n){e.dimensionValues.set(n,i);let t=a.dimensions.find((e=>e.memberName===n));e.dimensions.unshift(t)}}))})),e.splice(o+1,0,...d),o+=d.length)}}static assignLevels(e){for(let t of e){let e=t,i=0;for(;e.childLevel;)e.level=i,e=e.childLevel,i++;e.level=i}}static getFieldsHierarchy(e,t,i,n,r){let s=new Map;for(let o of e){let e=i===Vk.Column?this.extractValuesForColumn(t,o,n):this.extractValuesForRow(t,o,n,r);for(let[t,i]of e)null!=s.get(i.value)||s.set(i.value,r.clone(i)),this.applyHierarchyChildren(s,i,o,n)}return s}static sort(e,t,i=new wb){return e.forEach((e=>{let n=e.children;n&&n.forEach((e=>{this.sort(e,t,i)}))})),Ib.sort(e,t,i)}static extractValueFromDimension(e,t){return e.memberFunction?e.memberFunction.call(null,t):t[e.memberName]}static getDimensionDepth(e){let t=0;for(;e.childLevel;)t++,e=e.childLevel;return t}static extractValuesForRow(e,t,i,n){let r=new Map;for(let s of e){if(t[i.level]&&t[i.level]>0){let e=t[i.records];return this.getFieldsHierarchy(e,[s],Vk.Row,i,n)}let e=this.extractValueFromDimension(s,t),o={};if(o.value=e,o.dimension=s,s.childLevel){let e=this.extractValuesForRow([s.childLevel],t,i,n);o[i.children]=e}r.set(e,o)}return r}static extractValuesForColumn(e,t,i,n=[]){let r=new Map,s=r,o=this.flatten(e);for(let e of o){let r=this.extractValueFromDimension(e,t);n.push(r);let o=n.join(i.columnDimensionSeparator),a={value:o,expandable:e.expandable,children:null,dimension:e};a.children||(a.children=new Map),s.set(o,a),s=a.children}return r}static flatten(e,t=0){return e.reduce(((e,i)=>(i.level=t,e.push(i),i.childLevel&&(i.expandable=!0,e=e.concat(this.flatten([i.childLevel],t+1))),e)),[])}static applyAggregations(e,t,i,n){if(0!==t.size)t.forEach((t=>{let r=t[n.children];if(r&&r.size>0){this.applyAggregations(e,r,i,n);let s=this.collectRecords(r,n);t[n.aggregations]=this.aggregate(s,i),this.applyAggregationRecordData(t[n.aggregations],t.value,e,n)}else t[n.records]&&(t[n.aggregations]=this.aggregate(t[n.records],i),this.applyAggregationRecordData(t[n.aggregations],t.value,e,n))}));else{let t=this.aggregate(e.records,i);this.applyAggregationRecordData(t,void 0,e,n)}}static applyAggregationRecordData(e,t,i,n){let r=Object.keys(e);if(r.length>1)r.forEach((r=>{let s=t?t+n.columnDimensionSeparator+r:r;i.aggregationValues.set(s,e[r])}));else if(1===r.length){let n=r[0];i.aggregationValues.set(t||n,e[n])}}static aggregate(e,t){let i={};for(let n of t){let t=Nk.getAggregatorForType(n.aggregate,n.dataType);if(!t)throw fI.GridResStrings.igx_grid_pivot_no_aggregator.replace("{0}",n.member);i[n.member]=t(e.map((e=>e[n.member])),e)}return i}static getAggregatorForType(e,t){let i=e.aggregator;if(e.aggregatorName){let n=Ok.aggregators();t&&"date"!==t&&"dateTime"!==t?"time"===t&&(n=n.concat(Pk.aggregators())):n=n.concat(Fk.aggregators()),i=n.find((t=>t.key.toLocaleLowerCase()===e.aggregatorName.toLocaleLowerCase()))?.aggregator}return i}static processHierarchy(e,t,i=0,n=!1){let r=[];return e.forEach(((e,s)=>{let o=e.dimension.memberName,a={dimensionValues:new Map,aggregationValues:new Map,children:new Map,dimensions:[e.dimension]};if(a.dimensionValues.set(o,s),e[t.records]&&(a.records=this.getDirectLeafs(e[t.records])),a.level=i,r.push(a),e[t.children]&&e[t.children].size>0){let r=this.processHierarchy(e[t.children],t,i+1,n);a.records=this.getDirectLeafs(r),a.children.set(o,r)}})),r}static getDirectLeafs(e){let t=[];for(let i of e)if(i.records){let e=i.records.filter((e=>!e.records&&-1===t.indexOf(e)));t=t.concat(e)}else t.push(i);return t}static getRecordKey(e,t){let i=[],n=e.dimensions.findIndex((e=>e.memberName===t.memberName))+1,r=e.dimensions.slice(0,n);for(let t of r){let n=e.dimensionValues.get(t.memberName);i.push(n)}return i.join("-")}static buildExpressionTree(e){let t=(e?.rows||[]).concat(e?.columns||[]).concat(e?.filters||[]).filter((e=>null!=e)).filter((e=>e&&e.enabled)),i=new kb(Rb.And);return Nk.flatten(t).forEach((e=>{e.filter&&e.filter.filteringOperands&&i.filteringOperands.push(...e.filter.filteringOperands)})),i}static collectRecords(e,t){let i=[];return e.forEach((e=>i=i.concat(e[t.records]))),i}static applyHierarchyChildren(e,t,i,n){let r=n.records,s=n.children,o=t[s],a=e.get(t.value);if(Array.isArray(a[s])&&(a[s]=new Map),o&&0!==o.size){let e=a[s];for(let[t,a]of o){let t=e.get(a.value);if(t||(e.set(a.value,a),t=a),t[r]){let e=Object.assign({},i);if(i[r]){let n=t.value,s=t.dimension,o=i[r].filter((e=>this.extractValueFromDimension(s,e)===n));e[r]=o}t[r].push(e)}else t[r]=[i];a[s]&&a[s].size>0&&this.applyHierarchyChildren(e,a,i,n)}}else{let e=a.dimension;this.extractValueFromDimension(e,i)===t.value&&(a[r]?a[r].push(i):a[r]=[i])}}static getAggregateList(e,t){if(!e.aggregateList){let i=this.getAggregatorsForValue(e,t),n=i.find((t=>t.key===e.aggregate.key));n||void 0===t.data[0][e.member]?n||(i=[e.aggregate]):i.unshift(e.aggregate),e.aggregateList=i}return e.aggregateList}static getAggregatorsForValue(e,t){switch(e.dataType||t.resolveDataTypes(t.data[0][e.member])){case Eb.Number:case Eb.Currency:return Ok.aggregators();case Eb.Date:case Eb.DateTime:return Fk.aggregators();case Eb.Time:return Pk.aggregators();default:return Rk.aggregators()}}},Lk=(()=>{let e=class{get ranges(){this.addKeyboardRange();let e=Array.from(this._ranges).map((e=>JSON.parse(e)));return!e.length&&this.activeElement&&this.grid.isCellSelectable&&e.push(this.generateRange(this.activeElement)),e}get primaryButton(){return this.pointerState.primaryButton}set primaryButton(e){this.pointerState.primaryButton=e}constructor(e,t){this.zone=e,this.platform=t,this.dragMode=!1,this.keyboardState={},this.pointerState={},this.columnsState={},this.selection=new Map,this.temp=new Map,this.rowSelection=new Set,this.indeterminateRows=new Set,this.columnSelection=new Set,this.selectedRowsChange=new We,this.pointerEventInGridBody=!1,this._ranges=new Set,this.pointerOriginHandler=e=>{this.pointerEventInGridBody=!1,document.body.removeEventListener("pointerup",this.pointerOriginHandler);let t=e.target.tagName.toLowerCase();"igx-grid-cell"!==t&&"igx-tree-grid-cell"!==t&&this.pointerUp(this._lastSelectedNode,this.grid.rangeSelected,!0)},this.initPointerState(),this.initKeyboardState(),this.initColumnsState()}initKeyboardState(){this.keyboardState.node=null,this.keyboardState.shift=!1,this.keyboardState.range=null,this.keyboardState.active=!1}initPointerState(){this.pointerState.node=null,this.pointerState.ctrl=!1,this.pointerState.shift=!1,this.pointerState.range=null,this.pointerState.primaryButton=!0}initColumnsState(){this.columnsState.field=null,this.columnsState.range=[]}add(e,t=!0){this.selection.has(e.row)?this.selection.get(e.row).add(e.column):this.selection.set(e.row,new Set).get(e.row).add(e.column),t&&this._ranges.add(JSON.stringify(this.generateRange(e)))}addKeyboardRange(){this.keyboardState.range&&this._ranges.add(JSON.stringify(this.keyboardState.range))}remove(e){this.selection.has(e.row)&&this.selection.get(e.row).delete(e.column),this.isActiveNode(e)&&(this.activeElement=null),this._ranges.delete(JSON.stringify(this.generateRange(e)))}isInMap(e){return this.selection.has(e.row)&&this.selection.get(e.row).has(e.column)||this.temp.has(e.row)&&this.temp.get(e.row).has(e.column)}selected(e){return this.isActiveNode(e)&&this.grid.isCellSelectable||this.isInMap(e)}isActiveNode(e){if(this.activeElement){let t=this.activeElement.column===e.column&&this.activeElement.row===e.row;if(this.grid.hasColumnLayouts){let i=this.activeElement.layout;return t&&this.isActiveLayout(i,e.layout)}return t}return!1}isActiveLayout(e,t){return e.columnVisibleIndex===t.columnVisibleIndex}addRangeMeta(e,t){this._ranges.add(JSON.stringify(this.generateRange(e,t)))}removeRangeMeta(e,t){this._ranges.delete(JSON.stringify(this.generateRange(e,t)))}generateRange(e,t){if(this._lastSelectedNode=e,!t)return{rowStart:e.row,rowEnd:e.row,columnStart:e.column,columnEnd:e.column};let{row:i,column:n}=t.node;return{rowStart:Math.min(e.row,i),rowEnd:Math.max(e.row,i),columnStart:Math.min(e.column,n),columnEnd:Math.max(e.column,n)}}keyboardStateOnKeydown(e,t,i){this.keyboardState.active=!0,this.initPointerState(),this.keyboardState.shift=t&&!i,this.grid.navigation.isDataRow(e.row)&&this.keyboardState.shift&&!this.keyboardState.node&&(this.clear(),this.keyboardState.node=Object.assign({},e))}keyboardStateOnFocus(e,t,i){let n=this.keyboardState;if(n.active){if(this.platform.isChromium&&this._moveSelectionChrome(i),n.shift)return this.dragSelect(e,n),n.range=this.generateRange(e,n),void t.emit(this.generateRange(e,n));this.initKeyboardState(),this.clear(),this.add(e)}}pointerDown(e,t,i){if(this.addKeyboardRange(),this.initKeyboardState(),this.pointerState.ctrl=i,this.pointerState.shift=t,this.pointerEventInGridBody=!0,document.body.addEventListener("pointerup",this.pointerOriginHandler),i||this.clear(),t)return this.pointerState.node||(this.pointerState.node=this.activeElement||e),this.pointerDownShiftKey(e),void this.clearTextSelection();this.removeRangeMeta(e),this.pointerState.node=e}pointerDownShiftKey(e){this.clear(),this.selectRange(e,this.pointerState)}mergeMap(e,t){let i,n,r=t.entries(),s=r.next();for(;!s.done;){if([i,n]=s.value,e.has(i)){let t=e.get(i);n.forEach((e=>t.add(e))),e.set(i,t)}else e.set(i,n);s=r.next()}}pointerEnter(e,t){return this.dragMode=1===t.buttons&&(-1===t.button||0===t.button)&&this.pointerEventInGridBody,!!this.dragMode&&(this.clearTextSelection(),this.pointerState.node||(this.pointerState.node=e),this.pointerState.ctrl?this.selectRange(e,this.pointerState,this.temp):this.dragSelect(e,this.pointerState),!0)}pointerUp(e,t,i){return this.dragMode||i?(this.restoreTextSelection(),this.addRangeMeta(e,this.pointerState),this.mergeMap(this.selection,this.temp),this.zone.runTask((()=>t.emit(this.generateRange(e,this.pointerState)))),this.temp.clear(),this.dragMode=!1,!0):this.pointerState.shift?(this.clearTextSelection(),this.restoreTextSelection(),this.addRangeMeta(e,this.pointerState),t.emit(this.generateRange(e,this.pointerState)),!0):(this.pointerEventInGridBody&&this.isActiveNode(e)&&this.add(e),!1)}selectRange(e,t,i=this.selection){i===this.temp&&i.clear();let{rowStart:n,rowEnd:r,columnStart:s,columnEnd:o}=this.generateRange(e,t);for(let e=n;e<=r;e++)for(let t=s;t<=o;t++)i.has(e)?i.get(e).add(t):i.set(e,new Set).get(e).add(t)}dragSelect(e,t){this.pointerState.ctrl||this.selection.clear(),this.selectRange(e,t)}clear(e=!1){e&&(this.activeElement=null),this.selection.clear(),this.temp.clear(),this._ranges.clear()}clearTextSelection(){let e=window.getSelection();e.rangeCount&&(this._selectionRange=e.getRangeAt(0),this._selectionRange.collapse(!0),e.removeAllRanges())}restoreTextSelection(){let e=window.getSelection();e.rangeCount||e.addRange(this._selectionRange||document.createRange())}getSelectedRowsData(){if(this.grid.isPivot)return this.grid.dataView.filter((e=>e.dimensions.map((t=>Nk.getRecordKey(e,t))).some((e=>this.isPivotRowSelected(e)))));if(this.rowSelection.size&&this.grid.totalItemCount||this.grid.pagingMode===Zb.Remote){if(!this.grid.primaryKey)return Array.from(this.rowSelection);let e=[];return this.rowSelection.forEach((t=>{let i=this.grid.gridAPI.get_all_data(!0).find((e=>this.getRecordKey(e)===t)),n={};n[this.grid.primaryKey]=t,e.push(i||n)})),e}return this.rowSelection.size?this.grid.gridAPI.get_all_data(!0).filter((e=>this.rowSelection.has(this.getRecordKey(e)))):[]}getSelectedRows(){return this.rowSelection.size?Array.from(this.rowSelection.keys()):[]}getIndeterminateRows(){return this.indeterminateRows.size?Array.from(this.indeterminateRows.keys()):[]}clearRowSelection(e){let t=this.getSelectedRowsData(),i=this.isFilteringApplied()?this.allData.filter((e=>this.isRowSelected(this.getRecordKey(e)))):t,n=this.isFilteringApplied()?t.filter((e=>!i.includes(e))):[];this.emitRowSelectionEvent(n,[],i,e,t)}selectAllRows(e){let t=this.allData.filter((e=>!this.isRowSelected(this.getRecordKey(e)))),i=this.getSelectedRowsData(),n=this.rowSelection.size?i.concat(t):t;this.indeterminateRows.clear(),this.emitRowSelectionEvent(n,t,[],e,i)}selectRowById(e,t,i){if(!this.grid.isRowSelectable&&!this.grid.isPivot||this.isRowDeleted(e))return;if(t=!this.grid.isMultiRowSelectionEnabled||t,this.grid.isPivot)return void this.selectPivotRowById(e,t,i);let n=this.getSelectedRowsData(),r=t?[this.getRowDataById(e)]:this.rowSelection.has(e)?n:[...n,this.getRowDataById(e)],s=t?n:[];this.emitRowSelectionEvent(r,[this.getRowDataById(e)],s,i,n)}selectPivotRowById(e,t,i){let n=this.getSelectedRows(),r=t?[e]:this.rowSelection.has(e)?n:[...n,e],s=this.getPivotRowsByIds([e]),o=this.getPivotRowsByIds(t?n:[]);this.emitRowSelectionEventPivotGrid(n,r,s,o,i)}deselectRow(e,t){if(!this.isRowSelected(e))return;if(this.grid.isPivot)return void this.deselectPivotRowByID(e,t);let i=this.getSelectedRowsData(),n=i.filter((t=>this.getRecordKey(t)!==e));this.rowSelection.size&&this.rowSelection.has(e)&&this.emitRowSelectionEvent(n,[],[this.getRowDataById(e)],t,i)}deselectPivotRowByID(e,t){if(this.rowSelection.size&&this.rowSelection.has(e)){let i=this.getSelectedRows(),n=i.filter((t=>t!==e)),r=this.getPivotRowsByIds([e]);this.emitRowSelectionEventPivotGrid(i,n,[],r,t)}}emitRowSelectionEventPivotGrid(e,t,i,n,r){if(this.areEqualCollections(e,t))return;let s=this.getSelectedRowsData(),o={owner:this.grid,oldSelection:s,newSelection:this.getPivotRowsByIds(t),added:i,removed:n,event:r,cancel:!1,allRowsSelected:this.areAllRowSelected(t)};this.grid.rowSelectionChanging.emit(o),o.cancel?this.clearHeaderCBState():this.selectRowsWithNoEvent(t,!0)}selectRows(e,t,i){if(!this.grid.isMultiRowSelectionEnabled)return;let n=e.filter((e=>!this.isRowDeleted(e)&&!this.rowSelection.has(e)));if(!n.length&&!t)return;let r=this.getSelectedRowsData();n=this.grid.primaryKey?n.map((e=>this.getRowDataById(e))):n;let s=t?n:[...r,...n],o=new Set(n),a=t?r.filter((e=>!o.has(e))):[];this.emitRowSelectionEvent(s,n,a,i,r)}deselectRows(e,t){if(!this.rowSelection.size)return;let i=e.filter((e=>this.rowSelection.has(e)));if(!i.length)return;let n=this.getSelectedRowsData();i=this.grid.primaryKey?i.map((e=>this.getRowDataById(e))):i;let r=new Set(i),s=n.filter((e=>!r.has(e)));this.emitRowSelectionEvent(s,[],i,t,n)}selectRowsWithNoEvent(e,t){t&&this.rowSelection.clear(),e.forEach((e=>this.rowSelection.add(e))),this.clearHeaderCBState(),this.selectedRowsChange.next()}deselectRowsWithNoEvent(e){this.clearHeaderCBState(),e.forEach((e=>this.rowSelection.delete(e))),this.selectedRowsChange.next()}isRowSelected(e){return this.rowSelection.size>0&&this.rowSelection.has(e)}isPivotRowSelected(e){let t=!1;return this.rowSelection.forEach((i=>{let n=e.replace(i,"");!e.includes(i)||""!==n&&!n.startsWith("_")||(t=!0)})),this.rowSelection.size>0&&t}isRowInIndeterminateState(e){return this.indeterminateRows.size>0&&this.indeterminateRows.has(e)}selectMultipleRows(e,t,i){if(this.clearHeaderCBState(),!this.rowSelection.size||this.isRowDeleted(e))return void this.selectRowById(e);let n=this.allData,r=this.getSelectedRows()[this.rowSelection.size-1],s=n.indexOf(this.getRowDataById(r)),o=n.indexOf(t),a=n.slice(Math.min(s,o),Math.max(s,o)+1),l=this.getSelectedRowsData(),d=a.filter((e=>!this.isRowSelected(this.getRecordKey(e)))),c=l.concat(d);this.emitRowSelectionEvent(c,d,[],i,l)}areAllRowSelected(e){if(!this.grid.data&&!e)return!1;if(void 0!==this.allRowsSelected&&!e)return this.allRowsSelected;let t=e||[...this.rowSelection],i=this.getRowIDs(this.allData).filter((e=>!t.includes(e)));return this.allRowsSelected=this.allData.length>0&&0===i.length}hasSomeRowSelected(){let e=!this.isFilteringApplied()||this.getRowIDs(this.grid.filteredData).some((e=>this.isRowSelected(e)));return this.rowSelection.size>0&&e&&!this.areAllRowSelected()}get filteredSelectedRowIds(){return this.isFilteringApplied()?this.getRowIDs(this.allData).filter((e=>this.isRowSelected(e))):this.getSelectedRows().filter((e=>!this.isRowDeleted(e)))}emitRowSelectionEvent(e,t,i,n,r){if(r=r??this.getSelectedRowsData(),this.areEqualCollections(r,e))return;let s={owner:this.grid,oldSelection:r,newSelection:e,added:t,removed:i,event:n,cancel:!1,allRowsSelected:this.areAllRowSelected(e.map((e=>this.getRecordKey(e))))};this.grid.rowSelectionChanging.emit(s),s.cancel?this.clearHeaderCBState():this.selectRowsWithNoEvent(s.newSelection.map((e=>this.getRecordKey(e))),!0)}getPivotRowsByIds(e){return this.grid.dataView.filter((t=>{let i=t.dimensions.map((e=>Nk.getRecordKey(t,e)));return new Set(e.concat(i)).size<e.length+i.length}))}getRowDataById(e){if(!this.grid.primaryKey)return e;let t=this.getRowIDs(this.grid.gridAPI.get_all_data(!0)).indexOf(e);return t<0?e:this.grid.gridAPI.get_all_data(!0)[t]}clearHeaderCBState(){this.allRowsSelected=void 0}getRowIDs(e){return this.grid.primaryKey&&e.length?e.map((e=>e[this.grid.primaryKey])):e}getRecordKey(e){return this.grid.primaryKey?e[this.grid.primaryKey]:e}clearAllSelectedRows(){this.rowSelection.clear(),this.indeterminateRows.clear(),this.clearHeaderCBState(),this.selectedRowsChange.next()}get allData(){let e;return e=this.isFilteringApplied()||this.grid.sortingExpressions.length?this.grid.pinnedRecordsCount?this.grid._filteredSortedUnpinnedData:this.grid.filteredSortedData:this.grid.gridAPI.get_all_data(!0),e.filter((e=>!this.isRowDeleted(this.grid.gridAPI.get_row_id(e))))}getSelectedColumns(){return this.columnSelection.size?Array.from(this.columnSelection.keys()):[]}isColumnSelected(e){return this.columnSelection.size>0&&this.columnSelection.has(e)}selectColumn(e,t,i,n){let r=this.columnsState.field?this.grid.getColumnByName(this.columnsState.field):null;if(!n||!r||r.visibleIndex<0||!i){this.columnsState.field=e,this.columnsState.range=[];let i=t?[e]:-1!==this.getSelectedColumns().indexOf(e)?this.getSelectedColumns():[...this.getSelectedColumns(),e],r=t?this.getSelectedColumns().filter((t=>t!==e)):[],s=this.isColumnSelected(e)?[]:[e];this.emitColumnSelectionEvent(i,s,r,n)}else i&&this.selectColumnsRange(e,n)}selectColumns(e,t,i,n){let r=e.map((e=>this.grid.getColumnByName(e))).sort(((e,t)=>e.visibleIndex-t.visibleIndex)),s=this.columnsState.field?this.grid.getColumnByName(this.columnsState.field):null;if(!s||s.visibleIndex<0||!i){this.columnsState.field=r[0]?r[0].field:null,this.columnsState.range=[];let i=e.filter((e=>!this.isColumnSelected(e))),s=t?this.getSelectedColumns().filter((t=>-1===e.indexOf(t))):[],o=t?e:this.getSelectedColumns().concat(i);this.emitColumnSelectionEvent(o,i,s,n)}else{let e=s.visibleIndex>r[r.length-1].visibleIndex?r[0].field:r[r.length-1].field;this.selectColumnsRange(e,n)}}selectColumnsRange(e,t){let i=this.grid.getColumnByName(this.columnsState.field).visibleIndex,n=this.grid.columnToVisibleIndex(e),r=this.grid.visibleColumns.filter((e=>!e.columnGroup)).sort(((e,t)=>e.visibleIndex-t.visibleIndex)).slice(Math.min(i,n),Math.max(i,n)+1).filter((e=>e.selectable)).map((e=>e.field)),s=[],o=[],a=r.filter((e=>!this.isColumnSelected(e)));this.columnsState.range.forEach((e=>{-1===r.indexOf(e)?s.push(e):o.push(e)})),this.columnsState.range=r.filter((e=>!this.isColumnSelected(e)||o.indexOf(e)>-1));let l=this.getSelectedColumns().concat(a).filter((e=>-1===s.indexOf(e)));this.emitColumnSelectionEvent(l,a,s,t)}selectColumnsWithNoEvent(e,t){t&&this.columnSelection.clear(),e.forEach((e=>{this.columnSelection.add(e)}))}deselectColumn(e,t){this.initColumnsState();let i=this.getSelectedColumns().filter((t=>t!==e));this.emitColumnSelectionEvent(i,[],[e],t)}deselectColumnsWithNoEvent(e){e.forEach((e=>this.columnSelection.delete(e)))}deselectColumns(e,t){let i=this.getSelectedColumns().filter((t=>e.indexOf(t)>-1)),n=this.getSelectedColumns().filter((t=>-1===e.indexOf(t)));this.emitColumnSelectionEvent(n,[],i,t)}emitColumnSelectionEvent(e,t,i,n){let r=this.getSelectedColumns();if(this.areEqualCollections(r,e))return;let s={oldSelection:r,newSelection:e,added:t,removed:i,event:n,cancel:!1};this.grid.columnSelectionChanging.emit(s),!s.cancel&&this.selectColumnsWithNoEvent(s.newSelection,!0)}clearAllSelectedColumns(){this.columnSelection.clear()}areEqualCollections(e,t){return e.length===t.length&&new Set(e.concat(t)).size===e.length}_moveSelectionChrome(e){let t=window.getSelection();t.removeAllRanges();let i=new Range;i.selectNode(e),i.collapse(!0),t.addRange(i)}isFilteringApplied(){return!kb.empty(this.grid.filteringExpressionsTree)||!kb.empty(this.grid.advancedFilteringExpressionsTree)}isRowDeleted(e){return this.grid.gridAPI.row_deleted_transaction(e)}},t=e;return e.fac=function(t){return new(t||e)(pn(Ig),pn($S))},e.prov=ji({token:e,factory:e.fac}),t})(),Hk=["igxDirRef"],Bk=["cell"],Gk=(()=>{let e=class{get data(){return this.inEditMode?AS(this.grid.dataCloneStrategy.clone(this._data),this.grid.transactions.getAggregatedValue(this.key,!1),((e,t)=>{if(Array.isArray(t))return t})):this._data}set data(e){this._data=e}set pinned(e){e?this.grid.pinRow(this.key):this.grid.unpinRow(this.key)}get pinned(){return this.grid.isRecordPinned(this.data)}get expanded(){return this.grid.gridAPI.get_row_expansion_state(this.data)}set expanded(e){this.grid.gridAPI.set_row_expansion_state(this.key,e)}get addRowUI(){return!!this.grid.crudService.row&&this.grid.crudService.row.getClassName()===mk.name&&this.grid.crudService.row.id===this.key}get rowHeight(){let e=this.grid.rowHeight||32;return this.grid.hasColumnLayouts&&(e*=this.grid.multiRowLayoutRowSize),this.addRowUI?e:null}get cellHeight(){return this.addRowUI&&!this.inEditMode?null:this.grid.rowHeight||32}get virtDirRow(){return this._virtDirRow?this._virtDirRow.first:null}get cells(){let e=new Wu;if(!this._cells)return e;let t=this._cells.filter((e=>null!==e.nativeElement.parentElement)).sort(((e,t)=>e.column.visibleIndex-t.column.visibleIndex));return e.reset(t),e}get dataRowIndex(){return this.index}get selected(){return this.selectionService.isRowSelected(this.key)}set selected(e){e?this.selectionService.selectRowsWithNoEvent([this.key]):this.selectionService.deselectRowsWithNoEvent([this.key]),this.grid.cdr.markForCheck()}get columns(){return this.grid.visibleColumns}get viewIndex(){return this.grid.groupingExpressions.length?this.grid.filteredSortedData.indexOf(this.data):this.index+this.grid.page*this.grid.perPage}get pinnedColumns(){return this.grid.pinnedColumns}get isRoot(){return!0}get hasChildren(){return!1}get unpinnedColumns(){return this.grid.unpinnedColumns}get showRowSelectors(){return this.grid.showRowSelectors}get dirty(){let e=this.grid.transactions.getState(this.key);return!!e&&(e.type===hb.ADD||e.type===hb.UPDATE)}get rowDraggable(){return this.grid.rowDraggable}get added(){let e=this.grid.transactions.getState(this.key);return!!e&&e.type===hb.ADD}get deleted(){return this.grid.gridAPI.row_deleted_transaction(this.key)}get dragging(){return this.grid.dragRowID===this.key}get inEditMode(){if(this.grid.rowEditable){let e=this.grid.crudService.row;return e&&e.id===this.key||!1}return!1}get key(){let e=this.grid.primaryKey;if(this._data)return e?this._data[e]:this._data}get nativeElement(){return this.element.nativeElement}constructor(e,t,i,n){this.grid=e,this.selectionService=t,this.element=i,this.cdr=n,this.addAnimationEnd=new zu,this.role="row",this.disabled=!1,this.focused=!1,this.defaultCssClass="igx-grid__tr",this.triggerAddAnimationClass=!1,this.destroy$=new We}onClick(e){if("none"===this.grid.rowSelection||this.deleted||!this.grid.selectRowOnClick)return;if(e.shiftKey&&this.grid.isMultiRowSelectionEnabled)return void this.selectionService.selectMultipleRows(this.key,this.data,e);let t=!(+e.ctrlKey^+e.metaKey);this.selected&&!t?this.selectionService.deselectRow(this.key,e):this.selectionService.selectRowById(this.key,t,e)}showActionStrip(){this.grid.actionStrip&&this.grid.actionStrip.show(this)}hideActionStrip(){this.grid.actionStrip&&this.grid.actionStrip.hideOnRowLeave&&this.grid.actionStrip.hide()}ngAfterViewInit(){this._virtDirRow.changes.pipe(yi(this.destroy$)).subscribe((()=>this.grid.resetHorizontalVirtualization()))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onRowSelectorClick(e){e.stopPropagation(),e.shiftKey&&this.grid.isMultiRowSelectionEnabled?this.selectionService.selectMultipleRows(this.key,this.data,e):this.selected?this.selectionService.deselectRow(this.key,e):this.selectionService.selectRowById(this.key,!1,e)}update(e){let t=this.grid.crudService;t.cellInEditMode&&t.cell.id.key===this.key&&this.grid.transactions.endPending(!1);let i=new pk(this.key,this.index,this.data,this.grid);this.grid.gridAPI.update_row(i,e),this.cdr.markForCheck()}delete(){this.grid.deleteRowById(this.key)}isCellActive(e){let t=this.grid.navigation.activeNode;return!!t&&t.row===this.index&&t.column===e}pin(){return this.grid.pinRow(this.key)}unpin(){return this.grid.unpinRow(this.key)}get rowCheckboxAriaLabel(){return this.grid.primaryKey?this.selected?"Deselect row with key "+this.key:"Select row with key "+this.key:this.selected?"Deselect row":"Select row"}ngDoCheck(){this.cdr.markForCheck()}shouldDisplayPinnedChip(e){return this.pinned&&this.disabled&&0===e}beginAddRow(){this.grid.crudService.enterAddRowMode(this)}triggerAddAnimation(){this.triggerAddAnimationClass=!0}animationEndHandler(){this.triggerAddAnimationClass=!1,this.addAnimationEnd.emit(this)}get resolveDragIndicatorClasses(){return"igx-grid__drag-indicator "+(this.grid.rowDragging&&!this.dragging?"igx-grid__drag-indicator--off":"")}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk),Rd(Lk),Rd(ld),Rd(Jg))},e.dir=er({type:e,selectors:[["","igxRowBaseComponent",""]],viewQuery:function(e,t){if(1&e&&(pg(gk,5,gk),pg(Hk,5,tA),pg(Bk,5)),2&e){let e;gg(e=fg())&&(t.checkboxElement=e.first),gg(e=fg())&&(t._virtDirRow=e),gg(e=fg())&&(t._cells=e)}},hostVars:8,hostBindings:function(e,t){1&e&&oh("click",(function(e){return t.onClick(e)}))("mouseenter",(function(){return t.showActionStrip()}))("mouseleave",(function(){return t.hideActionStrip()})),2&e&&(Gc("role",t.role)("aria-disabled",t.disabled)("data-rowIndex",t.dataRowIndex)("aria-selected",t.selected),Th("min-height",t.rowHeight,"px"),Ah("igx-grid__tr--disabled",t.disabled))},inputs:{data:"data",index:"index",disabled:"disabled",gridID:"gridID",selected:"selected"},outputs:{addAnimationEnd:"addAnimationEnd"},standalone:!0}),t})(),zk=(()=>{let e=class{get grid(){return this.strip.context.grid}get isRowContext(){return this.isRow(this.strip?.context)&&!this.strip.context.inEditMode}constructor(e,t){this.iconService=e,this.differs=t,this.asMenuItems=!1}ngAfterViewInit(){this.asMenuItems&&this.buttons.changes.subscribe((()=>{this.strip.cdr.detectChanges()}))}isRow(e){return e&&e instanceof Gk}},t=e;return e.fac=function(t){return new(t||e)(Rd(bI),Rd(hp))},e.dir=er({type:e,selectors:[["","igxGridActionsBase",""]],viewQuery:function(e,t){if(1&e&&pg(sk,5),2&e){let e;gg(e=fg())&&(t.buttons=e)}},inputs:{asMenuItems:"asMenuItems"},standalone:!0}),t})(),$k=["dropdown"];function Wk(e,t){if(1&e&&(Jc(0),Yc(1,"button",5),oh("click",(function(e){return e.stopPropagation()})),Yc(2,"igx-icon"),$h(3,"more_vert"),Xc()(),eh()),2&e){let e=dh(),t=Kc(4);Ed(1),Uc("igxToggleAction",t)("overlaySettings",e.menuOverlaySettings)("title",e.resourceStrings.igx_action_strip_button_more_title)("igxDropDownItemNavigation",t)}}function jk(e,t){1&e&&th(0)}var Kk=function(e){return{$implicit:e}};function Uk(e,t){if(1&e&&(Yc(0,"igx-drop-down-item",6)(1,"div",7),Wc(2,jk,1,0,"ng-container",8),Xc()()),2&e){let e=t.$implicit;Ed(2),Uc("ngTemplateOutlet",e.templateRef)("ngTemplateOutletContext",xu(2,Kk,e))}}var qk,Yk=["*"],Xk=(()=>{let e=class{constructor(e){this.templateRef=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxActionStripMenuItem",""]],standalone:!0}),t})(),Zk=(()=>{let e=class extends tI{set hidden(e){this._hidden=e}get hidden(){return this._hidden}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings||(this._resourceStrings=fI.ActionStripResourceStrings),this._resourceStrings}get hideOnRowLeave(){return 0===this.menu.items.length||(this.menu.items.length>0?!!this.menu.collapsed:void 0)}constructor(e,t,i,n){super(i),this._viewContainer=e,this.renderer=t,this._displayDensityOptions=i,this.cdr=n,this.menuOverlaySettings={scrollStrategy:new BE},this._hidden=!1}get menuItems(){let e=[];return this.actionButtons.forEach((t=>{if(t.asMenuItems){let i=t.buttons;i&&i.toArray().forEach((t=>e.push(t)))}})),[...this._menuItems.toArray(),...e]}get display(){return this._hidden?"none":"flex"}get hostClasses(){let e=this.getComponentDensityClass("igx-action-strip");return"igx-action-strip"!==e&&(e=`igx-action-strip ${e}`),e}ngAfterContentInit(){this.actionButtons.forEach((e=>{e.strip=this})),this.actionButtons.changes.subscribe((()=>{this.actionButtons.forEach((e=>{e.strip=this}))}))}ngAfterViewInit(){this.menu.selectionChanging.subscribe((e=>{let t=e.newSelection.elementRef.nativeElement,i=[];this.actionButtons.forEach((e=>{e.asMenuItems&&(i=[...i,...e.buttons.toArray()])}));let n=i.find((e=>t.contains(e.container.nativeElement)));n&&n.actionClick.emit()})),this._originalParent=this._viewContainer.element.nativeElement?.parentElement}show(e){this.hidden=!1,e&&(this.context!==e&&this.closeMenu(),this.context=e,this.context&&this.context.element&&this.renderer.appendChild(e.element.nativeElement,this._viewContainer.element.nativeElement),this.cdr.detectChanges())}hide(){this.hidden=!0,this.closeMenu(),this._originalParent?this.renderer.appendChild(this._originalParent,this._viewContainer.element.nativeElement):this.context&&this.context.element&&this.renderer.removeChild(this.context.element.nativeElement,this._viewContainer.element.nativeElement)}closeMenu(){this.menu&&!this.menu.collapsed&&this.menu.close()}},t=e;return e.fac=function(t){return new(t||e)(Rd(Xu),Rd(hd),Rd(eI,8),Rd(Jg))},e.cmp=Yn({type:e,selectors:[["igx-action-strip"]],contentQueries:function(e,t,i){if(1&e&&(mg(i,Xk,4),mg(i,zk,4)),2&e){let e;gg(e=fg())&&(t._menuItems=e),gg(e=fg())&&(t.actionButtons=e)}},viewQuery:function(e,t){if(1&e&&pg($k,5),2&e){let e;gg(e=fg())&&(t.menu=e.first)}},hostVars:4,hostBindings:function(e,t){2&e&&(kh(t.hostClasses),Th("display",t.display))},inputs:{context:"context",hidden:"hidden",resourceStrings:"resourceStrings"},standalone:!0,features:[Tc,yu],ngContentSelectors:Yk,decls:6,vars:3,consts:[[1,"igx-action-strip__actions"],[4,"ngIf"],[3,"displayDensity"],["dropdown",""],["class","igx-action-strip__menu-item",4,"ngFor","ngForOf"],["igxButton","icon","igxRipple","",3,"igxToggleAction","overlaySettings","title","igxDropDownItemNavigation","click"],[1,"igx-action-strip__menu-item"],[1,"igx-drop-down__item-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(hh(),Yc(0,"div",0),uh(1,0,["#content",""]),Wc(2,Wk,4,4,"ng-container",1),Yc(3,"igx-drop-down",2,3),Wc(5,Uk,3,4,"igx-drop-down-item",4),Xc()()),2&e&&(Ed(2),Uc("ngIf",t.menuItems.length>0),Ed(1),Uc("displayDensity",t.displayDensity),Ed(2),Uc("ngForOf",t.menuItems))},dependencies:[Em,bm,Pm,CI,lA,yA,rI,FI,YA,jA],encapsulation:2}),t})(),Qk={name:"add-child",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="add-child-title add-child-desc"><title id="add-child-title">Add Item Icon</title><desc id="add-child-desc">A picture showing an item with a plus sign being added to container.</desc><path d="M22 12H7c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h15c1.1 0 2-.9 2-2v-6c0-1.1-.9-2-2-2zm-8 6h-2v2h-2v-2H8v-2h2v-2h2v2h2v2zm7-14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H3c-.6 0-1-.4-1-1V5c0-.6.4-1 1-1h19m0-2H2C.9 2 0 2.9 0 4v4c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg>',categories:["content"],keywords:["add","insert","row","child","new","below","under"]},Jk={name:"add-row",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="add-row-title add-row-desc"><title id="add-row-title">Add Row Icon</title><desc id="add-row-desc">A picture showing a rectangle with a plus sign.</desc><path d="M22 7H2a2 2 0 00-2 2v6a2 2 0 002 2h20a2 2 0 002-2V9a2 2 0 00-2-2zM9 13H7v2H5v-2H3v-2h2V9h2v2h2z"/></svg>',categories:["content"],keywords:["add","insert","row","new"]},eR={name:"jump-down",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jump-down-title jump-down-desc"><title id="jump-down-title">Jump Down Icon</title><desc id="jump-down-desc">A picture showing a bent arrow pointing down towards a line.</desc><path d="M21.5 18.5v2h-16v-2h16zm-8-15c1.6 0 3 .5 4.3 1.2l-1.5 1.5c-.8-.4-1.8-.7-2.8-.7-3.3 0-6 2.7-6 6h3l-4 4-4-4h3c0-1.5.4-2.9 1.2-4.2.6-1 1.4-1.8 2.4-2.5 1.2-.8 2.8-1.3 4.4-1.3z"/></svg>',categories:["content"],keywords:["jump","down","arrow","below","under"]},tR={name:"jump-up",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="jump-up-title jump-up-desc"><title id="jump-up-title">Jump Up Icon</title><desc id="jump-up-desc">A picture showing a bent arrow pointing up towards a line.</desc><path d="M6.5 8.5l4 4h-3c0 3.3 2.7 6 6 6 1 0 2-.2 2.8-.7l1.5 1.5c-1.2.8-2.7 1.2-4.3 1.2-4.4 0-8-3.6-8-8h-3l4-4zm15-5v2h-16v-2h16z"/></svg>',categories:["content"],keywords:["jump","up","arrow","above"]},iR={name:"pin-left",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="pin-left-title pin-left-desc"><title id="pin-left-title">Pin Left Icon</title><desc id="pin-left-desc">A picture depicting a pin pointed to the left.</desc><path d="M15.18 2.25l7.07 7.07-2.83-.01-3.54 3.55.01 4.24-3.53-3.54-5.66 5.66H5.28V17.8l5.66-5.66L7.4 8.61l4.24.01 3.55-3.54-.01-2.83z"/></svg>',categories:["content"],keywords:["pin","freeze","left","pushpin","nail","marker","attach","tack","thumbtack"]},nR={name:"unpin-left",value:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-labelledby="unpin-left-title unpin-left-desc"><title id="unpin-left-title">Unpin Left Icon</title><desc id="unpin-left-desc">A picture depicting a crossed-out left-pointed pin.</desc><path d="M11.8 14.1l-5.1 5.1H5.3v-1.4l5.1-5.1L2 4.3 3.3 3l18 18-1.3 1.2-8.2-8.1zm4-.5l-5-5h.7L15.1 5V2.2l7.1 7.1h-2.8l-3.5 3.5-.1.8z"/></svg>',categories:["content"],keywords:["unpin","unfreeze","left","pushpin","nail","marker","detach","tack","thumbtack"]},rR={name:"ends-with",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ends-with-title ends-with-desc"><title id="ends-with-title">Ends With Icon</title><desc id="ends-with-desc">A picture showing three dots followed by lowercase a.</desc><path d="M3 14.5h2v2H3zm8 0h2v2h-2zm-4 0h2v2H7zm13.8.3v-3A2.1 2.1 0 0020 10a3 3 0 00-2-.6 3 3 0 00-2 .6 1.7 1.7 0 00-.7 1.5h1.5a.8.8 0 01.3-.7 1.3 1.3 0 01.9-.3 1.3 1.3 0 01.9.4 1.1 1.1 0 01.3.8v.6H18a3.8 3.8 0 00-2.2.6 1.8 1.8 0 00-.8 1.5 2 2 0 00.6 1.6 2.3 2.3 0 001.6.6 2.1 2.1 0 001.2-.4 2.8 2.8 0 00.8-.8 4.3 4.3 0 00.1.5l.1.5H21a4.1 4.1 0 01-.2-.7 5.4 5.4 0 010-1zm-1.6-.5a1.5 1.5 0 01-.6.7 2 2 0 01-1 .2 1.1 1.1 0 01-.8-.2.8.8 0 01-.2-.6 1 1 0 01.3-.8 1.5 1.5 0 011.1-.3h1.2z"/></svg>',categories:["editor"],keywords:["end","character","compare","filter"]},sR={name:"equals",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="equals-title equals-desc"><title id="equals-title">Equals Icon</title><desc id="equals-desc">A picture showing the equals sign.</desc><path d="M5 13.5h14v2H5zm0-5h14v2H5z"/></svg>',categories:["editor"],keywords:["equal","equals","compare","filter","equality","calculation","math"]},oR={name:"is-empty",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="is-empty-title is-empty-desc"><title id="is-empty-title">Is Empty Icon</title><desc id="is-empty-desc">A picture showing a dotted square.</desc><path d="M5 17h2v2H5zm8 0h2v2h-2zm-8-4h2v2H5zm12 4h2v2h-2zM13 5h2v2h-2zM9 17h2v2H9zm8-8h2v2h-2zm0 4h2v2h-2zm0-8h2v2h-2zM5 9h2v2H5zm0-4h2v2H5zm4 0h2v2H9z"/></svg>',categories:["editor"],keywords:["empty","box","nothing"]},aR=[{name:"bottom-percentile-records",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bottom-percentile-records-title bottom-percentile-records-desc"><title id="bottom-percentile-records-title">Bottom records</title><desc id="bottom-percentile-records-desc">Shows percentile records positioned at the bottom.</desc><path d="M12 10L8 6h3V2h2v4h3zm-4 8h4v-2H8zm0-4h8v-2H8zm10-1a5.976 5.976 0 012 .35V4a2 2 0 00-2-2h-3v2h3zm-5.91 7H6V4h3V2H6a2 2 0 00-2 2v16a2 2 0 002 2h6.812a5.945 5.945 0 01-.722-2zm4.872-2.435a.157.157 0 00-.058-.1.213.213 0 00-.2 0 .158.158 0 00-.059.1 1.008 1.008 0 00-.028.189c-.005.08-.008.185-.008.314s0 .23.008.312a1.046 1.046 0 00.028.192.155.155 0 00.059.094.213.213 0 00.2 0 .154.154 0 00.058-.094.966.966 0 00.028-.192c.01-.08.01-.186.01-.312s0-.234-.008-.314a.931.931 0 00-.03-.189zm2.393 1.88a.166.166 0 00-.059-.095.22.22 0 00-.2 0 .156.156 0 00-.058.095.954.954 0 00-.028.189q-.009.12-.009.315c0 .126 0 .23.009.311a.943.943 0 00.028.192.156.156 0 00.058.095.213.213 0 00.2 0 .166.166 0 00.059-.095 1.019 1.019 0 00.028-.192c.005-.081.008-.185.008-.311s0-.235-.008-.315a1.035 1.035 0 00-.028-.189zM22 19a4 4 0 11-4-4 4 4 0 014 4zm-5.2.136a1.252 1.252 0 00.411-.058.582.582 0 00.27-.186.8.8 0 00.148-.331 2.778 2.778 0 000-.985.784.784 0 00-.148-.331.583.583 0 00-.27-.187 1.489 1.489 0 00-.823 0 .594.594 0 00-.27.187.8.8 0 00-.147.331 2.778 2.778 0 000 .985.808.808 0 00.147.331.592.592 0 00.27.186 1.258 1.258 0 00.412.058zM19.185 17h-.612l-1.764 4h.612zm.884 2.949a2.328 2.328 0 00-.044-.493.808.808 0 00-.147-.331.592.592 0 00-.27-.186 1.465 1.465 0 00-.823 0 .582.582 0 00-.27.186.8.8 0 00-.148.331 2.778 2.778 0 000 .985.79.79 0 00.148.331.534.534 0 00.27.178 1.718 1.718 0 00.823 0 .543.543 0 00.27-.178.8.8 0 00.147-.331 2.311 2.311 0 00.044-.492z"/></svg>',categories:["editor"]},{name:"bottom-records",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="bottom-records-title bottom-records-desc"><title id="bottom-records-title">Bottom records</title><desc id="bottom-records-desc">Shows records positioned at the bottom.</desc><path d="M12 10L8 6h3V2h2v4h3zm4 2H8v2h8zm-4 4H8v2h4zm-6 6h12a2 2 0 002-2V4a2 2 0 00-2-2h-3v2h3v16H6V4h3V2H6a2 2 0 00-2 2v16a2 2 0 002 2z"/></svg>',categories:["editor"]},{name:"case-sensitive",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="case-sensitive-title case-sensitive-desc"><title id="case-sensitive-title">Case Sensitive Icon</title><desc id="case-sensitive-desc">A picture showing the letter A written in both upper and lower case.</desc><path d="M21.2 16.5c0-.2-.1-.5-.1-.7v-4.4c0-.4-.1-.8-.3-1.2-.2-.3-.5-.6-.8-.7-.3-.2-.7-.3-1.1-.3-.4-.1-.8-.1-1.2-.1-.5 0-.9 0-1.4.1-.4.1-.8.3-1.2.5-.3.2-.6.5-.8.9s-.3.9-.3 1.3h1.4c0-.5.2-1 .7-1.3.5-.2 1-.4 1.5-.3.2 0 .5 0 .7.1.2 0 .4.1.6.2.2.1.3.2.5.4.1.2.2.5.2.7s-.1.4-.2.6c-.2.2-.4.3-.6.3-.3.1-.6.1-.9.2-.4 0-.7.1-1.1.2-.4.1-.7.1-1.1.2-.3.1-.7.2-1 .4s-.5.5-.7.8c-.2.4-.3.8-.3 1.2s.1.8.2 1.1c.1.3.4.5.6.7.3.2.6.3.9.4.9.2 1.9.2 2.8-.2.5-.2 1-.6 1.4-1 0 .4.1.7.3 1 .2.2.6.3.9.3.4 0 .7-.1 1-.2v-1.1c-.1 0-.3.1-.4.1-.1.1-.2 0-.2-.2zm-1.5-1.7c0 .2-.1.4-.2.6-.1.2-.3.5-.5.6-.2.2-.5.4-.8.5-.4.1-.8.2-1.2.2-.2 0-.4 0-.6-.1-.2 0-.4-.1-.5-.2-.2-.1-.3-.2-.4-.4-.1-.2-.2-.4-.1-.6 0-.3.1-.6.2-.8.2-.2.4-.4.6-.5.3-.1.6-.2.9-.2s.7-.1 1-.1.6-.1.9-.1.5-.1.7-.3v1.4zm-9.6-.4l1.3 3.6h1.8L8.5 6H6.7L2 18h1.7L5 14.4h5.1zm-2.5-7l2.1 5.5H5.5l2.1-5.5z"/></svg>',categories:["editor"],keywords:["case","sensitive","character","text","mode","sentence","style","change","compare","filter"]},{name:"check",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="check-title check-desc"><title id="check-title">Check Icon</title><desc id="check-desc">A picture depicting a check mark.</desc><path d="M19.4 5.3l1.4 1.4-12 12-5.6-5.6 1.4-1.4 4.2 4.2z"/></svg>',categories:["editor"],keywords:["check","checked","mark","tick","ok","success"]},{name:"contains",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="contains-title contains-desc"><title id="contains-title">Contains Icon</title><desc id="contains-desc">A picture showing the lowercase letter A in a square box.</desc><path d="M3 3v18h18V3zm16 16H5V5h14z"/><path d="M12 11.3a4.39 4.39 0 00-2.54.63 2.07 2.07 0 00-.9 1.78 2.29 2.29 0 00.66 1.74 2.63 2.63 0 001.89.63 2.39 2.39 0 001.32-.37 3.05 3.05 0 001-.93 3.72 3.72 0 00.08.57c0 .19.1.38.16.58h1.79a4.51 4.51 0 01-.21-.88 5.57 5.57 0 01-.07-.93v-3.5a2.44 2.44 0 00-.84-2 3.34 3.34 0 00-2.22-.7 3.54 3.54 0 00-2.3.72A1.93 1.93 0 009 10.29h1.71a.93.93 0 01.29-.71 1.5 1.5 0 011-.29 1.45 1.45 0 011 .35 1.3 1.3 0 01.37 1v.69zm1.4 1.08v1.17a1.61 1.61 0 01-.71.77 2.27 2.27 0 01-1.21.34 1.18 1.18 0 01-.84-.27.92.92 0 01-.3-.72 1.16 1.16 0 01.44-.9 1.76 1.76 0 011.22-.39z"/></svg>',categories:["editor"],keywords:["contains","letter","contain","compare","filter"]},{name:"custom-filter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="custom-filter-title custom-filter-desc"><title id="custom-filter-title">Custom Filter Icon</title><desc id="custom-filter-desc">An icon showing that custom filter is applied.</desc><path d="M12.138 21H8.2a1.171 1.171 0 01-1.152-1.188v-5.937L2.123 4.719A1.187 1.187 0 013.153 3h14.694a1.187 1.187 0 011.03 1.719l-3.763 7a2.2 2.2 0 00-.437.642h-.3a2.206 2.206 0 00-1.922 1.11l-.9 1.553-.058.109a2.246 2.246 0 00.212 2.366 2.185 2.185 0 00-.168 2.462zm9.775-2.319a.21.21 0 01.056.281l-.9 1.564a.226.226 0 01-.27.1l-1.113-.449a3.415 3.415 0 01-.754.438l-.18 1.193a.221.221 0 01-.225.191h-1.8a.228.228 0 01-.225-.191l-.169-1.193a3.233 3.233 0 01-.765-.438l-1.114.449a.236.236 0 01-.281-.1l-.9-1.564a.213.213 0 01.056-.281l.945-.742a5.864 5.864 0 01-.022-.439 2.709 2.709 0 01.045-.439l-.956-.742a.224.224 0 01-.057-.293l.9-1.552a.222.222 0 01.27-.1l1.125.45a3.581 3.581 0 01.754-.438l.169-1.193a.228.228 0 01.225-.193h1.8a.23.23 0 01.225.191l.169 1.193a3.348 3.348 0 01.753.438l1.125-.45a.217.217 0 01.27.1l.9 1.552a.225.225 0 01-.056.293l-.956.742A1.8 1.8 0 0121 17.5c0 .146-.011.293-.023.439zM19.236 17.5a1.609 1.609 0 10-1.609 1.609 1.609 1.609 0 001.609-1.609z"/></svg>',categories:["editor"],keywords:["custom","filter"]},{name:"does-not-contain",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="does-not-contain-title does-not-contain-desc"><title id="does-not-contain-title">Does-Not-Contain Icon</title><desc id="does-not-contain-desc">A picture showing the lowercase letter A in a crossed-out square box.</desc><path d="M21 19.74V3H4.26L2.89 1.63 1.63 2.92 3 4.29V21h16.73l1.37 1.37 1.27-1.26zM5 19V6.28l5.28 5.27a3.19 3.19 0 00-.81.38 2.07 2.07 0 00-.9 1.78 2.29 2.29 0 00.66 1.74 2.63 2.63 0 001.89.63 2.39 2.39 0 001.32-.37 3.05 3.05 0 001-.93 3.72 3.72 0 00.08.57c0 .19.1.38.16.58h1L17.73 19zm5.79-6.23a1.31 1.31 0 01.45-.25l1.37 1.36.28.29a1.57 1.57 0 01-.19.15 2.27 2.27 0 01-1.21.34 1.18 1.18 0 01-.84-.27.92.92 0 01-.3-.72 1.16 1.16 0 01.44-.9zm2.6-1.47h-.83l-1.62-1.62.08-.1a1.5 1.5 0 011-.29 1.45 1.45 0 011 .35 1.3 1.3 0 01.37 1zM19 17.74l-3.85-3.85v-3.27a2.44 2.44 0 00-.84-2 3.34 3.34 0 00-2.22-.7 3.64 3.64 0 00-2.24.67L6.26 5H19z"/></svg>',categories:["editor"],keywords:["contains","character","contain","compare","filter"]},{name:"does-not-end-with",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="does-not-end-with-title does-not-end-with-desc"><title id="does-not-end-with-title">Does-Not-End-With Icon</title><desc id="does-not-end-with-desc">A picture showing crossed-out lines at the end of a square box.</desc><path d="M20.293 2.293l1.414 1.414-18 18-1.414-1.414zM18 13h-2.757l-2 2H18zm2 8H7.243l-2 2H20a2 2 0 002-2V6.242l-2 2zm-2-4h-6.757l-2 2H18zM4 3h12.757l2-2H4a2 2 0 00-2 2v14.757l2-2z"/></svg>',categories:["editor"]},{name:"does-not-start-with",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="does-not-start-with-title does-not-start-with-desc"><title id="does-not-start-with-title">Does-Not-Start-With Icon</title><desc id="does-not-start-with-desc">A picture showing crossed-out lines at the beginning of a square box.</desc><path d="M3.707 21.707l-1.414-1.414 18-18 1.414 1.414zM6 11h2.757l2-2H6zM4 3h12.757l2-2H4a2 2 0 00-2 2v14.757l2-2zm2 4h6.757l2-2H6zm14 14H7.243l-2 2H20a2 2 0 002-2V6.243l-2 2z"/></svg>',categories:["editor"]},{name:"end-expression",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="end-expression-title end-expression-desc"><title id="end-expression-title">End Expression Icon</title><desc id="end-expression-desc">A picture showing three dots followed by a right-pointed chevron.</desc><path d="M13.14 6.76L17.49 12l-4.35 5.24 1.54 1.28L20.09 12l-5.41-6.52-1.54 1.28z"/><path d="M11.91 11h2v2h-2zm-4 0h2v2h-2zm-4 0h2v2h-2z"/></svg>',categories:["editor"],keywords:["end","expression","arrow","right"]},rR,sR,{name:"exact-match",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="exact-match-title exact-match-desc"><title id="exact-match-title">Exact Match Icon</title><desc id="exact-match-desc">A picture depicting an arrow hitting bulls-eye.</desc><path d="M5.683 9a7 7 0 110 6h2.342a5 5 0 100-6zM3.79 7.047a9.6 9.6 0 110 9.906l-1.735 1.735a12 12 0 100-13.376zM0 14.914l1.432 1.414L4.8 13h6.161v2L14 12l-3.037-3v2H4.8L1.432 7.672 0 9.086 2.95 12z"/></svg>',categories:["editor"],keywords:["exact","match","arrow","target","goal","aim","business","dart","bullseye"]},{name:"greater-than",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="greater-than-title greater-than-desc"><title id="greater-than-title">Greater Than Icon</title><desc id="greater-than-desc">A picture showing the greater-than symbol.</desc><path d="M6 7.11L15.09 12 6 16.89V19l12-6.46v-1.08L6 5v2.11z"/></svg>',categories:["editor"],keywords:["greater","more","compare","next","forward","chevron","math","inequalty","arrow"]},{name:"greater-than-or-equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="greater-than-or-equal-title greater-than-or-equal-desc"><title id="greater-than-or-equal-title">Greater Than or Equal Icon</title><desc id="greater-than-or-equal-desc">A picture showing the grater-than or equal symbol.</desc><path d="M5.99 19h12.02v2H5.99zM18 9.47L6 3v2.11L15.09 10 6 14.9v2.11l12-6.47V9.47z"/></svg>',categories:["editor"],keywords:["greater","more","equal","equals","compare","math"]},{name:"is-after",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="is-after-title is-after-desc"><title id="is-after-title">Is After Icon</title><desc id="is-after-desc">A picture showing a square bracket drawn after a vertical line.</desc><path d="M15 7h4v10h-4v2h6V5h-6v2zm-4-4h2v18h-2zM7 5h2v2H7zM3 5h2v2H3zm0 12h2v2H3zm0-4h2v2H3zm0-4h2v2H3zm4 8h2v2H7z"/></svg>',categories:["editor"],keywords:["after","comparison","before","convert","decode","render","scan"]},{name:"is-before",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="is-before-title is-before-desc"><title id="is-before-title">Is Before Icon</title><desc id="is-before-desc">A picture showing a square bracket drawn before a vertical line.</desc><path d="M3 19h6v-2H5V7h4V5H3v14zm8-16h2v18h-2zm4 2h2v2h-2zm4 0h2v2h-2zm0 8h2v2h-2zm-4 4h2v2h-2zm4 0h2v2h-2zm0-8h2v2h-2z"/></svg>',categories:["editor"],keywords:["after","comparison","before","convert","decode","render","scan"]},oR,{name:"is-false",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="is-false-title is-false-desc"><title id="is-false-title">Is False Icon</title><desc id="is-false-desc">A picture showing an encircled X symbol.</desc><path d="M8 5a7 7 0 107 7 7 7 0 00-7-7zm4.31 9.79l-1.52 1.52L8 13.52l-2.79 2.79-1.52-1.52L6.48 12 3.69 9.21l1.52-1.52L8 10.48l2.79-2.79 1.52 1.52L9.52 12zM18 7a5 5 0 00-3 1.06 7.48 7.48 0 01.49 1 3.89 3.89 0 110 5.82 8.08 8.08 0 01-.49 1A5 5 0 1018 7z"/><path d="M17.52 13.85l2.91-2.92-.78-.78-2.13 2.12-1.17-1.15-.38.37-.41.41.42.42L17 13.34l.52.51z"/></svg>',categories:["editor"],keywords:["false","true","choice","options","yes","no","check","tick","cross"]},{name:"is-not-null",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="is-not-null-title is-not-null-desc"><title id="is-not-null-title">Is Not Null Icon</title><desc id="is-not-null-desc">A picture showing a crossed-out circle.</desc><path d="M16.58 6.07l.79-1.36-1.74-1-.78 1.35a7.5 7.5 0 00-7.43 12.87l-.79 1.36 1.74 1 .78-1.35a7.5 7.5 0 007.43-12.87zM6.5 12A5.5 5.5 0 0112 6.5a5.65 5.65 0 011.84.32l-5.41 9.36A5.49 5.49 0 016.5 12zm5.5 5.5a5.65 5.65 0 01-1.84-.32l5.41-9.36A5.5 5.5 0 0112 17.5z"/></svg>',categories:["editor"],keywords:["empty","null","void","problem","number","invalid","inoperative","none","nothing"]},{name:"is-null",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="is-null-title is-null-desc"><title id="is-null-title">Is Null Icon</title><desc id="is-null-desc">A picture showing an empty circle.</desc><path d="M12 4.5a7.5 7.5 0 107.5 7.5A7.5 7.5 0 0012 4.5zm0 13a5.5 5.5 0 115.5-5.5 5.5 5.5 0 01-5.5 5.5z"/></svg>',categories:["editor"],keywords:["null","circle","zero","o"]},{name:"is-true",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="is-true-title is-true-desc"><title id="is-true-title">is True Icon</title><desc id="is-true-desc">A picture showing an encircled check mark symbol.</desc><path d="M19.44 14.22zm-2.88 0zm0 0L18 12.79l1.44 1.43.78-.78L18.79 12l1.43-1.44-.78-.78L18 11.21l-1.44-1.43-.78.78L17.21 12l-1.43 1.44.78.78z"/><path d="M18 7a5 5 0 00-3 1.06 7.48 7.48 0 01.49 1 3.89 3.89 0 110 5.82 8.08 8.08 0 01-.49 1A5 5 0 1018 7zM8 5a7 7 0 107 7 7 7 0 00-7-7zm-.93 10.18l-3.38-3.37 1.13-1.12 2.25 2.25 4.11-4.12 1.13 1.12z"/></svg>',categories:["editor"],keywords:["true","false","choice","options","yes","no","check","tick","cross"]},{name:"last-month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="last-month-title last-month-desc"><title id="last-month-title">Last Month Icon</title><desc id="last-month-desc">A picture depicting a calendar with a back-arrow at the end.</desc><path d="M17.5 14a4.48 4.48 0 104.5 4.5 4.47 4.47 0 00-4.5-4.5zm3.5 5.5h-4v2l-3-3 3-3v2h4zM5 9h2v2H5zm0 4h2v2H5zm5 0h2v2h-2zm-5 4h2v2H5zm5 0h2v2h-2zm0-8h2v2h-2zm5 0h2v2h-2z"/><path d="M4 8h14v4h2V5a2 2 0 00-2-2h-1V1h-2v2H7V1H5v2H4a2 2 0 00-2 2v15a2 2 0 002 2h7v-2H4z"/></svg>',categories:["editor"],keywords:["last","calendar","month","date","day","previous","schedule","arrow","left","page"]},{name:"last-quarter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="last-quarter-title last-quarter-desc"><title id="last-quarter-title">Last Quarter Icon</title><desc id="last-quarter-desc">A picture depicting a quarter of a circle with an arrow pointing right.</desc><path d="M4 9.253A8.03 8.03 0 019.747 15H4V9.253M2 7v10h10A10 10 0 002 7zm18 9h2V8h-2zm-4-8v3h-3v2h3v3l4-4z"/></svg>',categories:["editor"]},{name:"last-week",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="last-week-title last-week-desc"><title id="last-week-title">Last Week Icon</title><desc id="last-week-desc">A picture depicting a square with an arrow pointing down.</desc><path d="M2 20V4a2 2 0 012-2h5v2H4v16h16V4h-5V2h5a2 2 0 012 2v16a2 2 0 01-2 2H4a2 2 0 01-2-2zm4-2h12v-3H6zm10-9h-3V2h-2v7H8l4 4z"/></svg>',categories:["editor"]},{name:"last-year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="last-year-title last-year-desc"><title id="last-year-title">Last Year Icon</title><desc id="last-year-desc">A picture depicting a calendar with an back-arrow in the middle.</desc><path d="M21 10v11H7v2h14a2 2 0 002-2V10z"/><path d="M19 17V5a2 2 0 00-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 00-2 2v12a2 2 0 002 2h14a2 2 0 002-2zM3 17V7h14v10H3z"/><path d="M8.87 9l-2.99 3 2.99 3v-2.25h5.26v-1.5H8.87V9z"/></svg>',categories:["editor"],keywords:["last","calendar","month","date","previous","schedule","arrow","left"]},{name:"less-than",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="less-than-title less-than-desc"><title id="less-than-title">Less Than Icon</title><desc id="less-than-desc">A picture showing the less-than symbol.</desc><path d="M6 12.54L18 19v-2.11L8.91 12 18 7.11V5L6 11.46v1.08z"/></svg>',categories:["editor"],keywords:["less","smaller","compare","previous","back","chevron","math","inequalty","arrow"]},{name:"less-than-or-equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="less-than-or-equal-title less-than-or-equal-desc"><title id="less-than-or-equal-title">Less Than or Equal Icon</title><desc id="less-than-or-equal-desc">A picture showing the lass-than or equal symbol.</desc><path d="M5.99 19h12.02v2H5.99zM18 14.9L8.91 10 18 5.11V3L6 9.47v1.07l12 6.47V14.9z"/></svg>',categories:["editor"],keywords:["less","smaller","equal","equals","compare","math"]},{name:"match",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="match-title match-desc"><title id="match-title">Match Icon</title><desc id="match-desc">A picture depicting two puzzle pieces fitting together.</desc><path d="M10 8a3.909 3.909 0 011 .13V6H0v12h3.779a3 3 0 104.442 0H11v-2.13a3.909 3.909 0 01-1 .13 4 4 0 010-8z"/><path d="M24 6h-3.779a3 3 0 10-4.442 0H12v3.779a3 3 0 100 4.442V18h3.779a3 3 0 104.442 0H24z"/></svg>',categories:["editor"],keywords:["match","fit","puzzle","pieces","jigsaw","combination","play","game","toy"]},{name:"month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="month-title month-desc"><title id="month-title">Month Icon</title><desc id="month-desc">A picture depicting a month calendar.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM11 9H9V7h2zm4 0h-2V7h2zm-8 4H5v-2h2zm4 0H9v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zM7 17H5v-2h2zm4 0H9v-2h2zm4 0h-2v-2h2zm4-8h-2V7h2z"/></svg>',categories:["editor"]},{name:"next-month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="next-month-title next-month-desc"><title id="next-month-title">Next Month icon</title><desc id="next-month-desc">A picture depicting a calendar with a forward-arrow at the end.</desc><path d="M20 14.76a4.5 4.5 0 102 3.74 4.47 4.47 0 00-2-3.74zm-2 6.74v-2h-4v-2h4v-2l3 3zM5 9h2v2H5zm0 4h2v2H5zm5 0h2v2h-2zm-5 4h2v2H5zm5 0h2v2h-2zm0-8h2v2h-2zm5 0h2v2h-2z"/><path d="M4 8h14v4h2V5a2 2 0 00-2-2h-1V1h-2v2H7V1H5v2H4a2 2 0 00-2 2v15a2 2 0 002 2h7v-2H4z"/></svg>',categories:["editor"],keywords:["next","calendar","month","date","day","following","schedule","arrow","right","page"]},{name:"next-quarter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="next-quarter-title next-quarter-desc"><title id="next-quarter-title">Next Quarter Icon</title><desc id="next-quarter-desc">A picture depicting a quarter circle with an arrow pointing right.</desc><path d="M4 9.253A8.03 8.03 0 019.747 15H4V9.253M2 7v10h10A10 10 0 002 7zm16 1v3h-4v2h4v3l4-4z"/></svg>',categories:["editor"]},{name:"next-week",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="next-week-title next-week-desc"><title id="next-week-title">Next Week Icon</title><desc id="next-week-desc">A picture depicting a square with an arrow pointing right.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM18 9H6V6h12zm0 5l-4 4v-3H6v-2h8v-3z"/></svg>',categories:["editor"]},{name:"next-year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="next-year-title next-year-desc"><title id="next-year-title">Next Year icon</title><desc id="next-year-desc">A picture depicting a calendar with a forward-arrow in the middle.</desc><path d="M21 21H7v2h14a2 2 0 002-2V10h-2z"/><path d="M19 17V5a2 2 0 00-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 00-2 2v12a2 2 0 002 2h14a2 2 0 002-2zM3 17V7h14v10H3z"/><path d="M11.13 11.25H5.88v1.5h5.25V15l3-3-3-3v2.25z"/></svg>',categories:["editor"],keywords:["next","calendar","month","date","following","schedule","arrow","right"]},{name:"not-empty",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="not-empty-title not-empty-desc"><title id="not-empty-title">Not Empty Icon</title><desc id="not-empty-desc">A picture showing a crossed-out dotted square.</desc><path d="M5 9h2v2H5zm4 8h2v2H9zm4 0h2v2h-2zm4-8h2v2h-2zm0-4h2v2h-2zM5 17h2v2H5zm8-12h2v2h-2zm-8 8h2v2H5zm14 2v-2h-2v.47L18.53 15H19zm-8-8V5H9v.46L10.54 7H11zM2.76 1.76L1.5 3.06 20.97 22.5l1.26-1.26-8.89-8.89L2.76 1.76z"/></svg>',categories:["editor"],keywords:["empty","full"]},{name:"not-equal",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="not-equal-title not-equal-desc"><title id="not-equal-title">Not Equal Icon</title><desc id="not-equal-desc">A picture showing a crossed-out equals symbol.</desc><path d="M17.37 4.71l-1.74-1-2.76 4.79H5v2h6.71l-1.73 3H5v2h3.82l-2.19 3.79 1.74 1 2.76-4.79H19v-2h-6.71l1.73-3H19v-2h-3.82l2.19-3.79z"/></svg>',categories:["editor"],keywords:["equal","equals","different","compare","filter","equality","calculation","math"]},{name:"previous-quarter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="previous-quarter-title previous-quarter-desc"><title id="previous-quarter-title">Previous Quarter Icon</title><desc id="previous-quarter-desc">A picture depicting a quarter circle with an arrow pointing left.</desc><path d="M12 7v10h10A10 10 0 0012 7zM2 12l4 4v-3h4v-2H6V8z"/></svg>',categories:["editor"]},{name:"previous-week",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="previous-week-title previous-week-desc"><title id="previous-week-title">Next Week Icon</title><desc id="previous-week-desc">A picture depicting a square with an arrow pointing left.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zm-2-2H6v-3h12zM10 6v3h8v2h-8v3l-4-4z"/></svg>',categories:["editor"]},{name:"quarter-four",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="quarter-four-title quarter-four-desc"><title id="quarter-four-title">Quarter Four Icon</title><desc id="quarter-four-desc">A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M22 15.5a6.5 6.5 0 01-13 0v-.65h5.85V9h.65a6.508 6.508 0 016.5 6.5zm-11.66.65a5.2 5.2 0 105.81-5.81v5.81zM2 13h11V2A11 11 0 002 13zm5-2H6V7h1zm3 0L8 7h1l1 2 1-2h1z"/></svg>',categories:["editor"]},{name:"quarter-one",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="quarter-one-title quarter-one-desc"><title id="quarter-one-title">Quarter One Icon</title><desc id="quarter-one-desc">A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M8.5 22a6.5 6.5 0 010-13h.65v5.85H15v.65A6.508 6.508 0 018.5 22zm-.65-11.66a5.2 5.2 0 105.81 5.81H7.85zM11 2v11h11A11 11 0 0011 2zm5 8h-1V6h1z"/></svg>',categories:["editor"]},{name:"quarter-three",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="quarter-three-title quarter-three-desc"><title id="quarter-three-title">Quarter Three Icon</title><desc id="quarter-three-desc">A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M15.5 2a6.5 6.5 0 010 13h-.65V9.15H9V8.5A6.508 6.508 0 0115.5 2zm.65 11.66a5.2 5.2 0 10-5.81-5.81h5.81zM2 11a11 11 0 0011 11V11zm5 6H6v-4h1zm2 0H8v-4h1zm2 0h-1v-4h1z"/></svg>',categories:["editor"]},{name:"quarter-two",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="quarter-two-title quarter-two-desc"><title id="quarter-two-title">Quarter Two Icon</title><desc id="quarter-two-desc">A picture depicting a quarter of a circle next to a three-thirds circle.</desc><path d="M2 8.5a6.5 6.5 0 0113 0v.65H9.15V15H8.5A6.508 6.508 0 012 8.5zm11.66-.65a5.2 5.2 0 10-5.81 5.81V7.85zM11 11v11a11 11 0 0011-11zm4 6h-1v-4h1zm2 0h-1v-4h1z"/></svg>',categories:["editor"]},rR,sR,oR,{name:"select-all",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="all-title all-desc"><title id="all-title">Select All Icon</title><desc id="all-desc">A picture showing tree lines and a check mark.</desc><path d="M2 14h8v2H2zm0-8h12v2H2zm14 11l-3-3-1.5 1.5L16 20l7-7-1.5-1.5L16 17zM2 10h12v2H2z"/></svg>',categories:["editor"],keywords:["all","select","check","multiple"]},{name:"start-expression",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="start-expression-title start-expression-desc"><title id="start-expression-title">Start Expression Icon</title><desc id="start-expression-desc">A picture showing a left chevron followed by three dots.</desc><path d="M18.1 11h2v2h-2zm-8 0h2v2h-2z"/><path d="M10.9 6.8L9.3 5.5 4 12l5.4 6.5 1.6-1.3L6.5 12 11 6.8zm3.2 4.2h2v2h-2z"/></svg>',categories:["editor"],keywords:["start","expression","arrow","left"]},{name:"starts-with",value:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-labelledby="starts-with-title starts-with-desc"><title id="starts-with-title">Starts With Icon</title><desc id="starts-with-desc">A picture showing the uppercase letter A followed by three dots.</desc><path d="M5.9 7.5l-3.9 9h1.7l.7-1.8h4.1l.7 1.8H11l-3.9-9H5.9zM5 13.2l1.5-4.1L8 13.2H5zm7 1.3h2v2h-2v-2zm8 0h2v2h-2v-2zm-4 0h2v2h-2v-2z"/></svg>',categories:["editor"],keywords:["start","character","compare","filter"]},{name:"this-month",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="this-month-title this-month-desc"><title id="this-month-title">This Month Icon</title><desc id="this-month-desc">A picture depicting a calendar with an encircled check mark at the end.</desc><path d="M6 9h2v2H6zm0 4h2v2H6zm5 0h2v2h-2zm-5 4h2v2H6zm5 0h2v2h-2zm0-8h2v2h-2zm5 0h2v2h-2zm5 5.76a4.5 4.5 0 102 3.74 4.47 4.47 0 00-2-3.74zm-2.94 5.41l-1.75-1.76.69-.71 1.05 1L20 16.83l.71.71z"/><path d="M5 8h14v4h2V5a2 2 0 00-2-2h-1V1h-2v2H8V1H6v2H5a2 2 0 00-2 2v15a2 2 0 002 2h7v-2H5z"/></svg>',categories:["editor"],keywords:["this","calendar","month","date","day","current","schedule","check","page","now"]},{name:"this-quarter",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="this-quarter-title this-quarter-desc"><title id="this-quarter-title">This Quarter Icon</title><desc id="this-quarter-desc">A picture depicting an arrow pointing right to a quarter of a circle.</desc><path d="M12 7v10h10A10 10 0 0012 7zm-2 5l-4 4v-3H2v-2h4V8z"/></svg>',categories:["editor"]},{name:"this-week",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="this-week-title this-week-desc"><title id="this-week-title">This Quarter Icon</title><desc id="this-week-desc">A picture depicting a square with an arrow pointing up.</desc><path d="M22 4v16a2 2 0 01-2 2h-5v-2h5V4H4v16h5v2H4a2 2 0 01-2-2V4a2 2 0 012-2h16a2 2 0 012 2zm-4 2H6v3h12zM8 15h3v7h2v-7h3l-4-4z"/></svg>',categories:["editor"]},{name:"this-year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="this-year-title this-year-desc"><title id="this-year-title">This Year Icon</title><desc id="this-year-desc">A picture depicting a stacked calendar with a check mark in the middle.</desc><path d="M21 21H7v2h14a2 2 0 002-2V10h-2z"/><path d="M19 17V5a2 2 0 00-2-2h-1V1h-2v2H6V1H4v2H3a2 2 0 00-2 2v12a2 2 0 002 2h14a2 2 0 002-2zM3 17V7h14v10H3z"/><path d="M8.85 13.15l-1.77-1.77-.88.89 2.65 2.65 4.95-4.96-.88-.88-4.07 4.07z"/></svg>',categories:["editor"],keywords:["this","calendar","month","date","current","schedule","check","now"]},{name:"today",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="today-title today-desc"><title id="today-title">Today Icon</title><desc id="today-desc">A picture depicting a calendar with a check mark in the middle.</desc><path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2zm0 16H5V9h14z"/><path d="M16.53 12.06L15.47 11l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 18l5.94-5.94z"/></svg>',categories:["editor"],keywords:["today","now","check","date","day","calendar","current","schedule","event"]},{name:"top-percentile-records",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="top-percentile-records-title top-percentile-records-desc"><title id="top-percentile-records-title">Top Percentile Records Icon</title><desc id="top-percentile-records-desc">Shows percentile records positioned at the top.</desc><path d="M12 14l4 4h-3v4h-2v-4H8zm0-8H8v2h4zm4 4H8v2h8zm2 1v9h-3v2h3a2 2 0 002-2v-9.35a5.976 5.976 0 01-2 .35zM6 4h6.09a5.966 5.966 0 01.722-2H6a2 2 0 00-2 2v16a2 2 0 002 2h3v-2H6zm13.355 1.445a.166.166 0 00-.059-.1.22.22 0 00-.2 0 .156.156 0 00-.058.1.954.954 0 00-.028.189q-.01.12-.01.315c0 .126 0 .23.009.311a.943.943 0 00.028.192.156.156 0 00.058.095.213.213 0 00.2 0 .166.166 0 00.059-.095 1.019 1.019 0 00.028-.192c.005-.081.008-.185.008-.311s0-.235-.008-.315a1.035 1.035 0 00-.027-.189zm-2.393-1.88a.157.157 0 00-.062-.095.213.213 0 00-.2 0 .158.158 0 00-.059.095 1.008 1.008 0 00-.028.189c-.005.08-.008.185-.008.314s0 .23.008.312a1.046 1.046 0 00.028.192.155.155 0 00.059.094.213.213 0 00.2 0 .154.154 0 00.058-.094.966.966 0 00.028-.192C17 4.3 17 4.194 17 4.068s0-.234-.008-.314a.931.931 0 00-.03-.189zM22 5a4 4 0 11-4-4 4 4 0 014 4zm-5.2.136a1.252 1.252 0 00.411-.058.582.582 0 00.27-.186.8.8 0 00.148-.331 2.4 2.4 0 00.044-.493 2.378 2.378 0 00-.044-.492.784.784 0 00-.148-.331.583.583 0 00-.27-.187 1.489 1.489 0 00-.823 0 .594.594 0 00-.27.187.8.8 0 00-.147.331 2.311 2.311 0 00-.044.492 2.328 2.328 0 00.044.493.808.808 0 00.147.331.592.592 0 00.27.186 1.258 1.258 0 00.412.058zM19.185 3h-.612l-1.764 4h.612zm.884 2.949a2.328 2.328 0 00-.044-.493.808.808 0 00-.147-.331.592.592 0 00-.27-.186 1.465 1.465 0 00-.823 0 .582.582 0 00-.27.186.8.8 0 00-.148.331 2.328 2.328 0 00-.044.493 2.311 2.311 0 00.044.492.79.79 0 00.148.331.534.534 0 00.27.178 1.718 1.718 0 00.823 0 .543.543 0 00.27-.178.8.8 0 00.147-.331 2.311 2.311 0 00.044-.492z"/></svg>',categories:["editor"]},{name:"top-records",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="top-records-title top-records-desc"><title id="top-records-title">Top Records Icon</title><desc id="top-records-desc">Shows records positioned at the top.</desc><path d="M12 14l4 4h-3v4h-2v-4H8zm0-8H8v2h4zm4 4H8v2h8zm2-8H6a2 2 0 00-2 2v16a2 2 0 002 2h3v-2H6V4h12v16h-3v2h3a2 2 0 002-2V4a2 2 0 00-2-2z"/></svg>',categories:["editor"]},{name:"ungroup",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="ungroup-title ungroup-desc"><title id="ungroup-title">Ungroup Icon</title><desc id="ungroup-desc">A picture depicting a broken box with four squares inside it.</desc><path d="M15 15h5v5h-5zm-9-2h5v5H6zm7-7h5v5h-5zM6 6h5v5H6z"/><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h9v-2H4V4h16v9h2V4a2 2 0 00-2-2z"/></svg>',categories:["editor"],keywords:["ungroup","exclude","extract"]},{name:"year-to-date",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="year-to-date-title year-to-date-desc"><title id="year-to-date-title">Year To Date Icon</title><desc id="year-to-date-desc">A picture depicting an year calendar.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM5 10h1.127L7.2 11.58 8.258 10h1.121l-1.7 2.465V14H6.677v-1.558zm5.044.74V10h3.745v.74h-1.37V14h-1.005v-3.26zm6.882-.74a2.667 2.667 0 01.823.123 1.86 1.86 0 01.659.37 1.679 1.679 0 01.435.616 2.205 2.205 0 01.157.868 2.456 2.456 0 01-.128.807 1.7 1.7 0 01-.387.639 1.828 1.828 0 01-.647.423 2.453 2.453 0 01-.912.154h-1.972v-4zm-.07 3.26a1.46 1.46 0 00.422-.061.951.951 0 00.365-.205 1.007 1.007 0 00.256-.372 1.453 1.453 0 00.1-.56 2.054 2.054 0 00-.067-.547 1.046 1.046 0 00-.221-.417.973.973 0 00-.407-.266 1.818 1.818 0 00-.624-.092h-.717v2.52z"/></svg>',categories:["editor"]},{name:"year",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="year-title year-desc"><title id="year-title">Year icon</title><desc id="year-desc">A picture depicting an year calendar.</desc><path d="M20 2H4a2 2 0 00-2 2v16a2 2 0 002 2h16a2 2 0 002-2V4a2 2 0 00-2-2zm0 18H4V4h16zM7.7 11.634a1.151 1.151 0 00.317-.063.618.618 0 00.243-.152.367.367 0 00.1-.264.429.429 0 00-.2-.379.79.79 0 00-.452-.132.689.689 0 00-.533.2.668.668 0 00-.175.487h-.888a1.428 1.428 0 01.127-.542 1.246 1.246 0 01.321-.42 1.465 1.465 0 01.5-.273A2.022 2.022 0 017.7 10a2.258 2.258 0 01.55.069 1.7 1.7 0 01.5.206 1.21 1.21 0 01.357.336.784.784 0 01.137.456.8.8 0 01-.16.495.815.815 0 01-.482.292v.011a1.04 1.04 0 01.6.308.813.813 0 01.216.567 1.041 1.041 0 01-.14.539 1.238 1.238 0 01-.377.4 1.785 1.785 0 01-.544.242A2.605 2.605 0 017 13.906a1.542 1.542 0 01-.54-.272 1.207 1.207 0 01-.344-.438A1.322 1.322 0 016 12.6h.885a.931.931 0 00.058.294.7.7 0 00.151.243.727.727 0 00.246.162.925.925 0 00.35.06.86.86 0 00.531-.162.524.524 0 00.216-.443.5.5 0 00-.1-.335.59.59 0 00-.259-.168 1.281 1.281 0 00-.344-.061 8.981 8.981 0 00-.357-.008v-.55a2.453 2.453 0 00.323.002zm4.814-.9a.591.591 0 00-.406-.143.684.684 0 00-.416.123.949.949 0 00-.265.3 1.42 1.42 0 00-.144.382 1.989 1.989 0 00-.052.363l.012.011a1.072 1.072 0 01.446-.329 1.685 1.685 0 011.166.008 1.449 1.449 0 01.478.288 1.1 1.1 0 01.269.4 1.306 1.306 0 01.085.457 1.338 1.338 0 01-.115.552 1.3 1.3 0 01-.327.446 1.549 1.549 0 01-.508.3 1.915 1.915 0 01-.655.107 1.877 1.877 0 01-.858-.174 1.491 1.491 0 01-.544-.453 1.7 1.7 0 01-.281-.636 3.3 3.3 0 01-.079-.724 2.713 2.713 0 01.1-.715 1.924 1.924 0 01.315-.646 1.65 1.65 0 01.556-.471 1.752 1.752 0 01.827-.18 2.055 2.055 0 01.55.071 1.517 1.517 0 01.453.207 1.116 1.116 0 01.32.333 1.177 1.177 0 01.164.456h-.884a.638.638 0 00-.21-.335zm-.782 1.257a.627.627 0 00-.233.157.664.664 0 00-.138.228.821.821 0 00-.045.272.732.732 0 00.049.262.7.7 0 00.144.231.706.706 0 00.232.162.783.783 0 00.315.06.692.692 0 00.3-.06.72.72 0 00.219-.16.67.67 0 00.138-.225.773.773 0 00.046-.259.828.828 0 00-.043-.266.683.683 0 00-.128-.232.624.624 0 00-.219-.165.726.726 0 00-.311-.063.836.836 0 00-.329.056zm4.129-1.268l-.183.875.013.01a1.2 1.2 0 01.406-.228 1.783 1.783 0 011.094.036 1.326 1.326 0 01.442.28 1.186 1.186 0 01.275.416 1.355 1.355 0 01.095.509 1.159 1.159 0 01-.137.553 1.456 1.456 0 01-.371.443 1.694 1.694 0 01-.54.288 1.983 1.983 0 01-.655.1 2.7 2.7 0 01-.638-.074 1.725 1.725 0 01-.541-.229 1.226 1.226 0 01-.377-.382 1.054 1.054 0 01-.147-.531h.93a.607.607 0 00.236.421.922.922 0 00.848.093.773.773 0 00.249-.165.706.706 0 00.157-.237.718.718 0 00.056-.277.754.754 0 00-.052-.281.64.64 0 00-.158-.231.738.738 0 00-.248-.154.932.932 0 00-.334-.055.957.957 0 00-.406.074.91.91 0 00-.3.234h-.838l.452-2.129h2.561v.644z"/></svg>',categories:["editor"]},{name:"yesterday",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="yesterday-title yesterday-desc"><title id="yesterday-title">Yesterday Icon</title><desc id="yesterday-desc">A picture depicting a calendar with a back arrow in the middle.</desc><path d="M10.68 15.38h6.13v-1.75h-6.13V11l-3.49 3.5 3.49 3.5v-2.62z"/><path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2zm0 16H5V9h14z"/></svg>',categories:["editor"],keywords:["yesterday","date","calendar","left","arrow","past","previous","day"]},{name:"tomorrow",value:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-labelledby="tomorrow-title tomorrow-desc"><title id="tomorrow-title">Tomorrow Icon</title><desc id="tomorrow-desc">A picture depicting a calendar with a right-pointed arrow in the middle.</desc><path d="M13.3 13.6H7.2v1.8h6.1V18l3.5-3.5-3.5-3.5v2.6z"/><path d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/></svg>',categories:["editor"],keywords:["tomorrow","date","calendar","right","arrow","future","next","day"]}],lR=(e=>(e[e.construction=0]="construction",e[e.content=1]="content",e[e.editor=2]="editor",e[e.election=3]="election",e[e.finance=4]="finance",e[e.health=5]="health",e[e.logos=6]="logos",e[e.programming=7]="programming",e[e["social media"]=8]="social media",e))(lR||{});function dR(e,t){if(1&e){let e=nh();Yc(0,"igx-grid-action-button",5),oh("actionClick",(function(t){return Is(e),Ts(dh(2).startEdit(t))})),Xc()}if(2&e){let e=dh(2);Uc("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_edit_label)}}function cR(e,t){if(1&e){let e=nh();Yc(0,"igx-grid-action-button",6),oh("actionClick",(function(t){return Is(e),Ts(dh(2).addRowHandler(t))})),Xc()}if(2&e){let e=dh(2);Uc("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_add_label)}}function hR(e,t){if(1&e){let e=nh();Yc(0,"igx-grid-action-button",7),oh("actionClick",(function(t){return Is(e),Ts(dh(2).addRowHandler(t,!0))})),Xc()}if(2&e){let e=dh(2);Uc("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_add_child_label)}}function uR(e,t){if(1&e){let e=nh();Yc(0,"igx-grid-action-button",8),oh("actionClick",(function(t){return Is(e),Ts(dh(2).deleteRowHandler(t))})),Xc()}if(2&e){let e=dh(2);Uc("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_delete_label)}}function gR(e,t){if(1&e&&(Jc(0),Wc(1,dR,1,2,"igx-grid-action-button",1),Wc(2,cR,1,2,"igx-grid-action-button",2),Wc(3,hR,1,2,"igx-grid-action-button",3),Wc(4,uR,1,2,"igx-grid-action-button",4),eh()),2&e){let e=dh();Ed(1),Uc("ngIf",!e.disabled&&e.editRow),Ed(1),Uc("ngIf",e.addRow&&e.isRootRow),Ed(1),Uc("ngIf",e.addChild&&e.hasChildren),Ed(1),Uc("ngIf",!e.disabled&&e.deleteRow)}}(e=>{e.values=function(){return Object.keys(lR).filter((e=>!function(e){let t=~~Number(e);return String(t)===e&&t>=0}(e)))}})(qk||(qk={}));var pR=(()=>{let e=class extends zk{constructor(){super(...arguments),this.cssClass="igx-action-strip__editing-actions",this.editRow=!0,this.deleteRow=!0,this.addChild=!1,this.isMessageShown=!1,this._addRow=!1,this.iconsRendered=!1}set addRow(e){this._addRow=e}get addRow(){return this.iconsRendered||(this.registerIcons(),this.iconsRendered=!0),this._addRow}get disabled(){if(this.isRow(this.strip.context))return this.strip.context.disabled}get isRootRow(){return!!this.isRow(this.strip.context)&&this.strip.context.isRoot}get hasChildren(){return!!this.isRow(this.strip.context)&&this.strip.context.hasChildren}startEdit(e){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let t=this.strip.context,i=t.cells.filter((e=>e.editable))[0],n=t.grid;n.hasEditableColumns?(0!==n.rowList.filter((e=>e===t)).length&&(n.gridAPI.crudService.enterEditMode(i,e),n.gridAPI.crudService.nonEditable||i.activate(e)),this.strip.hide()):this.isMessageShown=(this.isMessageShown,!0)}deleteRowHandler(e){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let t=this.strip.context;t.grid.deleteRow(t.key),this.strip.hide()}addRowHandler(e,t){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let i=this.strip.context,n=i.grid;n.rowEditable?(n.gridAPI.crudService.enterAddRowMode(i,t,e),this.strip.hide()):console.warn("The grid must use row edit mode to perform row adding! Please set rowEditable to true.")}registerIcons(){this.iconService.addSvgIconFromText(Jk.name,Jk.value,"imx-icons",!0),this.iconService.addSvgIconFromText(Qk.name,Qk.value,"imx-icons",!0)}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.cmp=Yn({type:e,selectors:[["igx-grid-editing-actions"]],hostVars:2,hostBindings:function(e,t){2&e&&Ah("igx-action-strip__editing-actions",t.cssClass)},inputs:{addRow:"addRow",editRow:"editRow",deleteRow:"deleteRow",addChild:"addChild"},standalone:!0,features:[cu([{provide:zk,useExisting:e}]),Tc,yu],decls:1,vars:1,consts:[[4,"ngIf"],["iconName","edit",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconName","add-row","iconSet","imx-icons",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconName","add-child","iconSet","imx-icons",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["class","igx-action-strip__delete","classNames","igx-action-strip__menu-item--danger","iconName","delete",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconName","edit",3,"asMenuItem","labelText","actionClick"],["iconName","add-row","iconSet","imx-icons",3,"asMenuItem","labelText","actionClick"],["iconName","add-child","iconSet","imx-icons",3,"asMenuItem","labelText","actionClick"],["classNames","igx-action-strip__menu-item--danger","iconName","delete",1,"igx-action-strip__delete",3,"asMenuItem","labelText","actionClick"]],template:function(e,t){1&e&&Wc(0,gR,5,4,"ng-container",0),2&e&&Uc("ngIf",t.isRowContext)},dependencies:[Em,sk],encapsulation:2}),t})();function mR(e,t){if(1&e){let e=nh();Yc(0,"igx-grid-action-button",5),oh("actionClick",(function(t){return Is(e),Ts(dh(2).scrollToRow(t))})),Xc()}if(2&e){let e=dh(2);Uc("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_jumpDown_label)}}function fR(e,t){if(1&e){let e=nh();Yc(0,"igx-grid-action-button",6),oh("actionClick",(function(t){return Is(e),Ts(dh(2).scrollToRow(t))})),Xc()}if(2&e){let e=dh(2);Uc("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_jumpUp_label)}}function yR(e,t){if(1&e){let e=nh();Yc(0,"igx-grid-action-button",7),oh("actionClick",(function(t){return Is(e),Ts(dh(2).pin(t))})),Xc()}if(2&e){let e=dh(2);Uc("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_pin_label)}}function vR(e,t){if(1&e){let e=nh();Yc(0,"igx-grid-action-button",8),oh("actionClick",(function(t){return Is(e),Ts(dh(2).unpin(t))})),Xc()}if(2&e){let e=dh(2);Uc("asMenuItem",e.asMenuItems)("labelText",e.grid.resourceStrings.igx_grid_actions_unpin_label)}}function xR(e,t){if(1&e&&(Jc(0),Wc(1,mR,1,2,"igx-grid-action-button",1),Wc(2,fR,1,2,"igx-grid-action-button",2),Wc(3,yR,1,2,"igx-grid-action-button",3),Wc(4,vR,1,2,"igx-grid-action-button",4),eh()),2&e){let e=dh();Ed(1),Uc("ngIf",e.inPinnedArea&&e.pinnedTop),Ed(1),Uc("ngIf",e.inPinnedArea&&!e.pinnedTop),Ed(1),Uc("ngIf",!e.pinned),Ed(1),Uc("ngIf",e.pinned)}}var _R=(()=>{let e=class extends zk{constructor(){super(...arguments),this.cssClass="igx-action-strip__pinning-actions",this.iconsRendered=!1}get pinned(){if(!this.isRow(this.strip.context))return;let e=this.strip.context;return e&&!this.iconsRendered&&(this.registerSVGIcons(),this.iconsRendered=!0),e&&e.pinned}get inPinnedArea(){if(!this.isRow(this.strip.context))return;let e=this.strip.context;return this.pinned&&!e.disabled}get pinnedTop(){if(this.isRow(this.strip.context))return this.strip.context.grid.isRowPinningToTop}pin(e){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let t=this.strip.context,i=t.grid;i.pinRow(t.key,i.pinnedRecords.length),this.strip.hide()}unpin(e){if(e&&e.stopPropagation(),!this.isRow(this.strip.context))return;let t=this.strip.context;t.grid.unpinRow(t.key),this.strip.hide()}scrollToRow(e){e&&e.stopPropagation();let t=this.strip.context;t.grid.scrollTo(t.data,0),this.strip.hide()}registerSVGIcons(){this.isRow(this.strip.context)&&this.strip.context.grid&&(this.iconService.addSvgIconFromText(iR.name,iR.value,"imx-icons",!0),this.iconService.addSvgIconFromText(nR.name,nR.value,"imx-icons",!0),this.iconService.addSvgIconFromText(eR.name,eR.value,"imx-icons",!0),this.iconService.addSvgIconFromText(tR.name,eR.value,"imx-icons",!0))}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.cmp=Yn({type:e,selectors:[["igx-grid-pinning-actions"]],hostVars:2,hostBindings:function(e,t){2&e&&Ah("igx-action-strip__pinning-actions",t.cssClass)},standalone:!0,features:[cu([{provide:zk,useExisting:e}]),Tc,yu],decls:1,vars:1,consts:[[4,"ngIf"],["iconSet","imx-icons","iconName","jump-down",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconSet","imx-icons","iconName","jump-up",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconSet","imx-icons","iconName","pin-left",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconSet","imx-icons","iconName","unpin-left",3,"asMenuItem","labelText","actionClick",4,"ngIf"],["iconSet","imx-icons","iconName","jump-down",3,"asMenuItem","labelText","actionClick"],["iconSet","imx-icons","iconName","jump-up",3,"asMenuItem","labelText","actionClick"],["iconSet","imx-icons","iconName","pin-left",3,"asMenuItem","labelText","actionClick"],["iconSet","imx-icons","iconName","unpin-left",3,"asMenuItem","labelText","actionClick"]],template:function(e,t){1&e&&Wc(0,xR,5,4,"ng-container",0),2&e&&Uc("ngIf",t.isRowContext)},dependencies:[Em,sk],encapsulation:2}),t})(),wR=new Dl("IgxExpansionPanelToken"),CR=(()=>{let e=class{constructor(e){this.element=e,this.getTooltipContent=e=>e.nativeElement.title?e.nativeElement.title:e.nativeElement.textContent?e.nativeElement.textContent.trim():null}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld))},e.dir=er({type:e}),t})(),SR=["*"],bR=(()=>{let e=class{constructor(e,t,i){this.panel=e,this.element=t,this.cdr=i,this.cssClass="igx-expansion-panel__body",this.role="region",this._labelledBy="",this._label=""}get label(){return this._label||this.panel.id+"-region"}set label(e){this._label=e}get labelledBy(){return this._labelledBy}set labelledBy(e){this._labelledBy=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(wR),Rd(ld),Rd(Jg))},e.cmp=Yn({type:e,selectors:[["igx-expansion-panel-body"]],hostVars:5,hostBindings:function(e,t){2&e&&(Gc("role",t.role)("aria-label",t.label)("aria-labelledby",t.labelledBy),Ah("igx-expansion-panel__body",t.cssClass))},inputs:{role:"role",label:"label",labelledBy:"labelledBy"},standalone:!0,features:[yu],ngContentSelectors:SR,decls:1,vars:0,template:function(e,t){1&e&&(hh(),uh(0))},encapsulation:2}),t})(),DR=(()=>{let e=class extends CR{constructor(){super(...arguments),this.cssClass="igx-expansion-panel__header-title"}get title(){return this.getTooltipContent(this.element)}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["igx-expansion-panel-title"]],hostVars:3,hostBindings:function(e,t){2&e&&(Gc("title",t.title),Ah("igx-expansion-panel__header-title",t.cssClass))},standalone:!0,features:[Tc]}),t})(),ER=((()=>{let e=class extends CR{constructor(){super(...arguments),this.cssClass="igx-expansion-panel__header-description"}get title(){return this.getTooltipContent(this.element)}},t=e;e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["igx-expansion-panel-description"]],hostVars:3,hostBindings:function(e,t){2&e&&(Gc("title",t.title),Ah("igx-expansion-panel__header-description",t.cssClass))},standalone:!0,features:[Tc]})})(),(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["igx-expansion-panel-icon"]],standalone:!0}),t})());function IR(e,t){1&e&&uh(0,3,["*ngIf","iconTemplate"])}function TR(e,t){if(1&e&&(Yc(0,"igx-icon"),$h(1),Xc()),2&e){let e=dh();Ed(1),Kh(" ",e.panel.collapsed?"expand_more":"expand_less"," ")}}var AR=[[["igx-expansion-panel-title"]],[["igx-expansion-panel-description"]],"*",[["igx-expansion-panel-icon"]]],kR=["igx-expansion-panel-title","igx-expansion-panel-description","*","igx-expansion-panel-icon"],RR="left",OR="none",FR="right",PR=(()=>{let e=class{get iconRef(){let e=this.customIconRef??this.defaultIconRef;return this.iconPosition!==OR?e:null}set iconTemplate(e){this._iconTemplate=e}get iconTemplate(){return this._iconTemplate}get controls(){return this.panel.id}get innerElement(){return this.elementRef.nativeElement.children[0]}get isExpanded(){return!this.panel.collapsed}get disabled(){return this._disabled}set disabled(e){this._disabled=e,e?delete this.tabIndex:this.tabIndex=0}constructor(e,t,i){this.panel=e,this.cdr=t,this.elementRef=i,this.lv="3",this.role="heading",this.iconPosition=RR,this.interaction=new zu,this.cssClass="igx-expansion-panel__header",this.id="",this.tabIndex=0,this._iconTemplate=!1,this._disabled=!1,this.id=`${this.panel.id}-header`}onAction(e){if(this.disabled)return void e.stopPropagation();let t={event:e,owner:this.panel,cancel:!1};this.interaction.emit(t),!0!==t.cancel&&(this.panel.toggle(e),e.preventDefault())}openPanel(e){if(e.altKey){let t={event:e,owner:this.panel,cancel:!1};if(this.interaction.emit(t),!0===t.cancel)return;this.panel.expand(e)}}closePanel(e){if(e.altKey){let t={event:e,owner:this.panel,cancel:!1};if(this.interaction.emit(t),!0===t.cancel)return;this.panel.collapse(e)}}get iconPositionClass(){switch(this.iconPosition){case RR:return"igx-expansion-panel__header-icon--start";case FR:return"igx-expansion-panel__header-icon--end";case OR:return"igx-expansion-panel__header-icon--none";default:return""}}},t=e;return e.fac=function(t){return new(t||e)(Rd(wR,1),Rd(Jg),Rd(ld))},e.cmp=Yn({type:e,selectors:[["igx-expansion-panel-header"]],contentQueries:function(e,t,i){if(1&e&&(mg(i,ER,5),mg(i,ER,5,ld)),2&e){let e;gg(e=fg())&&(t.iconTemplate=e.first),gg(e=fg())&&(t.customIconRef=e.first)}},viewQuery:function(e,t){if(1&e&&pg(FI,5,ld),2&e){let e;gg(e=fg())&&(t.defaultIconRef=e.first)}},hostVars:8,hostBindings:function(e,t){1&e&&oh("keydown.Enter",(function(e){return t.onAction(e)}))("keydown.Space",(function(e){return t.onAction(e)}))("keydown.Spacebar",(function(e){return t.onAction(e)}))("click",(function(e){return t.onAction(e)}))("keydown.Alt.ArrowDown",(function(e){return t.openPanel(e)}))("keydown.Alt.ArrowUp",(function(e){return t.closePanel(e)})),2&e&&(Gc("aria-level",t.lv)("role",t.role),Ah("igx-expansion-panel__header",t.cssClass)("igx-expansion-panel__header--expanded",t.isExpanded)("igx-expansion-panel--disabled",t.disabled))},inputs:{lv:"lv",role:"role",iconPosition:"iconPosition",disabled:"disabled"},outputs:{interaction:"interaction"},standalone:!0,features:[yu],ngContentSelectors:kR,decls:8,vars:9,consts:[["role","button",1,"igx-expansion-panel__header-inner"],[1,"igx-expansion-panel__title-wrapper"],[4,"ngIf"]],template:function(e,t){1&e&&(hh(AR),Yc(0,"div",0)(1,"div",1),uh(2),uh(3,1),Xc(),uh(4,2),Yc(5,"div"),Wc(6,IR,1,0,"ng-content",2),Wc(7,TR,2,1,"igx-icon",2),Xc()()),2&e&&(Gc("tabindex",t.tabIndex)("id",t.id)("aria-disabled",t.disabled)("aria-expanded",t.isExpanded)("aria-controls",t.controls),Ed(5),kh(t.iconPositionClass),Ed(1),Uc("ngIf",t.iconTemplate),Ed(1),Uc("ngIf",!t.iconTemplate))},dependencies:[Em,FI],encapsulation:2}),t})(),MR=((MR=MR||{}).OPEN="open",MR.CLOSE="close",MR),VR=(()=>{let e=class{get animationSettings(){return this._animationSettings}set animationSettings(e){this._animationSettings=e}constructor(e){this.animationService=e,this.openAnimationDone=new zu,this.closeAnimationDone=new zu,this.openAnimationStart=new zu,this.closeAnimationStart=new zu,this.openAnimationPlayer=null,this.closeAnimationPlayer=null,this.destroy$=new We,this.players=new Map,this._animationSettings={openAnimation:$x,closeAnimation:Wx},this.closeInterrupted=!1,this.openInterrupted=!1,this._defaultClosedCallback=vt,this._defaultOpenedCallback=vt,this.onClosedCallback=this._defaultClosedCallback,this.onOpenedCallback=this._defaultOpenedCallback}playOpenAnimation(e,t){this.startPlayer(MR.OPEN,e,t||this._defaultOpenedCallback)}playCloseAnimation(e,t){this.startPlayer(MR.CLOSE,e,t||this._defaultClosedCallback)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}startPlayer(e,t,i){if(!t)return;let n=this.getPlayer(e);n||(n=this.initializePlayer(e,t,i)),n&&!n.hasStarted()&&((e===MR.OPEN?this.openAnimationStart:this.closeAnimationStart).emit(),n&&n.play())}initializePlayer(e,t,i){let n=e===MR.OPEN?MR.CLOSE:MR.OPEN,r=this.animationSettings||{closeAnimation:null,openAnimation:null},s=e===MR.OPEN?r.openAnimation:r.closeAnimation;if(!s)return this.setCallback(e,i),(e===MR.OPEN?this.openAnimationStart:this.closeAnimationStart).emit(),void this.onDoneHandler(e);let o=this.getPlayer(n),a=1;o&&(a=o.position,this.cleanUpPlayer(n)),e===MR.OPEN?this.openAnimationPlayer=this.animationService.buildAnimation(s,t.nativeElement):e===MR.CLOSE&&(this.closeAnimationPlayer=this.animationService.buildAnimation(s,t.nativeElement));let l=this.getPlayer(e);return l.init(),this.getPlayer(e).position=1-a,this.setCallback(e,i),l.animationEnd.pipe(yi(this.destroy$)).subscribe((()=>{this.onDoneHandler(e)})),l}onDoneHandler(e){let t=e===MR.OPEN?this.openAnimationDone:this.closeAnimationDone;(e===MR.OPEN?this.onOpenedCallback:this.onClosedCallback)(),(e===MR.OPEN?this.openInterrupted:this.closeInterrupted)||t.emit(),this.cleanUpPlayer(e)}setCallback(e,t){e===MR.OPEN?(this.onOpenedCallback=t,this.openInterrupted=!1):e===MR.CLOSE&&(this.onClosedCallback=t,this.closeInterrupted=!1)}cleanUpPlayer(e){switch(e){case MR.CLOSE:null!=this.closeAnimationPlayer&&(this.closeAnimationPlayer.reset(),this.closeAnimationPlayer.destroy(),this.closeAnimationPlayer=null),this.closeInterrupted=!0,this.onClosedCallback=this._defaultClosedCallback;break;case MR.OPEN:null!=this.openAnimationPlayer&&(this.openAnimationPlayer.reset(),this.openAnimationPlayer.destroy(),this.openAnimationPlayer=null),this.openInterrupted=!0,this.onOpenedCallback=this._defaultOpenedCallback}}getPlayer(e){switch(e){case MR.OPEN:return this.openAnimationPlayer;case MR.CLOSE:return this.closeAnimationPlayer;default:return null}}},t=e;return e.fac=function(t){return new(t||e)(Rd(wE))},e.dir=er({type:e}),t})();function NR(e,t){1&e&&uh(0,1,["*ngIf","!collapsed"])}var LR=[[["igx-expansion-panel-header"]],[["igx-expansion-panel-body"]]],HR=["igx-expansion-panel-header","igx-expansion-panel-body"],BR=0,GR=(()=>{let e=class extends VR{get animationSettings(){return this._animationSettings}set animationSettings(e){this._animationSettings=e}get panelExpanded(){return!this.collapsed}get headerId(){return this.header?`${this.id}-header`:""}get nativeElement(){return this.elementRef.nativeElement}constructor(e,t,i){super(e),this.cdr=t,this.elementRef=i,this.id="igx-expansion-panel-"+BR++,this.cssClass="igx-expansion-panel",this.opened=!1,this.collapsed=!0,this.collapsedChange=new zu,this.contentCollapsing=new zu,this.contentCollapsed=new zu,this.contentExpanding=new zu,this.contentExpanded=new zu}ngAfterContentInit(){this.body&&this.header&&Promise.resolve().then((()=>{this.body.labelledBy=this.body.labelledBy||this.headerId,this.body.label=this.body.label||this.id+"-region"}))}collapse(e){if(this.collapsed||this.closeAnimationPlayer)return;let t={event:e,panel:this,owner:this,cancel:!1};this.contentCollapsing.emit(t),!0!==t.cancel&&(this.opened=!1,this.playCloseAnimation(this.body?.element,(()=>{this.contentCollapsed.emit({event:e,owner:this}),this.collapsed=!0,this.collapsedChange.emit(!0),this.cdr.markForCheck()})))}expand(e){if(!this.collapsed)return;let t={event:e,panel:this,owner:this,cancel:!1};this.contentExpanding.emit(t),!0!==t.cancel&&(this.collapsed=!1,this.opened=!0,this.collapsedChange.emit(!1),this.cdr.detectChanges(),this.playOpenAnimation(this.body?.element,(()=>{this.contentExpanded.emit({event:e,owner:this})})))}toggle(e){this.collapsed?this.open(e):this.close(e)}open(e){this.expand(e)}close(e){this.collapse(e)}},t=e;return e.fac=function(t){return new(t||e)(Rd(wE),Rd(Jg),Rd(ld))},e.cmp=Yn({type:e,selectors:[["igx-expansion-panel"]],contentQueries:function(e,t,i){if(1&e&&(mg(i,bR,5,bR),mg(i,PR,5,PR)),2&e){let e;gg(e=fg())&&(t.body=e.first),gg(e=fg())&&(t.header=e.first)}},hostVars:6,hostBindings:function(e,t){2&e&&(Gc("id",t.id)("aria-expanded",t.panelExpanded),Ah("igx-expansion-panel",t.cssClass)("igx-expansion-panel--expanded",t.opened))},inputs:{animationSettings:"animationSettings",id:"id",collapsed:"collapsed"},outputs:{collapsedChange:"collapsedChange",contentCollapsing:"contentCollapsing",contentCollapsed:"contentCollapsed",contentExpanding:"contentExpanding",contentExpanded:"contentExpanded"},standalone:!0,features:[cu([{provide:wR,useExisting:e}]),Tc,yu],ngContentSelectors:HR,decls:2,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(hh(LR),uh(0),Wc(1,NR,1,0,"ng-content",0)),2&e&&(Ed(1),Uc("ngIf",!t.collapsed))},dependencies:[Em],encapsulation:2}),t})(),zR=[[["igx-expansion-panel"]]],$R=["igx-expansion-panel"],WR=0,jR=(()=>{let e=class{get animationSettings(){return this._animationSettings}set animationSettings(e){this._animationSettings=e,this.updatePanelsAnimation()}get singleBranchExpand(){return this._singleBranchExpand}set singleBranchExpand(e){this._singleBranchExpand=e,e&&this.collapseAllExceptLast()}get panels(){return this._panels?.toArray()}constructor(e){this.cdr=e,this.id="igx-accordion-"+WR++,this.cssClass="igx-accordion",this.displayStyle="block",this.panelExpanding=new zu,this.panelExpanded=new zu,this.panelCollapsing=new zu,this.panelCollapsed=new zu,this._destroy$=new We,this._unsubChildren$=new We,this._singleBranchExpand=!1}ngAfterContentInit(){this.updatePanelsAnimation(),this.singleBranchExpand&&this.collapseAllExceptLast()}ngAfterViewInit(){this._expandedPanels=new Set(this._panels.filter((e=>!e.collapsed))),this._expandingPanels=new Set,this._panels.changes.pipe(yi(this._destroy$)).subscribe((()=>{this.subToChanges()})),this.subToChanges()}ngOnDestroy(){this._unsubChildren$.next(),this._unsubChildren$.complete(),this._destroy$.next(),this._destroy$.complete()}expandAll(){if(this.singleBranchExpand){for(let e=0;e<this.panels.length-1;e++)this.panels[e].collapse();this._panels.last.expand()}else this.panels.forEach((e=>e.expand()))}collapseAll(){this.panels.forEach((e=>e.collapse()))}collapseAllExceptLast(){let e=this.panels?.filter((e=>!e.collapsed&&!e.header.disabled)).pop();this.panels?.forEach((t=>{t!==e&&!t.header.disabled&&(t.collapsed=!0)})),this.cdr.detectChanges()}handleKeydown(e,t){let i=e.key.toLowerCase();US.has(i)&&(this._enabledPanels=this._panels.filter((e=>!e.header.disabled)),e.preventDefault(),this.handleNavigation(e,t))}handleNavigation(e,t){switch(e.key.toLowerCase()){case"home":this._enabledPanels[0].header.innerElement.focus();break;case"end":this._enabledPanels[this._enabledPanels.length-1].header.innerElement.focus();break;case"arrowup":case"up":this.handleUpDownArrow(!0,e,t);break;case"arrowdown":case"down":this.handleUpDownArrow(!1,e,t)}}handleUpDownArrow(e,t,i){if(!t.altKey){let t=i,n=this.getNextPanel(t,e?-1:1);if(n===t)return;n.header.innerElement.focus()}if(t.altKey&&t.shiftKey)if(e)this._enabledPanels.forEach((e=>e.collapse()));else{if(this.singleBranchExpand){for(let e=0;e<this._enabledPanels.length-1;e++)this._enabledPanels[e].collapse();return void this._enabledPanels[this._enabledPanels.length-1].expand()}this._enabledPanels.forEach((e=>e.expand()))}}getNextPanel(e,t=1){let i=this._enabledPanels.indexOf(e);return this._enabledPanels[i+t]||e}subToChanges(){this._unsubChildren$.next(),this._panels.forEach((e=>{e.contentExpanded.pipe(yi(this._unsubChildren$)).subscribe((e=>{this._expandedPanels.add(e.owner),this._expandingPanels.delete(e.owner);let t=v(y({},e),{owner:this,panel:e.owner});this.panelExpanded.emit(t)})),e.contentExpanding.pipe(yi(this._unsubChildren$)).subscribe((e=>{if(e.cancel)return;let t=v(y({},e),{owner:this,panel:e.owner});this.panelExpanding.emit(t),t.cancel?e.cancel=!0:this.singleBranchExpand&&(this._expandedPanels.forEach((e=>{e.header.disabled||e.collapse()})),this._expandingPanels.forEach((e=>{e.header.disabled||(e.animationSettings.closeAnimation||e.openAnimationPlayer?.reset(),e.animationSettings.openAnimation||e.closeAnimationPlayer?.reset(),e.collapse())})),this._expandingPanels.add(e.owner))})),e.contentCollapsed.pipe(yi(this._unsubChildren$)).subscribe((e=>{this._expandedPanels.delete(e.owner),this._expandingPanels.delete(e.owner);let t=v(y({},e),{owner:this,panel:e.owner});this.panelCollapsed.emit(t)})),e.contentCollapsing.pipe(yi(this._unsubChildren$)).subscribe((e=>{let t=v(y({},e),{owner:this,panel:e.owner});this.panelCollapsing.emit(t),t.cancel&&(e.cancel=!0)})),Lt(e.header.innerElement,"keydown").pipe(yi(this._unsubChildren$)).subscribe((t=>{this.handleKeydown(t,e)}))}))}updatePanelsAnimation(){void 0!==this.animationSettings&&this.panels?.forEach((e=>e.animationSettings=this.animationSettings))}},t=e;return e.fac=function(t){return new(t||e)(Rd(Jg))},e.cmp=Yn({type:e,selectors:[["igx-accordion"]],contentQueries:function(e,t,i){if(1&e&&mg(i,GR,4),2&e){let e;gg(e=fg())&&(t._panels=e)}},hostVars:5,hostBindings:function(e,t){2&e&&(Gc("id",t.id),Th("display",t.displayStyle),Ah("igx-accordion",t.cssClass))},inputs:{id:"id",animationSettings:"animationSettings",singleBranchExpand:"singleBranchExpand"},outputs:{panelExpanding:"panelExpanding",panelExpanded:"panelExpanded",panelCollapsing:"panelCollapsing",panelCollapsed:"panelCollapsed"},standalone:!0,features:[yu],ngContentSelectors:$R,decls:1,vars:0,template:function(e,t){1&e&&(hh(zR),uh(0))},encapsulation:2}),t})();function KR(e,t){if(1&e&&(Yc(0,"span",2),$h(1),Xc()),2&e){let e=dh();Ed(1),jh(e.value)}}function UR(e,t){if(1&e&&(Yc(0,"igx-icon"),$h(1),Xc()),2&e){let e=dh();Ed(1),jh(e.icon)}}var qR=0,YR="primary",XR="info",ZR="success",QR="warning",JR="error",eO=(()=>{let e=class{constructor(){this.id="igx-badge-"+qR++,this.type=YR,this.value="",this.role="status",this.cssClass="igx-badge",this.shape="rounded",this.label="badge"}get _squareShape(){return"square"===this.shape}get roleDescription(){return this.icon?this.type+" type badge with icon type "+this.icon:this.value||0===this.value?this.type+" badge type with value "+this.value:this.type+" badge type without value"}get infoClass(){return this.type===XR}get successClass(){return this.type===ZR}get warningClass(){return this.type===QR}get errorClass(){return this.type===JR}},t=e;return e.fac=function(t){return new(t||e)},e.cmp=Yn({type:e,selectors:[["igx-badge"]],hostVars:16,hostBindings:function(e,t){2&e&&(Gc("id",t.id)("role",t.role)("aria-label",t.label)("aria-roledescription",t.roleDescription),Ah("igx-badge",t.cssClass)("igx-badge--square",t._squareShape)("igx-badge--info",t.infoClass)("igx-badge--success",t.successClass)("igx-badge--warning",t.warningClass)("igx-badge--error",t.errorClass))},inputs:{id:"id",type:"type",value:"value",icon:"icon",shape:"shape"},standalone:!0,features:[yu],decls:2,vars:2,consts:[["class","igx-badge__value",4,"ngIf"],[4,"ngIf"],[1,"igx-badge__value"]],template:function(e,t){1&e&&(Wc(0,KR,2,1,"span",0),Wc(1,UR,2,1,"igx-icon",1)),2&e&&(Uc("ngIf",!t.icon),Ed(1),Uc("ngIf",t.icon))},dependencies:[Em,FI],encapsulation:2}),t})();function tO(e,t){if(1&e&&(Yc(0,"igx-icon"),$h(1),Xc()),2&e){let e=dh().$implicit;Ed(1),jh(e.icon)}}function iO(e,t){if(1&e&&(Yc(0,"span",5),$h(1),Xc()),2&e){let e=dh().$implicit;Ed(1),jh(e.label)}}function nO(e,t){if(1&e&&(Yc(0,"button",2)(1,"span"),Wc(2,tO,2,1,"igx-icon",3),Wc(3,iO,2,1,"span",4),Xc()()),2&e){let e=t.$implicit,i=dh();Uc("displayDensity",i.displayDensity)("selected",e.selected)("disabled",i.disabled||e.disabled)("igxButtonColor",e.color)("igxButtonBackground",e.bgcolor)("igxLabel",e.label)("igxRipple",e.ripple),Gc("data-togglable",e.togglable),Ed(1),qh("igx-button-group__item-content ",i.itemContentCssClass,""),Ed(1),Uc("ngIf",e.icon),Ed(1),Uc("ngIf",e.label)}}var rO=["*"],sO="horizontal",oO="vertical",aO=0,lO=(()=>{let e=class extends tI{get buttons(){return[...this.viewButtons.toArray(),...this.templateButtons.toArray()]}set itemContentCssClass(e){this._itemContentCssClass=e||this._itemContentCssClass}get itemContentCssClass(){return this._itemContentCssClass}get disabled(){return this._disabled}set disabled(e){this._disabled!==e&&(this._disabled=e,this.viewButtons&&this.templateButtons&&this.buttons.forEach((e=>e.disabled=this._disabled)))}set alignment(e){this._isVertical=e===oO}get alignment(){return this._isVertical?oO:sO}get isVertical(){return this._isVertical}constructor(e,t,i){super(i),this._cdr=e,this._renderer=t,this._displayDensityOptions=i,this.id="igx-buttongroup-"+aO++,this.zIndex=0,this.multiSelection=!1,this.selected=new zu,this.deselected=new zu,this.selectedIndexes=[],this.buttonClickNotifier$=new We,this.buttonSelectedNotifier$=new We,this.queryListNotifier$=new We,this._disabled=!1}get selectedButtons(){return this.buttons.filter(((e,t)=>-1!==this.selectedIndexes.indexOf(t)))}selectButton(e){e>=this.buttons.length||e<0||this.buttons[e].select()}updateSelected(e){let t=this.buttons[e];-1===this.selectedIndexes.indexOf(e)&&this.selectedIndexes.push(e),this._renderer.setAttribute(t.nativeElement,"aria-pressed","true"),this._renderer.addClass(t.nativeElement,"igx-button-group__item--selected");let i=this.viewButtons.toArray().indexOf(t);-1!==i&&(this.values[i].selected=!0),!this.multiSelection&&this.selectedIndexes.length>1&&this.buttons.forEach(((t,i)=>{i!==e&&-1!==this.selectedIndexes.indexOf(i)&&this.deselectButton(i)}))}deselectButton(e){if(e>=this.buttons.length||e<0)return;let t=this.buttons[e];this.selectedIndexes.splice(this.selectedIndexes.indexOf(e),1),this._renderer.setAttribute(t.nativeElement,"aria-pressed","false"),this._renderer.removeClass(t.nativeElement,"igx-button-group__item--selected"),t.deselect();let i=this.viewButtons.toArray().indexOf(t);-1!==i&&(this.values[i].selected=!1)}ngAfterContentInit(){this.templateButtons.forEach((e=>{e.initialDensity||(e.displayDensity=this.displayDensity)}))}ngAfterViewInit(){let e=()=>{this.buttonClickNotifier$.next(),this.selectedIndexes.splice(0,this.selectedIndexes.length),this.buttons.forEach(((e,t)=>{let i=e.nativeElement;this._renderer.addClass(i,"igx-button-group__item"),this.disabled&&(e.disabled=!0),e.selected&&this.updateSelected(t),e.buttonClick.pipe(yi(this.buttonClickNotifier$)).subscribe((e=>this._clickHandler(t))),e.buttonSelected.pipe(yi(this.buttonSelectedNotifier$)).subscribe((e=>this.updateSelected(t)))}))};this.viewButtons.changes.pipe(yi(this.queryListNotifier$)).subscribe((()=>e())),this.templateButtons.changes.pipe(yi(this.queryListNotifier$)).subscribe((()=>e())),e(),this._cdr.detectChanges()}ngOnDestroy(){this.buttonClickNotifier$.next(),this.buttonClickNotifier$.complete(),this.buttonSelectedNotifier$.next(),this.buttonSelectedNotifier$.complete(),this.queryListNotifier$.next(),this.queryListNotifier$.complete()}_clickHandler(e){let t=this.buttons[e];this.multiSelection||this.buttons.forEach(((t,i)=>{i!==e&&-1!==this.selectedIndexes.indexOf(i)&&this.deselected.emit({button:t,index:i})})),-1===this.selectedIndexes.indexOf(e)?(this.selectButton(e),this.selected.emit({button:t,index:e})):(this.deselectButton(e),this.deselected.emit({button:t,index:e}))}},t=e;return e.fac=function(t){return new(t||e)(Rd(Jg),Rd(hd),Rd(eI,8))},e.cmp=Yn({type:e,selectors:[["igx-buttongroup"]],contentQueries:function(e,t,i){if(1&e&&mg(i,CI,4),2&e){let e;gg(e=fg())&&(t.templateButtons=e)}},viewQuery:function(e,t){if(1&e&&pg(CI,5),2&e){let e;gg(e=fg())&&(t.viewButtons=e)}},hostVars:3,hostBindings:function(e,t){2&e&&(Gc("id",t.id),Th("z-index",t.zIndex))},inputs:{id:"id",itemContentCssClass:"itemContentCssClass",multiSelection:"multiSelection",values:"values",disabled:"disabled",alignment:"alignment"},outputs:{selected:"selected",deselected:"deselected"},standalone:!0,features:[Tc,yu],ngContentSelectors:rO,decls:3,vars:3,consts:[["role","group",1,"igx-button-group"],["type","button","igxButton","flat",3,"displayDensity","selected","disabled","igxButtonColor","igxButtonBackground","igxLabel","igxRipple",4,"ngFor","ngForOf"],["type","button","igxButton","flat",3,"displayDensity","selected","disabled","igxButtonColor","igxButtonBackground","igxLabel","igxRipple"],[4,"ngIf"],["class","igx-button-group__button-text",4,"ngIf"],[1,"igx-button-group__button-text"]],template:function(e,t){1&e&&(hh(),Yc(0,"div",0),Wc(1,nO,4,13,"button",1),uh(2),Xc()),2&e&&(Ah("igx-button-group--vertical",t.isVertical),Ed(1),Uc("ngForOf",t.values))},dependencies:[bm,CI,lA,Em,FI],encapsulation:2}),t})(),dO=(()=>{let e=class{get currentCSS(){return this.isCurrentYear}get role(){return this.isCurrentYear?"spinbutton":null}get valuenow(){return this.isCurrentYear?this.date.getFullYear():null}get tabIndex(){return this.isCurrentYear?0:-1}get isCurrentYear(){return this.date.getFullYear()===this.value.getFullYear()}get nativeElement(){return this.elementRef.nativeElement}constructor(e){this.elementRef=e,this.yearSelection=new zu}onClick(){this.yearSelection.emit(this.value)}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld))},e.dir=er({type:e,selectors:[["","igxCalendarYear",""]],hostVars:5,hostBindings:function(e,t){1&e&&oh("click",(function(){return t.onClick()})),2&e&&(Gc("role",t.role)("aria-valuenow",t.valuenow)("tabindex",t.tabIndex),Ah("igx-calendar__year--current",t.currentCSS))},inputs:{value:["igxCalendarYear","value"],date:"date"},outputs:{yearSelection:"yearSelection"},standalone:!0}),t})(),cO=(()=>{let e=class{get currentCSS(){return this.isCurrentMonth}get isCurrentMonth(){return this.date.getMonth()===this.value.getMonth()}get nativeElement(){return this.elementRef.nativeElement}constructor(e){this.elementRef=e,this.monthSelection=new zu}onClick(){let e=new Date(this.value.getFullYear(),this.value.getMonth(),this.date.getDate());this.monthSelection.emit(e)}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld))},e.dir=er({type:e,selectors:[["","igxCalendarMonth",""]],hostVars:2,hostBindings:function(e,t){1&e&&oh("click",(function(){return t.onClick()})),2&e&&Ah("igx-calendar__month--current",t.currentCSS)},inputs:{value:["igxCalendarMonth","value"],date:"date",index:"index"},outputs:{monthSelection:"monthSelection"},standalone:!0}),t})(),hO=(()=>{let e=class{constructor(e){this.template=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxCalendarHeader",""]],standalone:!0}),t})(),uO=(()=>{let e=class{constructor(e){this.template=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxCalendarSubheader",""]],standalone:!0}),t})(),gO=(()=>{let e=class{constructor(e,t,i){this.element=e,this.zone=t,this.platform=i,this.destroy$=new We}onMouseDown(){this.startScroll()}onMouseUp(e){this.stopScroll(e)}ngAfterViewInit(){Lt(this.element.nativeElement,"keyup").pipe(qt((()=>Gt(100))),yi(this.destroy$)).subscribe((e=>{this.stopScroll(e)})),this.zone.runOutsideAngular((()=>{Lt(this.element.nativeElement,"keydown").pipe(function(e,t,i){return function(t){return t.lift(new class{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new Si(e,this.nextOrObserver,this.error,this.complete))}}(e,undefined,undefined))}}((e=>{this.platform.isActivationKey(e)&&(e.preventDefault(),e.stopPropagation())})),qt((()=>Gt(100))),yi(this.destroy$)).subscribe((e=>{this.platform.isActivationKey(e)&&this.zone.run((()=>this.startScroll(!0)))}))}))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(Ig),Rd($S))},e.dir=er({type:e,selectors:[["","igxCalendarScrollMonth",""]],hostBindings:function(e,t){1&e&&oh("mousedown",(function(){return t.onMouseDown()}))("mouseup",(function(e){return t.onMouseUp(e)}))},inputs:{startScroll:"startScroll",stopScroll:"stopScroll"},standalone:!0}),t})(),pO=((pO=pO||{})[pO.After=0]="After",pO[pO.Before=1]="Before",pO[pO.Between=2]="Between",pO[pO.Specific=3]="Specific",pO[pO.Weekdays=4]="Weekdays",pO[pO.Weekends=5]="Weekends",pO),mO="single",fO="multi",yO="range",vO=((vO=vO||{}).PREV="prev",vO.NEXT="next",vO.NONE="none",vO),xO="month",_O="year",wO="decade",CO=((CO=CO||{}).Month="month",CO.Year="year",CO),SO=[31,28,31,30,31,30,31,31,30,31,30,31],bO=(e=0,t,i=1)=>{let n=[],r=void 0===t?e:t;for(let s=void 0===t?0:e;i<0?s>r:s<r;s+=i)n.push(s);return n},DO=(e,t)=>{if(t<0||t>11)throw new Error("Invalid month specified");let i=((e,t,i)=>new Date(e,t,1).getDay())(e,t),n=SO[t];return 1===t&&(e=>e%4==0&&(e%100!=0||e%400==0))(e)&&n++,[i,n]},EO=(e,t)=>{let i=(e=new Date(e.getFullYear(),e.getMonth(),e.getDate())).getTime();if(!t)return!1;for(let n of t){let t=n.dateRange?n.dateRange.map((e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()))):void 0;switch(n.type){case pO.After:if(i>t[0].getTime())return!0;break;case pO.Before:if(i<t[0].getTime())return!0;break;case pO.Between:let n=t.map((e=>e.getTime())),r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);if(i>=r&&i<=s)return!0;break;case pO.Specific:let o=t.map((e=>e.getTime()));for(let e of o)if(i===e)return!0;break;case pO.Weekdays:if(e.getDay()%6!=0)return!0;break;case pO.Weekends:if(e.getDay()%6==0)return!0;break;default:return!1}}return!1},IO=((IO=IO||{})[IO.SUNDAY=0]="SUNDAY",IO[IO.MONDAY=1]="MONDAY",IO[IO.TUESDAY=2]="TUESDAY",IO[IO.WEDNESDAY=3]="WEDNESDAY",IO[IO.THURSDAY=4]="THURSDAY",IO[IO.FRIDAY=5]="FRIDAY",IO[IO.SATURDAY=6]="SATURDAY",IO),TO=class{constructor(e=IO.SUNDAY){this._firstWeekDay=e}get firstWeekDay(){return this._firstWeekDay%7}set firstWeekDay(e){this._firstWeekDay=e}weekdays(){let e=[];for(let t of bO(this.firstWeekDay,this.firstWeekDay+7))e.push(t%7);return e}monthdates(e,t,i=!1){let n=new Date(e,t,1),r=(n.getDay()-this.firstWeekDay)%7;r<0&&(r=7-Math.abs(r)),n=this.timedelta(n,"day",-r);let s,o=[];for(;;)if(s=this.generateICalendarDate(n,e,t),o.push(s),n=this.timedelta(n,"day",1),n.getMonth()!==t&&n.getDay()===this.firstWeekDay){if(i&&o.length<=35)for(let i of bO(0,7))s=this.generateICalendarDate(n,e,t),o.push(s),n=this.timedelta(n,"day",1);break}return o}monthdatescalendar(e,t,i=!1){let n=this.monthdates(e,t,i),r=[];for(let e of bO(0,n.length,7))r.push(n.slice(e,e+7));return r}timedelta(e,t,i){let n=new Date(e),r=()=>{n.getDate()!==e.getDate()&&n.setDate(0)};switch(t.toLowerCase()){case"year":n.setFullYear(n.getFullYear()+i),r();break;case"quarter":n.setMonth(n.getMonth()+3*i),r();break;case"month":n.setMonth(n.getMonth()+i),r();break;case"week":n.setDate(n.getDate()+7*i);break;case"day":n.setDate(n.getDate()+i);break;case"hour":n.setTime(n.getTime()+36e5*i);break;case"minute":n.setTime(n.getTime()+6e4*i);break;case"second":n.setTime(n.getTime()+1e3*i);break;default:throw new Error("Invalid interval specifier")}return n}formatToParts(e,t,i,n){let r=new Intl.DateTimeFormat(t,i),s={date:e,full:r.format(e)};if(r.formatToParts){let t=r.formatToParts(e),i=e=>{let i=t.findIndex((({type:t})=>t===e)),n={value:"",literal:"",combined:""};return"era"===e&&i>-1?(n.value=t[i].value,n):("era"===e&&-1===i||(n.value=t[i].value,n.literal=t[i+1]?t[i+1].value:"",n.combined=[n.value,n.literal].join("")),n)};for(let e of n)s[e]=i(e)}else for(let e of n)s[e]={value:"",literal:"",combined:""};return s}getFirstViewDate(e,t,i){return this.timedelta(e,t,-i)}getDateByView(e,t,i){return this.timedelta(e,t,i)}getNextMonth(e){return this.timedelta(e,CO.Month,1)}getPrevMonth(e){return this.timedelta(e,CO.Month,-1)}getNextYear(e){return this.timedelta(e,CO.Year,1)}getPrevYear(e){return this.timedelta(e,CO.Year,-1)}getWeekNumber(e){let t=new Date(e.getFullYear(),0,1).getTime(),i=(new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-t+1)/864e5;return Math.ceil(i/7)}generateICalendarDate(e,t,i){return{date:e,isCurrentMonth:e.getFullYear()===t&&e.getMonth()===i,isNextMonth:this.isNextMonth(e,t,i),isPrevMonth:this.isPreviousMonth(e,t,i)}}isPreviousMonth(e,t,i){return e.getFullYear()===t?e.getMonth()<i:e.getFullYear()<t}isNextMonth(e,t,i){return e.getFullYear()===t?e.getMonth()>i:e.getFullYear()>t}},AO=(()=>{let e=class{set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings||(this._resourceStrings=fI.CalendarResStrings),this._resourceStrings}get weekStart(){return this.calendarModel.firstWeekDay}set weekStart(e){this._weekStart=e,this.calendarModel.firstWeekDay=e}get locale(){return this._locale}set locale(e){this._locale=e;try{Ap(this._locale)}catch{this._locale=this._localeId}void 0===this._weekStart&&(this.calendarModel.firstWeekDay=Ap(this._locale)),this.initFormatters()}get formatOptions(){return this._formatOptions}set formatOptions(e){this._formatOptions=Object.assign(this._formatOptions,e),this.initFormatters()}get formatViews(){return this._formatViews}set formatViews(e){this._formatViews=Object.assign(this._formatViews,e)}get selection(){return this._selection}set selection(e){switch(e){case mO:this.selectedDates=null;break;case fO:case yO:this.selectedDates=[];break;default:throw new Error("Invalid selection value")}this._onChangeCallback(this.selectedDates),this.rangeStarted=!1,this._selection=e}get value(){return this.selectedDates}set value(e){if(!e||e&&0===e.length)this.selectedDatesWithoutFocus=new Date;else{if(!this.selectedDatesWithoutFocus){let t=e[0]?Math.min.apply(null,e):e,i=this.getDateOnly(new Date(t)).setDate(1);this.viewDate=new Date(i)}this.selectDate(e),this.selectedDatesWithoutFocus=e}}get viewDate(){return this._viewDate}set viewDate(e){if(Array.isArray(e))return;let t=this.validateDate(e);this._viewDate&&(this.selectedDatesWithoutFocus=t);let i=this.getDateOnly(t).setDate(1);this._viewDate=new Date(i)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e}get specialDates(){return this._specialDates}set specialDates(e){this._specialDates=e}constructor(e,t){this.platform=e,this._localeId=t,this.hideOutsideDays=!1,this.selected=new zu,this.viewDateChanged=new zu,this.activeViewChanged=new zu,this.rangeStarted=!1,this.monthScrollDirection=vO.NONE,this.scrollMonth$=new We,this.stopMonthScroll$=new We,this.startMonthScroll$=new We,this.shiftKey=!1,this._onTouchedCallback=vt,this._onChangeCallback=vt,this._selection=mO,this._resourceStrings=fI.CalendarResStrings,this._formatOptions={day:"numeric",month:"short",weekday:"short",year:"numeric"},this._formatViews={day:!1,month:!0,year:!1},this.calendarModel=new TO,this.locale=t,this.viewDate=this.viewDate?this.viewDate:new Date,this.initFormatters()}onPointerdown(e){this.shiftKey=0===e.button&&e.shiftKey}deselectMultipleInMonth(e){if(this.shiftKey){let t,i;[t,i]=this.lastSelectedDate.getTime()<e.getTime()?[this.lastSelectedDate,e]:[e,this.lastSelectedDate],this.selectedDates=this.selectedDates.filter((e=>e.getTime()<t.getTime()||e.getTime()>i.getTime())),this.selectedDates.push(e)}else{let t=this.getDateOnly(e);this.selectedDates=this.selectedDates.filter((e=>e.getTime()!==t.getTime()))}}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}writeValue(e){this.selectDate(e)}isDateDisabled(e){return null!==this.disabledDates&&EO(e,this.disabledDates)}selectDate(e){if(!(null==e||Array.isArray(e)&&0===e.length))switch(this.selection){case mO:GS(e)&&!this.isDateDisabled(e)&&this.selectSingle(e);break;case fO:this.selectMultiple(e);break;case yO:this.selectRange(e,!0)}}deselectDate(e){if(this.selectedDates&&0!==this.selectedDates.length){if(null==e)return this.selectedDates=this.selection===mO?null:[],this.rangeStarted=!1,void this._onChangeCallback(this.selectedDates);switch(this.selection){case mO:this.deselectSingle(e);break;case fO:this.deselectMultiple(e);break;case yO:this.deselectRange(e)}}}selectDateFromClient(e){switch(this.selection){case mO:case fO:this.selectDate(e);break;case yO:this.selectRange(e,!0)}}initFormatters(){this.formatterDay=new Intl.DateTimeFormat(this._locale,{day:this._formatOptions.day}),this.formatterWeekday=new Intl.DateTimeFormat(this._locale,{weekday:this._formatOptions.weekday}),this.formatterMonth=new Intl.DateTimeFormat(this._locale,{month:this._formatOptions.month}),this.formatterYear=new Intl.DateTimeFormat(this._locale,{year:this._formatOptions.year}),this.formatterMonthday=new Intl.DateTimeFormat(this._locale,{month:this._formatOptions.month,day:this._formatOptions.day})}getDateOnly(e){let t=this.validateDate(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate())}getDateOnlyInMs(e){return this.getDateOnly(e).getTime()}generateDateRange(e,t){let i=[];for(e=this.getDateOnly(e),t=this.getDateOnly(t);e.getTime()<t.getTime();)e=this.calendarModel.timedelta(e,"day",1),i.push(e);return i}selectSingle(e){this.selectedDates=this.getDateOnly(e),this._onChangeCallback(this.selectedDates)}selectMultiple(e){if(Array.isArray(e)){let t=e.map((e=>this.getDateOnly(e).getTime())),i=this.selectedDates.map((e=>this.getDateOnly(e).getTime()));if(JSON.stringify(t)===JSON.stringify(i))return;this.selectedDates=Array.from(new Set([...t,...i])).map((e=>new Date(e)))}else{let t=[];if(this.shiftKey&&this.lastSelectedDate){[this._startDate,this._endDate]=this.lastSelectedDate.getTime()<e.getTime()?[this.lastSelectedDate,e]:[e,this.lastSelectedDate];let i=[this._startDate,...this.generateDateRange(this._startDate,this._endDate)].filter((e=>!this.isDateDisabled(e)&&this.selectedDates.every((t=>t.getTime()!==e.getTime()))));this.selectedDates.some((e=>e.getTime()===this.lastSelectedDate.getTime()))&&i.length?t=i:(this.selectedDates=this.selectedDates.filter((e=>e.getTime()<this._startDate.getTime()||e.getTime()>this._endDate.getTime())),this.selectedDates.push(e),this._deselectDate=!0),this._startDate=this._endDate=void 0}else this.selectedDates.every((t=>t.getTime()!==e.getTime()))?t.push(e):(this.selectedDates=this.selectedDates.filter((t=>t.getTime()!==e.getTime())),this._deselectDate=!0);t.length>0&&(this.selectedDates=this.selectedDates.concat(t),this._deselectDate=!1),this.lastSelectedDate=e}this.selectedDates=this.selectedDates.filter((e=>!this.isDateDisabled(e))),this.selectedDates.sort(((e,t)=>e.valueOf()-t.valueOf())),this._onChangeCallback(this.selectedDates)}selectRange(e,t=!1){if(Array.isArray(e))e.sort(((e,t)=>e.valueOf()-t.valueOf())),this._startDate=this.getDateOnly(e[0]),this._endDate=this.getDateOnly(e[e.length-1]);else{if(this.shiftKey&&this.lastSelectedDate){if(this.lastSelectedDate.getTime()===e.getTime())return this.selectedDates=1===this.selectedDates.length?[]:[e],this.rangeStarted=!!this.selectedDates.length,void this._onChangeCallback(this.selectedDates);this.selectedDates.some((t=>t.getTime()===e.getTime()))?this.lastSelectedDate.getTime()<e.getTime()?this._startDate=e:this._endDate=e:this.lastSelectedDate.getTime()<e.getTime()?(this._startDate=this._startDate??this.lastSelectedDate,this._endDate=e):(this._startDate=e,this._endDate=this._endDate??this.lastSelectedDate),this.rangeStarted=!1}else if(this.rangeStarted){if(this.rangeStarted=!1,this.selectedDates[0].getTime()===e.getTime())return this.selectedDates=[],void this._onChangeCallback(this.selectedDates);[this._startDate,this._endDate]=this.lastSelectedDate.getTime()<e.getTime()?[this.lastSelectedDate,e]:[e,this.lastSelectedDate]}else this.rangeStarted=!0,this.selectedDates=[e],this._startDate=this._endDate=void 0;this.lastSelectedDate=e}this._startDate&&this._endDate&&(this.selectedDates=[this._startDate,...this.generateDateRange(this._startDate,this._endDate)]),t&&(this.selectedDates=this.selectedDates.filter((e=>!this.isDateDisabled(e)))),this._onChangeCallback(this.selectedDates)}deselectSingle(e){null!==this.selectedDates&&this.getDateOnlyInMs(e)===this.getDateOnlyInMs(this.selectedDates)&&(this.selectedDates=null,this._onChangeCallback(this.selectedDates))}deselectMultiple(e){e=e.filter((e=>null!==e));let t=this.selectedDates.length,i=new Set(e.map((e=>this.getDateOnlyInMs(e))));for(let e=this.selectedDates.length-1;e>=0;e--)i.has(this.getDateOnlyInMs(this.selectedDates[e]))&&this.selectedDates.splice(e,1);this.selectedDates.length!==t&&this._onChangeCallback(this.selectedDates)}deselectRange(e){if((e=e.filter((e=>null!==e))).length<1)return;e.sort(((e,t)=>e.valueOf()-t.valueOf()));let t=this.getDateOnlyInMs(e[0]),i=this.getDateOnlyInMs(e[e.length-1]);this.selectedDates.sort(((e,t)=>e.valueOf()-t.valueOf()));let n=this.getDateOnlyInMs(this.selectedDates[0]),r=this.getDateOnlyInMs(this.selectedDates[this.selectedDates.length-1]);!(i<n)&&!(t>r)&&(this.selectedDates=[],this.rangeStarted=!1,this._onChangeCallback(this.selectedDates))}validateDate(e){return EA.isValidDate(e)?e:new Date}},t=e;return e.fac=function(t){return new(t||e)(Rd($S),Rd(Sg))},e.dir=er({type:e,selectors:[["","igxCalendarBase",""]],hostBindings:function(e,t){1&e&&oh("pointerdown",(function(e){return t.onPointerdown(e)}))},inputs:{hideOutsideDays:"hideOutsideDays",resourceStrings:"resourceStrings",weekStart:"weekStart",locale:"locale",formatOptions:"formatOptions",formatViews:"formatViews",selection:"selection",value:"value",viewDate:"viewDate",disabledDates:"disabledDates",specialDates:"specialDates"},outputs:{selected:"selected",viewDateChanged:"viewDateChanged",activeViewChanged:"activeViewChanged"},standalone:!0}),t})(),kO=["yearsBtn"],RO=(()=>{let e=class extends AO{constructor(){super(...arguments),this.activeViewIdx=0,this._activeView=xO}get activeView(){return this._activeView}set activeView(e){this._activeView=e}get isDefaultView(){return this._activeView===xO}get isDecadeView(){return this._activeView===wO}changeYear(e){this.previousViewDate=this.viewDate,this.viewDate=this.calendarModel.getFirstViewDate(e,"month",this.activeViewIdx),this.activeView=xO,requestAnimationFrame((()=>{this.yearsBtns&&this.yearsBtns.length&&this.yearsBtns.find(((e,t)=>t===this.activeViewIdx)).nativeElement.focus()}))}activeViewDecade(e=0){this.activeView=wO,this.activeViewIdx=e}activeViewDecadeKB(e,t=0){this.platform.isActivationKey(e)&&(e.preventDefault(),this.activeViewDecade(t))}formattedYear(e){return this.formatViews.year?this.formatterYear.format(e):`${e.getFullYear()}`}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["","igxMonthPickerBase",""]],viewQuery:function(e,t){if(1&e&&pg(kO,5),2&e){let e;gg(e=fg())&&(t.yearsBtns=e)}},inputs:{activeView:"activeView"},standalone:!0,features:[Tc]}),t})();function OO(e,t){if(1&e){let e=nh();Yc(0,"span",3),oh("monthSelection",(function(t){return Is(e),Ts(dh().selectMonth(t))})),Pu(1,"date"),$h(2),Pu(3,"titlecase"),Xc()}if(2&e){let e=t.$implicit,i=t.index,n=dh();Uc("igxCalendarMonth",e)("date",n.date)("index",i),Gc("aria-label",Vu(1,6,e,"LLLL"))("tabindex",n.activeMonth===e.getMonth()?0:-1),Ed(2),Kh(" ",Mu(3,9,n.formattedMonth(e))," ")}}var FO=0,PO=(()=>{let e=class{set date(e){e instanceof Date&&(this._date=e,this.activeMonth=this.date.getMonth())}get date(){return this._date}get monthFormat(){return this._monthFormat}set monthFormat(e){this._monthFormat=e,this.initMonthFormatter()}get locale(){return this._locale}set locale(e){this._locale=e,this.initMonthFormatter()}get months(){let e=new Date(this.date.getFullYear(),0,1),t=[];for(let i=0;i<12;i++)t.push(e),e=this._calendarModel.timedelta(e,"month",1);return t}constructor(e){this.el=e,this.id="igx-months-view-"+FO++,this.formatView=!0,this.selected=new zu,this.styleClass=!0,this._date=new Date,this._locale="en",this._monthFormat="short",this._onTouchedCallback=vt,this._onChangeCallback=vt,this.initMonthFormatter(),this._calendarModel=new TO}onKeydownArrowUp(e){e.preventDefault(),e.stopPropagation();let t=this.monthsRef.find((t=>t.nativeElement===e.target));if(!t)return;let i=this.monthsRef.toArray(),n=t.nativeElement.getBoundingClientRect();for(let e=i.indexOf(t)-1;e>=0;e--){let t=i[e].nativeElement.getBoundingClientRect(),r=6;if(n.top!==t.top&&t.left-n.left<r){let t=i[e];t.nativeElement.focus(),this.activeMonth=t.value.getMonth();break}}}onKeydownArrowDown(e){e.preventDefault(),e.stopPropagation();let t=this.monthsRef.find((t=>t.nativeElement===e.target));if(!t)return;let i=this.monthsRef.toArray(),n=t.nativeElement.getBoundingClientRect();for(let e=i.indexOf(t)+1;e<i.length;e++){let t=i[e].nativeElement.getBoundingClientRect(),r=6;if(t.top!==n.top&&n.left-t.left<r){let t=i[e];t.nativeElement.focus(),this.activeMonth=t.value.getMonth();break}}}onKeydownArrowRight(e){e.preventDefault(),e.stopPropagation();let t=this.monthsRef.find((t=>t.nativeElement===e.target));if(!t)return;let i=this.monthsRef.toArray();if(i.indexOf(t)+1<i.length){let e=i[i.indexOf(t)+1];this.activeMonth=e.value.getMonth(),e.nativeElement.focus()}}onKeydownArrowLeft(e){e.preventDefault(),e.stopPropagation();let t=this.monthsRef.find((t=>t.nativeElement===e.target));if(!t)return;let i=this.monthsRef.toArray();if(i.indexOf(t)-1>=0){let e=i[i.indexOf(t)-1];this.activeMonth=e.value.getMonth(),e.nativeElement.focus()}}onKeydownHome(e){e.preventDefault(),e.stopPropagation();let t=this.monthsRef.toArray()[0];this.activeMonth=t.value.getMonth(),t.nativeElement.focus()}onKeydownEnd(e){e.preventDefault(),e.stopPropagation();let t=this.monthsRef.toArray(),i=t[t.length-1];this.activeMonth=i.value.getMonth(),i.nativeElement.focus()}onKeydownEnter(e){let t=this.monthsRef.find((t=>t.nativeElement===e.target)).value;this.date=new Date(t.getFullYear(),t.getMonth(),this.date.getDate()),this.activeMonth=this.date.getMonth(),this.selected.emit(this.date),this._onChangeCallback(this.date)}resetActiveMonth(){this.activeMonth=this.date.getMonth()}formattedMonth(e){return this.formatView?this._formatterMonth.format(e):`${e.getMonth()}`}selectMonth(e){this.selected.emit(e),this.date=e,this.activeMonth=this.date.getMonth(),this._onChangeCallback(this.date)}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}writeValue(e){e&&(this.date=e)}monthTracker(e,t){return`${t.getMonth()}}`}initMonthFormatter(){this._formatterMonth=new Intl.DateTimeFormat(this._locale,{month:this.monthFormat})}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld))},e.cmp=Yn({type:e,selectors:[["igx-months-view"]],viewQuery:function(e,t){if(1&e&&pg(cO,5,cO),2&e){let e;gg(e=fg())&&(t.monthsRef=e)}},hostVars:3,hostBindings:function(e,t){1&e&&oh("keydown.arrowup",(function(e){return t.onKeydownArrowUp(e)}))("keydown.arrowdown",(function(e){return t.onKeydownArrowDown(e)}))("keydown.arrowright",(function(e){return t.onKeydownArrowRight(e)}))("keydown.arrowleft",(function(e){return t.onKeydownArrowLeft(e)}))("keydown.home",(function(e){return t.onKeydownHome(e)}))("keydown.end",(function(e){return t.onKeydownEnd(e)}))("keydown.enter",(function(e){return t.onKeydownEnter(e)}))("focusout",(function(){return t.resetActiveMonth()})),2&e&&(Gc("id",t.id),Ah("igx-calendar",t.styleClass))},inputs:{id:"id",date:"date",monthFormat:"monthFormat",locale:"locale",formatView:"formatView"},outputs:{selected:"selected"},standalone:!0,features:[cu([{provide:qx,useExisting:e,multi:!0}]),yu],decls:3,vars:2,consts:[[1,"igx-calendar__body"],[1,"igx-calendar__body-row","igx-calendar__body-row--wrap"],["class","igx-calendar__month","role","button",3,"igxCalendarMonth","date","index","monthSelection",4,"ngFor","ngForOf","ngForTrackBy"],["role","button",1,"igx-calendar__month",3,"igxCalendarMonth","date","index","monthSelection"]],template:function(e,t){1&e&&(Yc(0,"div",0)(1,"div",1),Wc(2,OO,4,11,"span",2),Xc()()),2&e&&(Ed(2),Uc("ngForOf",t.months)("ngForTrackBy",t.monthTracker))},dependencies:[bm,cO,Bm,$m],encapsulation:2}),t})();function MO(e,t){if(1&e){let e=nh();Yc(0,"span",3),oh("yearSelection",(function(t){return Is(e),Ts(dh().selectYear(t))})),$h(1),Xc()}if(2&e){let e=t.$implicit,i=dh();Uc("igxCalendarYear",e)("date",i.date),Ed(1),Kh(" ",i.formattedYear(e)," ")}}var VO=(()=>{let e=class extends Xf{constructor(){super(...arguments),this.overrides={pan:{direction:Hammer.DIRECTION_VERTICAL,threshold:1}}}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.prov=ji({token:e,factory:e.fac}),t})(),NO=(()=>{let e=class{get date(){return this._date}set date(e){e instanceof Date&&(this._date=e)}get yearFormat(){return this._yearFormat}set yearFormat(e){this._yearFormat=e,this.initYearFormatter()}get locale(){return this._locale}set locale(e){this._locale=e,this.initYearFormatter()}get decade(){let e=[],t=this.date.getFullYear()-3,i=this.date.getFullYear()+4;for(let n of bO(t,i))e.push(new Date(n,this.date.getMonth(),this.date.getDate()));return e}constructor(e){this.el=e,this.selected=new zu,this.styleClass=!0,this._locale="en",this._yearFormat="numeric",this._date=new Date,this._onTouchedCallback=vt,this._onChangeCallback=vt,this.initYearFormatter(),this._calendarModel=new TO}onKeydownArrowDown(e){e.preventDefault(),e.stopPropagation(),this.generateYearRange(1),this.calendarDir.find((e=>e.isCurrentYear)).nativeElement.nextElementSibling.focus()}onKeydownArrowUp(e){e.preventDefault(),e.stopPropagation(),this.generateYearRange(-1),this.calendarDir.find((e=>e.isCurrentYear)).nativeElement.previousElementSibling.focus()}onKeydownEnter(){this.selected.emit(this.date),this._onChangeCallback(this.date)}formattedYear(e){return this.formatView?this._formatterYear.format(e):`${e.getFullYear()}`}selectYear(e){this.date=e,this.selected.emit(this.date),this._onChangeCallback(this.date)}scroll(e){e.preventDefault(),e.stopPropagation();let t=e.deltaY<0?-1:1;this.generateYearRange(t)}pan(e){let t=e.deltaY<0?1:-1;this.generateYearRange(t)}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}yearTracker(e,t){return`${t.getFullYear()}}`}writeValue(e){e&&(this.date=e)}initYearFormatter(){this._formatterYear=new Intl.DateTimeFormat(this._locale,{year:this.yearFormat})}generateYearRange(e){let t=(new Date).getFullYear();e>0&&this.date.getFullYear()-t>=95||e<0&&t-this.date.getFullYear()>=95||(this.date=this._calendarModel.timedelta(this.date,"year",e))}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld))},e.cmp=Yn({type:e,selectors:[["igx-years-view"]],viewQuery:function(e,t){if(1&e&&pg(dO,5,dO),2&e){let e;gg(e=fg())&&(t.calendarDir=e)}},hostVars:2,hostBindings:function(e,t){1&e&&oh("keydown.arrowdown",(function(e){return t.onKeydownArrowDown(e)}))("keydown.arrowup",(function(e){return t.onKeydownArrowUp(e)}))("keydown.enter",(function(){return t.onKeydownEnter()})),2&e&&Ah("igx-calendar",t.styleClass)},inputs:{formatView:"formatView",date:"date",yearFormat:"yearFormat",locale:"locale"},outputs:{selected:"selected"},standalone:!0,features:[cu([{provide:qx,useExisting:e,multi:!0},{provide:Yf,useClass:VO}]),yu],decls:3,vars:2,consts:[[1,"igx-calendar__body"],[1,"igx-calendar__body-column",3,"wheel","pan"],["class","igx-calendar__year",3,"igxCalendarYear","date","yearSelection",4,"ngFor","ngForOf","ngForTrackBy"],[1,"igx-calendar__year",3,"igxCalendarYear","date","yearSelection"]],template:function(e,t){1&e&&(Yc(0,"div",0)(1,"div",1),oh("wheel",(function(e){return t.scroll(e)}))("pan",(function(e){return t.pan(e)})),Wc(2,MO,2,3,"span",2),Xc()()),2&e&&(Ed(2),Uc("ngForOf",t.decade)("ngForTrackBy",t.yearTracker))},dependencies:[bm,dO],encapsulation:2}),t})(),LO=["*"],HO=(()=>{let e=class{get selected(){return this._selected}set selected(e){this._selected=e}get isCurrentMonth(){return this.date.isCurrentMonth}get isPreviousMonth(){return this.date.isPrevMonth}get isNextMonth(){return this.date.isNextMonth}get nativeElement(){return this.elementRef.nativeElement}get isSelectedCSS(){return!this.isDisabled&&this.selected}get isInactive(){return this.date.isNextMonth||this.date.isPrevMonth}get isHidden(){return this.hideOutsideDays&&this.isInactive}get isToday(){let e=new Date(Date.now()),t=this.date.date;return t.getDate()===e.getDate()&&this.nativeElement.setAttribute("aria-current","date"),t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}get isWeekend(){let e=this.date.date.getDay();return 0===e||6===e}get isDisabled(){return null!==this.disabledDates&&EO(this.date.date,this.disabledDates)}get isOutOfRange(){return!!this.outOfRangeDates&&EO(this.date.date,this.outOfRangeDates)}get isFocusable(){return this.isCurrentMonth&&!this.isHidden&&!this.isDisabled&&!this.isOutOfRange}get isWithinRangeCSS(){return!this.isSingleSelection&&this.isWithinRange}get isSpecial(){return null!==this.specialDates&&EO(this.date.date,this.specialDates)}get isDisabledCSS(){return this.isHidden||this.isDisabled||this.isOutOfRange}get isSingleSelection(){return this.selection!==yO}constructor(e){this.elementRef=e,this.hideOutsideDays=!1,this.isLastInRange=!1,this.isFirstInRange=!1,this.isWithinRange=!1,this.dateSelection=new zu,this._selected=!1}onSelect(e){e.stopPropagation(),this.dateSelection.emit(this.date)}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld))},e.cmp=Yn({type:e,selectors:[["igx-day-item"]],hostVars:22,hostBindings:function(e,t){1&e&&oh("click",(function(e){return t.onSelect(e)}))("keydown.enter",(function(e){return t.onSelect(e)})),2&e&&Ah("igx-calendar__date--last",t.isLastInRange)("igx-calendar__date--first",t.isFirstInRange)("igx-calendar__date--selected",t.isSelectedCSS)("igx-calendar__date--inactive",t.isInactive)("igx-calendar__date--hidden",t.isHidden)("igx-calendar__date--current",t.isToday)("igx-calendar__date--weekend",t.isWeekend)("igx-calendar__date--range",t.isWithinRangeCSS)("igx-calendar__date--special",t.isSpecial)("igx-calendar__date--disabled",t.isDisabledCSS)("igx-calendar__date--single",t.isSingleSelection)},inputs:{date:"date",selection:"selection",selected:"selected",disabledDates:"disabledDates",outOfRangeDates:"outOfRangeDates",specialDates:"specialDates",hideOutsideDays:"hideOutsideDays",isLastInRange:"isLastInRange",isFirstInRange:"isFirstInRange",isWithinRange:"isWithinRange"},outputs:{dateSelection:"dateSelection"},standalone:!0,features:[yu],ngContentSelectors:LO,decls:2,vars:0,consts:[["aria-hidden","true",1,"igx-calendar__date-content"]],template:function(e,t){1&e&&(hh(),Yc(0,"span",0),uh(1),Xc())},encapsulation:2}),t})(),BO=((BO=BO||{}).Up="ArrowUp",BO.Down="ArrowDown",BO.Left="ArrowLeft",BO.Right="ArrowRight",BO),GO=(()=>{let e=class{focusNextDate(e,t,i=!1){0===e.childElementCount&&(e=e.parentElement),-1===t.indexOf("Arrow")&&(t="Arrow".concat(t));let n,r,s,o,a=this.monthView,l=a.dates.find((t=>t.nativeElement===e)),d=a.dates.toArray(),c=d.indexOf(l);if(!l)return;switch(t){case BO.Left:for(r=-1,o=this.timedelta(l.date.date,r),s=c;s>0&&(n=i?d[s]:d[s-1],o=n.date.date,!n.date.isPrevMonth);s--)if(n&&n.isFocusable)return void n.nativeElement.focus();break;case BO.Right:for(r=1,o=this.timedelta(l.date.date,r),s=c;s<d.length-1&&(n=i?d[s]:d[s+1],o=n.date.date,!n.date.isNextMonth);s++)if(n&&n.isFocusable)return void n.nativeElement.focus();break;case BO.Up:for(r=-7,o=this.timedelta(l.date.date,r),s=c;s-7>-1&&(n=i?d[s]:d[s-7],o=n.date.date,!n.date.isPrevMonth);s-=7)if(n&&n.isFocusable)return void n.nativeElement.focus();break;case BO.Down:for(r=7,o=this.timedelta(l.date.date,r),s=c;s+7<42&&(n=i?d[s]:d[s+7],o=n.date.date,!n.date.isNextMonth);s+=7)if(n&&n.isFocusable)return void n.nativeElement.focus()}let h,u=r>0?a.nextMonthView:a.prevMonthView;if(u){if(d=u.dates.toArray(),n=d.find((e=>e.date.date.getTime()===o.getTime())),n&&n.isFocusable)return void n.nativeElement.focus();u.daysNavService.focusNextDate(n.nativeElement,t)}if(n&&!n.isFocusable&&(n=d[s+r],n||(o=this.timedelta(l.date.date,r+s-c))),n&&(h=r>0?n.date.isNextMonth:n.date.isPrevMonth),a.changeDaysView&&!u&&(n&&h||!n)){let e=r>0?vO.NEXT:vO.PREV;a.viewChanging.emit({monthAction:e,key:t,nextDate:o})}}focusHomeDate(){let e=this.monthView;for(;!this.focusFirstDay(e)&&e.nextMonthView;)e=e.nextMonthView}focusEndDate(){let e=this.monthView;for(;!this.focusLastDay(e)&&e.prevMonthView;)e=e.prevMonthView}timedelta(e,t){let i=new Date(e);return i.setDate(i.getDate()+t),i}focusFirstDay(e){let t=e.dates.filter((e=>e.isCurrentMonth));for(let e of t)if(e.isFocusable)return e.nativeElement.focus(),!0;return!1}focusLastDay(e){let t=e.dates.filter((e=>e.isCurrentMonth));for(let e=t.length-1;e>=0;e--)if(t[e].isFocusable)return t[e].nativeElement.focus(),!0;return!1}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac}),t})();function zO(e,t){1&e&&(Yc(0,"div",4)(1,"span"),$h(2,"Wk"),Xc()())}function $O(e,t){if(1&e&&(Yc(0,"span",5),$h(1),Pu(2,"titlecase"),Xc()),2&e){let e=t.$implicit;Gc("aria-label",e),Ed(1),Kh(" ",Mu(2,2,e)," ")}}function WO(e,t){if(1&e&&(Yc(0,"div",8)(1,"span",9),$h(2),Xc()()),2&e){let e=dh().$implicit,t=dh();Ed(2),Kh(" ",t.getWeekNumber(e[0].date)," ")}}function jO(e,t){if(1&e){let e=nh();Yc(0,"igx-day-item",10),oh("focus",(function(){let t=Is(e).$implicit;return Ts(dh(2).activeDate=t.date.toLocaleDateString())}))("dateSelection",(function(t){return Is(e),Ts(dh(2).selectDay(t))})),$h(1),Xc()}if(2&e){let e=t.$implicit,i=dh(2);Uc("date",e)("selection",i.selection)("selected",i.isSelected(e))("isLastInRange",i.isLastInRange(e))("isFirstInRange",i.isFirstInRange(e))("isWithinRange",i.isWithinRange(e.date,!0))("disabledDates",i.disabledDates)("specialDates",i.specialDates)("outOfRangeDates",i.outOfRangeDates)("hideOutsideDays",i.hideOutsideDays),Gc("aria-selected",i.isSelected(e))("aria-disabled",i.isDateDisabled(e.date))("aria-label",i.isFirstInRange(e)?e.date.toDateString()+", "+i.resourceStrings.igx_calendar_range_start:i.isLastInRange(e)?e.date.toDateString()+", "+i.resourceStrings.igx_calendar_range_end:e.date.toDateString())("tabindex",i.tabIndex(e)),Ed(1),Kh(" ",i.formattedDate(e.date)," ")}}function KO(e,t){if(1&e&&(Yc(0,"div",0),Wc(1,WO,3,1,"div",6),Wc(2,jO,2,15,"igx-day-item",7),Xc()),2&e){let e=t.$implicit,i=dh();Ed(1),Uc("ngIf",i.showWeekNumbers),Ed(1),Uc("ngForOf",e)("ngForTrackBy",i.dateTracker)}}var UO=0,qO=(()=>{let e=class extends AO{set activeDate(e){this._activeDate=e,this.activeDateChange.emit(this._activeDate)}get activeDate(){return this._activeDate?this._activeDate:this.viewDate.toLocaleDateString()}constructor(e,t,i){super(t,i),this.daysNavService=e,this.id="igx-days-view-"+UO++,this.changeDaysView=!1,this.dateSelection=new zu,this.viewChanging=new zu,this.activeDateChange=new zu,this.monthsViewBlur=new zu,this.styleClass=!0,this.shouldResetDate=!0}resetActiveMonth(){if(this.shouldResetDate){let e=this.dates.find((e=>e.selected&&e.isCurrentMonth))||this.dates.find((e=>e.isToday&&e.isCurrentMonth))||this.dates.find((e=>e.isFocusable));e&&(this.activeDate=e.date.date.toLocaleDateString()),this.monthsViewBlur.emit()}this.shouldResetDate=!0}pointerDown(){this.shouldResetDate=!1}onKeydownArrow(e){e.preventDefault(),e.stopPropagation(),this.shouldResetDate=!1,this.daysNavService.focusNextDate(e.target,e.key)}onKeydownHome(e){e.preventDefault(),e.stopPropagation(),this.shouldResetDate=!1,this.getFirstMonthView().daysNavService.focusHomeDate()}onKeydownEnd(e){e.preventDefault(),e.stopPropagation(),this.shouldResetDate=!1,this.getLastMonthView().daysNavService.focusEndDate()}get getCalendarMonth(){return this.calendarModel.monthdatescalendar(this.viewDate.getFullYear(),this.viewDate.getMonth(),!0)}ngOnInit(){this.daysNavService.monthView=this}ngDoCheck(){!this.changeDaysView&&this.dates&&this.disableOutOfRangeDates()}tabIndex(e){return this.activeDate&&this.activeDate===e.date.toLocaleDateString()&&e.isCurrentMonth?0:-1}getWeekNumber(e){return this.calendarModel.getWeekNumber(e)}formattedDate(e){return this.formatViews.day?this.formatterDay.format(e):`${e.getDate()}`}generateWeekHeader(){let e=[],t=this.calendarModel.monthdatescalendar(this.viewDate.getFullYear(),this.viewDate.getMonth())[0];for(let i of t)e.push(this.formatterWeekday.format(i.date));return e}rowTracker(e,t){return`${t[e].date.getMonth()}${t[e].date.getDate()}`}dateTracker(e,t){return`${t.date.getMonth()}--${t.date.getDate()}`}isCurrentMonth(e){return this.viewDate.getMonth()===e.getMonth()}isCurrentYear(e){return this.viewDate.getFullYear()===e.getFullYear()}isSelected(e){let t;if(this.isDateDisabled(e.date)||!this.value||Array.isArray(this.value)&&0===this.value.length)return!1;if(this.selection===mO)return t=this.value,this.getDateOnly(t).getTime()===e.date.getTime();if(t=this.value,this.selection===yO&&1===t.length)return this.getDateOnly(t[0]).getTime()===e.date.getTime();if(this.selection===fO){let i=this.getDateOnly(t[0]),n=this.getDateOnly(t[t.length-1]);return!!this.isWithinRange(e.date,!1,i,n)&&!!t.find((t=>t.getTime()===e.date.getTime()))}return this.isWithinRange(e.date,!0)}isLastInRange(e){if(this.isSingleSelection||!this.value)return!1;let t=this.value,i=t[t.length-1];return zS(i,e.date)}isFirstInRange(e){return!(this.isSingleSelection||!this.value)&&zS(this.value[0],e.date)}isWithinRange(e,t,i,n){return!(t&&!(Array.isArray(this.value)&&this.value.length>1))&&(i=i||this.value[0],n=n||this.value[this.value.length-1],EO(e,[{type:pO.Between,dateRange:[i,n]}]))}focusActiveDate(){let e=this.dates.find((e=>e.selected));e||(e=this.dates.find((e=>e.isToday))),e.isFocusable&&e.nativeElement.focus()}selectDay(e){this.selectDateFromClient(e.date),this.dateSelection.emit(e),this.selected.emit(this.selectedDates)}getFirstMonthView(){let e=this;for(;e.prevMonthView;)e=e.prevMonthView;return e}disableOutOfRangeDates(){let e=[];this.dates.toArray().forEach((t=>{t.isCurrentMonth||e.push(t.date.date)})),this.outOfRangeDates=[{type:pO.Specific,dateRange:e}]}getLastMonthView(){let e=this;for(;e.nextMonthView;)e=e.nextMonthView;return e}get isSingleSelection(){return this.selection!==yO}},t=e;return e.fac=function(t){return new(t||e)(Rd(GO),Rd($S),Rd(Sg))},e.cmp=Yn({type:e,selectors:[["igx-days-view"]],viewQuery:function(e,t){if(1&e&&pg(HO,5,HO),2&e){let e;gg(e=fg())&&(t.dates=e)}},hostVars:3,hostBindings:function(e,t){1&e&&oh("focusout",(function(){return t.resetActiveMonth()}))("keydown.pagedown",(function(){return t.pointerDown()}))("keydown.pageup",(function(){return t.pointerDown()}))("keydown.shift.pagedown",(function(){return t.pointerDown()}))("keydown.shift.pageup",(function(){return t.pointerDown()}))("pointerdown",(function(){return t.pointerDown()}))("keydown.arrowleft",(function(e){return t.onKeydownArrow(e)}))("keydown.arrowright",(function(e){return t.onKeydownArrow(e)}))("keydown.arrowup",(function(e){return t.onKeydownArrow(e)}))("keydown.arrowdown",(function(e){return t.onKeydownArrow(e)}))("keydown.home",(function(e){return t.onKeydownHome(e)}))("keydown.end",(function(e){return t.onKeydownEnd(e)})),2&e&&(Gc("id",t.id),Ah("igx-calendar",t.styleClass))},inputs:{id:"id",changeDaysView:"changeDaysView",showWeekNumbers:"showWeekNumbers",activeDate:"activeDate"},outputs:{dateSelection:"dateSelection",viewChanging:"viewChanging",activeDateChange:"activeDateChange",monthsViewBlur:"monthsViewBlur"},standalone:!0,features:[cu([{multi:!0,provide:qx,useExisting:e},{provide:GO,useClass:GO}]),Tc,yu],decls:4,vars:4,consts:[["role","row",1,"igx-calendar__body-row"],["role","columnheader","class","igx-calendar__label igx-calendar__label--week-number",4,"ngIf"],["role","columnheader","class","igx-calendar__label",4,"ngFor","ngForOf"],["class","igx-calendar__body-row","role","row",4,"ngFor","ngForOf","ngForTrackBy"],["role","columnheader",1,"igx-calendar__label","igx-calendar__label--week-number"],["role","columnheader",1,"igx-calendar__label"],["class","igx-calendar__date igx-calendar__date--week-number",4,"ngIf"],["class","igx-calendar__date","role","gridcell",3,"date","selection","selected","isLastInRange","isFirstInRange","isWithinRange","disabledDates","specialDates","outOfRangeDates","hideOutsideDays","focus","dateSelection",4,"ngFor","ngForOf","ngForTrackBy"],[1,"igx-calendar__date","igx-calendar__date--week-number"],["role","rowheader",1,"igx-calendar__date-content","igx-calendar__date-content--week-number"],["role","gridcell",1,"igx-calendar__date",3,"date","selection","selected","isLastInRange","isFirstInRange","isWithinRange","disabledDates","specialDates","outOfRangeDates","hideOutsideDays","focus","dateSelection"]],template:function(e,t){1&e&&(Yc(0,"div",0),Wc(1,zO,3,0,"div",1),Wc(2,$O,3,4,"span",2),Xc(),Wc(3,KO,3,3,"div",3)),2&e&&(Ed(1),Uc("ngIf",t.showWeekNumbers),Ed(1),Uc("ngForOf",t.generateWeekHeader()),Ed(1),Uc("ngForOf",t.getCalendarMonth)("ngForTrackBy",t.rowTracker))},dependencies:[Em,bm,HO,Bm],encapsulation:2}),t})(),YO=(()=>{let e=class{transform(e){return new Array(e)}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"IgxMonthViewSlots",type:e,pure:!0,standalone:!0}),t})(),XO=(()=>{let e=class{constructor(){this.calendar=new TO}transform(e,t,i=!0){let n=this.calendar.timedelta(t,"month",e);return i?n:n.getMonth()}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"IgxGetViewDate",type:e,pure:!0,standalone:!0}),t})(),ZO=["months"],QO=["decade"],JO=["days"],eF=["prevMonthBtn"],tF=["nextMonthBtn"],iF=["monthsBtn"];function nF(e,t){if(1&e&&(Yc(0,"span"),$h(1),Xc(),Yc(2,"span"),$h(3),Xc()),2&e){let e=dh();Ed(1),Kh("",e.getFormattedDate().weekday,","),Ed(2),jh(e.getFormattedDate().monthday)}}function rF(e,t){if(1&e&&(Yc(0,"span",10),$h(1),Pu(2,"date"),Pu(3,"date"),Xc()),2&e){let e=dh().$implicit,t=dh();Ed(1),Kh(" ",t.monthsViewNumber>1?t.resourceStrings.igx_calendar_first_picker_of.replace("{0}",t.monthsViewNumber.toString())+" "+Vu(2,1,t.getViewDate(e.index),"LLLL yyyy"):t.resourceStrings.igx_calendar_selected_month_is+Vu(3,4,t.getViewDate(e.index),"LLLL yyyy")," ")}}function sF(e,t){if(1&e){let e=nh();Wc(0,rF,4,7,"span",6),Yc(1,"span",7,8),oh("keydown",(function(t){let i=Is(e).$implicit,n=dh();return Ts(n.onActiveViewYearKB(n.getViewDate(i.index),t,i.index))}))("click",(function(){let t=Is(e).$implicit,i=dh();return Ts(i.onActiveViewYear(i.getViewDate(t.index),t.index))})),Pu(3,"date"),$h(4),Xc(),Yc(5,"span",7,9),oh("keydown",(function(t){let i=Is(e).$implicit,n=dh();return Ts(n.onActiveViewDecadeKB(t,n.getViewDate(i.index),i.index))}))("click",(function(){let t=Is(e).$implicit,i=dh();return Ts(i.onActiveViewDecade(i.getViewDate(t.index),t.index))})),Pu(7,"date"),$h(8),Xc()}if(2&e){let e=t.$implicit,i=dh();Uc("ngIf",i.monthsViewNumber<2||e.index<1),Ed(1),Gc("aria-label",Vu(3,5,i.getViewDate(e.index),"LLLL")+" "+i.resourceStrings.igx_calendar_select_month),Ed(3),Kh(" ",i.formattedMonth(i.getViewDate(e.index))," "),Ed(1),Gc("aria-label",Vu(7,8,i.getViewDate(e.index),"yyyy")+" "+i.resourceStrings.igx_calendar_select_year),Ed(3),Kh(" ",i.formattedYear(i.getViewDate(e.index))," ")}}function oF(e,t){1&e&&th(0)}function aF(e,t){if(1&e&&(Yc(0,"header",11)(1,"h5",12),$h(2),Xc(),Yc(3,"h2",13),Wc(4,oF,1,0,"ng-container",14),Xc()()),2&e){let e=dh(),t=Kc(1);Ed(2),Kh(" ",e.formattedYear(e.headerDate)," "),Ed(2),Uc("ngTemplateOutlet",e.headerTemplate?e.headerTemplate:t)("ngTemplateOutletContext",e.headerContext)}}function lF(e,t){if(1&e&&(Jc(0),$h(1),eh()),2&e){let e=dh(2);Ed(1),Kh(" ",e.monthsViewNumber&&e.monthsViewNumber>1?e.resourceStrings.igx_calendar_multi_selection.replace("{0}",e.monthsViewNumber.toString()):e.resourceStrings.igx_calendar_singular_multi_selection," ")}}function dF(e,t){if(1&e&&(Jc(0),$h(1),eh()),2&e){let e=dh(2);Ed(1),Kh(" ",e.monthsViewNumber&&e.monthsViewNumber>1?e.resourceStrings.igx_calendar_range_selection.replace("{0}",e.monthsViewNumber.toString()):e.resourceStrings.igx_calendar_singular_range_selection," ")}}function cF(e,t){if(1&e&&(Jc(0),$h(1),eh()),2&e){let e=dh(2);Ed(1),Kh(" ",e.monthsViewNumber&&e.monthsViewNumber>1?e.resourceStrings.igx_calendar_single_selection.replace("{0}",e.monthsViewNumber.toString()):e.resourceStrings.igx_calendar_singular_single_selection," ")}}function hF(e,t){1&e&&th(0)}function uF(e,t){if(1&e&&(Yc(0,"div",27),Pu(1,"IgxGetViewDate"),Wc(2,hF,1,0,"ng-container",14),Xc()),2&e){let e=t.index,i=dh(2),n=Kc(3);Th("width",100/i.monthsViewNumber,"%"),Gc("data-month",Nu(1,5,e,i.viewDate,!1)),Ed(2),Uc("ngTemplateOutlet",i.subheaderTemplate?i.subheaderTemplate:n)("ngTemplateOutletContext",i.getContext(e))}}function gF(e,t){if(1&e){let e=nh();Yc(0,"igx-days-view",28,29),oh("activeDateChange",(function(t){return Is(e),Ts(dh(2).activeDate=t)}))("viewChanging",(function(t){return Is(e),Ts(dh(2).viewChanging(t))}))("dateSelection",(function(t){return Is(e),Ts(dh(2).childClicked(t))}))("monthsViewBlur",(function(){return Is(e),Ts(dh(2).resetActiveDate())})),Pu(2,"IgxGetViewDate"),Xc()}if(2&e){let e=t.index,i=dh(2);Uc("changeDaysView",!0)("selection",i.selection)("locale",i.locale)("value",i.value)("activeDate",i.activeDate)("viewDate",Vu(2,13,e,i.viewDate))("weekStart",i.weekStart)("formatOptions",i.formatOptions)("formatViews",i.formatViews)("disabledDates",i.disabledDates)("specialDates",i.specialDates)("hideOutsideDays",i.hideOutsideDays)("showWeekNumbers",i.showWeekNumbers)}}var pF=function(e){return{"min-width.%":e}};function mF(e,t){if(1&e){let e=nh();Yc(0,"div",15),oh("@animateView.done",(function(t){return Is(e),Ts(dh().viewRendered(t))}))("swiperight",(function(){return Is(e),Ts(dh().previousMonth())}))("swipeleft",(function(){return Is(e),Ts(dh().nextMonth())}))("pointerdown",(function(){return Is(e),Ts(dh().suppressBlur())})),Yc(1,"section",16)(2,"span",17),Wc(3,lF,2,1,"ng-container",18),Wc(4,dF,2,1,"ng-container",18),Wc(5,cF,2,1,"ng-container",18),Xc(),Yc(6,"div",19,20),Pu(8,"date"),Yc(9,"igx-icon",21),$h(10,"keyboard_arrow_left"),Xc()(),Wc(11,uF,3,9,"div",22),Pu(12,"IgxMonthViewSlots"),Yc(13,"div",23,24),Pu(15,"date"),Yc(16,"igx-icon",21),$h(17,"keyboard_arrow_right"),Xc()()(),Yc(18,"section",25),oh("@animateChange.done",(function(t){return Is(e),Ts(dh().animationDone(t))})),Wc(19,gF,3,16,"igx-days-view",26),Pu(20,"IgxMonthViewSlots"),Xc()()}if(2&e){let e=dh();Uc("@animateView",e.activeView),Ed(3),Uc("ngIf","multi"===e.selection),Ed(1),Uc("ngIf","range"===e.selection),Ed(1),Uc("ngIf","single"===e.selection),Ed(1),Uc("startScroll",e.startPrevMonthScroll)("stopScroll",e.stopMonthScroll)("ngStyle",xu(25,pF,100/(7*e.monthsViewNumber))),Gc("aria-label",e.resourceStrings.igx_calendar_previous_month+", "+Vu(8,15,e.getPrevMonth(e.viewDate),"LLLL")),Ed(5),Uc("ngForOf",Mu(12,18,e.monthsViewNumber)),Ed(2),Uc("startScroll",e.startNextMonthScroll)("stopScroll",e.stopMonthScroll)("ngStyle",xu(27,pF,100/(7*e.monthsViewNumber))),Gc("aria-label",e.resourceStrings.igx_calendar_next_month+", "+Vu(15,20,e.getNextMonth(e.viewDate,e.monthsViewNumber),"LLLL")),Ed(5),Uc("@animateChange",e.animationAction),Ed(1),Uc("ngForOf",Mu(20,23,e.monthsViewNumber))}}function fF(e,t){if(1&e){let e=nh();Yc(0,"igx-months-view",30,31),oh("@animateView.done",(function(t){return Is(e),Ts(dh().viewRendered(t))}))("selected",(function(t){return Is(e),Ts(dh().changeMonth(t))})),Xc()}if(2&e){let e=dh();Uc("@animateView",e.activeView)("date",e.viewDate)("locale",e.locale)("formatView",e.formatViews.month)("monthFormat",e.formatOptions.month)}}function yF(e,t){if(1&e){let e=nh();Yc(0,"igx-years-view",32,33),oh("@animateView.done",(function(t){return Is(e),Ts(dh().viewRendered(t))}))("selected",(function(t){return Is(e),Ts(dh().changeYear(t))})),Xc()}if(2&e){let e=dh();Uc("@animateView",e.activeView)("date",e.viewDate)("locale",e.locale)("formatView",e.formatViews.year)("yearFormat",e.formatOptions.year)}}var vF=0,xF=(()=>{let e=class extends RO{constructor(){super(...arguments),this.id="igx-calendar-"+vF++,this.hasHeader=!0,this.vertical=!1,this.showWeekNumbers=!1,this.animationAction="",this.styleClass=!0,this.activeDate=(new Date).toLocaleDateString(),this.isKeydownTrigger=!1,this._monthsViewNumber=1,this.startPrevMonthScroll=(e=!1)=>{this.startMonthScroll$.next(),this.monthScrollDirection=vO.PREV,this.animationAction=vO.PREV,this.previousMonth(e)},this.startNextMonthScroll=(e=!1)=>{this.startMonthScroll$.next(),this.monthScrollDirection=vO.NEXT,this.animationAction=vO.NEXT,this.nextMonth(e)},this.stopMonthScroll=e=>{e.stopPropagation(),this.daysView.stopMonthScroll$.next(!0),this.daysView.stopMonthScroll$.complete(),this.monthScrollDirection===vO.PREV?this.prevMonthBtn.nativeElement.focus():this.monthScrollDirection===vO.NEXT&&this.nextMonthBtn.nativeElement.focus(),this.platform.isActivationKey(e)&&this.resetActiveDate(),this.monthScrollDirection=vO.NONE}}get monthsViewNumber(){return this._monthsViewNumber}set monthsViewNumber(e){e<1||(this._monthsViewNumber=e)}get styleVerticalClass(){return this.vertical}get isYearView(){return this.activeView===_O}get headerTemplate(){return this.headerTemplateDirective?this.headerTemplateDirective.template:null}set headerTemplate(e){this.headerTemplateDirective=e}get subheaderTemplate(){return this.subheaderTemplateDirective?this.subheaderTemplateDirective.template:null}set subheaderTemplate(e){this.subheaderTemplateDirective=e}get headerContext(){let e=this.headerDate;return this.generateContext(e)}get context(){let e=this.viewDate;return this.generateContext(e)}get headerDate(){return this.selectedDates?this.selectedDates:new Date}onKeydownPageDown(e){if(e.preventDefault(),!this.isDefaultView)return;let t,i="PageDown"===e.key,n=i?1:-1,r=this.daysView;for(;!t&&r;)t=r.dates.find((e=>e.nativeElement===document.activeElement)),r=r.nextMonthView;if(t){this.nextDate=new Date(t.date.date);let e=this.nextDate.getFullYear(),s=this.nextDate.getMonth()+n;i?s>11&&(s=0,e+=n):s<0&&(s=11,e+=n);let o=DO(this.nextDate.getFullYear(),s),a=this.nextDate.getDate();a>o[1]&&(a=o[1]),this.nextDate.setDate(a),this.nextDate.setMonth(s),this.nextDate.setFullYear(e),this.callback=e=>{let t;for(r=this.daysView;!t&&r||t&&!t.isCurrentMonth;)t=r.dates.find((t=>t.date.date.getTime()===e.getTime())),r=r.nextMonthView;t&&t.isFocusable&&t.nativeElement.focus()}}i?e.repeat?requestAnimationFrame((()=>this.nextMonth(!0))):this.nextMonth(!0):e.repeat?requestAnimationFrame((()=>this.previousMonth(!0))):this.previousMonth(!0)}onKeydownShiftPageUp(e){if(e.preventDefault(),!this.isDefaultView)return;let t="PageDown"===e.key,i=t?1:-1;this.previousViewDate=this.viewDate,this.viewDate=this.calendarModel.timedelta(this.viewDate,"year",i),this.animationAction=t?vO.NEXT:vO.PREV,this.isKeydownTrigger=!0;let n,r=this.daysView;for(;!n&&r;)n=r.dates.find((e=>e.nativeElement===document.activeElement)),r=r.nextMonthView;if(n){this.nextDate=new Date(n.date.date);let e=this.nextDate.getFullYear()+i,t=DO(e,this.nextDate.getMonth()),s=this.nextDate.getDate();s>t[1]&&(s=t[1]),this.nextDate.setDate(s),this.nextDate.setFullYear(e),this.callback=e=>{let t;for(r=this.daysView;!t&&r||t&&!t.isCurrentMonth;)t=r.dates.find((t=>t.date.date.getTime()===e.getTime())),r=r.nextMonthView;t&&t.isFocusable&&t.nativeElement.focus()}}}onKeydownHome(e){this.daysView&&this.daysView.onKeydownHome(e)}onKeydownEnd(e){this.daysView&&this.daysView.onKeydownEnd(e)}onMouseUp(e){this.monthScrollDirection!==vO.NONE&&this.stopMonthScroll(e)}ngAfterViewInit(){this.setSiblingMonths(this.monthViews),this._monthViewsChanges$=this.monthViews.changes.subscribe((e=>{this.setSiblingMonths(e)})),this.startMonthScroll$.pipe(yi(this.stopMonthScroll$),pi((()=>this.scrollMonth$.pipe((e=>e.lift(new class{constructor(e){if(this._skipCount=e,this._skipCount<0)throw new _t}call(e,t){return 0===this._skipCount?t.subscribe(new Fe(e)):t.subscribe(new gi(e,this._skipCount))}}(1))),qt((()=>Gt(300))),yi(this.stopMonthScroll$))))).subscribe((()=>{switch(this.monthScrollDirection){case vO.PREV:this.previousMonth();break;case vO.NEXT:this.nextMonth();case vO.NONE:}}))}formattedMonth(e){return this.formatViews.month?this.formatterMonth.format(e):`${e.getMonth()}`}previousMonth(e=!1){e&&this.animationAction===vO.NEXT||(this.previousViewDate=this.viewDate,this.viewDate=this.calendarModel.getPrevMonth(this.viewDate),this.animationAction=vO.PREV,this.isKeydownTrigger=e)}suppressBlur(){this.monthViews?.forEach((e=>e.shouldResetDate=!1)),this.daysView&&(this.daysView.shouldResetDate=!1)}nextMonth(e=!1){e&&"prev"===this.animationAction||(this.isKeydownTrigger=e,this.previousViewDate=this.viewDate,this.viewDate=this.calendarModel.getNextMonth(this.viewDate),this.animationAction=vO.NEXT)}onActiveViewDecade(e,t){super.activeViewDecade(t),requestAnimationFrame((()=>{this.dacadeView&&(this.dacadeView.date=e,this.dacadeView.calendarDir.find((e=>e.isCurrentYear)).nativeElement.focus())}))}onActiveViewDecadeKB(e,t,i){super.activeViewDecadeKB(e,i),requestAnimationFrame((()=>{this.dacadeView&&(this.dacadeView.date=t,this.dacadeView.calendarDir.find((e=>e.isCurrentYear)).nativeElement.focus())}))}getFormattedDate(){let e=this.headerDate;return{monthday:this.formatterMonthday.format(e),weekday:this.formatterWeekday.format(e)}}childClicked(e){e.isPrevMonth&&this.previousMonth(),e.isNextMonth&&this.nextMonth(),this.monthViews.forEach((e=>{e.shiftKey=this.shiftKey,e.lastSelectedDate=this.lastSelectedDate})),this.selectDateFromClient(e.date),"multi"===this.selection&&this._deselectDate&&this.deselectDateInMonthViews(e.date),this.selected.emit(this.selectedDates),this.monthViews.forEach((e=>{e.shiftKey=this.shiftKey,e.lastSelectedDate=this.lastSelectedDate}))}viewChanging(e){this.animationAction=e.monthAction,this.isKeydownTrigger=!0,this.nextDate=e.nextDate,this.callback=t=>{let i=this.daysView.dates.find((e=>e.date.date.getTime()===t.getTime()));i&&this.daysView.daysNavService.focusNextDate(i.nativeElement,e.key,!0)},this.previousViewDate=this.viewDate,this.viewDate=this.nextDate}changeMonth(e){this.previousViewDate=this.viewDate,this.viewDate=this.calendarModel.getFirstViewDate(e,"month",this.activeViewIdx),this.activeView=xO,requestAnimationFrame((()=>{let e=this.monthsBtns.find(((e,t)=>t===this.activeViewIdx));e&&e.nativeElement.focus()}))}onActiveViewYear(e,t){this.activeView=_O,this.activeViewIdx=t,requestAnimationFrame((()=>{this.monthsView.date=e,this.focusMonth()}))}onActiveViewYearKB(e,t,i){this.platform.isActivationKey(t)&&(t.preventDefault(),this.onActiveViewYear(e,i))}deselectDate(e){super.deselectDate(e),this.monthViews.forEach((e=>{e.selectedDates=this.selectedDates,e.rangeStarted=!1})),this._onChangeCallback(this.selectedDates)}getViewDate(e){return this.calendarModel.timedelta(this.viewDate,"month",e)}getContext(e){let t=this.getViewDate(e);return this.generateContext(t,e)}animationDone(e){if((e.fromState===vO.NONE&&(e.toState===vO.PREV||e.toState===vO.NEXT)||"void"===e.fromState&&e.toState===vO.NONE)&&this.viewDateChanged.emit({previousValue:this.previousViewDate,currentValue:this.viewDate}),this.isKeydownTrigger||this.resetActiveDate(),this.monthScrollDirection!==vO.NONE&&this.scrollMonth$.next(),!this.isDefaultView)return;let t=this.daysView,i=t?.dates.find((e=>e.selected));for(;!i&&t?.nextMonthView;)t=t.nextMonthView,i=t.dates.find((e=>e.selected));i&&i.isFocusable&&!this.isKeydownTrigger?setTimeout((()=>{i.nativeElement.focus()}),parseInt(lx.options.params.duration,10)):this.callback&&(e.toState===vO.NEXT||e.toState===vO.PREV)&&this.callback(this.nextDate),this.animationAction=vO.NONE}viewRendered(e){"void"!==e.fromState&&(this.activeViewChanged.emit(this.activeView),this.isDefaultView&&this.resetActiveDate())}resetActiveDate(){if(!this.monthViews)return;let e=[];this.monthViews.map((e=>e.dates)).forEach((t=>{e=e.concat(t.toArray())}));let t=e.find((e=>e.selected&&e.isCurrentMonth))||e.find((e=>e.isToday&&e.isCurrentMonth))||e.find((e=>e.isFocusable));t&&(this.activeDate=t.date.date.toLocaleDateString())}ngOnDestroy(){this._monthViewsChanges$&&this._monthViewsChanges$.unsubscribe()}getPrevMonth(e){return this.calendarModel.getPrevMonth(e)}getNextMonth(e,t){return this.calendarModel.getDateByView(e,"Month",t)}generateContext(e,t){return{$implicit:y({index:t,monthView:()=>this.onActiveViewYear(e,t),yearView:()=>this.onActiveViewDecade(e,t)},this.calendarModel.formatToParts(e,this.locale,this.formatOptions,["era","year","month","day","weekday"]))}}setSiblingMonths(e){e.forEach(((e,t)=>{let i=this.getMonthView(t-1),n=this.getMonthView(t+1);e.nextMonthView=n,e.prevMonthView=i}))}getMonthView(e){return-1===e||e===this.monthViews.length?null:this.monthViews.toArray()[e]}deselectDateInMonthViews(e){this.monthViews.forEach((t=>{t.deselectMultipleInMonth(e)}))}focusMonth(){let e=this.monthsView.monthsRef.find((e=>e.index===this.monthsView.date.getMonth()));e&&e.nativeElement.focus()}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.cmp=Yn({type:e,selectors:[["igx-calendar"]],contentQueries:function(e,t,i){if(1&e&&(mg(i,hO,7,hO),mg(i,uO,7,uO)),2&e){let e;gg(e=fg())&&(t.headerTemplateDirective=e.first),gg(e=fg())&&(t.subheaderTemplateDirective=e.first)}},viewQuery:function(e,t){if(1&e&&(pg(ZO,5,PO),pg(QO,5,NO),pg(JO,5,qO),pg(eF,5),pg(tF,5),pg(iF,5),pg(JO,5,qO)),2&e){let e;gg(e=fg())&&(t.monthsView=e.first),gg(e=fg())&&(t.dacadeView=e.first),gg(e=fg())&&(t.daysView=e.first),gg(e=fg())&&(t.prevMonthBtn=e.first),gg(e=fg())&&(t.nextMonthBtn=e.first),gg(e=fg())&&(t.monthsBtns=e),gg(e=fg())&&(t.monthViews=e)}},hostVars:5,hostBindings:function(e,t){1&e&&oh("keydown.pagedown",(function(e){return t.onKeydownPageDown(e)}))("keydown.pageup",(function(e){return t.onKeydownPageDown(e)}))("keydown.shift.pageup",(function(e){return t.onKeydownShiftPageUp(e)}))("keydown.shift.pagedown",(function(e){return t.onKeydownShiftPageUp(e)}))("keydown.home",(function(e){return t.onKeydownHome(e)}))("keydown.end",(function(e){return t.onKeydownEnd(e)}))("mouseup",(function(e){return t.onMouseUp(e)}),!1,xd),2&e&&(Gc("id",t.id),Ah("igx-calendar--vertical",t.styleVerticalClass)("igx-calendar",t.styleClass))},inputs:{id:"id",hasHeader:"hasHeader",vertical:"vertical",monthsViewNumber:"monthsViewNumber",showWeekNumbers:"showWeekNumbers",animationAction:"animationAction"},standalone:!0,features:[cu([{multi:!0,provide:qx,useExisting:e}]),Tc,yu],decls:8,vars:4,consts:[["defaultHeader",""],["defaultMonth",""],["aria-labelledby","igx-aria-calendar-title-month igx-aria-calendar-title-year","class","igx-calendar__header",4,"ngIf"],["class","igx-calendar__body",3,"swiperight","swipeleft","pointerdown",4,"ngIf"],[3,"date","locale","formatView","monthFormat","selected",4,"ngIf"],[3,"date","locale","formatView","yearFormat","selected",4,"ngIf"],["class","igx-calendar__aria-off-screen","aria-live","polite",4,"ngIf"],["tabindex","0","role","button",1,"igx-calendar-picker__date",3,"keydown","click"],["monthsBtn",""],["yearsBtn",""],["aria-live","polite",1,"igx-calendar__aria-off-screen"],["aria-labelledby","igx-aria-calendar-title-month igx-aria-calendar-title-year",1,"igx-calendar__header"],["id","igx-aria-calendar-title-year",1,"igx-calendar__header-year"],["id","igx-aria-calendar-title-month",1,"igx-calendar__header-date"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-calendar__body",3,"swiperight","swipeleft","pointerdown"],[1,"igx-calendar-picker"],["tabindex","0",1,"igx-calendar__aria-off-screen"],[4,"ngIf"],["tabindex","0","role","button","data-action","prev","igxCalendarScrollMonth","",1,"igx-calendar-picker__prev",3,"startScroll","stopScroll","ngStyle"],["prevMonthBtn",""],["aria-hidden","true"],["class","igx-calendar-picker__dates",3,"width",4,"ngFor","ngForOf"],["tabindex","0","role","button","data-action","next","igxCalendarScrollMonth","",1,"igx-calendar-picker__next",3,"startScroll","stopScroll","ngStyle"],["nextMonthBtn",""],[2,"display","flex"],["role","grid",3,"changeDaysView","selection","locale","value","activeDate","viewDate","weekStart","formatOptions","formatViews","disabledDates","specialDates","hideOutsideDays","showWeekNumbers","activeDateChange","viewChanging","dateSelection","monthsViewBlur",4,"ngFor","ngForOf"],[1,"igx-calendar-picker__dates"],["role","grid",3,"changeDaysView","selection","locale","value","activeDate","viewDate","weekStart","formatOptions","formatViews","disabledDates","specialDates","hideOutsideDays","showWeekNumbers","activeDateChange","viewChanging","dateSelection","monthsViewBlur"],["days",""],[3,"date","locale","formatView","monthFormat","selected"],["months",""],[3,"date","locale","formatView","yearFormat","selected"],["decade",""]],template:function(e,t){1&e&&(Wc(0,nF,4,2,"ng-template",null,0,_g),Wc(2,sF,9,11,"ng-template",null,1,_g),Wc(4,aF,5,3,"header",2),Wc(5,mF,21,29,"div",3),Wc(6,fF,2,5,"igx-months-view",4),Wc(7,yF,2,5,"igx-years-view",5)),2&e&&(Ed(4),Uc("ngIf","single"===t.selection&&t.hasHeader),Ed(1),Uc("ngIf",t.isDefaultView),Ed(1),Uc("ngIf",t.isYearView),Ed(1),Uc("ngIf",t.isDecadeView))},dependencies:[Em,Pm,gO,Fm,FI,bm,qO,PO,NO,$m,YO,XO],encapsulation:2,data:{animation:[iy("animateView",[ay("void => 0",dy(fy)),ay("void => *",dy(Iv,{params:{duration:".2s",fromScale:.9}}))]),iy("animateChange",[ay("* => prev",dy(ax,{params:{fromPosition:"translateX(-30%)"}})),ay("* => next",dy(lx,{params:{fromPosition:"translateX(30%)"}}))])]}}),t})();function _F(e,t,i,n){var r,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,i,o):r(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o}function wF(e,t){return function(i,n){t(i,n,e)}}var CF="none",SF="slide",bF="fade",DF=class{constructor(e,t){this.animationService=e,this.cdr=t,this.animationType=SF,this.enterAnimationDone=new zu,this.leaveAnimationDone=new zu,this.defaultAnimationDuration=320,this.animationPosition=0,this.newDuration=0}triggerAnimations(){this.animationType!==CF&&(this.animationStarted(this.leaveAnimationPlayer)||this.animationStarted(this.enterAnimationPlayer)?requestAnimationFrame((()=>{this.resetAnimations(),this.playAnimations()})):this.playAnimations())}animationStarted(e){return e&&e.hasStarted()}playAnimations(){this.playLeaveAnimation(),this.playEnterAnimation()}resetAnimations(){this.animationStarted(this.leaveAnimationPlayer)&&(this.leaveAnimationPlayer.reset(),this.leaveAnimationDone.emit()),this.animationStarted(this.enterAnimationPlayer)&&(this.enterAnimationPlayer.reset(),this.enterAnimationDone.emit(),this.cdr.markForCheck())}getAnimation(){let e;switch(e=this.newDuration?this.animationPosition?this.animationPosition*this.newDuration:this.newDuration:this.animationPosition?this.animationPosition*this.defaultAnimationDuration:this.defaultAnimationDuration,this.animationType){case SF:let t=this.animationPosition?100*this.animationPosition:100;return{enterAnimation:dy(ax,{params:{delay:"0s",duration:`${e}ms`,endOpacity:1,startOpacity:1,fromPosition:`translateX(${1===this.currentItem.direction?t:-t}%)`,toPosition:"translateX(0%)"}}),leaveAnimation:dy(ax,{params:{delay:"0s",duration:`${e}ms`,endOpacity:1,startOpacity:1,fromPosition:"translateX(0%)",toPosition:`translateX(${1===this.currentItem.direction?-t:t}%)`}})};case bF:return{enterAnimation:dy(fy,{params:{duration:`${e}ms`,startOpacity:`${this.animationPosition}`}}),leaveAnimation:null}}return{enterAnimation:null,leaveAnimation:null}}playEnterAnimation(){let e=this.getAnimation().enterAnimation;e&&(this.enterAnimationPlayer=this.animationService.buildAnimation(e,this.getCurrentElement()),this.enterAnimationPlayer.animationEnd.subscribe((()=>{this.enterAnimationPlayer&&(this.enterAnimationPlayer.reset(),this.enterAnimationPlayer=null),this.animationPosition=0,this.newDuration=0,this.previousItem.previous=!1,this.enterAnimationDone.emit(),this.cdr.markForCheck()})),this.previousItem.previous=!0,this.enterAnimationPlayer.play())}playLeaveAnimation(){let e=this.getAnimation().leaveAnimation;e&&(this.leaveAnimationPlayer=this.animationService.buildAnimation(e,this.getPreviousElement()),this.leaveAnimationPlayer.animationEnd.subscribe((()=>{this.leaveAnimationPlayer&&(this.leaveAnimationPlayer.reset(),this.leaveAnimationPlayer=null),this.animationPosition=0,this.newDuration=0,this.leaveAnimationDone.emit()})),this.leaveAnimationPlayer.play())}};DF=_F([wF(0,Xo(wE))],DF);var EF=["chipArea"],IF=["defaultRemoveIcon"],TF=["defaultSelectIcon"];function AF(e,t){1&e&&th(0)}function kF(e,t){if(1&e&&(Yc(0,"div",10),Wc(1,AF,1,0,"ng-container",11),Xc()),2&e){let e=dh();Uc("ngClass",e.selectClass(e.selected)),Ed(1),Uc("ngTemplateOutlet",e.selectIconTemplate)}}function RF(e,t){1&e&&th(0)}function OF(e,t){if(1&e){let e=nh();Yc(0,"div",12),oh("keydown",(function(t){return Is(e),Ts(dh().onRemoveBtnKeyDown(t))}))("pointerdown",(function(t){return Is(e),Ts(dh().onRemoveMouseDown(t))}))("mousedown",(function(t){return Is(e),Ts(dh().onRemoveMouseDown(t))}))("click",(function(t){return Is(e),Ts(dh().onRemoveClick(t))}))("touchmove",(function(){return Is(e),Ts(dh().onRemoveTouchMove())}))("touchend",(function(t){return Is(e),Ts(dh().onRemoveTouchEnd(t))})),Wc(1,RF,1,0,"ng-container",11),Xc()}if(2&e){let e=dh();Gc("tabIndex",e.tabIndex),Ed(1),Uc("ngTemplateOutlet",e.removeButtonTemplate)}}function FF(e,t){1&e&&(Yc(0,"igx-icon"),$h(1,"done"),Xc()),2&e&&Gc("aria-label",dh().resourceStrings.igx_chip_select)}function PF(e,t){1&e&&(Yc(0,"igx-icon"),$h(1,"cancel"),Xc()),2&e&&Gc("aria-label",dh().resourceStrings.igx_chip_remove)}var MF=[[["igx-prefix"],["","igxPrefix",""]],"*",[["igx-suffix"],["","igxSuffix",""]]],VF=function(e){return{chip:e}},NF=["igx-prefix,[igxPrefix]","*","igx-suffix,[igxSuffix]"],LF="primary",HF="info",BF="success",GF="warning",zF="danger",$F=0,WF=(()=>{let e=class extends tI{set tabIndex(e){this._tabIndex=e}get tabIndex(){return null!==this._tabIndex?this._tabIndex:this.disabled?null:0}set selected(e){this.changeSelection(e)}get selected(){return this._selected}set color(e){this.chipArea.nativeElement.style.backgroundColor=e}get color(){return this.chipArea.nativeElement.style.backgroundColor}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}get isPrimary(){return this.variant===LF}get isInfo(){return this.variant===HF}get isSuccess(){return this.variant===BF}get isWarning(){return this.variant===GF}get isDanger(){return this.variant===zF}get isCosy(){return"cosy"===this.displayDensity}get isCompact(){return"compact"===this.displayDensity}get removeButtonTemplate(){if(!this.disabled)return this.removeIcon||this.defaultRemoveIcon}get selectIconTemplate(){return this.selectIcon||this.defaultSelectIcon}get ghostClass(){return this.getComponentDensityClass("igx-chip__ghost")}get nativeElement(){return this.ref.nativeElement}constructor(e,t,i,n){super(n),this.cdr=e,this.ref=t,this.renderer=i,this._displayDensityOptions=n,this.id="igx-chip-"+$F++,this.role="option",this.draggable=!1,this.animateOnRelease=!0,this.hideBaseOnDrag=!0,this.removable=!1,this.selectable=!1,this.class="",this.disabled=!1,this.selectedChange=new zu,this.moveStart=new zu,this.moveEnd=new zu,this.remove=new zu,this.chipClick=new zu,this.selectedChanging=new zu,this.selectedChanged=new zu,this.keyDown=new zu,this.dragEnter=new zu,this.dragLeave=new zu,this.dragOver=new zu,this.dragDrop=new zu,this.defaultClass="igx-chip",this.hideBaseElement=!1,this.destroy$=new We,this._tabIndex=null,this._selected=!1,this._selectedItemClass="igx-chip__item--selected",this._movedWhileRemoving=!1,this._resourceStrings=fI.ChipResStrings}keyEvent(e){this.onChipKeyDown(e)}selectClass(e){let t="igx-chip__select";return{[t]:e,[`${t}--hidden`]:!e}}onSelectTransitionDone(e){e.target.tagName&&this.selectedChanged.emit({owner:this,originalEvent:e})}onChipKeyDown(e){let t={originalEvent:e,owner:this,cancel:!1};this.keyDown.emit(t),!t.cancel&&(("Delete"===e.key||"Del"===e.key)&&this.removable&&this.remove.emit({originalEvent:e,owner:this}),(" "===e.key||"Spacebar"===e.key)&&this.selectable&&!this.disabled&&this.changeSelection(!this.selected,e),"Tab"!==e.key&&e.preventDefault())}onRemoveBtnKeyDown(e){(" "===e.key||"Spacebar"===e.key||"Enter"===e.key)&&(this.remove.emit({originalEvent:e,owner:this}),e.preventDefault(),e.stopPropagation())}onRemoveMouseDown(e){e.stopPropagation()}onRemoveClick(e){this.remove.emit({originalEvent:e,owner:this})}onRemoveTouchMove(){this._movedWhileRemoving=!0}onRemoveTouchEnd(e){this._movedWhileRemoving||this.onRemoveClick(e),this._movedWhileRemoving=!1}onChipDragStart(e){this.moveStart.emit({originalEvent:e,owner:this}),e.cancel=!this.draggable||this.disabled}onChipDragEnd(){this.animateOnRelease&&this.dragDirective.transitionToOrigin()}onChipMoveEnd(e){this.moveEnd.emit({originalEvent:e,owner:this}),this.selected&&this.chipArea.nativeElement.focus()}onChipGhostCreate(){this.hideBaseElement=this.hideBaseOnDrag}onChipGhostDestroy(){this.hideBaseElement=!1}onChipDragClicked(e){let t={originalEvent:e,owner:this,cancel:!1};this.chipClick.emit(t),!t.cancel&&this.selectable&&!this.disabled&&this.changeSelection(!this.selected,e)}onChipDragEnterHandler(e){if(this.dragDirective===e.drag)return;let t={owner:this,dragChip:e.drag.data?.chip,originalEvent:e};this.dragEnter.emit(t)}onChipDragLeaveHandler(e){if(this.dragDirective===e.drag)return;let t={owner:this,dragChip:e.drag.data?.chip,originalEvent:e};this.dragLeave.emit(t)}onChipDrop(e){if(e.cancel=!0,this.dragDirective===e.drag)return;let t={owner:this,dragChip:e.drag.data?.chip,originalEvent:e};this.dragDrop.emit(t)}onChipOverHandler(e){if(this.dragDirective===e.drag)return;let t={owner:this,dragChip:e.drag.data?.chip,originalEvent:e};this.dragOver.emit(t)}changeSelection(e,t=null){let i={originalEvent:t,owner:this,selected:!1,cancel:!1};e&&!this._selected?(i.selected=!0,this.selectedChanging.emit(i),i.cancel||(this.renderer.addClass(this.chipArea.nativeElement,this._selectedItemClass),this._selected=e,this.selectedChange.emit(this._selected),this.selectedChanged.emit({owner:this,originalEvent:t}))):!e&&this._selected&&(this.selectedChanging.emit(i),i.cancel||(this.renderer.removeClass(this.chipArea.nativeElement,this._selectedItemClass),this._selected=e,this.selectedChange.emit(this._selected),this.selectedChanged.emit({owner:this,originalEvent:t})))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}},t=e;return e.fac=function(t){return new(t||e)(Rd(Jg),Rd(ld),Rd(hd),Rd(eI,8))},e.cmp=Yn({type:e,selectors:[["igx-chip"]],viewQuery:function(e,t){if(1&e&&(pg(EF,7,VT),pg(EF,7,ld),pg(IF,7,ju),pg(TF,7,ju)),2&e){let e;gg(e=fg())&&(t.dragDirective=e.first),gg(e=fg())&&(t.chipArea=e.first),gg(e=fg())&&(t.defaultRemoveIcon=e.first),gg(e=fg())&&(t.defaultSelectIcon=e.first)}},hostVars:22,hostBindings:function(e,t){1&e&&oh("keydown",(function(e){return t.keyEvent(e)})),2&e&&(Gc("id",t.id)("role",t.role)("tabIndex",t.tabIndex)("aria-selected",t.selected),Ah("igx-chip--disabled",t.disabled)("igx-chip",t.defaultClass)("igx-chip--primary",t.isPrimary)("igx-chip--info",t.isInfo)("igx-chip--success",t.isSuccess)("igx-chip--warning",t.isWarning)("igx-chip--danger",t.isDanger)("igx-chip--cosy",t.isCosy)("igx-chip--compact",t.isCompact))},inputs:{variant:"variant",id:"id",tabIndex:"tabIndex",data:"data",draggable:"draggable",animateOnRelease:"animateOnRelease",hideBaseOnDrag:"hideBaseOnDrag",removable:"removable",removeIcon:"removeIcon",selectable:"selectable",selectIcon:"selectIcon",class:"class",disabled:"disabled",selected:"selected",color:"color",resourceStrings:"resourceStrings"},outputs:{selectedChange:"selectedChange",moveStart:"moveStart",moveEnd:"moveEnd",remove:"remove",chipClick:"chipClick",selectedChanging:"selectedChanging",selectedChanged:"selectedChanged",keyDown:"keyDown",dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",dragDrop:"dragDrop"},standalone:!0,features:[Tc,yu],ngContentSelectors:NF,decls:15,vars:8,consts:[["igxDrop","",1,"igx-chip__item",3,"igxDrag","ghostClass","dragStart","ghostCreate","ghostDestroy","dragEnd","transitioned","dragClick","enter","leave","over","dropped"],["chipArea",""],[1,"igx-chip__start"],["selectContainer",""],[3,"ngClass",4,"ngIf"],[1,"igx-chip__content"],[1,"igx-chip__end"],["class","igx-chip__remove",3,"keydown","pointerdown","mousedown","click","touchmove","touchend",4,"ngIf"],["defaultSelectIcon",""],["defaultRemoveIcon",""],[3,"ngClass"],[4,"ngTemplateOutlet"],[1,"igx-chip__remove",3,"keydown","pointerdown","mousedown","click","touchmove","touchend"]],template:function(e,t){1&e&&(hh(MF),Yc(0,"div",0,1),oh("dragStart",(function(e){return t.onChipDragStart(e)}))("ghostCreate",(function(){return t.onChipGhostCreate()}))("ghostDestroy",(function(){return t.onChipGhostDestroy()}))("dragEnd",(function(){return t.onChipDragEnd()}))("transitioned",(function(e){return t.onChipMoveEnd(e)}))("dragClick",(function(e){return t.onChipDragClicked(e)}))("enter",(function(e){return t.onChipDragEnterHandler(e)}))("leave",(function(e){return t.onChipDragLeaveHandler(e)}))("over",(function(e){return t.onChipOverHandler(e)}))("dropped",(function(e){return t.onChipDrop(e)})),Yc(2,"div",2,3),Wc(4,kF,2,2,"div",4),uh(5),Xc(),Yc(6,"div",5),uh(7,1),Xc(),Yc(8,"div",6),uh(9,2),Wc(10,OF,2,2,"div",7),Xc()(),Wc(11,FF,2,1,"ng-template",null,8,_g),Wc(13,PF,2,1,"ng-template",null,9,_g)),2&e&&(Th("visibility",t.hideBaseElement?"hidden":"visible"),Uc("igxDrag",xu(6,VF,t))("ghostClass",t.ghostClass),Ed(4),Uc("ngIf",t.selected),Ed(6),Uc("ngIf",t.removable))},dependencies:[NT,VT,Sm,Pm,Em,FI],encapsulation:2}),t})(),jF=["*"],KF=(()=>{let e=class{get _widthToRem(){return db(this.width)}get _heightToRem(){return db(this.height)}constructor(e,t,i){this.cdr=e,this.element=t,this._iterableDiffers=i,this.role="listbox",this.ariaLabel="chip area",this.reorder=new zu,this.selectionChange=new zu,this.moveStart=new zu,this.moveEnd=new zu,this.destroy$=new We,this.hostClass="igx-chip-area",this._differ=null,this._differ=this._iterableDiffers.find([]).create(null)}ngAfterViewInit(){if(this.chipsList.length){let e=this.chipsList.filter((e=>e.selected));e.length&&this.selectionChange.emit({originalEvent:null,newSelection:e,owner:this})}}ngDoCheck(){if(this.chipsList){let e=this._differ.diff(this.chipsList.toArray());e&&(e.forEachAddedItem((e=>{e.item.moveStart.pipe(yi(e.item.destroy$)).subscribe((e=>{this.onChipMoveStart(e)})),e.item.moveEnd.pipe(yi(e.item.destroy$)).subscribe((e=>{this.onChipMoveEnd(e)})),e.item.dragEnter.pipe(yi(e.item.destroy$)).subscribe((e=>{this.onChipDragEnter(e)})),e.item.keyDown.pipe(yi(e.item.destroy$)).subscribe((e=>{this.onChipKeyDown(e)})),e.item.selectable&&e.item.selectedChanging.pipe(yi(e.item.destroy$)).subscribe((e=>{this.onChipSelectionChange(e)}))})),this.modifiedChipsArray=this.chipsList.toArray())}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onChipKeyDown(e){let t=!1,i=this.chipsList.toArray(),n=i.findIndex((t=>t===e.owner));!0===e.originalEvent.shiftKey?"ArrowLeft"===e.originalEvent.key||"Left"===e.originalEvent.key?(t=this.positionChipAtIndex(n,n-1,!1,e.originalEvent),t&&setTimeout((()=>{this.chipsList.get(n-1).nativeElement.focus()}))):("ArrowRight"===e.originalEvent.key||"Right"===e.originalEvent.key)&&(t=this.positionChipAtIndex(n,n+1,!0,e.originalEvent)):("ArrowLeft"===e.originalEvent.key||"Left"===e.originalEvent.key)&&n>0?i[n-1].nativeElement.focus():("ArrowRight"===e.originalEvent.key||"Right"===e.originalEvent.key)&&n<i.length-1&&i[n+1].nativeElement.focus()}onChipMoveStart(e){this.moveStart.emit({originalEvent:e.originalEvent,owner:this})}onChipMoveEnd(e){this.moveEnd.emit({originalEvent:e.originalEvent,owner:this})}onChipDragEnter(e){let t=this.chipsList.toArray().findIndex((t=>t===e.owner)),i=this.chipsList.toArray().findIndex((t=>t===e.dragChip));i<t?this.positionChipAtIndex(i,t,!0,e.originalEvent):this.positionChipAtIndex(i,t,!1,e.originalEvent)}positionChipAtIndex(e,t,i,n){if(e<0||this.chipsList.length<=e||t<0||this.chipsList.length<=t)return!1;let r=this.chipsList.toArray(),s=[];for(let n=0;n<r.length;n++)i?e<=n&&n<t?s.push(r[n+1]):n===t?s.push(r[e]):s.push(r[n]):t<n&&n<=e?s.push(r[n-1]):n===t?s.push(r[e]):s.push(r[n]);this.modifiedChipsArray=s;let o={chipsArray:this.modifiedChipsArray,originalEvent:n,owner:this};return this.reorder.emit(o),!0}onChipSelectionChange(e){let t=this.chipsList.filter((e=>e.selected));e.selected&&!t.includes(e.owner)?t.push(e.owner):!e.selected&&t.includes(e.owner)&&(t=t.filter((t=>t.id!==e.owner.id))),this.selectionChange.emit({originalEvent:e.originalEvent,newSelection:t,owner:this})}},t=e;return e.fac=function(t){return new(t||e)(Rd(Jg),Rd(ld),Rd(hp))},e.cmp=Yn({type:e,selectors:[["igx-chips-area"]],contentQueries:function(e,t,i){if(1&e&&mg(i,WF,5),2&e){let e;gg(e=fg())&&(t.chipsList=e)}},hostVars:8,hostBindings:function(e,t){2&e&&(Gc("role",t.role)("aria-label",t.ariaLabel),kh(t.hostClass),Th("width",t._widthToRem,"rem")("height",t._heightToRem,"rem"))},inputs:{width:"width",height:"height"},outputs:{reorder:"reorder",selectionChange:"selectionChange",moveStart:"moveStart",moveEnd:"moveEnd"},standalone:!0,features:[yu],ngContentSelectors:jF,decls:1,vars:0,template:function(e,t){1&e&&(hh(),uh(0))},encapsulation:2}),t})(),UF=(new Dl("IgxComboComponentToken"),["*"]),qF=(()=>{let e=class{constructor(){this.clicked=new zu}onClick(e){e.stopPropagation(),this.clicked.emit()}},t=e;return e.fac=function(t){return new(t||e)},e.cmp=Yn({type:e,selectors:[["igx-picker-toggle"]],hostBindings:function(e,t){1&e&&oh("click",(function(e){return t.onClick(e)}))},outputs:{clicked:"clicked"},standalone:!0,features:[yu],ngContentSelectors:UF,decls:1,vars:0,template:function(e,t){1&e&&(hh(),uh(0))},encapsulation:2}),t})(),YF=(()=>{let e=class extends qF{},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.cmp=Yn({type:e,selectors:[["igx-picker-clear"]],standalone:!0,features:[Tc,yu],ngContentSelectors:UF,decls:1,vars:0,template:function(e,t){1&e&&(hh(),uh(0))},encapsulation:2}),t})(),XF=(()=>{let e=class{constructor(e){this.template=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxPickerActions",""]],standalone:!0}),t})(),ZF="horizontal",QF="vertical",JF="dropdown",eP="dialog";function tP(e,t){if(1&e){let e=nh();Yc(0,"button",5,6),oh("click",(function(){Is(e);let t=dh(3);return Ts(t.calendarClose.emit({owner:t}))})),$h(2),Xc()}if(2&e){let e=dh(3);Ed(2),Kh(" ",e.closeButtonLabel," ")}}function iP(e,t){if(1&e){let e=nh();Yc(0,"button",5,7),oh("click",(function(){Is(e);let t=dh(3);return Ts(t.todaySelection.emit({owner:t}))})),$h(2),Xc()}if(2&e){let e=dh(3);Ed(2),Kh(" ",e.todayButtonLabel," ")}}function nP(e,t){if(1&e&&(Yc(0,"div",3),Wc(1,tP,3,1,"button",4),Wc(2,iP,3,1,"button",4),Xc()),2&e){let e=dh(2);Ed(1),Uc("ngIf",e.closeButtonLabel),Ed(1),Uc("ngIf",e.todayButtonLabel)}}function rP(e,t){if(1&e&&Wc(0,nP,3,2,"div",2),2&e){let e=dh();Uc("ngIf",e.closeButtonLabel||e.todayButtonLabel)}}function sP(e,t){1&e&&th(0)}var oP=function(e){return{$implicit:e}},aP=(()=>{let e=class{constructor(){this.calendarClose=new zu,this.todaySelection=new zu,this.styleClass="igx-date-picker",this.vertical=!1,this.mode=JF}get dropdownCSS(){return this.mode===JF}get verticalCSS(){return this.vertical&&this.mode===eP}onEscape(e){e.preventDefault(),this.calendarClose.emit()}get isReadonly(){return this.mode===eP}},t=e;return e.fac=function(t){return new(t||e)},e.cmp=Yn({type:e,selectors:[["igx-calendar-container"]],viewQuery:function(e,t){if(1&e&&pg(xF,7),2&e){let e;gg(e=fg())&&(t.calendar=e.first)}},hostVars:6,hostBindings:function(e,t){1&e&&oh("keydown.alt.arrowup",(function(e){return t.onEscape(e)})),2&e&&Ah("igx-date-picker",t.styleClass)("igx-date-picker--dropdown",t.dropdownCSS)("igx-date-picker--vertical",t.verticalCSS)},outputs:{calendarClose:"calendarClose",todaySelection:"todaySelection"},standalone:!0,features:[yu],decls:4,vars:4,consts:[["defaultPickerActions",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","igx-date-picker__buttons",4,"ngIf"],[1,"igx-date-picker__buttons"],["igxButton","flat","igxRipple","",3,"click",4,"ngIf"],["igxButton","flat","igxRipple","",3,"click"],["closeButton",""],["todayButton",""]],template:function(e,t){if(1&e&&(Wc(0,rP,1,1,"ng-template",null,0,_g),Zc(2,"igx-calendar"),Wc(3,sP,1,0,"ng-container",1)),2&e){let e=Kc(1);Ed(3),Uc("ngTemplateOutlet",(null==t.pickerActions?null:t.pickerActions.template)||e)("ngTemplateOutletContext",xu(2,oP,t.calendar))}},dependencies:[Em,CI,lA,xF,Pm],styles:["[_nghost-%COMP%]{display:block}"]}),t})(),lP=(()=>{let e=class extends tI{get locale(){return this._locale}set locale(e){this._locale=e;try{Ap(this._locale)}catch{this._locale=this._localeId}}get weekStart(){return this._weekStart??Ap(this._locale)}set weekStart(e){this._weekStart=e}set type(e){this._type=e}get type(){return this._type||this._inputGroupType}get collapsed(){return this._collapsed}get isDropdown(){return this.mode===JF}constructor(e,t,i,n){super(i||{displayDensity:"comfortable"}),this.element=e,this._localeId=t,this._displayDensityOptions=i,this._inputGroupType=n,this.placeholder="",this.mode=JF,this.disabled=!1,this.opening=new zu,this.opened=new zu,this.closing=new zu,this.closed=new zu,this._collapsed=!0,this._destroy$=new We,this.locale=this.locale||this._localeId}ngAfterViewInit(){this.subToIconsClicked(this.toggleComponents,(()=>this.open())),this.toggleComponents.changes.pipe(yi(this._destroy$)).subscribe((()=>this.subToIconsClicked(this.toggleComponents,(()=>this.open()))))}ngAfterContentChecked(){this.inputGroup&&this.prefixes?.length>0&&(this.inputGroup.prefixes=this.prefixes),this.inputGroup&&this.suffixes?.length>0&&(this.inputGroup.suffixes=this.suffixes)}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}subToIconsClicked(e,t){e.forEach((i=>{i.clicked.pipe(yi($t(e.changes,this._destroy$))).subscribe(t)}))}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(Sg),Rd(eI,8),Rd(SI,8))},e.dir=er({type:e,contentQueries:function(e,t,i){if(1&e&&(mg(i,qF,5),mg(i,gI,5),mg(i,pI,5)),2&e){let e;gg(e=fg())&&(t.toggleComponents=e),gg(e=fg())&&(t.prefixes=e),gg(e=fg())&&(t.suffixes=e)}},viewQuery:function(e,t){if(1&e&&pg(kT,5),2&e){let e;gg(e=fg())&&(t.inputGroup=e.first)}},inputs:{inputFormat:"inputFormat",displayFormat:"displayFormat",placeholder:"placeholder",mode:"mode",overlaySettings:"overlaySettings",disabled:"disabled",locale:"locale",weekStart:"weekStart",outlet:"outlet",type:"type",tabIndex:"tabIndex"},outputs:{opening:"opening",opened:"opened",closing:"closing",closed:"closed"},features:[Tc]}),t})();function dP(e,t){if(1&e){let e=nh();Yc(0,"igx-prefix",7),oh("click",(function(){return Is(e),Ts(dh().toggle())})),Yc(1,"igx-icon",8),$h(2,"today"),Xc()()}if(2&e){let e=dh();Ed(1),Uc("title",e.value?e.pickerResourceStrings.igx_date_picker_change_date:e.pickerResourceStrings.igx_date_picker_choose_date)}}function cP(e,t){if(1&e){let e=nh();Yc(0,"igx-suffix",7),oh("click",(function(){return Is(e),Ts(dh().clear())})),Yc(1,"igx-icon"),$h(2,"clear"),Xc()()}}var hP=[[["","igxLabel",""]],[["igx-prefix"],["","igxPrefix",""]],[["igx-suffix"],["","igxSuffix",""]],[["igx-hint"],["","igxHint",""]]],uP=["[igxLabel]","igx-prefix,[igxPrefix]","igx-suffix,[igxSuffix]","igx-hint,[igxHint]"],gP=0,pP=(()=>{let e=class extends lP{get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,this._onValidatorChange()}get specialDates(){return this._specialDates}set specialDates(e){this._specialDates=e}get value(){return this._value}set value(e){this._value=e,this.setDateValue(e),this.dateTimeEditor.value!==e&&(this.dateTimeEditor.value=this._dateValue),this.valueChange.emit(this.dateValue),this._onChangeCallback(this.dateValue)}set minValue(e){this._minValue=e,this._onValidatorChange()}get minValue(){return this._minValue}set maxValue(e){this._maxValue=e,this._onValidatorChange()}get maxValue(){return this._maxValue}get dialogOverlaySettings(){return Object.assign({},this._dialogOverlaySettings,this.overlaySettings)}get dropDownOverlaySettings(){return Object.assign({},this._dropDownOverlaySettings,this.overlaySettings)}get inputGroupElement(){return this.inputGroup?.element.nativeElement}get dateValue(){return this._dateValue}get pickerFormatViews(){return Object.assign({},this._defFormatViews,this.formatViews)}get pickerCalendarFormat(){return Object.assign({},this._calendarFormat,this.calendarFormat)}constructor(e,t,i,n,r,s,o,a,l){super(e,t,a,l),this._overlayService=i,this._injector=n,this._renderer=r,this.platform=s,this.cdr=o,this.displayMonthsCount=1,this.headerOrientation=ZF,this.spinLoop=!0,this.id="igx-date-picker-"+gP++,this.readOnly=!1,this.valueChange=new zu,this.validationFailed=new zu,this.displayValue={transform:e=>this.formatter(e)},this._resourceStrings=fI.DatePickerResourceStrings,this._ngControl=null,this._specialDates=null,this._disabledDates=null,this._overlaySubFilter=[Wt((e=>e.id===this._overlayId)),yi(this._destroy$)],this._dropDownOverlaySettings={target:this.inputGroupElement,closeOnOutsideClick:!0,modal:!1,closeOnEscape:!0,scrollStrategy:new HE,positionStrategy:new RE({openAnimation:fy,closeAnimation:yy})},this._dialogOverlaySettings={closeOnOutsideClick:!0,modal:!0,closeOnEscape:!0},this._calendarFormat={day:"numeric",month:"short",weekday:"short",year:"numeric"},this._defFormatViews={day:!1,month:!0,year:!1},this._onChangeCallback=vt,this._onTouchedCallback=vt,this._onValidatorChange=vt,this.onStatusChanged=()=>{this.disabled=this._ngControl.disabled,this.updateValidity(),this.inputGroup.isRequired=this.required},this.locale=this.locale||this._localeId}get required(){if(this._ngControl&&this._ngControl.control&&this._ngControl.control.validator){let e=this._ngControl.control.validator({});return e&&e.required}return!1}get pickerResourceStrings(){return Object.assign({},this._resourceStrings,this.resourceStrings)}onKeyDown(e){switch(e.key){case this.platform.KEYMAP.ARROW_UP:e.altKey&&this.close();break;case this.platform.KEYMAP.ARROW_DOWN:e.altKey&&this.open();break;case this.platform.KEYMAP.SPACE:e.preventDefault(),this.open()}}open(e){if(!this.collapsed||this.disabled)return;let t=Object.assign({},this.isDropdown?this.dropDownOverlaySettings:this.dialogOverlaySettings,e);this.isDropdown&&this.inputGroupElement&&(t.target=this.inputGroupElement),this.outlet&&(t.outlet=this.outlet),this._overlayId=this._overlayService.attach(aP,this.viewContainerRef,t),this._overlayService.show(this._overlayId)}toggle(e){this.collapsed?this.open(e):this.close()}close(){this.collapsed||this._overlayService.hide(this._overlayId)}select(e){this.value=e}selectToday(){let e=new Date;e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),this.select(e),this.close()}clear(){this.disabled||(this._calendar?.deselectDate(),this.dateTimeEditor.clear())}increment(e,t){this.dateTimeEditor.increment(e,t)}decrement(e,t){this.dateTimeEditor.decrement(e,t)}writeValue(e){this._value=e,this.setDateValue(e),this.dateTimeEditor.value!==e&&(this.dateTimeEditor.value=this._dateValue)}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}setDisabledState(e){this.disabled=e}registerOnValidatorChange(e){this._onValidatorChange=e}validate(e){if(!e.value)return null;if(GS(e.value)&&!EA.isValidDate(e.value))return{value:!0};let t={},i=EA.isValidDate(e.value)?e.value:EA.parseIsoDate(e.value);return i&&this.disabledDates&&EO(i,this.disabledDates)&&Object.assign(t,{dateIsDisabled:!0}),Object.assign(t,EA.validateMinMax(i,this.minValue,this.maxValue,!1)),Object.keys(t).length>0?t:null}ngOnInit(){this._ngControl=this._injector.get(k_,null),this.locale=this.locale||this._localeId,super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit(),this.subscribeToClick(),this.subscribeToOverlayEvents(),this.subscribeToDateEditorEvents(),this.subToIconsClicked(this.clearComponents,(()=>this.clear())),this.clearComponents.changes.pipe(yi(this._destroy$)).subscribe((()=>this.subToIconsClicked(this.clearComponents,(()=>this.clear())))),this._dropDownOverlaySettings.excludeFromOutsideClick=[this.inputGroup.element.nativeElement],Lt(this.inputDirective.nativeElement,"blur").pipe(yi(this._destroy$)).subscribe((()=>{this.collapsed&&(this._onTouchedCallback(),this.updateValidity())})),this._ngControl&&(this._statusChanges$=this._ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this)),this._ngControl.control.validator&&(this.inputGroup.isRequired=this.required,this.cdr.detectChanges()))}ngAfterViewChecked(){this.labelDirective&&this._renderer.setAttribute(this.inputDirective.nativeElement,"aria-labelledby",this.labelDirective.id)}ngOnDestroy(){super.ngOnDestroy(),this._statusChanges$&&this._statusChanges$.unsubscribe(),this._overlayId&&(this._overlayService.detach(this._overlayId),delete this._overlayId)}getEditElement(){return this.inputDirective.nativeElement}subscribeToClick(){Lt(this.getEditElement(),"click").pipe(yi(this._destroy$)).subscribe((()=>{this.isDropdown||this.toggle()}))}setDateValue(e){GS(e)&&isNaN(e.getTime())?this._dateValue=e:this._dateValue=EA.isValidDate(e)?e:EA.parseIsoDate(e)}updateValidity(){this._ngControl&&!this.disabled&&this.isTouchedOrDirty?this.hasValidators&&this.inputGroup.isFocused?this.inputDirective.valid=this._ngControl.valid?dI.VALID:dI.INVALID:this.inputDirective.valid=this._ngControl.valid?dI.INITIAL:dI.INVALID:this.inputDirective.valid=dI.INITIAL}get isTouchedOrDirty(){return this._ngControl.control.touched||this._ngControl.control.dirty}get hasValidators(){return!!this._ngControl.control.validator||!!this._ngControl.control.asyncValidator}handleSelection(e){this.dateValue&&EA.isValidDate(this.dateValue)&&(e.setHours(this.dateValue.getHours()),e.setMinutes(this.dateValue.getMinutes()),e.setSeconds(this.dateValue.getSeconds()),e.setMilliseconds(this.dateValue.getMilliseconds())),this.value=e,this._calendar.viewDate=e,this.close()}subscribeToDateEditorEvents(){this.dateTimeEditor.valueChange.pipe(yi(this._destroy$)).subscribe((e=>{this.value=e})),this.dateTimeEditor.validationFailed.pipe(yi(this._destroy$)).subscribe((e=>{this.validationFailed.emit({owner:this,prevValue:e.oldValue,currentValue:this.value})}))}subscribeToOverlayEvents(){this._overlayService.opening.pipe(...this._overlaySubFilter).subscribe((e=>{let t={owner:this,event:e.event,cancel:e.cancel};this.opening.emit(t),e.cancel=t.cancel,t.cancel?this._overlayService.detach(this._overlayId):(this._initializeCalendarContainer(e.componentRef.instance),this._collapsed=!1)})),this._overlayService.opened.pipe(...this._overlaySubFilter).subscribe((()=>{this.opened.emit({owner:this}),this._calendar?.daysView?.selectedDates?this._calendar?.daysView?.focusActiveDate():this._targetViewDate&&(this._targetViewDate.setHours(0,0,0,0),this._calendar?.daysView?.dates.find((e=>e.date.date.getTime()===this._targetViewDate.getTime()))?.nativeElement.focus())})),this._overlayService.closing.pipe(...this._overlaySubFilter).subscribe((e=>{let t={owner:this,event:e.event,cancel:e.cancel};this.closing.emit(t),e.cancel=t.cancel,!t.cancel&&(!this.getEditElement()||t.event&&this.isDropdown?(this._onTouchedCallback(),this.updateValidity()):this.inputDirective.focus())})),this._overlayService.closed.pipe(...this._overlaySubFilter).subscribe((()=>{this.closed.emit({owner:this}),this._overlayService.detach(this._overlayId),this._collapsed=!0,this._overlayId=null}))}getMinMaxDates(){return{minValue:EA.isValidDate(this.minValue)?this.minValue:EA.parseIsoDate(this.minValue),maxValue:EA.isValidDate(this.maxValue)?this.maxValue:EA.parseIsoDate(this.maxValue)}}setDisabledDates(){this._calendar.disabledDates=this.disabledDates?[...this.disabledDates]:[];let{minValue:e,maxValue:t}=this.getMinMaxDates();e&&this._calendar.disabledDates.push({type:pO.Before,dateRange:[e]}),t&&this._calendar.disabledDates.push({type:pO.After,dateRange:[t]})}_initializeCalendarContainer(e){this._calendar=e.calendar;let t=this.headerOrientation===QF;this._calendar.hasHeader=!this.isDropdown,this._calendar.formatOptions=this.pickerCalendarFormat,this._calendar.formatViews=this.pickerFormatViews,this._calendar.locale=this.locale,this._calendar.vertical=t,this._calendar.weekStart=this.weekStart,this._calendar.specialDates=this.specialDates,this._calendar.headerTemplate=this.headerTemplate,this._calendar.subheaderTemplate=this.subheaderTemplate,this._calendar.hideOutsideDays=this.hideOutsideDays,this._calendar.monthsViewNumber=this.displayMonthsCount,this._calendar.showWeekNumbers=this.showWeekNumbers,this._calendar.selected.pipe(yi(this._destroy$)).subscribe((e=>this.handleSelection(e))),this.setDisabledDates(),EA.isValidDate(this.dateValue)&&(this._calendar.value=this.dateValue),this.setCalendarViewDate(),e.mode=this.mode,e.vertical=t,e.closeButtonLabel=this.cancelButtonLabel,e.todayButtonLabel=this.todayButtonLabel,e.pickerActions=this.pickerActions,e.calendarClose.pipe(yi(this._destroy$)).subscribe((()=>this.close())),e.todaySelection.pipe(yi(this._destroy$)).subscribe((()=>this.selectToday()))}setCalendarViewDate(){let{minValue:e,maxValue:t}=this.getMinMaxDates(),i=EA.isValidDate(this.dateValue)?this.dateValue:new Date;e&&EA.lessThanMinValue(i,e)?this._calendar.viewDate=this._targetViewDate=e:t&&EA.greaterThanMaxValue(i,t)?this._calendar.viewDate=this._targetViewDate=t:this._calendar.viewDate=this._targetViewDate=i}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(Sg),Rd(LE),Rd(kd),Rd(hd),Rd($S),Rd(Jg),Rd(eI,8),Rd(SI,8))},e.cmp=Yn({type:e,selectors:[["igx-date-picker"]],contentQueries:function(e,t,i){if(1&e&&(mg(i,uI,5),mg(i,hO,5),mg(i,uO,5),mg(i,XF,5),mg(i,YF,4)),2&e){let e;gg(e=fg())&&(t.label=e.first),gg(e=fg())&&(t.headerTemplate=e.first),gg(e=fg())&&(t.subheaderTemplate=e.first),gg(e=fg())&&(t.pickerActions=e.first),gg(e=fg())&&(t.clearComponents=e)}},viewQuery:function(e,t){if(1&e&&(pg(IA,7),pg(kT,5,Xu),pg(uI,5),pg(cI,5)),2&e){let e;gg(e=fg())&&(t.dateTimeEditor=e.first),gg(e=fg())&&(t.viewContainerRef=e.first),gg(e=fg())&&(t.labelDirective=e.first),gg(e=fg())&&(t.inputDirective=e.first)}},hostVars:1,hostBindings:function(e,t){1&e&&oh("keydown",(function(e){return t.onKeyDown(e)})),2&e&&Gc("id",t.id)},inputs:{hideOutsideDays:"hideOutsideDays",displayMonthsCount:"displayMonthsCount",showWeekNumbers:"showWeekNumbers",formatter:"formatter",headerOrientation:"headerOrientation",todayButtonLabel:"todayButtonLabel",cancelButtonLabel:"cancelButtonLabel",spinLoop:"spinLoop",spinDelta:"spinDelta",outlet:"outlet",id:"id",formatViews:"formatViews",disabledDates:"disabledDates",specialDates:"specialDates",calendarFormat:"calendarFormat",value:"value",minValue:"minValue",maxValue:"maxValue",resourceStrings:"resourceStrings",readOnly:"readOnly"},outputs:{valueChange:"valueChange",validationFailed:"validationFailed"},standalone:!0,features:[cu([{provide:qx,useExisting:e,multi:!0},{provide:e_,useExisting:e,multi:!0}]),Tc,yu],ngContentSelectors:uP,decls:12,vars:19,consts:[[3,"displayDensity","type","suppressInputAutofocus"],[3,"click",4,"ngIf"],["igxInput","","aria-haspopup","dialog","aria-autocomplete","none","role","combobox",1,"igx-date-picker__input-date",3,"displayValuePipe","igxDateTimeEditor","displayFormat","minValue","maxValue","spinDelta","spinLoop","disabled","placeholder","readonly","igxTextSelection","locale"],["ngProjectAs","[igxLabel]",5,["","igxLabel",""]],["ngProjectAs","igx-prefix",5,["igx-prefix"]],["ngProjectAs","igx-suffix",5,["igx-suffix"]],["ngProjectAs","igx-hint",5,["igx-hint"]],[3,"click"],[3,"title"]],template:function(e,t){1&e&&(hh(hP),Yc(0,"igx-input-group",0),Wc(1,dP,3,1,"igx-prefix",1),Zc(2,"input",2),Wc(3,cP,3,0,"igx-suffix",1),Jc(4,3),uh(5),eh(),Jc(6,4),uh(7,1),eh(),Jc(8,5),uh(9,2),eh(),Jc(10,6),uh(11,3),eh(),Xc()),2&e&&(Uc("displayDensity",t.displayDensity)("type",t.type)("suppressInputAutofocus",!0),Ed(1),Uc("ngIf",!t.toggleComponents.length),Ed(1),Uc("displayValuePipe",t.formatter?t.displayValue:null)("igxDateTimeEditor",t.inputFormat)("displayFormat",t.displayFormat)("minValue",t.minValue)("maxValue",t.maxValue)("spinDelta",t.spinDelta)("spinLoop",t.spinLoop)("disabled",t.disabled)("placeholder",t.placeholder)("readonly",!t.isDropdown||t.readOnly)("igxTextSelection",t.isDropdown&&!t.readOnly)("locale",t.locale),Gc("aria-expanded",!t.collapsed)("aria-labelledby",null==t.label?null:t.label.id),Ed(1),Uc("ngIf",!t.clearComponents.length&&t.value))},dependencies:[Em,kT,gI,FI,cI,IA,gA,pI],styles:["[_nghost-%COMP%]{display:block}"]}),t})(),mP=(()=>{let e=class{constructor(e){this.template=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxPaginator",""]],standalone:!0}),t})(),fP=["*"],yP=(()=>{let e=class extends jA{get text(){return this._text}set text(e){this._text=e}get itemText(){return void 0!==this._text?this._text:this.elementRef.nativeElement.textContent.trim()}get selected(){return!this.isHeader&&!this.disabled&&this.selection.is_item_selected(this.dropDown.id,this)}set selected(e){e&&!this.isHeader&&!this.disabled&&this.dropDown.selectItem(this)}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.cmp=Yn({type:e,selectors:[["igx-select-item"]],inputs:{text:"text"},standalone:!0,features:[Tc,yu],ngContentSelectors:fP,decls:2,vars:0,consts:[[1,"igx-drop-down__inner"]],template:function(e,t){1&e&&(hh(),Yc(0,"span",0),uh(1),Xc())},encapsulation:2}),t})(),vP=class extends kE{constructor(e,t,i){super(),this.select=e,this.platform=i,this._selectDefaultSettings={horizontalDirection:CE.Right,verticalDirection:SE.Bottom,horizontalStartPoint:CE.Left,verticalStartPoint:SE.Top,openAnimation:fy,closeAnimation:yy},this.global_yOffset=0,this.global_xOffset=0,this.global_styles={},this.settings=Object.assign({},this._selectDefaultSettings,t)}position(e,t,i,n,r){let s=r||this.settings.target,o=super.calculateElementRectangles(e,s),a={verticalOffset:this.global_yOffset,horizontalOffset:this.global_xOffset,targetRect:o.targetRect,contentElementRect:o.elementRect,styles:this.global_styles,scrollContainer:this.select.scrollContainer,scrollContainerRect:this.select.scrollContainer.getBoundingClientRect()};n&&(this.select.scrollContainer.scrollTop=0,a.viewPortRect=TE.getViewportRect(i),a.itemElement=this.getInteractionItemElement(),a.itemRect=a.itemElement.getBoundingClientRect(),a.styles=this.calculateStyles(a,s),a.scrollAmount=this.calculateScrollAmount(a),this.calculateYoffset(a),this.calculateXoffset(a),super.updateViewPortFit(a),(a.fitVertical.back<0||a.fitVertical.forward<0)&&this.fitInViewport(e,a),this.select.scrollContainer.scrollTop=a.scrollAmount),this.setStyles(e,a)}getInteractionItemElement(){let e;return e=this.select.selectedItem?this.select.selectedItem.element.nativeElement:this.select.getFirstItemElement(),e}fitInViewport(e,t){let i=t.scrollContainerRect.bottom-t.contentElementRect.bottom,n=t.scrollContainerRect.top-t.contentElementRect.top,r=t.targetRect.bottom+t.styles.itemTextToInputTextDiff-i,s=t.targetRect.top-t.styles.itemTextToInputTextDiff-n;t.fitVertical.back<0?t.scrollContainer.scrollHeight-t.scrollContainerRect.height-t.scrollAmount+t.fitVertical.back>0&&s>t.viewPortRect.top?(t.scrollAmount-=t.fitVertical.back,t.verticalOffset-=t.fitVertical.back,this.global_yOffset=t.verticalOffset):(t.verticalOffset=0,this.global_yOffset=0):t.fitVertical.forward<0&&(t.scrollAmount+t.fitVertical.forward>0&&r<t.viewPortRect.bottom?(t.scrollAmount+=t.fitVertical.forward,t.verticalOffset+=t.fitVertical.forward,this.global_yOffset=t.verticalOffset):(t.verticalOffset=-t.contentElementRect.height+t.targetRect.height,this.global_yOffset=t.verticalOffset))}setStyles(e,t){super.setStyle(e,t.targetRect,t.contentElementRect,t),e.style.width=`${t.styles.contentElementNewWidth}px`,this.global_styles.contentElementNewWidth=t.styles.contentElementNewWidth}calculateScrollAmount(e){let t=e.itemRect,i=e.scrollContainer,n=e.scrollContainerRect,r=n.top-t.top,s=i.scrollTop-r;return s-=i.clientHeight/2,s+=t.height/2,Math.round(Math.min(Math.max(0,s),i.scrollHeight-n.height))}calculateStyles(e,t){let i={},n=window.getComputedStyle(t),r=window.getComputedStyle(e.itemElement),s=parseFloat(n.fontSize),o=parseFloat(n.paddingTop),a=parseFloat(n.paddingBottom),l=parseFloat(r.fontSize),d=(e.targetRect.bottom-a-(e.targetRect.top+o)-s)/2,c=(e.itemRect.height-l)/2;i.itemTextToInputTextDiff=Math.round(c-d-o);let h=parseFloat(r.paddingLeft),u=parseFloat(r.textIndent);return i.itemTextPadding=h,i.itemTextIndent=u,i.contentElementNewWidth=e.targetRect.width+24+2*h,i}calculateYoffset(e){e.verticalOffset=-(e.itemRect.top-e.contentElementRect.top+e.styles.itemTextToInputTextDiff-e.scrollAmount),this.global_yOffset=e.verticalOffset}calculateXoffset(e){e.horizontalOffset=e.styles.itemTextIndent-e.styles.itemTextPadding,this.global_xOffset=e.horizontalOffset}};vP=_F([wF(2,Zo())],vP);var xP=(()=>{let e=class extends rI{get target(){return this._target}set target(e){this._target=e||this.dropdown}constructor(){super(null),this._target=null,this.inputStream="",this.clearStream$=ke.EMPTY}handleKeyDown(e){if(!e)return;let t=e.key.toLowerCase();if(!e.altKey||"arrowdown"!==t&&"arrowup"!==t&&"down"!==t&&"up"!==t){if(this.target.collapsed)switch(t){case"space":case"spacebar":case" ":case"enter":return e.preventDefault(),void this.target.open();case"arrowdown":case"down":return this.target.navigateNext(),this.target.selectItem(this.target.focusedItem),void e.preventDefault();case"arrowup":case"up":return this.target.navigatePrev(),this.target.selectItem(this.target.focusedItem),void e.preventDefault()}else("tab"===t||e.shiftKey&&"tab"===t)&&this.target.close();super.handleKeyDown(e),this.captureKey(e)}else this.target.toggle()}captureKey(e){if(!e||!e.key||e.key.length>1||" "===e.key||"spacebar"===e.key)return;this.clearStream$.unsubscribe(),this.clearStream$=function(e=0,t,i){let n=-1;return Bt(t)?n=Number(t)<1?1:Number(t):ot(t)&&(i=t),ot(i)||(i=ft),new Le((t=>{let r=Bt(e)?e:+e-i.now();return i.schedule(Ut,r,{index:0,period:n,subscriber:t})}))}(500).subscribe((()=>{this.inputStream=""})),this.inputStream+=e.key;let t=this.target.focusedItem;t&&this.inputStream.length>1&&t.itemText.toLowerCase().startsWith(this.inputStream.toLowerCase())||this.activateItemByText(this.inputStream)}activateItemByText(e){let t=this.target.items,i=this.findNextItem(t,e);!i&&e.charAt(0)===e.charAt(e.length-1)&&(e=e.slice(0,1),i=this.findNextItem(t,e)),i&&(this.target.collapsed&&this.target.selectItem(i),this.target.navigateItem(t.indexOf(i)))}ngOnDestroy(){this.clearStream$.unsubscribe()}findNextItem(e,t){let i=e.indexOf(this.target.focusedItem)||0;return e.slice(i+1).find((e=>!e.disabled&&e.itemText.toLowerCase().startsWith(t.toLowerCase())))||e.slice(0,i).find((e=>!e.disabled&&e.itemText.toLowerCase().startsWith(t.toLowerCase())))}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxSelectItemNavigation",""]],inputs:{target:["igxSelectItemNavigation","target"]},standalone:!0,features:[Tc]}),t})(),_P=["inputGroup"],wP=["input"];function CP(e,t){1&e&&th(0)}var SP=function(e){return{$implicit:e}};function bP(e,t){if(1&e&&(Jc(0),Wc(1,CP,1,0,"ng-container",15),eh()),2&e){let e=dh();Ed(1),Uc("ngTemplateOutlet",e.toggleIconTemplate)("ngTemplateOutletContext",xu(2,SP,e.collapsed))}}function DP(e,t){if(1&e&&(Yc(0,"igx-icon"),$h(1),Xc()),2&e){let e=dh(),t=Kc(1);Ed(1),Kh(" ","material"===t.theme?e.collapsed?"expand_more":"expand_less":e.collapsed?"arrow_drop_down":"arrow_drop_up"," ")}}function EP(e,t){1&e&&uh(0,5,["*ngTemplateOutlet","headerTemplate"])}function IP(e,t){if(1&e&&(Yc(0,"div",16),Wc(1,EP,1,0,"ng-content",17),Xc()),2&e){let e=dh();Ed(1),Uc("ngTemplateOutlet",e.headerTemplate)}}function TP(e,t){1&e&&th(0)}function AP(e,t){if(1&e&&(Yc(0,"div",18),Wc(1,TP,1,0,"ng-container",17),Xc()),2&e){let e=dh();Ed(1),Uc("ngTemplateOutlet",e.footerTemplate)}}var kP=[[["","igxLabel",""]],[["igx-prefix"],["","igxPrefix",""]],[["igx-suffix"],["","igxSuffix",""]],[["igx-hint"],["","igxHint",""]],[["igx-select-item"],["igx-select-item-group"]],"*"],RP=["[igxLabel]","igx-prefix,[igxPrefix]","igx-suffix,[igxSuffix]","igx-hint, [igxHint]","igx-select-item, igx-select-item-group","*"],OP=(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxSelectToggleIcon",""]],standalone:!0}),t})(),FP=(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxSelectHeader",""]],standalone:!0}),t})(),PP=(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxSelectFooter",""]],standalone:!0}),t})(),MP=(()=>{let e=class extends YA{get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this.setSelection(this.items.find((e=>e.value===this.value))))}get type(){return this._type||this._inputGroupType||"line"}set type(e){this._type=e}get selectionValue(){let e=this.selectedItem;return e?e.itemText:""}get selectedItem(){return this.selection.first_item(this.id)}constructor(e,t,i,n,r,s,o){super(e,t,i,r),this.overlayService=n,this._inputGroupType=s,this._injector=o,this.disabled=!1,this.maxHeight="256px",this.opening=new zu,this.opened=new zu,this.closing=new zu,this.closed=new zu,this.toggleIconTemplate=null,this.headerTemplate=null,this.footerTemplate=null,this.cssClass=!1,this.allowItemsFocus=!1,this.ngControl=null,this._type=null,this._onChangeCallback=vt,this._onTouchedCallback=vt,this.writeValue=e=>{this.value=e}}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}setDisabledState(e){this.disabled=e}getEditElement(){return this.input.nativeElement}selectItem(e,t){let i=this.selectedItem??{};if(null===e||e.disabled||e.isHeader)return;if(e===i)return void this.toggleDirective.close();let n={oldSelection:i,newSelection:e,cancel:!1,owner:this};this.selectionChanging.emit(n),!n.cancel&&(this.setSelection(e),this._value=e.value,t&&this.toggleDirective.close(),this.cdr.detectChanges(),this._onChangeCallback(this.value))}getFirstItemElement(){return this.children.first.element.nativeElement}open(e){this.disabled||0===this.items.length||(this.selectedItem||this.navigateFirst(),super.open(Object.assign({},this._overlayDefaults,this.overlaySettings,e)))}inputGroupClick(e,t){let i=e.target;this.hintElement&&i.contains(this.hintElement.nativeElement)||this.toggle(Object.assign({},this._overlayDefaults,this.overlaySettings,t))}ngAfterContentInit(){this._overlayDefaults={target:this.getEditElement(),modal:!1,positionStrategy:new vP(this),scrollStrategy:new HE,excludeFromOutsideClick:[this.inputGroup.element.nativeElement]};let e=this.children.changes.pipe(yi(this.destroy$)).subscribe((()=>{this.setSelection(this.items.find((e=>e.value===this.value))),this.cdr.detectChanges()}));Promise.resolve().then((()=>{e.closed||this.children.notifyOnChanges()}))}handleOpening(e){let t={owner:this,event:e.event,cancel:e.cancel};this.opening.emit(t),e.cancel=t.cancel}onToggleContentAppended(e){this.overlayService.getOverlayById(e.id)?.settings?.positionStrategy instanceof vP||super.onToggleContentAppended(e)}handleOpened(){this.updateItemFocus(),this.opened.emit({owner:this})}handleClosing(e){let t={owner:this,event:e.event,cancel:e.cancel};this.closing.emit(t),e.cancel=t.cancel}handleClosed(){this.focusItem(!1),this.closed.emit({owner:this})}onBlur(){this._onTouchedCallback(),this.ngControl&&this.ngControl.invalid?this.input.valid=dI.INVALID:this.input.valid=dI.INITIAL}onFocus(){this._onTouchedCallback()}ngOnInit(){this.ngControl=this._injector.get(k_,null),super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit(),this.ngControl&&(this.ngControl.statusChanges.pipe(yi(this.destroy$)).subscribe(this.onStatusChanged.bind(this)),this.manageRequiredAsterisk()),this.cdr.detectChanges()}ngAfterContentChecked(){this.inputGroup&&this.prefixes?.length>0&&(this.inputGroup.prefixes=this.prefixes),this.inputGroup&&this.suffixes?.length>0&&(this.inputGroup.suffixes=this.suffixes)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.selection.clear(this.id)}mousedownHandler(e){e.preventDefault()}onStatusChanged(){this.manageRequiredAsterisk(),this.ngControl&&!this.disabled&&this.isTouchedOrDirty?this.hasValidators&&this.inputGroup.isFocused?this.input.valid=this.ngControl.valid?dI.VALID:dI.INVALID:this.input.valid=this.ngControl.valid?dI.INITIAL:dI.INVALID:this.input.valid=dI.INITIAL}get isTouchedOrDirty(){return this.ngControl.control.touched||this.ngControl.control.dirty}get hasValidators(){return!!this.ngControl.control.validator||!!this.ngControl.control.asyncValidator}navigate(e,t){this.collapsed&&this.selectedItem&&this.navigateItem(this.selectedItem.itemIndex),super.navigate(e,t)}manageRequiredAsterisk(){let e=this.elementRef.nativeElement.hasAttribute("required");if(this.ngControl&&this.ngControl.control.validator){let e=this.ngControl.control.validator({});this.inputGroup.isRequired=e&&e.required,this.cdr.markForCheck()}else this.inputGroup.isRequired&&this.ngControl&&!this.ngControl.control.validator&&!e&&(this.input.valid=dI.INITIAL,this.inputGroup.isRequired=!1,this.cdr.markForCheck())}setSelection(e){e&&void 0!==e.value&&null!==e.value?this.selection.set(this.id,new Set([e])):this.selection.clear(this.id)}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(Jg),Rd(VA),Rd(LE),Rd(eI,8),Rd(SI,8),Rd(kd))},e.cmp=Yn({type:e,selectors:[["igx-select"]],contentQueries:function(e,t,i){if(1&e&&(mg(i,uI,7),mg(i,OP,5,ju),mg(i,FP,5,ju),mg(i,PP,5,ju),mg(i,oI,5,ld),mg(i,yP,5),mg(i,gI,5),mg(i,pI,5)),2&e){let e;gg(e=fg())&&(t.label=e.first),gg(e=fg())&&(t.toggleIconTemplate=e.first),gg(e=fg())&&(t.headerTemplate=e.first),gg(e=fg())&&(t.footerTemplate=e.first),gg(e=fg())&&(t.hintElement=e.first),gg(e=fg())&&(t.children=e),gg(e=fg())&&(t.prefixes=e),gg(e=fg())&&(t.suffixes=e)}},viewQuery:function(e,t){if(1&e&&(pg(_P,7,kT),pg(wP,7,cI)),2&e){let e;gg(e=fg())&&(t.inputGroup=e.first),gg(e=fg())&&(t.input=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&Th("max-height",t.maxHeight)},inputs:{placeholder:"placeholder",disabled:"disabled",overlaySettings:"overlaySettings",value:"value",type:"type"},outputs:{opening:"opening",opened:"opened",closing:"closing",closed:"closed"},standalone:!0,features:[cu([{provide:qx,useExisting:e,multi:!0},{provide:XE,useExisting:e}]),Tc,yu],ngContentSelectors:RP,decls:21,vars:18,consts:[[1,"input-group",3,"type","displayDensity","click"],["inputGroup",""],["ngProjectAs","[igxLabel]",5,["","igxLabel",""]],["ngProjectAs","igx-prefix",5,["igx-prefix"]],["type","text","igxInput","","readonly","true","role","combobox","aria-haspopup","listbox",1,"input",3,"igxSelectItemNavigation","disabled","value","blur","focus"],["input",""],["ngProjectAs","igx-suffix",5,["igx-suffix"]],[1,"igx-select__toggle-button"],[4,"ngIf"],["ngProjectAs","igx-hint, [igxHint]",5,["igx-hint"]],["igxToggle","",1,"igx-drop-down__list",3,"mousedown","appended","opening","opened","closing","closed"],["class","igx-drop-down__select-header",4,"ngIf"],["unselectable","on","role","listbox",1,"igx-drop-down__list-scroll"],["scrollContainer",""],["class","igx-drop-down__select-footer",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-drop-down__select-header"],[4,"ngTemplateOutlet"],[1,"igx-drop-down__select-footer"]],template:function(e,t){1&e&&(hh(kP),Yc(0,"igx-input-group",0,1),oh("click",(function(e){return t.inputGroupClick(e)})),Jc(2,2),uh(3),eh(),Jc(4,3),uh(5,1),eh(),Yc(6,"input",4,5),oh("blur",(function(){return t.onBlur()}))("focus",(function(){return t.onFocus()})),Xc(),Jc(8,6),uh(9,2),eh(),Yc(10,"igx-suffix",7),Wc(11,bP,2,4,"ng-container",8),Wc(12,DP,2,1,"igx-icon",8),Xc(),Jc(13,9),uh(14,3),eh(),Xc(),Yc(15,"div",10),oh("mousedown",(function(e){return t.mousedownHandler(e)}))("appended",(function(e){return t.onToggleContentAppended(e)}))("opening",(function(e){return t.handleOpening(e)}))("opened",(function(){return t.handleOpened()}))("closing",(function(e){return t.handleClosing(e)}))("closed",(function(){return t.handleClosed()})),Wc(16,IP,2,1,"div",11),Yc(17,"div",12,13),uh(19,4),Xc(),Wc(20,AP,2,1,"div",14),Xc()),2&e&&(Uc("type",t.type)("displayDensity",t.displayDensity),Ed(6),Uc("igxSelectItemNavigation",t)("disabled",t.disabled)("value",t.selectionValue),Gc("placeholder",t.placeholder)("aria-labelledby",null==t.label?null:t.label.id)("aria-expanded",!t.collapsed)("aria-owns",t.listId)("aria-activedescendant",t.collapsed||null==t.focusedItem?null:t.focusedItem.id),Ed(5),Uc("ngIf",t.toggleIconTemplate),Ed(1),Uc("ngIf",!t.toggleIconTemplate),Ed(4),Uc("ngIf",t.headerTemplate),Ed(1),Th("max-height",t.maxHeight),Gc("id",t.listId)("aria-labelledby",null==t.label?null:t.label.id),Ed(3),Uc("ngIf",t.footerTemplate))},dependencies:[kT,cI,xP,pI,Em,Pm,FI,fA],styles:["[_nghost-%COMP%]{display:block}"]}),t})();function VP(e,t){1&e&&Zc(0,"igx-page-size")}function NP(e,t){1&e&&Zc(0,"igx-page-nav")}var LP=[[["","igxPaginatorContent",""],["igx-paginator-content"]]],HP=["[igxPaginatorContent],igx-paginator-content"];function BP(e,t){if(1&e&&(Yc(0,"igx-select-item",4),$h(1),Xc()),2&e){let e=t.$implicit;Uc("value",e),Ed(1),Kh(" ",e," ")}}var GP=(()=>{let e=class{constructor(){this.cssClass="igx-paginator-content"}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxPaginatorContent",""],["igx-paginator-content"]],hostVars:2,hostBindings:function(e,t){2&e&&Ah("igx-paginator-content",t.cssClass)},standalone:!0}),t})(),zP=(()=>{let e=class extends tI{get classCosy(){return this.displayDensity===QE}get classCompact(){return this.displayDensity===JE}get classComfortable(){return this.displayDensity===ZE}get page(){return this._page}set page(e){if(this._page===e||e<0||e>this.totalPages)return;let t={current:this._page,next:e,cancel:!1},i={previous:this._page,current:e};this.paging.emit(t),!t.cancel&&(this._page=e,this.pageChange.emit(this._page),this.pagingDone.emit(i))}get perPage(){return this._perPage}set perPage(e){e<0||this.perPage===e||(this._perPage=Number(e),this.perPageChange.emit(this._perPage),this._selectOptions=this.sortUniqueOptions(this.defaultSelectValues,this._perPage),this.totalPages=Math.ceil(this.totalRecords/this._perPage),0!==this.totalPages&&this.page>=this.totalPages&&(this.page=this.totalPages-1))}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.totalPages=Math.ceil(this.totalRecords/this.perPage),this.page>this.totalPages&&(this.page=0),this.cdr.detectChanges()}get selectOptions(){return this._selectOptions}set selectOptions(e){this._selectOptions=this.sortUniqueOptions(e,this._perPage),this.defaultSelectValues=[...e]}get overlaySettings(){return this._overlaySettings}set overlaySettings(e){this._overlaySettings=Object.assign({},this._overlaySettings,e)}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}constructor(e,t,i){super(e),this._displayDensityOptions=e,this.elementRef=t,this.cdr=i,this.perPageChange=new zu,this.pageChange=new zu,this.paging=new zu,this.pagingDone=new zu,this._page=0,this._selectOptions=[5,10,15,25,50,100,500],this._perPage=15,this._resourceStrings=fI.PaginatorResStrings,this._overlaySettings={},this.defaultSelectValues=[5,10,15,25,50,100,500]}get isLastPage(){return this.page+1>=this.totalPages}get isFirstPage(){return 0===this.page}get isFirstPageDisabled(){return this.isFirstPage}get isLastPageDisabled(){return this.isLastPage}get nativeElement(){return this.elementRef.nativeElement}get paginatorSelectDisplayDensity(){return JE}nextPage(){this.isLastPage||(this.page+=1)}previousPage(){this.isFirstPage||(this.page-=1)}paginate(e){e<0||e>this.totalPages-1||(this.page=e)}sortUniqueOptions(e,t){return Array.from(new Set([...e,t])).sort(((e,t)=>e-t))}},t=e;return e.fac=function(t){return new(t||e)(Rd(eI,8),Rd(ld),Rd(Jg))},e.cmp=Yn({type:e,selectors:[["igx-paginator"]],contentQueries:function(e,t,i){if(1&e&&mg(i,GP,5),2&e){let e;gg(e=fg())&&(t.customContent=e.first)}},hostVars:6,hostBindings:function(e,t){2&e&&Ah("igx-paginator--cosy",t.classCosy)("igx-paginator--compact",t.classCompact)("igx-paginator",t.classComfortable)},inputs:{page:"page",perPage:"perPage",totalRecords:"totalRecords",selectOptions:"selectOptions",overlaySettings:"overlaySettings",resourceStrings:"resourceStrings"},outputs:{perPageChange:"perPageChange",pageChange:"pageChange",paging:"paging",pagingDone:"pagingDone"},standalone:!0,features:[Tc,yu],ngContentSelectors:HP,decls:3,vars:2,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(hh(LP),uh(0),Wc(1,VP,1,0,"igx-page-size",0),Wc(2,NP,1,0,"igx-page-nav",0)),2&e&&(Ed(1),Uc("ngIf",!t.customContent),Ed(1),Uc("ngIf",!t.customContent))},dependencies:function(){return[Em,$P,WP]},encapsulation:2}),t})(),$P=(()=>{let e=class{constructor(e){this.paginator=e,this.cssClass="igx-page-size"}},t=e;return e.fac=function(t){return new(t||e)(Rd(zP,1))},e.cmp=Yn({type:e,selectors:[["igx-page-size"]],hostVars:2,hostBindings:function(e,t){2&e&&Ah("igx-page-size",t.cssClass)},standalone:!0,features:[yu],decls:5,vars:5,consts:[[1,"igx-page-size__label"],[1,"igx-page-size__select"],["type","border",3,"overlaySettings","ngModel","displayDensity","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(Yc(0,"label",0),$h(1),Xc(),Yc(2,"div",1)(3,"igx-select",2),oh("ngModelChange",(function(e){return t.paginator.perPage=e})),Wc(4,BP,2,2,"igx-select-item",3),Xc()()),2&e&&(Ed(1),jh(t.paginator.resourceStrings.igx_paginator_label),Ed(2),Uc("overlaySettings",t.paginator.overlaySettings)("ngModel",t.paginator.perPage)("displayDensity",t.paginator.paginatorSelectDisplayDensity),Ed(1),Uc("ngForOf",t.paginator.selectOptions))},dependencies:[MP,Rw,O_,rw,bm,yP],encapsulation:2}),t})(),WP=(()=>{let e=class{constructor(e){this.paginator=e,this.cssClass="igx-page-nav",this.role="navigation"}},t=e;return e.fac=function(t){return new(t||e)(Rd(zP,1))},e.cmp=Yn({type:e,selectors:[["igx-page-nav"]],hostVars:3,hostBindings:function(e,t){2&e&&(Gc("role",t.role),Ah("igx-page-nav",t.cssClass))},inputs:{role:"role"},standalone:!0,features:[yu],decls:19,vars:19,consts:[["igxButton","icon","igxRipple","","type","button",3,"title","disabled","igxRippleCentered","click"],["aria-current","page",1,"igx-page-nav__text"],["igxRipple","","igxButton","icon","type","button",3,"title","disabled","igxRippleCentered","click"]],template:function(e,t){1&e&&(Yc(0,"button",0),oh("click",(function(){return t.paginator.paginate(0)})),Yc(1,"igx-icon"),$h(2,"first_page"),Xc()(),Yc(3,"button",0),oh("click",(function(){return t.paginator.previousPage()})),Yc(4,"igx-icon"),$h(5,"chevron_left"),Xc()(),Yc(6,"div",1)(7,"span"),$h(8),Xc(),Yc(9,"span"),$h(10),Xc(),Yc(11,"span"),$h(12),Xc()(),Yc(13,"button",2),oh("click",(function(){return t.paginator.nextPage()})),Yc(14,"igx-icon"),$h(15,"chevron_right"),Xc()(),Yc(16,"button",0),oh("click",(function(){return t.paginator.paginate(t.paginator.totalPages-1)})),Yc(17,"igx-icon"),$h(18,"last_page"),Xc()()),2&e&&(Uc("title",t.paginator.resourceStrings.igx_paginator_first_page_button_text)("disabled",t.paginator.isFirstPageDisabled)("igxRippleCentered",!0),Gc("aria-disabled",t.paginator.isFirstPageDisabled),Ed(3),Uc("title",t.paginator.resourceStrings.igx_paginator_previous_page_button_text)("disabled",t.paginator.isFirstPageDisabled)("igxRippleCentered",!0),Gc("aria-disabled",t.paginator.isFirstPageDisabled),Ed(5),jh(t.paginator.page+1),Ed(2),Kh("",t.paginator.resourceStrings.igx_paginator_pager_text,""),Ed(2),jh(t.paginator.totalPages||1),Ed(1),Uc("title",t.paginator.resourceStrings.igx_paginator_next_page_button_text)("disabled",t.paginator.isLastPageDisabled)("igxRippleCentered",!0),Gc("aria-disabled",t.paginator.isLastPageDisabled),Ed(3),Uc("title",t.paginator.resourceStrings.igx_paginator_last_page_button_text)("disabled",t.paginator.isLastPageDisabled)("igxRippleCentered",!0),Gc("aria-disabled",t.paginator.isLastPageDisabled))},dependencies:[CI,lA,FI],encapsulation:2}),t})(),jP=[zP,WP,$P,GP,mP];function KP(e,t){if(1&e&&(Yc(0,"h4",7),$h(1),Xc()),2&e){let e=dh();Gc("id",e.titleID),Ed(1),jh(e.title)}}function UP(e,t){if(1&e){let e=nh();Yc(0,"igx-input-group",8)(1,"input",9),oh("ngModelChange",(function(t){return Is(e),Ts(dh().filterCriteria=t)})),Xc()()}if(2&e){let e=dh();Ed(1),Uc("ngModel",e.filterCriteria)("placeholder",e.filterColumnsPrompt),Gc("aria-describedby",e.titleID)}}function qP(e,t){if(1&e){let e=nh();Yc(0,"igx-checkbox",10),oh("click",(function(){let t=Is(e).$implicit;return Ts(dh().toggleColumn(t))})),$h(1),Xc()}if(2&e){let e=t.$implicit,i=dh();Th("margin-left",e.level*i.indentation,"px"),Uc("readonly",!0)("checked",i.actionsDirective.columnChecked(e)),Ed(1),Kh(" ",e.header||e.field," ")}}var YP=0,XP=(()=>{let e=class{constructor(e){this.differs=e,this.indentation=30,this.cssClass="igx-column-actions",this.columnsAreaMaxHeight="100%",this.hideFilter=!1,this.title="",this.columnToggled=new zu,this.actionableColumns=[],this.filteredColumns=[],this.pipeTrigger=0,this._differ=null,this._filterColumnsPrompt="",this._filterCriteria="",this._columnDisplayOrder=qb,this._id="igx-column-actions-"+YP++,this.trackChanges=(e,t)=>t.field+"_"+this.actionsDirective.actionEnabledColumnsFilter(t,e,[]),this._differ=this.differs.find([]).create(this.trackChanges)}get filterColumnsPrompt(){return this._filterColumnsPrompt}set filterColumnsPrompt(e){this._filterColumnsPrompt=e||""}get filterCriteria(){return this._filterCriteria}set filterCriteria(e){(e=e||"")!==this._filterCriteria&&(this._filterCriteria=e,this.pipeTrigger++)}get columnDisplayOrder(){return this._columnDisplayOrder}set columnDisplayOrder(e){e&&e!==this._columnDisplayOrder&&(this._columnDisplayOrder=e,this.pipeTrigger++)}get uncheckAllText(){return this._uncheckAllText||this.actionsDirective.uncheckAllLabel}set uncheckAllText(e){this._uncheckAllText=e}get checkAllText(){return this._checkAllText||this.actionsDirective.checkAllLabel}set checkAllText(e){this._checkAllText=e}get checkAllDisabled(){return this.actionsDirective.allUnchecked}get uncheckAllDisabled(){return this.actionsDirective.allChecked}get id(){return this._id}set id(e){this._id=e}get titleID(){return this.id+"_title"}ngDoCheck(){this._differ&&this._differ.diff(this.grid?.columnList)&&this.pipeTrigger++}uncheckAllColumns(){this.actionsDirective.uncheckAll()}checkAllColumns(){this.actionsDirective.checkAll()}toggleColumn(e){this.actionsDirective.toggleColumn(e),this.columnToggled.emit({column:e,checked:this.actionsDirective.columnChecked(e)})}},t=e;return e.fac=function(t){return new(t||e)(Rd(hp))},e.cmp=Yn({type:e,selectors:[["igx-column-actions"]],viewQuery:function(e,t){if(1&e&&pg(gk,5),2&e){let e;gg(e=fg())&&(t.columnItems=e)}},hostVars:3,hostBindings:function(e,t){2&e&&(Gc("id",t.id),kh(t.cssClass))},inputs:{grid:"grid",indentation:"indentation",columnsAreaMaxHeight:"columnsAreaMaxHeight",hideFilter:"hideFilter",title:"title",filterColumnsPrompt:"filterColumnsPrompt",filterCriteria:"filterCriteria",columnDisplayOrder:"columnDisplayOrder",uncheckAllText:"uncheckAllText",checkAllText:"checkAllText",id:"id"},outputs:{columnToggled:"columnToggled"},standalone:!0,features:[yu],decls:13,vars:21,consts:[[1,"igx-column-actions__header"],["class","igx-column-actions__header-title",4,"ngIf"],["class","igx-column-actions__header-input",4,"ngIf"],["tabindex","0",1,"igx-column-actions__columns"],["class","igx-column-actions__columns-item",3,"readonly","checked","margin-left","click",4,"ngFor","ngForOf"],[1,"igx-column-actions__buttons"],["igxButton","","igxRipple","",3,"disabled","click"],[1,"igx-column-actions__header-title"],[1,"igx-column-actions__header-input"],["igxInput","","type","text","autocomplete","off",3,"ngModel","placeholder","ngModelChange"],[1,"igx-column-actions__columns-item",3,"readonly","checked","click"]],template:function(e,t){if(1&e&&(Yc(0,"div",0),Wc(1,KP,2,2,"h4",1),Wc(2,UP,2,3,"igx-input-group",2),Xc(),Yc(3,"div",3),Wc(4,qP,2,5,"igx-checkbox",4),Pu(5,"sortActionColumns"),Pu(6,"filterActionColumns"),Pu(7,"columnActionEnabled"),Xc(),Yc(8,"div",5)(9,"button",6),oh("click",(function(){return t.uncheckAllColumns()})),$h(10),Xc(),Yc(11,"button",6),oh("click",(function(){return t.checkAllColumns()})),$h(12),Xc()()),2&e){let e;Ed(1),Uc("ngIf",t.title),Ed(1),Uc("ngIf",!t.hideFilter),Ed(1),Th("max-height",t.columnsAreaMaxHeight),Ed(1),Uc("ngForOf",Nu(5,9,Nu(6,13,Nu(7,17,null==(e=t.grid)?null:e._columns,t.actionsDirective.actionEnabledColumnsFilter,t.pipeTrigger),t.filterCriteria,t.pipeTrigger),t.columnDisplayOrder,t.pipeTrigger)),Ed(5),Uc("disabled",t.uncheckAllDisabled),Ed(1),jh(t.uncheckAllText),Ed(1),Uc("disabled",t.checkAllDisabled),Ed(1),jh(t.checkAllText)}},dependencies:function(){return[Em,kT,Rw,Zx,O_,rw,cI,bm,gk,CI,lA,ZP,QP,JP]},encapsulation:2}),t})(),ZP=(()=>{let e=class{constructor(e){this.columnActions=e}transform(e,t,i){if(!e)return e;let n=e.slice(0);return n.length&&n[0].grid.hasColumnLayouts&&(n=n.filter((e=>e.columnLayout))),t&&(n=n.filter(t)),this.columnActions.actionableColumns=n,n}},t=e;return e.fac=function(t){return new(t||e)(Rd(XP,16))},e.pipe=tr({name:"columnActionEnabled",type:e,pure:!0,standalone:!0}),t})(),QP=(()=>{let e=class{constructor(e){this.columnActions=e}transform(e,t,i){if(!e)return e;let n=e.slice(0);if(t&&t.length>0){let i=e=>{let n=e.header||e.field;return!!n&&(n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>=0||(e.children?.some(i)??!1))};n=e.filter(i)}return this.columnActions.filteredColumns=n,n}},t=e;return e.fac=function(t){return new(t||e)(Rd(XP,16))},e.pipe=tr({name:"filterActionColumns",type:e,pure:!0,standalone:!0}),t})(),JP=(()=>{let e=class{transform(e,t,i){return t===Ub?e.sort(((e,t)=>(e.header||e.field).localeCompare(t.header||t.field))):e}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"sortActionColumns",type:e,pure:!0,standalone:!0}),t})(),eM=(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e}),t})(),tM=(()=>{let e=class extends eM{constructor(e){super(),this.columnActions=e,this.actionEnabledColumnsFilter=e=>!e.disableHiding,e.actionsDirective=this}get checkAllLabel(){return this.columnActions.grid?.resourceStrings.igx_grid_hiding_check_all_label??"Show All"}get uncheckAllLabel(){return this.columnActions.grid?.resourceStrings.igx_grid_hiding_uncheck_all_label??"Hide All"}checkAll(){this.columnActions.filteredColumns.forEach((e=>e.toggleVisibility(!1)))}uncheckAll(){this.columnActions.filteredColumns.forEach((e=>e.toggleVisibility(!0)))}columnChecked(e){return!e.hidden}toggleColumn(e){e.toggleVisibility()}get allChecked(){return this.columnActions.filteredColumns.every((e=>!this.columnChecked(e)))}get allUnchecked(){return this.columnActions.filteredColumns.every((e=>this.columnChecked(e)))}},t=e;return e.fac=function(t){return new(t||e)(Rd(XP))},e.dir=er({type:e,selectors:[["","igxColumnHiding",""]],standalone:!0,features:[Tc]}),t})(),iM=(()=>{let e=class extends eM{constructor(e){super(),this.columnActions=e,this.actionEnabledColumnsFilter=e=>!e.disablePinning&&!e.level,e.actionsDirective=this}get checkAllLabel(){return this.columnActions.grid?.resourceStrings.igx_grid_pinning_check_all_label??"Pin All"}get uncheckAllLabel(){return this.columnActions.grid?.resourceStrings.igx_grid_pinning_uncheck_all_label??"Unpin All"}checkAll(){this.columnActions.filteredColumns.forEach((e=>e.pinned=!0))}uncheckAll(){this.columnActions.filteredColumns.forEach((e=>e.pinned=!1))}columnChecked(e){return e.pinned}toggleColumn(e){e.pinned=!e.pinned}get allUnchecked(){return!this.columnActions.filteredColumns.some((e=>!this.columnChecked(e)))}get allChecked(){return!this.columnActions.filteredColumns.some((e=>this.columnChecked(e)))}},t=e;return e.fac=function(t){return new(t||e)(Rd(XP))},e.dir=er({type:e,selectors:[["","igxColumnPinning",""]],standalone:!0,features:[Tc]}),t})(),nM=[XP,tM,iM];function rM(){return(e,t,i)=>{let n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};let r=i.set||function(e){this[n]=e};return i.set=function(e){let i=this._init,n=this[t];if((e!==n||"object"==typeof e&&e===n)&&(r.call(this,e),this.ngOnChanges&&!i)){let i={[t]:new is(n,e,!1)};this.ngOnChanges(i)}},i}}function sM(){return(e,t,i)=>{let n="_"+t.toString();(i=i||{configurable:!0,enumerable:!0}).get=i.get||function(){return this[n]};let r=i.set||function(e){this[n]=e};return i.set=function(e){let i=this[t];r.call(this,e),(e!==i||"object"==typeof e&&e===i)&&this.columnChange&&this.columnChange.emit()},i}}function oM(e=!1){return(t,i,n)=>{let r=`__${i}`,s=(n=n||{enumerable:!0,configurable:!0})?n.set:null;return n.get=n.get||function(){return this[r]},n.set=function(t){if(s)s.call(this,t),this.grid&&this.grid.notifyChanges(e&&!this.grid.isPivot);else{if(t===this[i])return;this[r]=t,this.grid&&this.grid.notifyChanges(e&&!this.grid.isPivot)}},n}}var aM=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxFilterCellTemplate",""]],standalone:!0}),t})(),lM=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxCell",""]],standalone:!0}),t})(),dM=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxCellValidationError",""]],standalone:!0}),t})(),cM=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxHeader",""]],standalone:!0}),t})(),hM=(()=>{let e=class{constructor(e){this.template=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxFooter",""]],standalone:!0}),t})(),uM=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxCellEditor",""]],standalone:!0}),t})(),gM=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxCollapsibleIndicator",""]],standalone:!0}),t})(),pM=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxSummary",""]],standalone:!0}),t})(),mM=((mM=mM||{})[mM.BeforeDropTarget=0]="BeforeDropTarget",mM[mM.AfterDropTarget=1]="AfterDropTarget",mM),fM=(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac,providedIn:"root"}),t})(),yM=class{constructor(e,t,i){this.grid=e,"number"==typeof t?this._rowIndex=t:(this._row=t,this._rowIndex=t.index),"string"==typeof i?this._columnField=i:this._column=i}get row(){return this._row||this.grid.createRow(this._rowIndex)}get column(){return this._column||this.grid.getColumnByName(this._columnField)}get editValue(){if(this.isCellInEditMode())return this.grid.crudService.cell.editValue}set editValue(e){this.isCellInEditMode()&&(this.grid.crudService.cell.editValue=e)}get validation(){let e=this.grid.validation.getFormControl(this.row.key,this.column.field);return{status:e?.status||"VALID",errors:e?.errors}}get editable(){return this.column.editable&&!this.row?.disabled}get width(){return this.column.width}get value(){return this.column.field?this.column.hasNestedPath?tb(this.row?.data,this.column.field):this.row?.data[this.column.field]:void 0}set value(e){this.update(e)}get id(){let e=this.grid.primaryKey;return{rowID:e?this.row?.data[e]:this.row?.data,columnID:this.column.index,rowIndex:this._rowIndex||this.row?.index}}get editMode(){return this.isCellInEditMode()}set editMode(e){let t=this.isCellInEditMode();!this.row||this.row?.deleted||t===e||(this.editable&&e?(this.endEdit(),this.grid.crudService.enterEditMode(this)):this.grid.crudService.endCellEdit(),this.grid.notifyChanges())}get selected(){return this.grid.selectionService.selected(this.selectionNode)}set selected(e){let t=this.selectionNode;e?this.grid.selectionService.add(t):this.grid.selectionService.remove(t),this.grid.notifyChanges()}get active(){let e=this.grid.navigation.activeNode;return!!e&&e.row===this.row?.index&&e.column===this.column.visibleIndex}update(e){if(this.row?.deleted)return;this.endEdit();let t=this.isCellInEditMode()?this.grid.crudService.cell:this.grid.crudService.createCell(this);t.editValue=e,this.grid.gridAPI.update_cell(t),this.grid.crudService.endCellEdit(),this.grid.notifyChanges()}get selectionNode(){return{row:this.row?.index,column:this.column.columnLayoutChild?this.column.parent.visibleIndex:this.column.visibleIndex,layout:this.column.columnLayoutChild?{rowStart:this.column.rowStart,colStart:this.column.colStart,rowEnd:this.column.rowEnd,colEnd:this.column.colEnd,columnVisibleIndex:this.column.visibleIndex}:null}}isCellInEditMode(){if(this.grid.crudService.cellInEditMode){let e=this.grid.crudService.cell.id;return e.rowID===this.id.rowID&&e.rowIndex===this.id.rowIndex&&e.columnID===this.id.columnID}return!1}endEdit(){this.isCellInEditMode()||(this.grid.gridAPI.update_cell(this.grid.crudService.cell),this.grid.crudService.endCellEdit())}},vM=class{set field(e){this._field=e,this.hasNestedPath=e?.includes(".")}get field(){return this._field}get selectable(){return this._selectable}set selectable(e){this._selectable=e}get groupable(){return this._groupable}set groupable(e){this._groupable=e,this.grid.groupablePipeTrigger++}get editable(){let e=this.grid&&this.grid.rowEditable,t=this.grid&&this.grid.transactions.enabled;return(!this.isPrimaryColumn||!e&&!t)&&(void 0!==this._editable?this._editable:e)}set editable(e){this._editable=e}get hasSummary(){return this._hasSummary}set hasSummary(e){this._hasSummary=e,this.grid&&this.grid.summaryService.resetSummaryHeight()}get hidden(){return this._hidden}set hidden(e){if(this._hidden!==e){if(this._hidden=e,this.hiddenChange.emit(this._hidden),this.columnLayoutChild&&this.parent.hidden!==e)return void(this.parent.hidden=e);this.grid&&(this.grid.crudService.endEdit(!1),this.grid.summaryService.resetSummaryHeight(),this.grid.filteringService.refreshExpressions(),this.grid.filteringService.hideFilteringRowOnColumnVisibilityChange(this),this.grid.notifyChanges())}}get selected(){return this.grid.selectionService.isColumnSelected(this.field)}set selected(e){this.selectable&&e!==this.selected&&(e?this.grid.selectionService.selectColumnsWithNoEvent([this.field]):this.grid.selectionService.deselectColumnsWithNoEvent([this.field]),this.grid.notifyChanges())}get width(){return this._width&&"string"==typeof this._width&&"auto"===this._width?this.autoSize?this.autoSize+"px":"fit-content":this.widthSetByUser?this._width:this.defaultWidth}set width(e){e&&(this._calcWidth=null,this.calcPixelWidth=NaN,this.widthSetByUser=!0,("number"==typeof e||e.match(/^[0-9]*$/))&&(e+="px"),"fit-content"===e&&(e="auto"),this._width=e,this.grid&&this.cacheCalcWidth(),this.widthChange.emit(this._width))}get calcWidth(){return this.getCalcWidth()}get maxWidthPx(){let e=this.grid.calcWidth;return this.maxWidth&&"string"==typeof this.maxWidth&&-1!==this.maxWidth.indexOf("%")?parseFloat(this.maxWidth)/100*e:parseFloat(this.maxWidth)}get maxWidthPercent(){let e=this.grid.calcWidth;return this.maxWidth&&"string"==typeof this.maxWidth&&-1!==this.maxWidth.indexOf("%")?parseFloat(this.maxWidth):parseFloat(this.maxWidth)/e*100}get minWidthPx(){let e=this.grid.calcWidth;return this.minWidth&&"string"==typeof this.minWidth&&-1!==this.minWidth.indexOf("%")?parseFloat(this.minWidth)/100*e:parseFloat(this.minWidth)}get minWidthPercent(){let e=this.grid.calcWidth;return this.minWidth&&"string"==typeof this.minWidth&&-1!==this.minWidth.indexOf("%")?parseFloat(this.minWidth):parseFloat(this.minWidth)/e*100}set minWidth(e){let t=parseFloat(e);Number.isNaN(t)||(this._defaultMinWidth=e)}get minWidth(){return this._defaultMinWidth?this._defaultMinWidth:this.defaultMinWidth}get index(){return this.grid._columns.indexOf(this)}get pinned(){return this._pinned}set pinned(e){if(this._pinned!==e){let t=this.width&&"string"==typeof this.width&&"fit-content"===this.width;if(this.grid&&this.width&&(t||!isNaN(parseInt(this.width,10))))return void(e?this.pin():this.unpin());this._pinned=e,this.pinnedChange.emit(this._pinned)}}get summaries(){return this._summaries}set summaries(e){(e=>"function"==typeof e&&!!e.prototype&&!!e.prototype.constructor)(e)&&(this._summaries=new e),this.grid&&(this.grid.summaryService.removeSummariesCachePerColumn(this.field),this.grid.summaryPipeTrigger++,this.grid.summaryService.resetSummaryHeight())}get filters(){return this._filters}set filters(e){this._filters=e}get sortStrategy(){return this._sortStrategy}set sortStrategy(e){this._sortStrategy=e}get groupingComparer(){return this._groupingComparer}set groupingComparer(e){this._groupingComparer=e}get defaultMinWidth(){if(!this.grid)return"80";switch(this.grid.displayDensity){case QE:return"64";case JE:return"56";default:return"80"}}get summaryTemplate(){return this._summaryTemplate}set summaryTemplate(e){this._summaryTemplate=e}get bodyTemplate(){return this._bodyTemplate}set bodyTemplate(e){this._bodyTemplate=e}get headerTemplate(){return this._headerTemplate}set headerTemplate(e){this._headerTemplate=e}get inlineEditorTemplate(){return this._inlineEditorTemplate}set inlineEditorTemplate(e){this._inlineEditorTemplate=e}get errorTemplate(){return this._errorTemplate}set errorTemplate(e){this._errorTemplate=e}get filterCellTemplate(){return this._filterCellTemplate}set filterCellTemplate(e){this._filterCellTemplate=e}get cells(){return this.grid.dataView.map(((e,t)=>{if(!this.grid.isGroupByRecord(e)&&!this.grid.isSummaryRow(e))return 1===this.grid.pagingMode&&0!==this.grid.page?t+=this.grid.perPage*this.grid.page:t=this.grid.dataRowList.first.index+t,new yM(this.grid,t,this.field)})).filter((e=>e))}get _cells(){return this.grid.rowList.filter((e=>e instanceof Gk)).map((e=>{if(e._cells)return e._cells.filter((e=>e.columnIndex===this.index))})).reduce(((e,t)=>e.concat(t)),[])}get visibleIndex(){if(!isNaN(this._vIndex))return this._vIndex;let e=this.grid.unpinnedColumns.filter((e=>!e.columnGroup)),t=this.grid.pinnedColumns.filter((e=>!e.columnGroup)),i=this,n=-1;if(this.columnGroup&&(i=this.allChildren.filter((e=>!e.columnGroup&&!e.hidden))[0]),this.columnLayoutChild)return this.parent.childrenVisibleIndexes.find((e=>e.column===this)).index;if(this.pinned){let r=t.indexOf(i);n=this.grid.isPinningToStart?r:e.length+r}else{let r=e.indexOf(i);n=-1===r?-1:this.grid.isPinningToStart?t.length+r:r}return this._vIndex=n,n}get columnGroup(){return!1}get columnLayout(){return!1}get columnLayoutChild(){return this.parent&&this.parent.columnLayout}get allChildren(){return[]}get level(){let e=this.parent,t=0;for(;e;)t++,e=e.parent;return t}get isLastPinned(){return this.grid.isPinningToStart&&this.grid.pinnedColumns[this.grid.pinnedColumns.length-1]===this}get isFirstPinned(){let e=this.grid.pinnedColumns.filter((e=>!e.columnGroup));return!this.grid.isPinningToStart&&e[0]===this}get rightPinnedOffset(){return this.pinned&&!this.grid.isPinningToStart?-this.grid.pinnedWidth-this.grid.headerFeaturesWidth+"px":null}get gridRowSpan(){return this.rowEnd&&this.rowStart?this.rowEnd-this.rowStart:1}get gridColumnSpan(){return this.colEnd&&this.colStart?this.colEnd-this.colStart:1}set visibleWhenCollapsed(e){this._visibleWhenCollapsed=e,this.visibleWhenCollapsedChange.emit(this._visibleWhenCollapsed),this.parent&&this.parent.setExpandCollapseState()}get visibleWhenCollapsed(){return this._visibleWhenCollapsed}set pipeArgs(e){this._columnPipeArgs=Object.assign(this._columnPipeArgs,e),this.grid.summaryService.clearSummaryCache(),this.grid.pipeTrigger++}get pipeArgs(){return this._columnPipeArgs}get collapsible(){return!1}set collapsible(e){}get expanded(){return!0}set expanded(e){}get filteringExpressionsTree(){return this.grid.filteringExpressionsTree.find(this.field)}get isPrimaryColumn(){return void 0!==this.field&&void 0!==this.grid&&this.field===this.grid.primaryKey}constructor(e,t,i,n){this.grid=e,this._validators=t,this.cdr=i,this.platform=n,this.validators=[],this.header="",this.title="",this.sortable=!1,this.filterable=!0,this.resizable=!1,this.autosizeHeader=!0,this.hiddenChange=new zu,this.expandedChange=new zu,this.collapsibleChange=new zu,this.visibleWhenCollapsedChange=new zu,this.columnChange=new zu,this.disableHiding=!1,this.disablePinning=!1,this.movable=!1,this.headerClasses="",this.headerStyles=null,this.headerGroupClasses="",this.headerGroupStyles=null,this.cellStyles=null,this.filteringIgnoreCase=!0,this.sortingIgnoreCase=!0,this.searchable=!0,this.dataType=Eb.String,this.widthChange=new zu,this.pinnedChange=new zu,this.defaultTimeFormat="hh:mm:ss tt",this.defaultDateTimeFormat="dd/MM/yyyy HH:mm:ss tt",this.parent=null,this.destroy$=new We,this._applySelectableClass=!1,this._vIndex=NaN,this._pinned=!1,this._summaries=null,this._filters=null,this._sortStrategy=pb.instance(),this._hidden=!1,this._disablePinning=!1,this._defaultMinWidth="",this._hasSummary=!1,this._groupable=!1,this._collapsible=!1,this._expanded=!0,this._selectable=!0,this._calcWidth=null,this._columnPipeArgs={digitsInfo:"1.0-3"},this.validators=t}resetCaches(){this._vIndex=NaN,this.grid&&this.cacheCalcWidth()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterContentInit(){if(this.summaryTemplateDirective&&(this._summaryTemplate=this.summaryTemplateDirective.template),this.cellTemplate&&(this._bodyTemplate=this.cellTemplate.template),this.cellValidationErrorTemplate&&(this._errorTemplate=this.cellValidationErrorTemplate.template),this.headTemplate&&this.headTemplate.length&&(this._headerTemplate=this.headTemplate.toArray()[0].template),this.editorTemplate&&(this._inlineEditorTemplate=this.editorTemplate.template),this.filterCellTemplateDirective&&(this._filterCellTemplate=this.filterCellTemplateDirective.template),this._columnPipeArgs.format||(this._columnPipeArgs.format=this.dataType===Eb.Time?"mediumTime":this.dataType===Eb.DateTime?"medium":"mediumDate"),!this.summaries)switch(this.dataType){case Eb.Number:case Eb.Currency:case Eb.Percent:this.summaries=Ik;break;case Eb.Date:case Eb.DateTime:this.summaries=Tk;break;case Eb.Time:this.summaries=Ak;break;default:this.summaries=Ek}if(!this.filters)switch(this.dataType){case Eb.Boolean:this.filters=AA.instance();break;case Eb.Number:case Eb.Currency:case Eb.Percent:this.filters=PA.instance();break;case Eb.Date:this.filters=RA.instance();break;case Eb.Time:this.filters=FA.instance();break;case Eb.DateTime:this.filters=OA.instance();break;case Eb.Image:this.filterable=!1;break;default:this.filters=MA.instance()}}getGridTemplate(e){return e?`repeat(${this.grid.isPivot?this.children.length-1:this.grid.multiRowLayoutRowSize},1fr)`:this.getColumnSizesString(this.children)}getInitialChildColumnSizes(e){let t=[];e.forEach((e=>{if(!e.colStart)return;let i=e.widthSetByUser&&t[e.colStart-1]&&!t[e.colStart-1].widthSetByUser,n=t[e.colStart-1]&&t[e.colStart-1].colSpan>e.gridColumnSpan,r=e.widthSetByUser&&t[e.colStart-1]&&t[e.colStart-1].widthSetByUser,s=!e.widthSetByUser&&t[e.colStart-1]&&!t[e.colStart-1].widthSetByUser;if(void 0===t[e.colStart-1])t[e.colStart-1]={ref:e,width:"fit-content"===e.width?e.autoSize:e.widthSetByUser||this.grid.columnWidthSetByUser?parseInt(e.calcWidth,10):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser};else if(i||n&&(r||s)){if(r&&n)for(let i=e.colStart-1+e.gridColumnSpan;i<t[e.colStart-1].colEnd-1&&(!t[i]||!t[i].widthSetByUser);i++)t[i]=t[e.colStart-1];t[e.colStart-1]={ref:e,width:"fit-content"===e.width?e.autoSize:e.widthSetByUser||this.grid.columnWidthSetByUser?parseInt(e.calcWidth,10):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser}}else if(r&&t[e.colStart-1].colSpan<e.gridColumnSpan)for(let i=e.colStart-1+t[e.colStart-1].colSpan;i<e.colStart-1+e.gridColumnSpan&&(!t[i]||!t[i].widthSetByUser);i++)t[i]={ref:e,width:"fit-content"===e.width?e.autoSize:e.widthSetByUser||this.grid.columnWidthSetByUser?parseInt(e.calcWidth,10):null,colSpan:e.gridColumnSpan,colEnd:e.colStart+e.gridColumnSpan,widthSetByUser:e.widthSetByUser}}));for(let e=0;e<t.length;e++)if(t[e]&&t[e].colSpan>1){let i=1;for(;i<t[e].colSpan&&e+i+1<t[e].colEnd&&(!t[e+i]||!(!t[e].width&&t[e+i].width||!t[e].width&&!t[e+i].width&&t[e+i].colSpan<=t[e].colSpan||t[e+i].width&&t[e+i].colSpan<=t[e].colSpan));i++){let n=t[e].widthSetByUser?t[e].width/t[e].colSpan:t[e].width;t[e+i]={ref:t[e].ref,width:n,colSpan:1,colEnd:t[e].colEnd,widthSetByUser:t[e].widthSetByUser}}t[e].width=t[e].widthSetByUser?t[e].width/t[e].colSpan:t[e].width,t[e].colSpan=1,e+=i-1}return t}getFilledChildColumnSizes(e){let t=this.getInitialChildColumnSizes(e),i=[];for(let e of t)e&&e.width?i.push(e.width+"px"):i.push(parseInt(this.grid.getPossibleColumnWidth(),10)+"px");return i}getResizableColUnderEnd(){if(this.columnLayout||!this.columnLayoutChild||this.columnGroup)return[{target:this,spanUsed:1}];let e=this.getInitialChildColumnSizes(this.parent.children),t=[],i=this.colEnd?this.colEnd:this.colStart+1;for(let n=0;n<e.length;n++)this.colStart<=n+1&&n+1<i&&t.push({target:e[n].ref,spanUsed:1});let n=[];for(let e of t)n.length&&n[n.length-1].target.field===e.target.field?n[n.length-1].spanUsed++:n.push(e);return n}pin(e){let t=this.grid;if(this._pinned)return!1;if(this.parent&&!this.parent.pinned)return this.topLevelParent.pin(e);let i=void 0!==e;if(i&&(e<0||e>t.pinnedColumns.length)||!this.parent&&!this.pinnable)return!1;let n=t._pinnedColumns.filter((e=>0===e.level)),r={column:this,insertAtIndex:e=i?e:n.length,isPinned:!1,cancel:!1};if(this.grid.columnPin.emit(r),r.cancel)return;this.grid.crudService.endEdit(!1),this._pinned=!0,this.pinnedChange.emit(this._pinned);let s=r.insertAtIndex===t._pinnedColumns.length?t._pinnedColumns[r.insertAtIndex-1]:t._pinnedColumns[r.insertAtIndex];if(-1===t._pinnedColumns.indexOf(this)){if(t.hasColumnGroups){n.splice(r.insertAtIndex,0,this);let e=[];n.forEach((t=>{e.push(t),e=e.concat(t.allChildren)})),t._pinnedColumns=e}else t._pinnedColumns.splice(r.insertAtIndex,0,this);if(-1!==t._unpinnedColumns.indexOf(this)){let e=this.allChildren.length;t._unpinnedColumns.splice(t._unpinnedColumns.indexOf(this),1+e)}}i&&t._moveColumns(this,s),this.columnGroup&&(this.allChildren.forEach((e=>e.pin())),t.reinitPinStates()),t.resetCaches(),t.notifyChanges(),this.columnLayoutChild&&this.grid.columns.filter((e=>e.columnLayout)).forEach((e=>e.populateVisibleIndexes())),this.grid.filteringService.refreshExpressions();let o={column:this,insertAtIndex:e,isPinned:!0};return this.grid.columnPinned.emit(o),!0}unpin(e){let t=this.grid;if(!this._pinned)return!1;if(this.parent&&this.parent.pinned)return this.topLevelParent.unpin(e);let i=void 0!==e;if(i&&(e<0||e>t._unpinnedColumns.length))return!1;if(!i){let i=t.unpinnedColumns.map((e=>e.index));i.push(this.index),i.sort(((e,t)=>e-t)),e=i.indexOf(this.index)}let n={column:this,insertAtIndex:e,isPinned:!0,cancel:!1};if(this.grid.columnPin.emit(n),n.cancel)return;this.grid.crudService.endEdit(!1),this._pinned=!1,this.pinnedChange.emit(this._pinned);let r=n.insertAtIndex===t._unpinnedColumns.length?t._unpinnedColumns[n.insertAtIndex-1]:t._unpinnedColumns[n.insertAtIndex];return i||(t._unpinnedColumns.splice(e,0,this),-1!==t._pinnedColumns.indexOf(this)&&t._pinnedColumns.splice(t._pinnedColumns.indexOf(this),1)),i&&t.moveColumn(this,r),this.columnGroup&&this.allChildren.forEach((e=>e.unpin())),t.reinitPinStates(),t.resetCaches(),t.notifyChanges(),this.columnLayoutChild&&this.grid.columns.filter((e=>e.columnLayout)).forEach((e=>e.populateVisibleIndexes())),this.grid.filteringService.refreshExpressions(),this.grid.columnPinned.emit({column:this,insertAtIndex:e,isPinned:!1}),!0}move(e){let t,i=this.grid.columns.filter((e=>e.visibleIndex>-1)),n=i.map((e=>e.visibleIndex)).reduce(((e,t)=>Math.max(e,t))),r=this.parent,s=this.visibleIndex<e;if(e===this.visibleIndex||e<0||e>n||(r&&(i=i.filter((e=>e.level>=this.level&&e!==this&&e.parent!==this&&e.topLevelParent===this.topLevelParent))),s?(i=i.filter((e=>e.visibleIndex>this.visibleIndex)),t=i.find((t=>t.level===this.level&&t.visibleIndex+t.calcChildren()-this.calcChildren()===e))):(i=i.filter((e=>e.visibleIndex<this.visibleIndex)),t=i.find((t=>t.level===this.level&&t.visibleIndex===e))),!t||t.pinned&&this.disablePinning))return;let o=s?mM.AfterDropTarget:mM.BeforeDropTarget;this.grid.moveColumn(this,t,o)}calcChildren(){return this.hidden?0:1}toggleVisibility(e){let t=e??!this.hidden,i={column:this,newValue:t,cancel:!1};this.grid.columnVisibilityChanging.emit(i),!i.cancel&&(this.hidden=t,this.grid.columnVisibilityChanged.emit({column:this,newValue:t}))}get topLevelParent(){let e=this.parent;for(;e&&e.parent;)e=e.parent;return e}get headerCell(){return this.grid.headerCellList.find((e=>e.column===this))}get filterCell(){return this.grid.filterCellList.find((e=>e.column===this))}get headerGroup(){return this.grid.headerGroupsList.find((e=>e.column===this))}autosize(e=!1){this.columnGroup||(this.width=this.getAutoSize(e),this.grid.reflow())}getAutoSize(e=!1){let t,i=e?Object.values(this.getHeaderCellWidths()).reduce(((e,t)=>e+t))+"px":this.getLargestCellWidth(),n=this.width&&"string"==typeof this.width&&-1!==this.width.indexOf("%");if(n){let e=this.grid.calcWidth;t=parseFloat(i)/e*100+"%"}else t=i;let r=n?this.maxWidthPercent:this.maxWidthPx,s=n?this.minWidthPercent:this.minWidthPx;return this.maxWidth&&parseFloat(t)>r?t=n?r+"%":r+"px":parseFloat(t)<s&&(t=n?s+"%":s+"px"),t}getCalcWidth(){return this._calcWidth&&!isNaN(this.calcPixelWidth)||this.cacheCalcWidth(),this._calcWidth}getHeaderCellWidths(){return this.grid.getHeaderCellWidth(this.headerCell.nativeElement)}getLargestCellWidth(){let e=this.grid.document.createRange(),t=new Map;if(this._cells.length>0){let i=[];this._cells.forEach((t=>i.push(t.calculateSizeToFit(e))));let n=i.indexOf(Math.max(...i)),r=this.grid.document.defaultView.getComputedStyle(this._cells[n].nativeElement),s=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth);t.set(Math.max(...i),s)}if(this.headerCell&&this.autosizeHeader){let e=this.getHeaderCellWidths();t.set(e.width,e.padding)}let i=Math.max(...Array.from(t.keys())),n=Math.ceil(i+t.get(i));return Number.isNaN(n)?this.width:n+"px"}getCellWidth(){let e=this.width,t=e&&"string"==typeof e&&-1!==e.indexOf("%");if(this.columnLayoutChild)return"";if(e&&!t){let t=e;return("string"!=typeof t||!1===t.endsWith("px"))&&(t+="px"),t}return e}populateVisibleIndexes(){}getColumnSizesString(e){return this.getFilledChildColumnSizes(e).join(" ")}cacheCalcWidth(){let e=this.width;e&&"string"==typeof e&&-1!==e.indexOf("%")?this._calcWidth=parseFloat(e)/100*this.grid.calcWidth:!e||e&&"string"==typeof e&&"fit-content"===e&&!this.autoSize?this._calcWidth=this.defaultWidth||this.grid.getPossibleColumnWidth():this._calcWidth=this.width,this.calcPixelWidth=parseFloat(this._calcWidth)}setExpandCollapseState(){this.children.filter((e=>void 0!==e.visibleWhenCollapsed)).forEach((e=>{this.collapsible?e.hidden=this._expanded?e.visibleWhenCollapsed:!e.visibleWhenCollapsed:e.hidden=this.hidden}))}checkCollapsibleState(){if(!this.children)return!1;let e=this.children.map((e=>e.visibleWhenCollapsed));return e.some((e=>!0===e))&&e.some((e=>!1===e))}get pinnable(){return this.grid._init||!this.pinned}get applySelectableClass(){return this._applySelectableClass}set applySelectableClass(e){this.selectable&&(this._applySelectableClass=e)}},xM=vM;vM.fac=function(e){return new(e||vM)(Rd(wk),Rd(e_,10),Rd(Jg),Rd($S))},vM.cmp=Yn({type:vM,selectors:[["igx-column"]],contentQueries:function(e,t,i){if(1&e&&(mg(i,aM,5,aM),mg(i,pM,5,pM),mg(i,lM,5,lM),mg(i,dM,5,dM),mg(i,uM,5,uM),mg(i,gM,5,gM),mg(i,cM,4,cM)),2&e){let e;gg(e=fg())&&(t.filterCellTemplateDirective=e.first),gg(e=fg())&&(t.summaryTemplateDirective=e.first),gg(e=fg())&&(t.cellTemplate=e.first),gg(e=fg())&&(t.cellValidationErrorTemplate=e.first),gg(e=fg())&&(t.editorTemplate=e.first),gg(e=fg())&&(t.collapseIndicatorTemplate=e.first),gg(e=fg())&&(t.headTemplate=e)}},inputs:{field:"field",header:"header",title:"title",sortable:"sortable",selectable:"selectable",groupable:"groupable",editable:"editable",filterable:"filterable",resizable:"resizable",autosizeHeader:"autosizeHeader",hasSummary:"hasSummary",hidden:"hidden",disableHiding:"disableHiding",disablePinning:"disablePinning",movable:"movable",width:"width",maxWidth:"maxWidth",headerClasses:"headerClasses",headerStyles:"headerStyles",headerGroupClasses:"headerGroupClasses",headerGroupStyles:"headerGroupStyles",cellClasses:"cellClasses",cellStyles:"cellStyles",formatter:"formatter",summaryFormatter:"summaryFormatter",filteringIgnoreCase:"filteringIgnoreCase",sortingIgnoreCase:"sortingIgnoreCase",searchable:"searchable",dataType:"dataType",collapsibleIndicatorTemplate:"collapsibleIndicatorTemplate",rowEnd:"rowEnd",colEnd:"colEnd",rowStart:"rowStart",colStart:"colStart",additionalTemplateContext:"additionalTemplateContext",minWidth:"minWidth",pinned:"pinned",summaries:"summaries",filters:"filters",sortStrategy:"sortStrategy",groupingComparer:"groupingComparer",summaryTemplate:"summaryTemplate",bodyTemplate:["cellTemplate","bodyTemplate"],headerTemplate:"headerTemplate",inlineEditorTemplate:["cellEditorTemplate","inlineEditorTemplate"],errorTemplate:"errorTemplate",filterCellTemplate:"filterCellTemplate",visibleWhenCollapsed:"visibleWhenCollapsed",pipeArgs:"pipeArgs"},outputs:{hiddenChange:"hiddenChange",expandedChange:"expandedChange",collapsibleChange:"collapsibleChange",visibleWhenCollapsedChange:"visibleWhenCollapsedChange",columnChange:"columnChange",widthChange:"widthChange",pinnedChange:"pinnedChange"},standalone:!0,features:[yu],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),_F([oM(),sM()],xM.prototype,"header",void 0),_F([oM(),sM()],xM.prototype,"title",void 0),_F([sM()],xM.prototype,"sortable",void 0),_F([sM()],xM.prototype,"selectable",null),_F([oM(!0),sM()],xM.prototype,"groupable",null),_F([sM()],xM.prototype,"editable",null),_F([oM(),sM()],xM.prototype,"filterable",void 0),_F([sM()],xM.prototype,"resizable",void 0),_F([sM()],xM.prototype,"autosizeHeader",void 0),_F([oM(!0),sM()],xM.prototype,"hasSummary",null),_F([oM(!0),sM()],xM.prototype,"hidden",null),_F([oM(),sM()],xM.prototype,"disableHiding",void 0),_F([oM(),sM()],xM.prototype,"disablePinning",void 0),_F([oM(!0),sM()],xM.prototype,"width",null),_F([sM()],xM.prototype,"maxWidth",void 0),_F([oM(),sM()],xM.prototype,"headerClasses",void 0),_F([oM(),sM()],xM.prototype,"headerStyles",void 0),_F([oM(),sM()],xM.prototype,"headerGroupClasses",void 0),_F([oM(),sM()],xM.prototype,"headerGroupStyles",void 0),_F([oM(),sM()],xM.prototype,"cellClasses",void 0),_F([oM(),sM()],xM.prototype,"cellStyles",void 0),_F([oM(),sM()],xM.prototype,"formatter",void 0),_F([oM(),sM()],xM.prototype,"summaryFormatter",void 0),_F([sM()],xM.prototype,"filteringIgnoreCase",void 0),_F([sM()],xM.prototype,"sortingIgnoreCase",void 0),_F([oM(),sM()],xM.prototype,"searchable",void 0),_F([oM(),sM()],xM.prototype,"minWidth",null),_F([sM()],xM.prototype,"pinned",null),_F([oM(!0),sM()],xM.prototype,"summaries",null),_F([oM(),sM()],xM.prototype,"summaryTemplate",null),_F([oM(),sM()],xM.prototype,"bodyTemplate",null),_F([oM(),sM()],xM.prototype,"headerTemplate",null),_F([oM(),sM()],xM.prototype,"inlineEditorTemplate",null),_F([oM(),sM()],xM.prototype,"errorTemplate",null),_F([oM(),sM()],xM.prototype,"filterCellTemplate",null),_F([oM(!0)],xM.prototype,"visibleWhenCollapsed",null),_F([oM(),sM()],xM.prototype,"pipeArgs",null);var _M=[[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"]]],wM=["igx-column,igc-column,igx-column-group,igc-column-group"],CM=(()=>{let e=class extends xM{constructor(){super(...arguments),this.children=new Wu,this.searchable=!0}set collapsible(e){this._collapsible=e,this.collapsibleChange.emit(this._collapsible),this.children&&!this.hidden&&(this._collapsible?this.setExpandCollapseState():this.children.forEach((e=>e.hidden=!1)))}get collapsible(){return this._collapsible&&this.checkCollapsibleState()}set expanded(e){this._expanded=e,this.expandedChange.emit(this._expanded),this.collapsible&&!this.hidden&&this.children&&this.setExpandCollapseState()}get expanded(){return this._expanded}get summaries(){return this._summaries}set summaries(e){}get filters(){return this._filters}set filters(e){}get selectable(){return this.children&&this.children.some((e=>e.selectable))}set selectable(e){}get bodyTemplate(){return this._bodyTemplate}set bodyTemplate(e){}get inlineEditorTemplate(){return this._inlineEditorTemplate}set inlineEditorTemplate(e){}get cells(){return[]}get hidden(){return this.allChildren.every((e=>e.hidden))}set hidden(e){this._hidden=e,this.hiddenChange.emit(this._hidden),this._hidden||!this.collapsible?this.children.forEach((e=>e.hidden=this._hidden)):this.children.forEach((e=>{void 0!==e.visibleWhenCollapsed?e.hidden=this.expanded?e.visibleWhenCollapsed:!e.visibleWhenCollapsed:e.hidden=!1}))}get selected(){let e=this.allChildren.filter((e=>!e.columnGroup&&e.selectable&&!e.hidden));return e.length>0&&e.every((e=>e.selected))}set selected(e){this.selectable&&this.children.forEach((t=>{t.selected=e}))}ngAfterContentInit(){this.headTemplate&&this.headTemplate.length&&(this._headerTemplate=this.headTemplate.toArray()[0].template),this.collapseIndicatorTemplate&&(this.collapsibleIndicatorTemplate=this.collapseIndicatorTemplate.template),this.children.first===this&&this.children.reset(this.children.toArray().slice(1)),this.children.forEach((e=>{e.parent=this})),this.collapsible&&this.setExpandCollapseState(),this.children.changes.pipe(yi(this.destroy$)).subscribe((e=>{e.forEach((e=>e.parent=this)),this.collapsible&&this.setExpandCollapseState()}))}get allChildren(){return WS(this.children.toArray())}get columnGroup(){return!0}get columnLayout(){return!1}get width(){return`${this.children.reduce(((e,t)=>t.hidden?e:e+parseInt(t.calcWidth,10)),0)}px`}set width(e){}get applySelectableClass(){return this._applySelectableClass}set applySelectableClass(e){this.selectable&&(this._applySelectableClass=e,this.children.forEach((t=>{t.applySelectableClass=e})))}calcChildren(){let e=this.allChildren.filter((e=>e.visibleIndex>-1)),t=e[0].visibleIndex;return e[e.length-1].visibleIndex-t+1}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.cmp=Yn({type:e,selectors:[["igx-column-group"]],contentQueries:function(e,t,i){if(1&e&&mg(i,xM,4,xM),2&e){let e;gg(e=fg())&&(t.children=e)}},inputs:{collapsible:"collapsible",expanded:"expanded",summaries:"summaries",searchable:"searchable",filters:"filters",collapsibleIndicatorTemplate:"collapsibleIndicatorTemplate",hidden:"hidden"},standalone:!0,features:[cu([{provide:xM,useExisting:Ni((()=>e))}]),Tc,yu],ngContentSelectors:wM,decls:3,vars:0,consts:[[2,"display","none"],["sink",""]],template:function(e,t){1&e&&(hh(_M),Yc(0,"div",0,1),uh(2),Xc())},encapsulation:2,changeDetection:0}),t})(),SM=[[["igx-column"],["igc-column"]]],bM=["igx-column,igc-column"],DM=(()=>{let e=class extends CM{constructor(){super(...arguments),this.childrenVisibleIndexes=[]}get width(){return this.getFilledChildColumnSizes(this.children).reduce(((e,t)=>e+parseInt(t,10)),0)}set width(e){}get columnLayout(){return!0}getCalcWidth(){let e=0;if(this.headerGroup&&this.headerGroup.hasLastPinnedChildColumn){let t=this.grid.document.defaultView.getComputedStyle(this.headerGroup.nativeElement.children[0]);e=parseInt(t.borderRightWidth,10)}return super.getCalcWidth()+e}get visibleIndex(){if(!isNaN(this._vIndex))return this._vIndex;let e=this.grid.unpinnedColumns.filter((e=>e.columnLayout&&!e.hidden)),t=this.grid.pinnedColumns.filter((e=>e.columnLayout&&!e.hidden)),i=-1;if(this.pinned)i=t.indexOf(this);else{let n=e.indexOf(this);i=-1===n?-1:t.length+n}return this._vIndex=i,i}get hidden(){return this._hidden}set hidden(e){if(this._hidden=e,this.children.forEach((t=>t.hidden=e)),this.grid&&this.grid.columns&&this.grid.columns.length>0){let e=this.grid&&this.grid.pinnedColumns&&this.grid.unpinnedColumns?this.grid.pinnedColumns.concat(this.grid.unpinnedColumns):[];!this._hidden&&!e.find((e=>e.field===this.field))&&this.grid.resetColumnCollections(),this.grid.columns.filter((e=>e.columnLayout)).forEach((e=>e.populateVisibleIndexes()))}}ngAfterContentInit(){super.ngAfterContentInit(),this.hidden?this.children.forEach((e=>e.hidden=this.hidden)):this.hidden=this.allChildren.some((e=>e.hidden))}get hasLastPinnedChildColumn(){return this.children.some((e=>e.isLastPinned))}get hasFirstPinnedChildColumn(){return this.children.some((e=>e.isFirstPinned))}populateVisibleIndexes(){this.childrenVisibleIndexes=[];let e=this.grid?.pinnedColumns&&this.grid?.unpinnedColumns?this.grid.pinnedColumns.concat(this.grid.unpinnedColumns):[],t=e.filter((e=>!e.columnGroup&&!e.hidden)).sort(((t,i)=>t.rowStart-i.rowStart||e.indexOf(t.parent)-e.indexOf(i.parent)||t.colStart-i.colStart));this.children.forEach((e=>{let i=e.rowStart||1,n=0;n=t.filter((e=>!e.columnGroup&&(e.rowStart||1)<=i)).indexOf(e),this.childrenVisibleIndexes.push({column:e,index:n})}))}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.cmp=Yn({type:e,selectors:[["igx-column-layout"]],inputs:{hidden:"hidden"},standalone:!0,features:[cu([{provide:xM,useExisting:Ni((()=>e))}]),Tc,yu],ngContentSelectors:bM,decls:3,vars:0,consts:[[2,"display","none"],["sink",""]],template:function(e,t){1&e&&(hh(SM),Yc(0,"div",0,1),uh(2),Xc())},encapsulation:2,changeDetection:0}),t})(),EM=(()=>{let e=class extends ww{},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["igx-column","required",""]],standalone:!0,features:[cu([{provide:e_,useExisting:e,multi:!0}]),Tc]}),t})(),IM=(()=>{let e=class extends xw{},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["igx-column","min",""]],standalone:!0,features:[cu([{provide:e_,useExisting:e,multi:!0}]),Tc]}),t})(),TM=(()=>{let e=class extends yw{},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["igx-column","max",""]],standalone:!0,features:[cu([{provide:e_,useExisting:e,multi:!0}]),Tc]}),t})(),AM=(()=>{let e=class extends Sw{},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["igx-column","email",""]],standalone:!0,features:[cu([{provide:e_,useExisting:e,multi:!0}]),Tc]}),t})(),kM=(()=>{let e=class extends Dw{},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["igx-column","minlength",""]],standalone:!0,features:[cu([{provide:e_,useExisting:e,multi:!0}]),Tc]}),t})(),RM=(()=>{let e=class extends Iw{},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["igx-column","maxlength",""]],standalone:!0,features:[cu([{provide:e_,useExisting:e,multi:!0}]),Tc]}),t})(),OM=(()=>{let e=class extends Aw{},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["igx-column","pattern",""]],standalone:!0,features:[cu([{provide:e_,useExisting:e,multi:!0}]),Tc]}),t})(),FM=[EM,IM,TM,AM,kM,RM,OM],PM=[aM,pM,lM,dM,cM,hM,uM,gM,xM,CM,DM],MM=(()=>{let e=class{constructor(e,t,i){this._zone=e,this.doc=t,this.platformUtil=i,this.hammerOptions={},this._hammerManagers=[],this.platformBrowser=this.platformUtil.isBrowser,this.platformBrowser&&(this.hammerOptions={inputClass:Hammer.TouchInput,recognizers:[[Hammer.Pan,{threshold:0}],[Hammer.Swipe,{direction:Hammer.DIRECTION_HORIZONTAL}],[Hammer.Tap],[Hammer.Tap,{event:"doubletap",taps:2},["tap"]]]})}supports(e){return e.toLowerCase().endsWith(".precise")}addEventListener(e,t,i,n=null){if(this.platformBrowser)return this._zone.runOutsideAngular((()=>{let r=this.getManagerForElement(e);null===r&&(r=new Hammer(e,Object.assign(this.hammerOptions,n)),this.addManagerForElement(e,r));let s=e=>this._zone.run((()=>i(e)));return r.on(t,s),()=>r.off(t,s)}))}addGlobalEventListener(e,t,i){if(!this.platformBrowser)return;let n=this.getGlobalEventTarget(e);return this.addEventListener(n,t,i)}getGlobalEventTarget(e){return _p().getGlobalEventTarget(this.doc,e)}setManagerOption(e,t,i){this.getManagerForElement(e).get(t).set(i)}addManagerForElement(e,t){this._hammerManagers.push({element:e,manager:t})}getManagerForElement(e){let t=this._hammerManagers.filter((t=>t.element===e));return t.length?t[0].manager:null}removeManagerForElement(e){let t=null;for(let i=0;i<this._hammerManagers.length;i++)if(e===this._hammerManagers[i].element){t=i;break}null!==t&&this._hammerManagers.splice(t,1)[0].manager.destroy()}destroy(){for(let e of this._hammerManagers)e.manager.destroy();this._hammerManagers=[]}},t=e;return e.fac=function(t){return new(t||e)(pn(Ig),pn(Cp),pn($S))},e.prov=ji({token:e,factory:e.fac}),t})(),VM="IgxTimePickerComponentToken",NM=(()=>{let e=class{constructor(e,t,i){this.timePicker=e,this.elementRef=t,this.touchManager=i,this.tabindex=0,this.onPanMove=e=>{let t=e.deltaY<0?-1:e.deltaY>0?1:0;0!==t&&this.nextItem(t)}}get defaultCSS(){return!0}get hourCSS(){return"hourList"===this.type}get minuteCSS(){return"minuteList"===this.type}get secondsCSS(){return"secondsList"===this.type}get ampmCSS(){return"ampmList"===this.type}onFocus(){this.isActive=!0}onBlur(){this.isActive=!1}onKeydownArrowDown(e){e.preventDefault(),this.nextItem(1)}onKeydownArrowUp(e){e.preventDefault(),this.nextItem(-1)}onKeydownArrowRight(e){e.preventDefault();let t=e.target.className;-1!==t.indexOf("hourList")&&this.timePicker.minuteList?this.timePicker.minuteList.nativeElement.focus():-1===t.indexOf("hourList")&&-1===t.indexOf("minuteList")||!this.timePicker.secondsList?(-1!==t.indexOf("hourList")||-1!==t.indexOf("minuteList")||-1!==t.indexOf("secondsList"))&&this.timePicker.ampmList&&this.timePicker.ampmList.nativeElement.focus():this.timePicker.secondsList.nativeElement.focus()}onKeydownArrowLeft(e){e.preventDefault();let t=e.target.className;-1!==t.indexOf("ampmList")&&this.timePicker.secondsList?this.timePicker.secondsList.nativeElement.focus():-1!==t.indexOf("secondsList")&&this.timePicker.secondsList&&t.indexOf("minutesList")&&this.timePicker.minuteList||-1!==t.indexOf("ampmList")&&this.timePicker.minuteList?this.timePicker.minuteList.nativeElement.focus():(-1!==t.indexOf("ampmList")||-1!==t.indexOf("secondsList")||-1!==t.indexOf("minuteList"))&&this.timePicker.hourList&&this.timePicker.hourList.nativeElement.focus()}onKeydownEnter(e){e.preventDefault(),this.timePicker.okButtonClick()}onKeydownEscape(e){e.preventDefault(),this.timePicker.cancelButtonClick()}onHover(){this.elementRef.nativeElement.focus()}onScroll(e){e.preventDefault(),e.stopPropagation();let t=e.deltaY;0!==t&&this.nextItem(t)}ngOnInit(){let e={recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_VERTICAL,threshold:10}]]};this.touchManager.addEventListener(this.elementRef.nativeElement,"pan",this.onPanMove,e)}ngOnDestroy(){this.touchManager.destroy()}nextItem(e){switch(this.type){case"hourList":this.timePicker.nextHour(e);break;case"minuteList":this.timePicker.nextMinute(e);break;case"secondsList":this.timePicker.nextSeconds(e);break;case"ampmList":this.timePicker.nextAmPm(e)}}},t=e;return e.fac=function(t){return new(t||e)(Rd(VM),Rd(ld),Rd(MM))},e.dir=er({type:e,selectors:[["","igxItemList",""]],hostVars:11,hostBindings:function(e,t){1&e&&oh("focus",(function(){return t.onFocus()}))("blur",(function(){return t.onBlur()}))("keydown.arrowdown",(function(e){return t.onKeydownArrowDown(e)}))("keydown.arrowup",(function(e){return t.onKeydownArrowUp(e)}))("keydown.arrowright",(function(e){return t.onKeydownArrowRight(e)}))("keydown.arrowleft",(function(e){return t.onKeydownArrowLeft(e)}))("keydown.enter",(function(e){return t.onKeydownEnter(e)}))("keydown.escape",(function(e){return t.onKeydownEscape(e)}))("mouseover",(function(){return t.onHover()}))("wheel",(function(e){return t.onScroll(e)})),2&e&&(Gc("tabindex",t.tabindex),Ah("igx-time-picker__column",t.defaultCSS)("igx-time-picker__hourList",t.hourCSS)("igx-time-picker__minuteList",t.minuteCSS)("igx-time-picker__secondsList",t.secondsCSS)("igx-time-picker__ampmList",t.ampmCSS))},inputs:{type:["igxItemList","type"]},standalone:!0,features:[cu([MM])]}),t})(),LM=(()=>{let e=class{get defaultCSS(){return!0}get selectedCSS(){return this.isSelectedTime}get activeCSS(){return this.isSelectedTime&&this.itemList.isActive}get isSelectedTime(){let e=this.value.length<2?`0${this.value}`:this.value,t=this.itemList.type,i=EA.parseDateTimeFormat(this.timePicker.inputFormat);switch(t){case"hourList":let t=i.find((e=>"hours"===e.type));return EA.getPartValue(this.timePicker.selectedDate,t,t.format.length)===e;case"minuteList":let n=i.find((e=>"minutes"===e.type));return EA.getPartValue(this.timePicker.selectedDate,n,n.format.length)===e;case"secondsList":let r=i.find((e=>"seconds"===e.type));return EA.getPartValue(this.timePicker.selectedDate,r,r.format.length)===e;case"ampmList":let s=i.find((e=>"tt"===e.format));return EA.getPartValue(this.timePicker.selectedDate,s,s.format.length)===this.value}}get minValue(){let e=this.itemList.type,t=EA.parseDateTimeFormat(this.timePicker.inputFormat);switch(e){case"hourList":return this.getHourPart(this.timePicker.minDropdownValue);case"minuteList":if(this.timePicker.selectedDate.getHours()===this.timePicker.minDropdownValue.getHours()){let e=t.find((e=>"minutes"===e.type));return EA.getPartValue(this.timePicker.minDropdownValue,e,e.format.length)}return"00";case"secondsList":let e=new Date(this.timePicker.selectedDate),i=new Date(this.timePicker.minDropdownValue);if(e.setSeconds(0),i.setSeconds(0),e.getTime()===i.getTime()){let e=t.find((e=>"seconds"===e.type));return EA.getPartValue(this.timePicker.minDropdownValue,e,e.format.length)}return"00";case"ampmList":let n=t.find((e=>"tt"===e.format));return EA.getPartValue(this.timePicker.minDropdownValue,n,n.format.length)}}get maxValue(){let e=this.itemList.type,t=EA.parseDateTimeFormat(this.timePicker.inputFormat);switch(e){case"hourList":return this.getHourPart(this.timePicker.maxDropdownValue);case"minuteList":if(this.timePicker.selectedDate.getHours()===this.timePicker.maxDropdownValue.getHours()){let e=t.find((e=>"minutes"===e.type));return EA.getPartValue(this.timePicker.maxDropdownValue,e,e.format.length)}{let e=new Date(this.timePicker.selectedDate),i=this.timePicker.itemsDelta.minutes,n=60%i,r=0===n?60-i:60-n;e.setMinutes(r);let s=t.find((e=>"minutes"===e.type));return EA.getPartValue(e,s,s.format.length)}case"secondsList":let e=new Date(this.timePicker.selectedDate),i=new Date(this.timePicker.maxDropdownValue);if(e.setSeconds(0),i.setSeconds(0),e.getTime()===i.getTime()){let e=t.find((e=>"seconds"===e.type));return EA.getPartValue(this.timePicker.maxDropdownValue,e,e.format.length)}{let i=this.timePicker.itemsDelta.seconds,n=60%i,r=0===n?60-i:60-n;e.setSeconds(r);let s=t.find((e=>"seconds"===e.type));return EA.getPartValue(e,s,s.format.length)}case"ampmList":let n=t.find((e=>"tt"===e.format));return EA.getPartValue(this.timePicker.maxDropdownValue,n,n.format.length)}}get hourValue(){return this.getHourPart(this.timePicker.selectedDate)}constructor(e,t){this.timePicker=e,this.itemList=t}onClick(e){if(""!==e){let t=this.itemList.type;this.timePicker.onItemClick(e,t)}}getHourPart(e){let t=EA.parseDateTimeFormat(this.timePicker.inputFormat),i=t.find((e=>"hours"===e.type)),n=t.find((e=>"tt"===e.format)),r=EA.getPartValue(e,i,i.format.length);return n?`${r} ${EA.getPartValue(e,n,n.format.length)}`:r}},t=e;return e.fac=function(t){return new(t||e)(Rd(VM),Rd(NM))},e.dir=er({type:e,selectors:[["","igxTimeItem",""]],hostVars:6,hostBindings:function(e,t){1&e&&oh("click",(function(){return t.onClick(t.value)})),2&e&&Ah("igx-time-picker__item",t.defaultCSS)("igx-time-picker__item--selected",t.selectedCSS)("igx-time-picker__item--active",t.activeCSS)},inputs:{value:["igxTimeItem","value"]},exportAs:["timeItem"],standalone:!0}),t})(),HM=(()=>{let e=class{constructor(e){this.timePicker=e}transform(e){let t=this.timePicker.inputFormat.replace("tt","aa");return new $m(this.timePicker.locale).transform(e,t)}},t=e;return e.fac=function(t){return new(t||e)(Rd(VM,16))},e.pipe=tr({name:"timeFormatPipe",type:e,pure:!0,standalone:!0}),t})(),BM=(()=>{let e=class{constructor(e){this.timePicker=e}transform(e,t,i,n,r){let s,o;switch(t){case"hour":s=this.generateHours(n,r);let e=this.timePicker.isTwelveHourFormat?this.toTwelveHourFormat(i.getHours()):i.getHours();s=this.scrollListItem(e,s),o=SA.Hours;break;case"minutes":s=this.generateMinutes(i,n,r),s=this.scrollListItem(i.getMinutes(),s),o=SA.Minutes;break;case"seconds":s=this.generateSeconds(i,n,r),s=this.scrollListItem(i.getSeconds(),s),o=SA.Seconds;break;case"ampm":s=this.generateAmPm(n,r);let t=this.timePicker.getPartValue(i,"ampm");s=this.scrollListItem(t,s),o=SA.AmPm}return this.getListView(s,o)}getListView(e,t){for(let i=0;i<e.length;i++)e[i]=this.getItemView(e[i],t);return e}getItemView(e,t){return null===e?e="":t&&"string"!=typeof e&&(e={hours:e<10&&(-1!==this.timePicker.inputFormat.indexOf("hh")||-1!==this.timePicker.inputFormat.indexOf("HH")),minutes:e<10&&-1!==this.timePicker.inputFormat.indexOf("mm"),seconds:e<10&&-1!==this.timePicker.inputFormat.indexOf("ss")}[t]?"0"+e:`${e}`),e}scrollListItem(e,t){let i,n=t.length;if(t){let r=t.indexOf(e);r<3?(i=t.slice(n-(3-r),n),i=i.concat(t.slice(0,r+4))):r+4>n?(i=t.slice(r-3,n),i=i.concat(t.slice(0,r+4-n))):i=t.slice(r-3,r+4)}return i}generateHours(e,t){let i=[],n=this.timePicker.isTwelveHourFormat?13:24;n/=this.timePicker.itemsDelta.hours;let r=e.getHours(),s=t.getHours();if(n>1)for(let e=0;e<24;e++){let t=e*this.timePicker.itemsDelta.hours;t>=r&&t<=s&&(t=this.timePicker.isTwelveHourFormat?this.toTwelveHourFormat(t):t,i.find((e=>e===t))||i.push(t))}else i.push(0);if(i.length<7||n<7||!this.timePicker.spinLoop){let e=!this.timePicker.spinLoop||i.length<7&&n<7?6:3;for(let t=0;t<e;t++)i.push(null)}return i}generateMinutes(e,t,i){let n=[],r=60/this.timePicker.itemsDelta.minutes;e=new Date(e);for(let s=0;s<r;s++){let r=s*this.timePicker.itemsDelta.minutes;e.setMinutes(r),e>=t&&e<=i&&n.push(s*this.timePicker.itemsDelta.minutes)}if(n.length<7||r<7||!this.timePicker.spinLoop){let e=!this.timePicker.spinLoop||n.length<7&&r<7?6:3;for(let t=0;t<e;t++)n.push(null)}return n}generateSeconds(e,t,i){let n=[],r=60/this.timePicker.itemsDelta.seconds;e=new Date(e);for(let s=0;s<r;s++){let r=s*this.timePicker.itemsDelta.seconds;e.setSeconds(r),e.getTime()>=t.getTime()&&e.getTime()<=i.getTime()&&n.push(s*this.timePicker.itemsDelta.seconds)}if(n.length<7||r<7||!this.timePicker.spinLoop){let e=!this.timePicker.spinLoop||n.length<7&&r<7?6:3;for(let t=0;t<e;t++)n.push(null)}return n}generateAmPm(e,t){let i=[],n=e.getHours(),r=t.getHours();n<12&&i.push("AM"),(n>=12||r>=12)&&i.push("PM");for(let e=0;e<5;e++)i.push(null);return i}toTwelveHourFormat(e){return e>12?e-=12:0===e&&(e=12),e}},t=e;return e.fac=function(t){return new(t||e)(Rd(VM,16))},e.pipe=tr({name:"timeItemPipe",type:e,pure:!0,standalone:!0}),t})(),GM=["hourList"],zM=["minuteList"],$M=["secondsList"],WM=["ampmList"];function jM(e,t){if(1&e){let e=nh();Yc(0,"igx-prefix",15),oh("click",(function(){return Is(e),Ts(dh().toggle())})),Yc(1,"igx-icon",16),$h(2,"access_time"),Xc()()}if(2&e){let e=dh();Ed(1),Uc("title",e.value?e.resourceStrings.igx_time_picker_change_time:e.resourceStrings.igx_time_picker_choose_time)}}function KM(e,t){if(1&e){let e=nh();Yc(0,"igx-suffix",15),oh("click",(function(t){return Is(e),dh().clear(),Ts(t.stopPropagation())})),Yc(1,"igx-icon"),$h(2,"clear"),Xc()()}}function UM(e,t){if(1&e){let e=nh();Yc(0,"button",20),oh("click",(function(){return Is(e),Ts(dh(3).cancelButtonClick())})),$h(1),Xc()}if(2&e){let e=dh(3);Ed(1),Kh(" ",e.cancelButtonLabel," ")}}function qM(e,t){if(1&e){let e=nh();Yc(0,"button",20),oh("click",(function(){return Is(e),Ts(dh(3).okButtonClick())})),$h(1),Xc()}if(2&e){let e=dh(3);Ed(1),Kh(" ",e.okButtonLabel," ")}}function YM(e,t){if(1&e&&(Yc(0,"div",18),Wc(1,UM,2,1,"button",19),Wc(2,qM,2,1,"button",19),Xc()),2&e){let e=dh(2);Ed(1),Uc("ngIf",e.cancelButtonLabel),Ed(1),Uc("ngIf",e.okButtonLabel)}}function XM(e,t){if(1&e&&Wc(0,YM,3,2,"div",17),2&e){let e=dh();Uc("ngIf",e.cancelButtonLabel||e.okButtonLabel)}}function ZM(e,t){if(1&e&&(Yc(0,"div",21)(1,"h2",22)(2,"span"),$h(3),Pu(4,"timeFormatPipe"),Xc()()()),2&e){let e=dh();Ed(3),jh(Mu(4,1,e.selectedDate))}}function QM(e,t){if(1&e&&(Yc(0,"span",26,27),$h(2),Xc()),2&e){let e=t.$implicit,i=Kc(1);Uc("igxTimeItem",e),Gc("role",i.isSelectedTime?"spinbutton":null)("aria-valuenow",i.isSelectedTime?i.hourValue:null)("aria-valuemin",i.isSelectedTime?i.minValue:null)("aria-valuemax",i.isSelectedTime?i.maxValue:null),Ed(2),jh(e)}}var JM=function(e,t,i,n){return[e,"hour",t,i,n]};function eV(e,t){if(1&e&&(Yc(0,"div",23,24),Wc(2,QM,3,6,"span",25),Pu(3,"timeItemPipe"),Xc()),2&e){let e=dh();Uc("igxItemList","hourList"),Ed(2),Uc("ngForOf",Hu(3,2,Cu(8,JM,e.hourItems,e.selectedDate,e.minDropdownValue,e.maxDropdownValue)))}}function tV(e,t){if(1&e&&(Yc(0,"span",30,27),$h(2),Xc()),2&e){let e=t.$implicit,i=Kc(1);Uc("igxTimeItem",e),Gc("role",i.isSelectedTime?"spinbutton":null)("aria-valuenow",i.isSelectedTime?e:null)("aria-valuemin",i.isSelectedTime?i.minValue:null)("aria-valuemax",i.isSelectedTime?i.maxValue:null),Ed(2),jh(e)}}var iV=function(e,t,i,n){return[e,"minutes",t,i,n]};function nV(e,t){if(1&e&&(Yc(0,"div",23,28),Wc(2,tV,3,6,"span",29),Pu(3,"timeItemPipe"),Xc()),2&e){let e=dh();Uc("igxItemList","minuteList"),Ed(2),Uc("ngForOf",Hu(3,2,Cu(8,iV,e.minuteItems,e.selectedDate,e.minDropdownValue,e.maxDropdownValue)))}}function rV(e,t){if(1&e&&(Yc(0,"span",33,27),$h(2),Xc()),2&e){let e=t.$implicit,i=Kc(1);Uc("igxTimeItem",e),Gc("role",i.isSelectedTime?"spinbutton":null)("aria-valuenow",i.isSelectedTime?e:null)("aria-valuemin",i.isSelectedTime?i.minValue:null)("aria-valuemax",i.isSelectedTime?i.maxValue:null),Ed(2),jh(e)}}var sV=function(e,t,i,n){return[e,"seconds",t,i,n]};function oV(e,t){if(1&e&&(Yc(0,"div",23,31),Wc(2,rV,3,6,"span",32),Pu(3,"timeItemPipe"),Xc()),2&e){let e=dh();Uc("igxItemList","secondsList"),Ed(2),Uc("ngForOf",Hu(3,2,Cu(8,sV,e.secondsItems,e.selectedDate,e.minDropdownValue,e.maxDropdownValue)))}}function aV(e,t){if(1&e&&(Yc(0,"span",36,27),$h(2),Xc()),2&e){let e=t.$implicit,i=Kc(1);Uc("igxTimeItem",e),Gc("role",i.isSelectedTime?"spinbutton":null)("aria-valuenow",i.isSelectedTime?e:null)("aria-valuemin",i.isSelectedTime?i.minValue:null)("aria-valuemax",i.isSelectedTime?i.maxValue:null),Ed(2),jh(e)}}var lV=function(e,t,i,n){return[e,"ampm",t,i,n]};function dV(e,t){if(1&e&&(Yc(0,"div",23,34),Wc(2,aV,3,6,"span",35),Pu(3,"timeItemPipe"),Xc()),2&e){let e=dh();Uc("igxItemList","ampmList"),Ed(2),Uc("ngForOf",Hu(3,2,Cu(8,lV,e.ampmItems,e.selectedDate,e.minDropdownValue,e.maxDropdownValue)))}}function cV(e,t){1&e&&th(0)}var hV=[[["","igxLabel",""]],[["igx-prefix"],["","igxPrefix",""]],[["igx-suffix"],["","igxSuffix",""]],[["igx-hint"],["","igxHint",""]]],uV=function(e,t){return{"igx-time-picker--dropdown":e,"igx-time-picker--vertical":t}},gV=["[igxLabel]","igx-prefix,[igxPrefix]","igx-suffix,[igxSuffix]","igx-hint,[igxHint]"],pV=0,mV=(()=>{let e=class extends lP{set minValue(e){this._minValue=e;let t=this.parseToDate(e);t&&(this._dateMinValue=new Date,this._dateMinValue.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),this.minDropdownValue=this.setMinMaxDropdownValue("min",this._dateMinValue)),this.setSelectedValue(this._selectedDate),this._onValidatorChange()}get minValue(){return this._minValue}get collapsed(){return this.toggleRef?.collapsed}set maxValue(e){this._maxValue=e;let t=this.parseToDate(e);t&&(this._dateMaxValue=new Date,this._dateMaxValue.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),this.maxDropdownValue=this.setMinMaxDropdownValue("max",this._dateMaxValue)),this.setSelectedValue(this._selectedDate),this._onValidatorChange()}get maxValue(){return this._maxValue}get showClearButton(){return!this.clearComponents.length&&(EA.isValidDate(this.value)?0!==this.value.getHours()||0!==this.value.getMinutes()||0!==this.value.getSeconds():!!this.dateTimeEditor.value)}get showHoursList(){return-1!==this.inputFormat.indexOf("h")||-1!==this.inputFormat.indexOf("H")}get showMinutesList(){return-1!==this.inputFormat.indexOf("m")}get showSecondsList(){return-1!==this.inputFormat.indexOf("s")}get showAmPmList(){return-1!==this.inputFormat.indexOf("t")||-1!==this.inputFormat.indexOf("a")}get isTwelveHourFormat(){return-1!==this.inputFormat.indexOf("h")}get isVertical(){return this.headerOrientation===QF}get selectedDate(){return this._selectedDate}get minDateValue(){if(!this._dateMinValue){let e=new Date;return e.setHours(0,0,0,0),e}return this._dateMinValue}get maxDateValue(){if(!this._dateMaxValue){let e=new Date;return e.setHours(23,59,59,999),e}return this._dateMaxValue}get required(){if(this._ngControl&&this._ngControl.control&&this._ngControl.control.validator){let e=this._ngControl.control.validator({});return!(!e||!e.required)}return!1}get dialogOverlaySettings(){return Object.assign({},this._defaultDialogOverlaySettings,this.overlaySettings)}get dropDownOverlaySettings(){return Object.assign({},this._defaultDropDownOverlaySettings,this.overlaySettings)}get value(){return this._value}set value(e){let t=this._value;this._value=e;let i=this.parseToDate(e);i?(this._dateValue=new Date,this._dateValue.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),this.setSelectedValue(this._dateValue)):(this._dateValue=null,this.setSelectedValue(null)),this.dateTimeEditor&&(this.dateTimeEditor.value=i),this.emitValueChange(t,this._value),this._onChangeCallback(this._value)}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}set okButtonLabel(e){this._okButtonLabel=e}get okButtonLabel(){return null===this._okButtonLabel?this.resourceStrings.igx_time_picker_ok:this._okButtonLabel}set cancelButtonLabel(e){this._cancelButtonLabel=e}get cancelButtonLabel(){return null===this._cancelButtonLabel?this.resourceStrings.igx_time_picker_cancel:this._cancelButtonLabel}set itemsDelta(e){Object.assign(this._itemsDelta,e)}get itemsDelta(){return this._itemsDelta}constructor(e,t,i,n,r,s,o){super(e,t,i,n),this._injector=r,this.platform=s,this.cdr=o,this.id="igx-time-picker-"+pV++,this.inputFormat=EA.DEFAULT_TIME_INPUT_FORMAT,this.mode=JF,this.spinLoop=!0,this.headerOrientation=ZF,this.readOnly=!1,this.selected=new zu,this.valueChange=new zu,this.validationFailed=new zu,this.cleared=!1,this.isNotEmpty=!1,this.displayValue={transform:e=>this.formatter(e)},this.hourItems=[],this.minuteItems=[],this.secondsItems=[],this.ampmItems=[],this._resourceStrings=fI.TimePickerResStrings,this._okButtonLabel=null,this._cancelButtonLabel=null,this._itemsDelta={hours:1,minutes:1,seconds:1},this._ngControl=null,this._onChangeCallback=vt,this._onTouchedCallback=vt,this._onValidatorChange=vt,this._defaultDialogOverlaySettings={closeOnOutsideClick:!0,modal:!0,closeOnEscape:!0,outlet:this.outlet},this._defaultDropDownOverlaySettings={target:this.element.nativeElement,modal:!1,closeOnOutsideClick:!0,scrollStrategy:new HE,positionStrategy:new RE,outlet:this.outlet},this.locale=this.locale||this._localeId}onKeyDown(e){switch(e.key){case this.platform.KEYMAP.ARROW_UP:e.altKey&&this.isDropdown&&this.close();break;case this.platform.KEYMAP.ARROW_DOWN:e.altKey&&this.isDropdown&&this.open();break;case this.platform.KEYMAP.ESCAPE:this.cancelButtonClick();break;case this.platform.KEYMAP.SPACE:this.open(),e.preventDefault()}}getPartValue(e,t){let i=EA.parseDateTimeFormat(this.inputFormat).find((e=>e.type===t));return EA.getPartValue(e,i,i.format.length)}toISOString(e){return e.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}writeValue(e){this._value=e;let t=this.parseToDate(e);t?(this._dateValue=new Date,this._dateValue.setHours(t.getHours(),t.getMinutes(),t.getSeconds()),this.setSelectedValue(this._dateValue)):this.setSelectedValue(null),this.dateTimeEditor&&(this.dateTimeEditor.value=t)}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}registerOnValidatorChange(e){this._onValidatorChange=e}validate(e){if(!e.value)return null;if(GS(e.value)&&!EA.isValidDate(e.value))return{value:!0};let t={},i=EA.isValidDate(e.value)?e.value:EA.parseIsoDate(e.value);return Object.assign(t,EA.validateMinMax(i,this.minValue,this.maxValue,!0,!1)),Object.keys(t).length>0?t:null}setDisabledState(e){this.disabled=e}ngOnInit(){this._ngControl=this._injector.get(k_,null),this.minDropdownValue=this.setMinMaxDropdownValue("min",this.minDateValue),this.maxDropdownValue=this.setMinMaxDropdownValue("max",this.maxDateValue),this.setSelectedValue(this._dateValue),super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit(),this.subscribeToDateEditorEvents(),this.subscribeToToggleDirectiveEvents(),this._defaultDropDownOverlaySettings.excludeFromOutsideClick=[this._inputGroup.element.nativeElement],Lt(this.inputDirective.nativeElement,"blur").pipe(yi(this._destroy$)).subscribe((()=>{this.collapsed&&this.updateValidityOnBlur()})),this.subToIconsClicked(this.clearComponents,(()=>this.clear())),this.clearComponents.changes.pipe(yi(this._destroy$)).subscribe((()=>this.subToIconsClicked(this.clearComponents,(()=>this.clear())))),this._ngControl&&(this._statusChanges$=this._ngControl.statusChanges.subscribe(this.onStatusChanged.bind(this)),this._inputGroup.isRequired=this.required,this.cdr.detectChanges())}ngOnDestroy(){super.ngOnDestroy(),this._statusChanges$&&this._statusChanges$.unsubscribe()}getEditElement(){return this.dateTimeEditor.nativeElement}open(e){if(this.disabled||!this.toggleRef.collapsed)return;this.setSelectedValue(this._dateValue);let t=Object.assign({},this.isDropdown?this.dropDownOverlaySettings:this.dialogOverlaySettings,e);this.toggleRef.open(t)}close(){this.toggleRef.close()}toggle(e){this.toggleRef.collapsed?this.open(e):this.close()}clear(){if(!this.disabled)if(this.toggleRef.collapsed||this.close(),EA.isValidDate(this.value)){let e=new Date(this.value);this.value.setHours(0,0,0),this.value.getTime()!==e.getTime()&&(this.emitValueChange(e,this.value),this._dateValue.setHours(0,0,0),this.dateTimeEditor.value=new Date(this.value),this.setSelectedValue(this._dateValue))}else this.value=null}select(e){this.value=e}increment(e,t){this.dateTimeEditor.increment(e,t)}decrement(e,t){this.dateTimeEditor.decrement(e,t)}cancelButtonClick(){this.setSelectedValue(this._dateValue),this.dateTimeEditor.value=this.parseToDate(this.value),this.close()}okButtonClick(){this.updateValue(this._selectedDate),this.close()}onItemClick(e,t){let i=new Date(this._selectedDate);switch(t){case"hourList":let t,n=parseInt(e,10);if(this.showAmPmList){t=this.getPartValue(i,"ampm"),n=this.toTwentyFourHourFormat(n,t);let e=this.minDropdownValue?.getHours()||0,r=this.maxDropdownValue?.getHours()||24;(n<e||n>r)&&(n=n<12?n+12:n-12)}i.setHours(n),i=this.validateDropdownValue(i),this.valueInRange(i,this.minDropdownValue,this.maxDropdownValue)&&this.setSelectedValue(i);break;case"minuteList":{let t=parseInt(e,10);i.setMinutes(t),i=this.validateDropdownValue(i),this.setSelectedValue(i);break}case"secondsList":{let t=parseInt(e,10);i.setSeconds(t),this.valueInRange(i,this.minDropdownValue,this.maxDropdownValue)&&this.setSelectedValue(i);break}case"ampmList":{let t=this._selectedDate.getHours();t="AM"===e?t-12:t+12,i.setHours(t),i=this.validateDropdownValue(i,!0),this.setSelectedValue(i);break}}this.updateEditorValue()}nextHour(e){e=e>0?1:-1;let t=new Date(this._selectedDate),i=this.minDropdownValue?.getHours(),n=this.maxDropdownValue?.getHours(),r=t.getHours(),s=r+e*this.itemsDelta.hours;(r===n&&e>0||r===i&&e<0)&&(s=this.spinLoop?e>0?i:n:r),this._selectedDate.setHours(s),this._selectedDate=this.validateDropdownValue(this._selectedDate),this._selectedDate=new Date(this._selectedDate),this.updateEditorValue()}nextMinute(e){e=e>0?1:-1;let t=this.minDropdownValue.getHours(),i=this.maxDropdownValue.getHours(),n=this._selectedDate.getHours(),r=this._selectedDate.getMinutes(),s=n===t?this.minDropdownValue.getMinutes():0,o=n===i?this.maxDropdownValue.getMinutes():60%this.itemsDelta.minutes>0?60-60%this.itemsDelta.minutes:60-this.itemsDelta.minutes;e<0&&r===s||e>0&&r===o?r=this.spinLoop&&r===s?o:this.spinLoop&&r===o?s:r:r+=e*this.itemsDelta.minutes,this._selectedDate.setMinutes(r),this._selectedDate=this.validateDropdownValue(this._selectedDate),this._selectedDate=new Date(this._selectedDate),this.updateEditorValue()}nextSeconds(e){e=e>0?1:-1;let t=this.minDropdownValue.getHours(),i=this.maxDropdownValue.getHours(),n=this._selectedDate.getHours(),r=this._selectedDate.getMinutes(),s=this.minDropdownValue.getMinutes(),o=this.maxDropdownValue.getMinutes(),a=this._selectedDate.getSeconds(),l=n===t&&r===s?this.minDropdownValue.getSeconds():0,d=n===i&&r===o?this.maxDropdownValue.getSeconds():60%this.itemsDelta.seconds>0?60-60%this.itemsDelta.seconds:60-this.itemsDelta.seconds;e<0&&a===l||e>0&&a===d?a=this.spinLoop&&a===l?d:this.spinLoop&&a===d?l:a:a+=e*this.itemsDelta.seconds,this._selectedDate.setSeconds(a),this._selectedDate=this.validateDropdownValue(this._selectedDate),this._selectedDate=new Date(this._selectedDate),this.updateEditorValue()}nextAmPm(e){let t=this.getPartValue(this._selectedDate,"ampm");if(!e||"AM"===t&&e>0||"PM"===t&&e<0){let e=this._selectedDate.getHours();e+=12*(e<12?1:-1),this._selectedDate.setHours(e),this._selectedDate=this.validateDropdownValue(this._selectedDate,!0),this._selectedDate=new Date(this._selectedDate),this.updateEditorValue()}}setSelectedValue(e){this._selectedDate=e?new Date(e):null,EA.isValidDate(this._selectedDate)?this.minValue&&EA.lessThanMinValue(this._selectedDate,this.minDropdownValue,!0,!1)?this._selectedDate=new Date(this.minDropdownValue):this.maxValue&&EA.greaterThanMaxValue(this._selectedDate,this.maxDropdownValue,!0,!1)?this._selectedDate=new Date(this.maxDropdownValue):(this._selectedDate.getHours()%this.itemsDelta.hours>0&&this._selectedDate.setHours(this._selectedDate.getHours()+this.itemsDelta.hours-this._selectedDate.getHours()%this.itemsDelta.hours,0,0),this._selectedDate.getMinutes()%this.itemsDelta.minutes>0&&this._selectedDate.setHours(this._selectedDate.getHours(),this._selectedDate.getMinutes()+this.itemsDelta.minutes-this._selectedDate.getMinutes()%this.itemsDelta.minutes,0),this._selectedDate.getSeconds()%this.itemsDelta.seconds>0&&this._selectedDate.setSeconds(this._selectedDate.getSeconds()+this.itemsDelta.seconds-this._selectedDate.getSeconds()%this.itemsDelta.seconds)):this._selectedDate=new Date(this.minDropdownValue)}onStatusChanged(){this._ngControl&&!this._ngControl.disabled&&this.isTouchedOrDirty?this.hasValidators&&this._inputGroup.isFocused?this.inputDirective.valid=this._ngControl.valid?dI.VALID:dI.INVALID:this.inputDirective.valid=this._ngControl.valid?dI.INITIAL:dI.INVALID:this.inputDirective.valid=dI.INITIAL,this._inputGroup&&this._inputGroup.isRequired!==this.required&&(this._inputGroup.isRequired=this.required)}get isTouchedOrDirty(){return this._ngControl.control.touched||this._ngControl.control.dirty}get hasValidators(){return!!this._ngControl.control.validator||!!this._ngControl.control.asyncValidator}setMinMaxDropdownValue(e,t){let i,n="min"===e?1:-1,r=t.getHours(),s=t.getMinutes(),o=t.getSeconds();return this.showHoursList&&r%this.itemsDelta.hours>0?(i="min"===e?this.itemsDelta.hours-r%this.itemsDelta.hours:r%this.itemsDelta.hours,s="min"===e?0:60%this.itemsDelta.minutes>0?60-60%this.itemsDelta.minutes:60-this.itemsDelta.minutes,o="min"===e?0:60%this.itemsDelta.seconds>0?60-60%this.itemsDelta.seconds:60-this.itemsDelta.seconds,t.setHours(r+n*i,s,o)):this.showMinutesList&&s%this.itemsDelta.minutes>0?(i="min"===e?this.itemsDelta.minutes-s%this.itemsDelta.minutes:s%this.itemsDelta.minutes,o="min"===e?0:60%this.itemsDelta.seconds>0?60-60%this.itemsDelta.seconds:60-this.itemsDelta.seconds,t.setHours(r,s+n*i,o)):this.showSecondsList&&o%this.itemsDelta.seconds>0&&(i="min"===e?this.itemsDelta.seconds-o%this.itemsDelta.seconds:o%this.itemsDelta.seconds,t.setHours(r,s,o+n*i)),t}initializeContainer(){requestAnimationFrame((()=>{this.hourList?this.hourList.nativeElement.focus():this.minuteList?this.minuteList.nativeElement.focus():this.secondsList&&this.secondsList.nativeElement.focus()}))}validateDropdownValue(e,t=!1){return e>this.maxDropdownValue&&(t&&e.getHours()!==this.maxDropdownValue.getHours()?e.setHours(12):e=new Date(this.maxDropdownValue)),e<this.minDropdownValue&&(e=new Date(this.minDropdownValue)),e}emitValueChange(e,t){zS(e,t)||this.valueChange.emit(t)}emitValidationFailedEvent(e){let t={owner:this,previousValue:e,currentValue:this.value};this.validationFailed.emit(t)}updateValidityOnBlur(){this._onTouchedCallback(),this._ngControl&&(this._ngControl.valid?this.inputDirective.valid=dI.INITIAL:this.inputDirective.valid=dI.INVALID)}valueInRange(e,t,i){return!(t&&EA.lessThanMinValue(e,t,!0,!1)||i&&EA.greaterThanMaxValue(e,i,!0,!1))}parseToDate(e){return EA.isValidDate(e)?e:EA.parseIsoDate(e)}toTwentyFourHourFormat(e,t){return"PM"===t&&e<12?e+=12:"AM"===t&&12===e&&(e=0),e}updateValue(e){if(this.value)if(GS(this.value)){let t=new Date(this.value);t.setHours(e?.getHours()||0,e?.getMinutes()||0,e?.getSeconds()||0),this.value=t}else this.value=e&&this.toISOString(e);else this.value=e&&new Date(e)}updateEditorValue(){let e=this.dateTimeEditor.value?new Date(this.dateTimeEditor.value):new Date;e.setHours(this._selectedDate.getHours(),this._selectedDate.getMinutes(),this._selectedDate.getSeconds()),this.dateTimeEditor.value=e}subscribeToDateEditorEvents(){this.dateTimeEditor.valueChange.pipe(yi(this._destroy$)).subscribe((e=>{this.updateValue(e)})),this.dateTimeEditor.validationFailed.pipe(yi(this._destroy$)).subscribe((e=>{this.emitValidationFailedEvent(e.oldValue)}))}subscribeToToggleDirectiveEvents(){this.toggleRef&&(this._inputGroup&&(this.toggleRef.element.style.width=this._inputGroup.element.nativeElement.getBoundingClientRect().width+"px"),this.toggleRef.opening.pipe(yi(this._destroy$)).subscribe((e=>{let t={owner:this,event:e.event,cancel:!1};this.opening.emit(t),e.cancel=t.cancel,!t.cancel&&this.initializeContainer()})),this.toggleRef.opened.pipe(yi(this._destroy$)).subscribe((()=>{this.opened.emit({owner:this})})),this.toggleRef.closed.pipe(yi(this._destroy$)).subscribe((()=>{this.closed.emit({owner:this})})),this.toggleRef.closing.pipe(yi(this._destroy$)).subscribe((e=>{let t={owner:this,event:e.event,cancel:!1};if(this.closing.emit(t),e.cancel=t.cancel,t.cancel)return;let i=this.parseToDate(this.value);this.dateTimeEditor.value?.getTime()!==i?.getTime()&&this.updateValue(this._selectedDate);let n=this.getEditElement();!n||e.event&&this.isDropdown?this.updateValidityOnBlur():n.focus()})))}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(Sg),Rd(eI,8),Rd(SI,8),Rd(kd),Rd($S),Rd(Jg))},e.cmp=Yn({type:e,selectors:[["igx-time-picker"]],contentQueries:function(e,t,i){if(1&e&&(mg(i,uI,5),mg(i,XF,5),mg(i,YF,4)),2&e){let e;gg(e=fg())&&(t.label=e.first),gg(e=fg())&&(t.timePickerActionsDirective=e.first),gg(e=fg())&&(t.clearComponents=e)}},viewQuery:function(e,t){if(1&e&&(pg(GM,5),pg(zM,5),pg($M,5),pg(WM,5),pg(cI,5,cI),pg(kT,5),pg(IA,7),pg(fA,5)),2&e){let e;gg(e=fg())&&(t.hourList=e.first),gg(e=fg())&&(t.minuteList=e.first),gg(e=fg())&&(t.secondsList=e.first),gg(e=fg())&&(t.ampmList=e.first),gg(e=fg())&&(t.inputDirective=e.first),gg(e=fg())&&(t._inputGroup=e.first),gg(e=fg())&&(t.dateTimeEditor=e.first),gg(e=fg())&&(t.toggleRef=e.first)}},hostVars:1,hostBindings:function(e,t){1&e&&oh("keydown",(function(e){return t.onKeyDown(e)})),2&e&&Gc("id",t.id)},inputs:{id:"id",displayFormat:"displayFormat",inputFormat:"inputFormat",mode:"mode",minValue:"minValue",maxValue:"maxValue",spinLoop:"spinLoop",formatter:"formatter",headerOrientation:"headerOrientation",readOnly:"readOnly",value:"value",resourceStrings:"resourceStrings",okButtonLabel:"okButtonLabel",cancelButtonLabel:"cancelButtonLabel",itemsDelta:"itemsDelta"},outputs:{selected:"selected",valueChange:"valueChange",validationFailed:"validationFailed"},standalone:!0,features:[cu([{provide:qx,useExisting:e,multi:!0},{provide:VM,useExisting:e},{provide:e_,useExisting:e,multi:!0}]),Tc,yu],ngContentSelectors:gV,decls:24,vars:29,consts:[[3,"displayDensity","type","suppressInputAutofocus"],["igxInput","","type","text","role","combobox","aria-haspopup","dialog",3,"displayValuePipe","igxDateTimeEditor","readonly","minValue","maxValue","locale","spinDelta","spinLoop","placeholder","disabled","displayFormat","igxTextSelection","click"],[3,"click",4,"ngIf"],["ngProjectAs","[igxLabel]",5,["","igxLabel",""]],["ngProjectAs","igx-prefix",5,["igx-prefix"]],["ngProjectAs","igx-suffix",5,["igx-suffix"]],["ngProjectAs","igx-hint",5,["igx-hint"]],["defaultTimePickerActions",""],["igxToggle","","role","dialog",1,"igx-time-picker",3,"ngClass"],["toggleDirective","toggle"],["class","igx-time-picker__header",4,"ngIf"],[1,"igx-time-picker__main"],[1,"igx-time-picker__body"],[3,"igxItemList",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"click"],[3,"title"],["class","igx-time-picker__buttons",4,"ngIf"],[1,"igx-time-picker__buttons"],["igxButton","flat",3,"click",4,"ngIf"],["igxButton","flat",3,"click"],[1,"igx-time-picker__header"],[1,"igx-time-picker__header-hour"],[3,"igxItemList"],["hourList",""],["aria-label","hour",3,"igxTimeItem",4,"ngFor","ngForOf"],["aria-label","hour",3,"igxTimeItem"],["timeItem","timeItem"],["minuteList",""],["aria-label","minutes",3,"igxTimeItem",4,"ngFor","ngForOf"],["aria-label","minutes",3,"igxTimeItem"],["secondsList",""],["aria-label","seconds",3,"igxTimeItem",4,"ngFor","ngForOf"],["aria-label","seconds",3,"igxTimeItem"],["ampmList",""],["aria-label","ampm",3,"igxTimeItem",4,"ngFor","ngForOf"],["aria-label","ampm",3,"igxTimeItem"]],template:function(e,t){if(1&e&&(hh(hV),Yc(0,"igx-input-group",0)(1,"input",1),oh("click",(function(){return!t.isDropdown&&t.toggle()})),Xc(),Wc(2,jM,3,1,"igx-prefix",2),Jc(3,3),uh(4),eh(),Jc(5,4),uh(6,1),eh(),Wc(7,KM,3,0,"igx-suffix",2),Jc(8,5),uh(9,2),eh(),Jc(10,6),uh(11,3),eh(),Xc(),Wc(12,XM,1,1,"ng-template",null,7,_g),Yc(14,"div",8,9),Wc(16,ZM,5,3,"div",10),Yc(17,"div",11)(18,"div",12),Wc(19,eV,4,13,"div",13),Wc(20,nV,4,13,"div",13),Wc(21,oV,4,13,"div",13),Wc(22,dV,4,13,"div",13),Xc(),Wc(23,cV,1,0,"ng-container",14),Xc()()),2&e){let e=Kc(13),i=Kc(15);Uc("displayDensity",t.displayDensity)("type",t.type)("suppressInputAutofocus",t.isDropdown),Ed(1),Uc("displayValuePipe",t.formatter?t.displayValue:null)("igxDateTimeEditor",t.inputFormat)("readonly",!t.isDropdown||t.readOnly)("minValue",t.minValue)("maxValue",t.maxValue)("locale",t.locale)("spinDelta",t.itemsDelta)("spinLoop",t.spinLoop)("placeholder",t.placeholder)("disabled",t.disabled)("displayFormat",t.displayFormat)("igxTextSelection",t.isDropdown&&!t.readOnly),Gc("aria-expanded",!i.collapsed)("aria-labelledby",null==t.label?null:t.label.id),Ed(1),Uc("ngIf",!t.toggleComponents.length),Ed(5),Uc("ngIf",t.showClearButton),Ed(7),Uc("ngClass",_u(26,uV,t.isDropdown,t.isVertical&&!t.isDropdown)),Ed(2),Uc("ngIf",!t.isDropdown),Ed(3),Uc("ngIf",t.showHoursList),Ed(1),Uc("ngIf",t.showMinutesList),Ed(1),Uc("ngIf",t.showSecondsList),Ed(1),Uc("ngIf",t.showAmPmList),Ed(1),Uc("ngTemplateOutlet",t.timePickerActionsDirective?t.timePickerActionsDirective.template:e)}},dependencies:[kT,cI,IA,gA,Em,gI,FI,pI,CI,fA,Sm,NM,bm,LM,Pm,HM,BM],styles:["[_nghost-%COMP%]{display:block}"]}),t})();function fV(e,t){if(1&e&&(Yc(0,"div",3)(1,"div",4)(2,"span"),$h(3),Xc()(),Yc(4,"div",5)(5,"span"),$h(6),Xc()()()),2&e){let e=dh();Ed(3),jh(e.resourceStrings.igx_query_builder_and_label),Ed(3),jh(e.resourceStrings.igx_query_builder_or_label)}}var yV=["*"],vV=(()=>{let e=class{constructor(){this._resourceStrings=fI.QueryBuilderResStrings,this.showLegend=!0}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}},t=e;return e.fac=function(t){return new(t||e)},e.cmp=Yn({type:e,selectors:[["igx-query-builder-header"]],inputs:{title:"title",showLegend:"showLegend",resourceStrings:"resourceStrings"},standalone:!0,features:[yu],ngContentSelectors:yV,decls:5,vars:2,consts:[[1,"igx-query-builder__header"],[1,"ig-typography__h6",2,"pointer-events","none"],["class","igx-builder-legend",4,"ngIf"],[1,"igx-builder-legend"],[1,"igx-builder-legend__item--and"],[1,"igx-builder-legend__item--or"]],template:function(e,t){1&e&&(hh(),Yc(0,"div",0)(1,"div",1),$h(2),uh(3),Xc(),Wc(4,fV,7,2,"div",2),Xc()),2&e&&(Ed(2),Kh(" ",t.title," "),Ed(2),Uc("ngIf",t.showLegend))},dependencies:[Em],encapsulation:2}),t})(),xV=["fieldSelect"],_V=["conditionSelect"],wV=["searchValueInput"],CV=["picker"],SV=["addRootAndGroupButton"],bV=["addConditionButton"],DV=["editingInputsContainer"],EV=["addModeContainer"],IV=["currentGroupButtonsContainer"],TV=["expressionsContainer"],AV=["overlayOutlet"];function kV(e,t){1&e&&Zc(0,"igx-query-builder-header",11),2&e&&Uc("title",dh().resourceStrings.igx_query_builder_title)}function RV(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"button",12,13),oh("click",(function(){return Is(e),Ts(dh().addAndGroup())})),Yc(3,"igx-icon"),$h(4,"add"),Xc(),Yc(5,"span"),$h(6),Xc()(),Yc(7,"button",12),oh("click",(function(){return Is(e),Ts(dh().addOrGroup())})),Yc(8,"igx-icon"),$h(9,"add"),Xc(),Yc(10,"span"),$h(11),Xc()(),Yc(12,"div",14)(13,"h6",15),$h(14),Xc()(),eh()}if(2&e){let e=dh();Ed(1),Uc("displayDensity",e.displayDensity),Ed(5),jh(e.resourceStrings.igx_query_builder_and_group),Ed(1),Uc("displayDensity",e.displayDensity),Ed(4),jh(e.resourceStrings.igx_query_builder_or_group),Ed(3),Kh(" ",e.resourceStrings.igx_query_builder_initial_text," ")}}function OV(e,t){if(1&e){let e=nh();Yc(0,"button",16,17),oh("click",(function(){let t=Is(e),i=t.$implicit,n=t.afterExpression;return Ts(dh().addCondition(i,n))})),Yc(2,"igx-icon"),$h(3,"add"),Xc(),Yc(4,"span"),$h(5),Xc()(),Yc(6,"button",16),oh("click",(function(){let t=Is(e),i=t.$implicit,n=t.afterExpression;return Ts(dh().addAndGroup(i,n))})),Yc(7,"igx-icon"),$h(8,"add"),Xc(),Yc(9,"span"),$h(10),Xc()(),Yc(11,"button",16),oh("click",(function(){let t=Is(e),i=t.$implicit,n=t.afterExpression;return Ts(dh().addOrGroup(i,n))})),Yc(12,"igx-icon"),$h(13,"add"),Xc(),Yc(14,"span"),$h(15),Xc()()}if(2&e){let e=dh();Uc("displayDensity",e.displayDensity)("disabled",e.hasEditedExpression),Ed(5),jh(e.resourceStrings.igx_query_builder_add_condition),Ed(1),Uc("displayDensity",e.displayDensity)("disabled",e.hasEditedExpression),Ed(4),jh(e.resourceStrings.igx_query_builder_and_group),Ed(1),Uc("displayDensity",e.displayDensity)("disabled",e.hasEditedExpression),Ed(4),jh(e.resourceStrings.igx_query_builder_or_group)}}function FV(e,t){if(1&e&&(Yc(0,"span",28),$h(1),Pu(2,"fieldFormatter"),Pu(3,"date"),Xc()),2&e){let e=dh(2).$implicit,t=dh();Ed(1),Kh(" ",t.isDate(e.expression.searchVal)?t.getFormatter(e.expression.fieldName)?Nu(2,1,e.expression.searchVal,t.getFormatter(e.expression.fieldName),void 0):Lu(3,5,e.expression.searchVal,t.getFormat(e.expression.fieldName),void 0,t.locale):e.expression.searchVal," ")}}function PV(e,t){if(1&e){let e=nh();Yc(0,"igx-icon",30),oh("keydown",(function(t){return Is(e),Ts(dh(4).invokeClick(t))}))("click",(function(){Is(e);let t=dh(3).$implicit;return Ts(dh().enterExpressionAdd(t))})),$h(1," add "),Xc()}}function MV(e,t){if(1&e){let e=nh();Yc(0,"div",29)(1,"igx-icon",30),oh("keydown",(function(t){return Is(e),Ts(dh(3).invokeClick(t))}))("click",(function(){Is(e);let t=dh(2).$implicit;return Ts(dh().enterExpressionEdit(t))})),$h(2," edit "),Xc(),Wc(3,PV,2,0,"igx-icon",31),Xc()}if(2&e){let e=dh(2).$implicit,t=dh();Ed(3),Uc("ngIf",!e.inAddMode&&(e.parent!==t.currentGroup||e!==t.currentGroup.children[t.currentGroup.children.length-1]))}}function VV(e,t){if(1&e){let e=nh();Yc(0,"div",21),oh("mouseenter",(function(){return Is(e),Ts(dh().$implicit.hovered=!0)}))("mouseleave",(function(){return Is(e),Ts(dh().$implicit.hovered=!1)})),Yc(1,"igx-chip",22),oh("keydown",(function(t){return Is(e),Ts(dh(2).invokeClick(t))}))("click",(function(){Is(e);let t=dh().$implicit;return Ts(dh().onChipClick(t))}))("dblclick",(function(){Is(e);let t=dh().$implicit;return Ts(dh().onChipDblClick(t))}))("remove",(function(){Is(e);let t=dh().$implicit;return Ts(dh().onChipRemove(t))}))("selectedChanged",(function(){return Is(e),Ts(dh(2).onChipSelectionEnd())})),Yc(2,"span",23),$h(3),Xc(),Yc(4,"igx-prefix"),Zc(5,"igx-icon",24),Xc(),Yc(6,"span",25),$h(7),Xc(),Wc(8,FV,4,10,"span",26),Xc(),Wc(9,MV,4,1,"div",27),Xc()}if(2&e){let e=dh().$implicit,t=dh();Ed(1),Uc("data",e)("displayDensity","compact"===t.displayDensity?"cosy":t.displayDensity)("removable",!0)("selected",e.selected),Ed(2),jh(e.fieldLabel||e.expression.fieldName),Ed(2),Uc("name",e.expression.condition.iconName),Ed(2),Kh(" ",t.getConditionFriendlyName(e.expression.condition.name)," "),Ed(1),Uc("ngIf",!e.expression.condition.isUnary),Ed(1),Uc("ngIf",e.selected&&1===t.selectedExpressions.length||e.hovered)}}function NV(e,t){if(1&e&&(Yc(0,"igx-select-item",47),$h(1),Xc()),2&e){let e=t.$implicit;Uc("value",e),Ed(1),Kh(" ",e.label||e.header||e.field," ")}}function LV(e,t){if(1&e&&(Yc(0,"igx-prefix"),Zc(1,"igx-icon",24),Xc()),2&e){dh();let e=Kc(6),t=dh(2);Ed(1),Uc("name",t.selectedField.filters.condition(e.value).iconName)}}function HV(e,t){if(1&e&&(Yc(0,"igx-select-item",48)(1,"div",49),Zc(2,"igx-icon",24),Yc(3,"span",50),$h(4),Xc()()()),2&e){let e=t.$implicit,i=dh(3);Uc("value",e)("text",i.getConditionFriendlyName(e)),Ed(2),Uc("name",i.selectedField.filters.condition(e).iconName),Ed(2),jh(i.getConditionFriendlyName(e))}}function BV(e,t){if(1&e){let e=nh();Yc(0,"igx-input-group",51)(1,"input",52,53),oh("ngModelChange",(function(t){return Is(e),Ts(dh(3).searchValue=t)})),Xc()()}if(2&e){let e=dh(3);Uc("displayDensity","compact"),Ed(1),Uc("disabled",!e.selectedField||!e.selectedCondition||e.selectedField&&e.selectedField.filters.condition(e.selectedCondition).isUnary)("type",e.selectedField&&"number"===e.selectedField.dataType?"number":"text")("placeholder",e.resourceStrings.igx_query_builder_value_placeholder)("ngModel",e.searchValue)}}function GV(e,t){if(1&e){let e=nh();Yc(0,"igx-date-picker",54,55),oh("valueChange",(function(t){return Is(e),Ts(dh(3).searchValue=t)}))("keydown",(function(t){return Is(e),Ts(dh(3).openPicker(t))}))("click",(function(){return Is(e),Ts(Kc(1).open())})),Zc(2,"igx-picker-toggle")(3,"igx-picker-clear"),Xc()}if(2&e){let e=dh(3);Uc("value",e.searchValue)("readOnly",!0)("displayDensity","compact")("placeholder",e.resourceStrings.igx_query_builder_date_placeholder)("disabled",!e.selectedField||!e.selectedCondition||e.selectedField&&e.selectedField.filters.condition(e.selectedCondition).isUnary)("locale",e.locale)("outlet",e.pickerOutlet)("formatter",e.selectedField.formatter)("displayFormat",e.selectedField.pipeArgs.format)("weekStart",e.selectedField.pipeArgs.weekStart)}}function zV(e,t){if(1&e){let e=nh();Yc(0,"igx-time-picker",56,55),oh("valueChange",(function(t){return Is(e),Ts(dh(3).searchValue=t)}))("click",(function(){return Is(e),Ts(Kc(1).open())}))("keydown",(function(t){return Is(e),Ts(dh(3).openPicker(t))})),Zc(2,"igx-picker-toggle")(3,"igx-picker-clear"),Xc()}if(2&e){let e=dh(3);Uc("value",e.searchValue)("displayDensity","compact")("placeholder",e.resourceStrings.igx_query_builder_time_placeholder)("readOnly",!0)("disabled",!e.selectedField||!e.selectedCondition||e.selectedField&&e.selectedField.filters.condition(e.selectedCondition).isUnary)("locale",e.locale)("outlet",e.pickerOutlet)("formatter",e.selectedField.formatter)("inputFormat",e.selectedField.defaultTimeFormat)}}function $V(e,t){if(1&e){let e=nh();Yc(0,"igx-input-group",57,58)(2,"input",59,60),oh("ngModelChange",(function(t){return Is(e),Ts(dh(3).searchValue=t)})),Xc()()}if(2&e){let e=dh(3);Uc("displayDensity","compact"),Ed(2),Uc("placeholder",e.resourceStrings.igx_query_builder_date_placeholder)("ngModel",e.searchValue)("disabled",!e.selectedField||!e.selectedCondition||e.selectedField&&e.selectedField.filters.condition(e.selectedCondition).isUnary)("igxDateTimeEditor",e.selectedField.defaultDateTimeFormat)}}function WV(e,t){if(1&e){let e=nh();Yc(0,"div",32,33)(2,"igx-select",34,35),oh("ngModelChange",(function(t){return Is(e),Ts(dh(2).selectedField=t)})),Wc(4,NV,2,2,"igx-select-item",36),Xc(),Yc(5,"igx-select",37,38),oh("ngModelChange",(function(t){return Is(e),Ts(dh(2).selectedCondition=t)})),Wc(7,LV,2,1,"igx-prefix",3),Wc(8,HV,5,4,"igx-select-item",39),Xc(),Wc(9,BV,3,5,"igx-input-group",40),Wc(10,GV,4,10,"igx-date-picker",41),Wc(11,zV,4,9,"igx-time-picker",42),Wc(12,$V,4,5,"igx-input-group",43),Yc(13,"div",44)(14,"button",45),oh("click",(function(){return Is(e),Ts(dh(2).commitOperandEdit())})),Yc(15,"igx-icon"),$h(16,"check"),Xc()(),Yc(17,"button",46),oh("click",(function(){return Is(e),Ts(dh(2).cancelOperandEdit())})),Yc(18,"igx-icon"),$h(19,"close"),Xc()()()()}if(2&e){let e=Kc(6),t=dh(2);Ed(2),Uc("displayDensity","compact")("overlaySettings",t.fieldSelectOverlaySettings)("placeholder",t.resourceStrings.igx_query_builder_column_placeholder)("ngModel",t.selectedField),Ed(2),Uc("ngForOf",t.fields),Ed(1),Uc("displayDensity","compact")("overlaySettings",t.conditionSelectOverlaySettings)("placeholder",t.resourceStrings.igx_query_builder_condition_placeholder)("ngModel",t.selectedCondition)("disabled",!t.selectedField),Ed(2),Uc("ngIf",t.selectedField&&e.value&&t.selectedField.filters.condition(e.value)),Ed(1),Uc("ngForOf",t.getConditionList()),Ed(1),Uc("ngIf",!t.selectedField||"date"!==t.selectedField.dataType&&"time"!==t.selectedField.dataType&&"dateTime"!==t.selectedField.dataType),Ed(1),Uc("ngIf",t.selectedField&&"date"===t.selectedField.dataType),Ed(1),Uc("ngIf",t.selectedField&&"time"===t.selectedField.dataType),Ed(1),Uc("ngIf",t.selectedField&&"dateTime"===t.selectedField.dataType),Ed(2),Uc("displayDensity",t.displayDensity)("disabled",!t.operandCanBeCommitted()),Ed(3),Uc("displayDensity",t.displayDensity)}}function jV(e,t){1&e&&th(0)}function KV(e,t){if(1&e){let e=nh();Yc(0,"div",61,62),Wc(2,jV,1,0,"ng-container",63),Yc(3,"button",46),oh("click",(function(){return Is(e),Ts(dh(2).cancelOperandAdd())})),Yc(4,"igx-icon"),$h(5,"close"),Xc()()()}if(2&e){let e=dh().$implicit,t=dh(),i=Kc(6);Ed(2),Uc("ngTemplateOutlet",i)("ngTemplateOutletContext",t.context(e.parent,e)),Ed(1),Uc("displayDensity",t.displayDensity)}}function UV(e,t){if(1&e&&(Wc(0,VV,10,9,"div",18),Wc(1,WV,20,19,"div",19),Wc(2,KV,6,3,"div",20)),2&e){let e=t.$implicit;Uc("ngIf",!e.inEditMode),Ed(1),Uc("ngIf",e.inEditMode),Ed(1),Uc("ngIf",e.inAddMode)}}function qV(e,t){1&e&&th(0)}function YV(e,t){if(1&e&&(Jc(0),Wc(1,qV,1,0,"ng-container",63),eh()),2&e){let e=t.$implicit,i=dh(2),n=Kc(10),r=Kc(8);Ed(1),Uc("ngTemplateOutlet",i.isExpressionGroup(e)?n:r)("ngTemplateOutletContext",i.context(e))}}function XV(e,t){1&e&&th(0)}function ZV(e,t){if(1&e){let e=nh();Yc(0,"button",16),oh("click",(function(){Is(e);let t=dh(2).$implicit;return Ts(dh().endGroup(t))})),Yc(1,"span"),$h(2),Xc()()}if(2&e){let e=dh(2).$implicit,t=dh();Uc("displayDensity",t.displayDensity)("disabled",t.hasEditedExpression||e.children.length<2),Ed(2),jh(t.resourceStrings.igx_query_builder_end_group)}}function QV(e,t){if(1&e&&(Yc(0,"div",61,68),Wc(2,XV,1,0,"ng-container",63),Wc(3,ZV,3,3,"button",69),Xc()),2&e){let e=dh().$implicit,t=dh(),i=Kc(6);Ed(2),Uc("ngTemplateOutlet",i)("ngTemplateOutletContext",t.context(e)),Ed(1),Uc("ngIf",e!==t.rootGroup)}}var JV=function(e,t,i){return{"igx-filter-tree__line--and":e,"igx-filter-tree__line--or":t,"igx-filter-tree__line--selected":i}};function eN(e,t){if(1&e){let e=nh();Yc(0,"div",64)(1,"div",65),oh("keydown",(function(t){return Is(e),Ts(dh().invokeClick(t))}))("click",(function(){let t=Is(e).$implicit;return Ts(dh().onGroupClick(t))})),Xc(),Yc(2,"div",66),Wc(3,YV,2,2,"ng-container",67),Wc(4,QV,4,3,"div",20),Xc()()}if(2&e){let e=t.$implicit,i=dh();Ed(1),Uc("ngClass",wu(3,JV,0===e.operator,1===e.operator,e.selected)),Ed(2),Uc("ngForOf",e.children),Ed(1),Uc("ngIf",i.currentGroup===e)}}function tN(e,t){1&e&&th(0)}function iN(e,t){if(1&e&&(Jc(0),Wc(1,tN,1,0,"ng-container",63),eh()),2&e){let e=dh(),t=Kc(10);Ed(1),Uc("ngTemplateOutlet",t)("ngTemplateOutletContext",e.context(e.rootGroup))}}function nN(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"igx-buttongroup",70),oh("selected",(function(t){return Is(e),Ts(dh().selectFilteringLogic(t))})),Xc(),Yc(2,"button",16),oh("click",(function(){return Is(e),Ts(dh().ungroup())})),Zc(3,"igx-icon",71),Yc(4,"span"),$h(5),Xc()(),Yc(6,"button",72),oh("click",(function(){return Is(e),Ts(dh().deleteGroup())})),Yc(7,"igx-icon"),$h(8,"delete"),Xc(),Yc(9,"span"),$h(10),Xc()(),eh()}if(2&e){let e=dh();Ed(1),Uc("displayDensity",e.displayDensity)("multiSelection",!1)("values",e.filteringLogics),Ed(1),Uc("displayDensity",e.displayDensity)("disabled",!e.contextualGroup.parent),Ed(3),jh(e.resourceStrings.igx_query_builder_ungroup),Ed(1),Uc("displayDensity",e.displayDensity),Ed(4),jh(e.resourceStrings.igx_query_builder_delete)}}function rN(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"button",12),oh("click",(function(){return Is(e),Ts(dh().createAndGroup())})),$h(2),Xc(),Yc(3,"button",12),oh("click",(function(){return Is(e),Ts(dh().createOrGroup())})),$h(4),Xc(),Yc(5,"button",72),oh("click",(function(){return Is(e),Ts(dh().deleteFilters())})),$h(6),Xc(),eh()}if(2&e){let e=dh();Ed(1),Uc("displayDensity",e.displayDensity),Ed(1),Kh(" ",e.resourceStrings.igx_query_builder_create_and_group," "),Ed(1),Uc("displayDensity",e.displayDensity),Ed(1),Kh(" ",e.resourceStrings.igx_query_builder_create_or_group," "),Ed(1),Uc("displayDensity",e.displayDensity),Ed(1),Kh(" ",e.resourceStrings.igx_query_builder_delete_filters," ")}}var sN=[[["igx-query-builder-header"]]],oN=function(e,t){return{"igx-filter-contextual-menu--cosy":e,"igx-filter-contextual-menu--compact":t}},aN=["igx-query-builder-header"],lN=(()=>{let e=class{transform(e,t,i,n){return t(e,i,n)}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"fieldFormatter",type:e,pure:!0,standalone:!0}),t})(),dN=class{constructor(e){this.parent=e}},cN=class extends dN{constructor(e,t){super(t),this.operator=e,this.children=[]}},hN=class extends dN{constructor(e,t){super(t),this.expression=e}},uN=(()=>{let e=class extends tI{get fields(){return this._fields}set fields(e){this._fields=e,this._fields&&(this.registerSVGIcons(),this._fields.forEach((e=>{this.setFilters(e),this.setFormat(e)})))}get expressionTree(){return this._expressionTree}set expressionTree(e){this._expressionTree=e,this.init()}get locale(){return this._locale}set locale(e){this._locale=e;try{Ap(this._locale)}catch{this._locale=this._localeId}}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}set editingInputsContainer(e){(e&&!this._editingInputsContainer||e&&this._editingInputsContainer&&this._editingInputsContainer.nativeElement!==e.nativeElement)&&requestAnimationFrame((()=>{this.scrollElementIntoView(e.nativeElement)})),this._editingInputsContainer=e}get editingInputsContainer(){return this._editingInputsContainer}set addModeContainer(e){(e&&!this._addModeContainer||e&&this._addModeContainer&&this._addModeContainer.nativeElement!==e.nativeElement)&&requestAnimationFrame((()=>{this.scrollElementIntoView(e.nativeElement)})),this._addModeContainer=e}get addModeContainer(){return this._addModeContainer}set currentGroupButtonsContainer(e){(e&&!this._currentGroupButtonsContainer||e&&this._currentGroupButtonsContainer&&this._currentGroupButtonsContainer.nativeElement!==e.nativeElement)&&requestAnimationFrame((()=>{this.scrollElementIntoView(e.nativeElement)})),this._currentGroupButtonsContainer=e}get currentGroupButtonsContainer(){return this._currentGroupButtonsContainer}constructor(e,t,i,n,r){super(r),this.cdr=e,this.iconService=t,this.platform=i,this._localeId=n,this._displayDensityOptions=r,this.cssClass="igx-query-builder",this.display="block",this.expressionTreeChange=new zu,this.selectedExpressions=[],this.fieldSelectOverlaySettings={scrollStrategy:new HE,modal:!1,closeOnOutsideClick:!1},this.conditionSelectOverlaySettings={scrollStrategy:new HE,modal:!1,closeOnOutsideClick:!1},this.destroy$=new We,this._dblClickDelay=200,this._preventChipClick=!1,this._selectedGroups=[],this._resourceStrings=fI.QueryBuilderResStrings,this._positionSettings={horizontalStartPoint:CE.Right,verticalStartPoint:SE.Top},this._overlaySettings={closeOnOutsideClick:!1,modal:!1,positionStrategy:new AE(this._positionSettings),scrollStrategy:new BE},this.locale=this.locale||this._localeId}ngAfterViewInit(){this._overlaySettings.outlet=this.overlayOutlet,this.fieldSelectOverlaySettings.outlet=this.overlayOutlet,this.conditionSelectOverlaySettings.outlet=this.overlayOutlet}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}set selectedField(e){let t=this._selectedField;this._selectedField!==e&&(this._selectedField=e,t&&this._selectedField&&this._selectedField.dataType!==t.dataType&&(this.selectedCondition=null,this.searchValue=null,this.cdr.detectChanges()))}get selectedField(){return this._selectedField}setPickerOutlet(e){this.pickerOutlet=e}get isContextMenuVisible(){return!this.contextMenuToggle.collapsed}get hasEditedExpression(){return void 0!==this._editedExpression&&null!==this._editedExpression}addCondition(e,t){this.cancelOperandAdd();let i=new hN({fieldName:null,condition:null,ignoreCase:!0,searchVal:null},e);if(t){let n=e.children.indexOf(t);e.children.splice(n+1,0,i)}else e.children.push(i);this.enterExpressionEdit(i)}addAndGroup(e,t){this.addGroup(Rb.And,e,t)}addOrGroup(e,t){this.addGroup(Rb.Or,e,t)}endGroup(e){this.currentGroup=e.parent}commitOperandEdit(){this._editedExpression&&(this._editedExpression.expression.fieldName=this.selectedField.field,this._editedExpression.expression.condition=this.selectedField.filters.condition(this.selectedCondition),this._editedExpression.expression.searchVal=Ib.parseValue(this.selectedField.dataType,this.searchValue),this._editedExpression.fieldLabel=this.selectedField.label?this.selectedField.label:this.selectedField.header?this.selectedField.header:this.selectedField.field,this._editedExpression.inEditMode=!1,this._editedExpression=null),this._expressionTree=this.createExpressionTreeFromGroupItem(this.rootGroup),this.expressionTreeChange.emit()}cancelOperandAdd(){this._addModeExpression&&(this._addModeExpression.inAddMode=!1,this._addModeExpression=null)}cancelOperandEdit(){this._editedExpression&&(this._editedExpression.inEditMode=!1,this._editedExpression.expression.fieldName||this.deleteItem(this._editedExpression),this._editedExpression=null)}operandCanBeCommitted(){return this.selectedField&&this.selectedCondition&&(!!this.searchValue||this.selectedField.filters.condition(this.selectedCondition).isUnary)}exitOperandEdit(){this._editedExpression&&(this.operandCanBeCommitted()?this.commitOperandEdit():this.cancelOperandEdit())}isExpressionGroup(e){return e instanceof cN}onChipRemove(e){this.deleteItem(e)}onChipClick(e){this._clickTimer=setTimeout((()=>{this._preventChipClick||this.onToggleExpression(e),this._preventChipClick=!1}),this._dblClickDelay)}onChipDblClick(e){clearTimeout(this._clickTimer),this._preventChipClick=!0,this.enterExpressionEdit(e)}enterExpressionEdit(e){this.clearSelection(),this.exitOperandEdit(),this.cancelOperandAdd(),this._editedExpression&&(this._editedExpression.inEditMode=!1),e.hovered=!1,this.selectedField=e.expression.fieldName?this.fields.find((t=>t.field===e.expression.fieldName)):null,this.selectedCondition=e.expression.condition?e.expression.condition.name:null,this.searchValue=e.expression.searchVal,e.inEditMode=!0,this._editedExpression=e,this.cdr.detectChanges(),this.fieldSelectOverlaySettings.target=this.fieldSelect.element,this.fieldSelectOverlaySettings.excludeFromOutsideClick=[this.fieldSelect.element],this.fieldSelectOverlaySettings.positionStrategy=new RE,this.conditionSelectOverlaySettings.target=this.conditionSelect.element,this.conditionSelectOverlaySettings.excludeFromOutsideClick=[this.conditionSelect.element],this.conditionSelectOverlaySettings.positionStrategy=new RE,this.selectedField?this.selectedField.filters.condition(this.selectedCondition).isUnary?this.conditionSelect.input.nativeElement.focus():(this.searchValueInput?.nativeElement||this.picker?.getEditElement()).focus():this.fieldSelect.input.nativeElement.focus()}clearSelection(){for(let e of this._selectedGroups)e.selected=!1;this._selectedGroups=[];for(let e of this.selectedExpressions)e.selected=!1;this.selectedExpressions=[],this.toggleContextMenu()}enterExpressionAdd(e){this.clearSelection(),this.exitOperandEdit(),this._addModeExpression&&(this._addModeExpression.inAddMode=!1),e.inAddMode=!0,this._addModeExpression=e,e.selected&&this.toggleExpression(e)}contextMenuClosed(){this.contextualGroup=null}onKeyDown(e){e.stopPropagation();let t=e.key;!this.contextMenuToggle.collapsed&&t===this.platform.KEYMAP.ESCAPE&&this.clearSelection()}createAndGroup(){this.createGroup(Rb.And)}createOrGroup(){this.createGroup(Rb.Or)}deleteFilters(){for(let e of this.selectedExpressions)this.deleteItem(e);this.clearSelection()}onGroupClick(e){this.toggleGroup(e)}ungroup(){let e=this.contextualGroup,t=e.parent;if(t){let i=t.children.indexOf(e);t.children.splice(i,1,...e.children);for(let i of e.children)i.parent=t}this.clearSelection(),this.commitOperandEdit()}deleteGroup(){let e=this.contextualGroup,t=e.parent;if(t){let i=t.children.indexOf(e);t.children.splice(i,1)}else this.rootGroup=null;this.clearSelection(),this.commitOperandEdit()}selectFilteringLogic(e){this.contextualGroup.operator=e.index,this.commitOperandEdit()}getConditionFriendlyName(e){return this.resourceStrings[`igx_query_builder_filter_${e}`]||e}isDate(e){return e instanceof Date}onExpressionsScrolled(){this.contextMenuToggle.collapsed||(this.calculateContextMenuTarget(),this.contextMenuToggle.reposition())}invokeClick(e){this.platform.isActivationKey(e)&&(e.preventDefault(),e.currentTarget.click())}openPicker(e){this.platform.isActivationKey(e)&&(e.preventDefault(),this.picker.open())}onOutletPointerDown(e){e.preventDefault()}getConditionList(){return this.selectedField?this.selectedField.filters.conditionList():[]}getFormatter(e){return this.fields.find((t=>t.field===e)).formatter}getFormat(e){return this.fields.find((t=>t.field===e)).pipeArgs.format}setAddButtonFocus(){this.addRootAndGroupButton?this.addRootAndGroupButton.nativeElement.focus():this.addConditionButton&&this.addConditionButton.nativeElement.focus()}context(e,t){return{$implicit:e,afterExpression:t}}onChipSelectionEnd(){let e=this.findSingleSelectedGroup();(e||this.selectedExpressions.length>1)&&(this.contextualGroup=e,this.calculateContextMenuTarget(),this.contextMenuToggle.collapsed?this.contextMenuToggle.open(this._overlaySettings):this.contextMenuToggle.reposition())}setFormat(e){e.pipeArgs||(e.pipeArgs={digitsInfo:"1.0-3"}),e.pipeArgs.format||(e.pipeArgs.format=e.dataType===Db.Time?"mediumTime":e.dataType===Db.DateTime?"medium":"mediumDate"),e.defaultDateTimeFormat||(e.defaultDateTimeFormat="dd/MM/yyyy HH:mm:ss tt"),e.defaultTimeFormat||(e.defaultTimeFormat="hh:mm:ss tt")}setFilters(e){if(!e.filters)switch(e.dataType){case Db.Boolean:e.filters=AA.instance();break;case Db.Number:case Db.Currency:case Db.Percent:e.filters=PA.instance();break;case Db.Date:e.filters=RA.instance();break;case Db.Time:e.filters=FA.instance();break;case Db.DateTime:e.filters=OA.instance();break;default:e.filters=MA.instance()}}onToggleExpression(e){this.exitOperandEdit(),this.toggleExpression(e),this.toggleContextMenu()}toggleExpression(e){if(e.selected=!e.selected,e.selected)this.selectedExpressions.push(e);else{let t=this.selectedExpressions.indexOf(e);this.selectedExpressions.splice(t,1),this.deselectParentRecursive(e)}}addGroup(e,t,i){this.cancelOperandAdd();let n=new cN(e,t);if(t)if(i){let e=t.children.indexOf(i);t.children.splice(e+1,0,n)}else t.children.push(n);else this.rootGroup=n;this.addCondition(n),this.currentGroup=n}createExpressionGroupItem(e,t){let i;if(e){i=new cN(e.operator,t);for(let t of e.filteringOperands)if(t instanceof kb)i.children.push(this.createExpressionGroupItem(t,i));else{let e=t,n={fieldName:e.fieldName,condition:e.condition,searchVal:e.searchVal,ignoreCase:e.ignoreCase},r=new hN(n,i),s=this.fields.find((t=>t.field===e.fieldName));r.fieldLabel=s.label||s.header||s.field,i.children.push(r)}}return i}createExpressionTreeFromGroupItem(e){if(!e)return null;let t=new kb(e.operator);for(let i of e.children)if(i instanceof cN){let e=this.createExpressionTreeFromGroupItem(i);t.filteringOperands.push(e)}else t.filteringOperands.push(i.expression);return t}toggleContextMenu(){let e=this.findSingleSelectedGroup();e||this.selectedExpressions.length>1?(this.contextualGroup=e,e&&(this.filteringLogics=[{label:this.resourceStrings.igx_query_builder_filter_operator_and,selected:e.operator===Rb.And},{label:this.resourceStrings.igx_query_builder_filter_operator_or,selected:e.operator===Rb.Or}])):this.contextMenuToggle&&this.contextMenuToggle.close()}findSingleSelectedGroup(){for(let e of this._selectedGroups)if(this.selectedExpressions.every((t=>this.isInsideGroup(t,e))))return e;return null}isInsideGroup(e,t){return!!e&&(e.parent===t||this.isInsideGroup(e.parent,t))}deleteItem(e){if(!e.parent)return this.rootGroup=null,this.currentGroup=null,void(this._expressionTree=null);e===this.currentGroup&&(this.currentGroup=this.currentGroup.parent);let t=e.parent.children,i=t.indexOf(e);t.splice(i,1),this._expressionTree=this.createExpressionTreeFromGroupItem(this.rootGroup),t.length||this.deleteItem(e.parent),this.expressionTreeChange.emit()}createGroup(e){let t=this.chips.toArray(),i=this.selectedExpressions.reduce(((e,i)=>Math.min(e,t.findIndex((e=>e.data===i)))),Number.MAX_VALUE),n=t[i].data,r=n.parent,s=new cN(e,r),o=r.children.indexOf(n);r.children.splice(o,0,s);for(let e of this.selectedExpressions)s.children.push(e),this.deleteItem(e),e.parent=s;this.clearSelection()}toggleGroup(e){this.exitOperandEdit(),e.children&&e.children.length&&(this.toggleGroupRecursive(e,!e.selected),e.selected||this.deselectParentRecursive(e),this.toggleContextMenu())}toggleGroupRecursive(e,t){if(e.selected!==t)if(e.selected=t,e.selected)this._selectedGroups.push(e);else{let t=this._selectedGroups.indexOf(e);this._selectedGroups.splice(t,1)}for(let i of e.children)if(i instanceof cN)this.toggleGroupRecursive(i,t);else{let e=i;e.selected!==t&&this.toggleExpression(e)}}deselectParentRecursive(e){let t=e.parent;if(t){if(t.selected){t.selected=!1;let e=this._selectedGroups.indexOf(t);this._selectedGroups.splice(e,1)}this.deselectParentRecursive(t)}}calculateContextMenuTarget(){let e=this.expressionsContainer.nativeElement.getBoundingClientRect(),t=this.chips.filter((e=>-1!==this.selectedExpressions.indexOf(e.data))),i=t.reduce(((e,t)=>Math.min(e,t.nativeElement.getBoundingClientRect().top)),Number.MAX_VALUE);i=Math.max(e.top,i),i=Math.min(e.bottom,i);let n=t.reduce(((e,t)=>Math.max(e,t.nativeElement.getBoundingClientRect().right)),0);n=Math.max(n,e.left),n=Math.min(n,e.right),this._overlaySettings.target=new IE(n,i)}scrollElementIntoView(e){let t=this.expressionsContainer.nativeElement,i=e.offsetTop-t.offsetTop;t.scrollTop+10>i?t.scrollTop=i-10:t.scrollTop+t.clientHeight<i+e.offsetHeight+10&&(t.scrollTop=i+e.offsetHeight+10-t.clientHeight)}init(){this.clearSelection(),this.cancelOperandAdd(),this.cancelOperandEdit(),this.rootGroup=this.createExpressionGroupItem(this.expressionTree),this.currentGroup=this.rootGroup}registerSVGIcons(){aR.forEach((e=>this.iconService.addSvgIconFromText(e.name,e.value,"imx-icons")))}},t=e;return e.fac=function(t){return new(t||e)(Rd(Jg),Rd(bI),Rd($S),Rd(Sg),Rd(eI,8))},e.cmp=Yn({type:e,selectors:[["igx-query-builder"]],contentQueries:function(e,t,i){if(1&e&&mg(i,vV,5),2&e){let e;gg(e=fg())&&(t.headerContent=e.first)}},viewQuery:function(e,t){if(1&e&&(pg(xV,5,MP),pg(_V,5,MP),pg(wV,5,ld),pg(CV,5),pg(SV,5,ld),pg(bV,5,ld),pg(DV,5,ld),pg(EV,5,ld),pg(IV,5,ld),pg(fA,5),pg(TV,5),pg(AV,7,vA),pg(WF,5)),2&e){let e;gg(e=fg())&&(t.fieldSelect=e.first),gg(e=fg())&&(t.conditionSelect=e.first),gg(e=fg())&&(t.searchValueInput=e.first),gg(e=fg())&&(t.picker=e.first),gg(e=fg())&&(t.addRootAndGroupButton=e.first),gg(e=fg())&&(t.addConditionButton=e.first),gg(e=fg())&&(t.editingInputsContainer=e.first),gg(e=fg())&&(t.addModeContainer=e.first),gg(e=fg())&&(t.currentGroupButtonsContainer=e.first),gg(e=fg())&&(t.contextMenuToggle=e.first),gg(e=fg())&&(t.expressionsContainer=e.first),gg(e=fg())&&(t.overlayOutlet=e.first),gg(e=fg())&&(t.chips=e)}},hostVars:4,hostBindings:function(e,t){2&e&&(Th("display",t.display),Ah("igx-query-builder",t.cssClass))},inputs:{fields:"fields",expressionTree:"expressionTree",locale:"locale",resourceStrings:"resourceStrings"},outputs:{expressionTreeChange:"expressionTreeChange"},standalone:!0,features:[Tc,yu],ngContentSelectors:aN,decls:20,vars:9,consts:[[3,"title",4,"ngIf"],[1,"igx-query-builder__main",3,"scroll"],["expressionsContainer",""],[4,"ngIf"],["addExpressionsTemplate",""],["filterOperandTemplate",""],["expressionTreeTemplate",""],["igxToggle","",1,"igx-filter-contextual-menu",3,"ngClass","keydown","closed"],["igxButton","icon",1,"igx-filter-contextual-menu__close-btn",3,"click"],["igxOverlayOutlet","",1,"igx-query-builder__outlet",3,"pointerdown"],["overlayOutlet",""],[3,"title"],["igxButton","outlined",3,"displayDensity","click"],["addRootAndGroupButton",""],[1,"igx-filter-empty"],[1,"igx-filter-empty__title"],["igxButton","outlined",3,"displayDensity","disabled","click"],["addConditionButton",""],["class","igx-filter-tree__expression-item",3,"mouseenter","mouseleave",4,"ngIf"],["class","igx-filter-tree__inputs",4,"ngIf"],["class","igx-filter-tree__buttons",4,"ngIf"],[1,"igx-filter-tree__expression-item",3,"mouseenter","mouseleave"],[3,"data","displayDensity","removable","selected","keydown","click","dblclick","remove","selectedChanged"],["igxPrefix","",1,"igx-filter-tree__expression-column"],["family","imx-icons",3,"name"],[1,"igx-filter-tree__expression-condition"],["igxSuffix","",4,"ngIf"],["class","igx-filter-tree__expression-actions",4,"ngIf"],["igxSuffix",""],[1,"igx-filter-tree__expression-actions"],["tabindex","0",3,"keydown","click"],["tabindex","0",3,"keydown","click",4,"ngIf"],[1,"igx-filter-tree__inputs"],["editingInputsContainer",""],["type","box",3,"displayDensity","overlaySettings","placeholder","ngModel","ngModelChange"],["fieldSelect",""],[3,"value",4,"ngFor","ngForOf"],["type","box",3,"displayDensity","overlaySettings","placeholder","ngModel","disabled","ngModelChange"],["conditionSelect",""],[3,"value","text",4,"ngFor","ngForOf"],["type","box",3,"displayDensity",4,"ngIf"],["type","box",3,"value","readOnly","displayDensity","placeholder","disabled","locale","outlet","formatter","displayFormat","weekStart","valueChange","keydown","click",4,"ngIf"],["type","box",3,"value","displayDensity","placeholder","readOnly","disabled","locale","outlet","formatter","inputFormat","valueChange","click","keydown",4,"ngIf"],["type","box","type","box",3,"displayDensity",4,"ngIf"],[1,"igx-filter-tree__inputs-actions"],["igxButton","icon",3,"displayDensity","disabled","click"],["igxButton","icon",3,"displayDensity","click"],[3,"value"],[3,"value","text"],[1,"igx-grid__filtering-dropdown-items"],[1,"igx-grid__filtering-dropdown-text"],["type","box",3,"displayDensity"],["igxInput","",3,"disabled","type","placeholder","ngModel","ngModelChange"],["searchValueInput",""],["type","box",3,"value","readOnly","displayDensity","placeholder","disabled","locale","outlet","formatter","displayFormat","weekStart","valueChange","keydown","click"],["picker",""],["type","box",3,"value","displayDensity","placeholder","readOnly","disabled","locale","outlet","formatter","inputFormat","valueChange","click","keydown"],["type","box","type","box",3,"displayDensity"],["inputGroup",""],["igxInput","","tabindex","0",3,"placeholder","ngModel","disabled","igxDateTimeEditor","ngModelChange"],["input",""],[1,"igx-filter-tree__buttons"],["addModeContainer",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-filter-tree"],["tabindex","0",1,"igx-filter-tree__line",3,"ngClass","keydown","click"],[1,"igx-filter-tree__expression"],[4,"ngFor","ngForOf"],["currentGroupButtonsContainer",""],["igxButton","outlined",3,"displayDensity","disabled","click",4,"ngIf"],["type","outline",3,"displayDensity","multiSelection","values","selected"],["family","imx-icons","name","ungroup"],["igxButton","outlined",1,"igx-filter-contextual-menu__delete-btn",3,"displayDensity","click"]],template:function(e,t){1&e&&(hh(sN),Wc(0,kV,1,1,"igx-query-builder-header",0),uh(1),Yc(2,"div",1,2),oh("scroll",(function(){return t.onExpressionsScrolled()})),Wc(4,RV,15,5,"ng-container",3),Wc(5,OV,16,9,"ng-template",null,4,_g),Wc(7,UV,3,3,"ng-template",null,5,_g),Wc(9,eN,5,7,"ng-template",null,6,_g),Wc(11,iN,2,2,"ng-container",3),Yc(12,"div",7),oh("keydown",(function(e){return t.onKeyDown(e)}))("closed",(function(){return t.contextMenuClosed()})),Yc(13,"button",8),oh("click",(function(){return t.clearSelection()})),Yc(14,"igx-icon"),$h(15,"close"),Xc()(),Wc(16,nN,11,8,"ng-container",3),Wc(17,rN,7,6,"ng-container",3),Xc()(),Yc(18,"div",9,10),oh("pointerdown",(function(e){return t.onOutletPointerDown(e)})),Xc()),2&e&&(Uc("ngIf",!t.headerContent),Ed(4),Uc("ngIf",!t.rootGroup),Ed(7),Uc("ngIf",t.rootGroup),Ed(1),Uc("ngClass",_u(6,oN,"cosy"===t.displayDensity,"compact"===t.displayDensity)),Ed(4),Uc("ngIf",t.contextualGroup),Ed(1),Uc("ngIf",!t.contextualGroup))},dependencies:[Em,vV,CI,FI,WF,gI,pI,MP,Rw,Zx,O_,rw,bm,yP,kT,cI,pP,qF,YF,mV,IA,Pm,Sm,fA,lO,vA,$m,lN],encapsulation:2}),t})(),gN=["queryBuilder"],pN=function(e,t,i){return{"igx-advanced-filter--cosy":e,"igx-advanced-filter--compact":t,"igx-advanced-filter--inline":i}};function mN(e,t){if(1&e){let e=nh();Yc(0,"article",1),oh("dragStart",(function(t){return Is(e),Ts(dh().dragStart(t))}))("dragMove",(function(t){return Is(e),Ts(dh().onDragMove(t))}))("keydown",(function(t){return Is(e),Ts(dh().onKeyDown(t))})),Yc(1,"igx-query-builder",2,3),Zc(3,"igx-query-builder-header",4),Xc(),Yc(4,"footer",5)(5,"div",6)(6,"button",7),oh("click",(function(t){return Is(e),Ts(dh().onClearButtonClick(t))})),$h(7),Xc()(),Yc(8,"div",8)(9,"button",7),oh("click",(function(){return Is(e),Ts(dh().cancelChanges())})),$h(10),Xc()(),Yc(11,"div",9)(12,"button",10),oh("click",(function(t){return Is(e),Ts(dh().onApplyButtonClick(t))})),$h(13),Xc()()()()}if(2&e){let e=dh();Uc("ghost",!1)("dragTolerance",0)("ngClass",wu(13,pN,"cosy"===e.grid.displayDensity,"compact"===e.grid.displayDensity,e.inline)),Ed(1),Uc("locale",e.grid.locale)("fields",e.filterableFields)("expressionTree",e.grid.advancedFilteringExpressionsTree),Ed(2),Uc("title",e.grid.resourceStrings.igx_grid_advanced_filter_title),Ed(3),Uc("displayDensity",e.displayDensity),Ed(1),Kh(" ",e.grid.resourceStrings.igx_grid_excel_custom_dialog_clear," "),Ed(2),Uc("displayDensity",e.displayDensity),Ed(1),Kh(" ",e.grid.resourceStrings.igx_grid_excel_cancel," "),Ed(2),Uc("displayDensity",e.displayDensity),Ed(1),Kh(" ",e.grid.resourceStrings.igx_grid_excel_apply," ")}}var fN=(()=>{let e=class{constructor(e,t){this.cdr=e,this.platform=t,this.display="block",this.inline=!0,this.lastActiveNode={},this.destroy$=new We}ngAfterViewInit(){this.queryBuilder.setPickerOutlet(this.grid.outlet)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}get displayDensity(){return this.grid.displayDensity}set grid(e){this._grid=e,this._grid&&this._grid.filteringService.registerSVGIcons(),this.assignResourceStrings()}get grid(){return this._grid}get filterableFields(){return this.grid.columns.filter((e=>!e.columnGroup&&e.filterable))}dragStart(e){this._overlayComponentId||(e.cancel=!0)}onDragMove(e){let t=e.nextPageX-e.pageX,i=e.nextPageY-e.pageY;e.cancel=!0,this._overlayService.setOffset(this._overlayComponentId,t,i)}onKeyDown(e){e.stopPropagation();let t=e.key;this.queryBuilder.isContextMenuVisible&&t===this.platform.KEYMAP.ESCAPE?this.queryBuilder.clearSelection():t===this.platform.KEYMAP.ESCAPE&&this.closeDialog()}initialize(e,t,i){this.inline=!1,this.grid=e,this._overlayService=t,this._overlayComponentId=i}onClearButtonClick(e){this.grid.crudService.endEdit(!1,e),this.queryBuilder.expressionTree=this.grid.advancedFilteringExpressionsTree=null}closeDialog(){this._overlayComponentId&&this._overlayService.hide(this._overlayComponentId),this.grid.navigation.activeNode=this.lastActiveNode,this.grid.navigation.activeNode&&-1===this.grid.navigation.activeNode.row&&this.grid.theadRow.nativeElement.focus()}applyChanges(e){this.grid.crudService.endEdit(!1,e),this.queryBuilder.exitOperandEdit(),this.grid.advancedFilteringExpressionsTree=this.queryBuilder.expressionTree}cancelChanges(){this.closeDialog()}onApplyButtonClick(e){this.applyChanges(e),this.closeDialog()}assignResourceStrings(){let e=this.grid.resourceStrings;if(e!==mI){let t=fI.QueryBuilderResStrings;Object.keys(e).forEach((i=>{let n=/^igx_grid_(advanced_)?filter_(row_)?/;if(!n.test(i))return;let r=i.replace(n,""),s=`igx_query_builder_filter_${r}`,o=`igx_query_builder_${r}`;void 0!==t[s]?t[s]=e[i]:void 0!==t[o]&&(t[o]=e[i])}))}}},t=e;return e.fac=function(t){return new(t||e)(Rd(Jg),Rd($S))},e.cmp=Yn({type:e,selectors:[["igx-advanced-filtering-dialog"]],viewQuery:function(e,t){if(1&e&&pg(gN,5,uN),2&e){let e;gg(e=fg())&&(t.queryBuilder=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&Th("display",t.display)},inputs:{grid:"grid"},standalone:!0,features:[yu],decls:1,vars:1,consts:[["class","igx-advanced-filter","igxDrag","",3,"ghost","dragTolerance","ngClass","dragStart","dragMove","keydown",4,"ngIf"],["igxDrag","",1,"igx-advanced-filter",3,"ghost","dragTolerance","ngClass","dragStart","dragMove","keydown"],[3,"locale","fields","expressionTree"],["queryBuilder",""],["igxDragHandle","",3,"title"],[1,"igx-excel-filter__secondary-footer"],[1,"igx-excel-filter__clear"],["igxButton","flat","type","button",3,"displayDensity","click"],[1,"igx-excel-filter__cancel"],[1,"igx-excel-filter__apply"],["igxButton","raised","type","button",3,"displayDensity","click"]],template:function(e,t){1&e&&Wc(0,mN,14,17,"article",0),2&e&&Uc("ngIf",t.grid)},dependencies:[Em,VT,Sm,uN,vV,PT,CI],encapsulation:2}),t})(),yN=(()=>{let e=class{constructor(e,t,i){this.cdr=e,this.element=t,this.platform=i}},t=e;return e.fac=function(t){return new(t||e)(Rd(Jg),Rd(ld),Rd($S))},e.dir=er({type:e}),t})();function vN(e,t){if(1&e){let e=nh();Yc(0,"div",1),oh("keydown",(function(t){return Is(e),Ts(dh().onClearFilterKeyDown(t))}))("click",(function(){return Is(e),Ts(dh().clearFilter())})),Yc(1,"span"),$h(2),Xc(),Yc(3,"igx-icon"),$h(4,"clear"),Xc()()}if(2&e){let e=dh();Uc("ngClass",e.clearFilterClass()),Gc("aria-disabled",!e.esf.column.filteringExpressionsTree),Ed(2),jh(e.esf.grid.resourceStrings.igx_grid_excel_filter_clear)}}var xN=(()=>{let e=class{constructor(e,t){this.esf=e,this.platform=t}clearFilterClass(){return this.esf.column.filteringExpressionsTree?"igx-excel-filter__actions-clear":"igx-excel-filter__actions-clear--disabled"}clearFilter(){this.esf.grid.filteringService.clearFilter(this.esf.column.field),this.selectAllFilterItems()}onClearFilterKeyDown(e){e.key===this.platform.KEYMAP.ENTER&&this.clearFilter()}selectAllFilterItems(){this.esf.listData.forEach((e=>{e.isSelected=!0,e.indeterminate=!1})),this.esf.detectChanges()}},t=e;return e.fac=function(t){return new(t||e)(Rd(yN),Rd($S))},e.cmp=Yn({type:e,selectors:[["igx-excel-style-clear-filters"]],standalone:!0,features:[yu],decls:1,vars:1,consts:[["tabindex","0","role","menuitem",3,"ngClass","keydown","click",4,"ngIf"],["tabindex","0","role","menuitem",3,"ngClass","keydown","click"]],template:function(e,t){1&e&&Wc(0,vN,5,3,"div",0),2&e&&Uc("ngIf",t.esf.column)},dependencies:[Em,Sm,FI],encapsulation:2}),t})(),_N=["overlayOutlet"],wN=["dropdownConditions"],CN=["logicOperatorButtonGroup"],SN=["inputValues"];function bN(e,t){1&e&&Zc(0,"igx-icon",13),2&e&&Uc("name",dh().getIconName())}function DN(e,t){1&e&&(Yc(0,"igx-icon"),$h(1,"filter_list"),Xc())}function EN(e,t){if(1&e&&(Yc(0,"igx-select-item",14)(1,"div",15),Zc(2,"igx-icon",13),Yc(3,"span",16),$h(4),Xc()()()),2&e){let e=t.$implicit,i=dh();Uc("value",e)("text",i.getConditionFriendlyName(e))("selected",i.isConditionSelected(e)),Ed(2),Uc("name",i.getCondition(e).iconName),Ed(2),jh(i.translateCondition(e))}}function IN(e,t){if(1&e){let e=nh();Yc(0,"button",17),oh("click",(function(){return Is(e),Ts(dh().onRemoveButtonClick())})),Yc(1,"igx-icon"),$h(2,"cancel"),Xc()()}2&e&&Uc("displayDensity",dh().displayDensity)}function TN(e,t){if(1&e){let e=nh();Yc(0,"igx-buttongroup",18,19)(2,"span",20,21),oh("keydown",(function(t){return Is(e),Ts(dh().onLogicOperatorKeyDown(t,0))}))("click",(function(t){return Is(e),Ts(dh().onLogicOperatorButtonClicked(t,0))})),$h(4),Xc(),Yc(5,"span",20,22),oh("keydown",(function(t){return Is(e),Ts(dh().onLogicOperatorKeyDown(t,1))}))("click",(function(t){return Is(e),Ts(dh().onLogicOperatorButtonClicked(t,1))})),$h(7),Xc()()}if(2&e){let e=dh();Uc("multiSelection",!1),Ed(2),Uc("displayDensity",e.displayDensity)("selected",0===e.expressionUI.afterOperator),Ed(2),Kh(" ",e.grid.resourceStrings.igx_grid_filter_operator_and," "),Ed(1),Uc("displayDensity",e.displayDensity)("selected",1===e.expressionUI.afterOperator),Ed(2),Kh(" ",e.grid.resourceStrings.igx_grid_filter_operator_or," ")}}var AN=(()=>{let e=class{get isLast(){return this.expressionsList[this.expressionsList.length-1]===this.expressionUI}get isSingle(){return 1===this.expressionsList.length}get conditionsPlaceholder(){return this.grid.resourceStrings.igx_grid_filter_condition_placeholder}get inputValuePlaceholder(){return this.grid.resourceStrings.igx_grid_filter_row_placeholder}get type(){switch(this.column.dataType){case Eb.Number:case Eb.Currency:case Eb.Percent:return"number";default:return"text"}}constructor(e,t){this.cdr=e,this.platform=t,this.expressionRemoved=new zu,this.logicOperatorChanged=new zu,this.dropDownOverlaySettings={scrollStrategy:new HE,modal:!1,closeOnOutsideClick:!0}}get conditions(){return this.column.filters.conditionList()}get inputValuesElement(){return this.inputValuesDirective.nativeElement}ngAfterViewInit(){this.dropDownOverlaySettings.outlet=this.overlayOutlet,this.dropDownOverlaySettings.target=this.dropdownConditions.inputGroup.element.nativeElement,this.dropDownOverlaySettings.excludeFromOutsideClick=[this.dropdownConditions.inputGroup.element.nativeElement],this.dropDownOverlaySettings.positionStrategy=new AE}focus(){requestAnimationFrame((()=>this.inputValuesElement.focus()))}translateCondition(e){return this.grid.resourceStrings[`igx_grid_filter_${this.getCondition(e).name}`]||e}getIconName(){return this.column.dataType===Eb.Boolean&&null===this.expressionUI.expression.condition?this.getCondition(this.conditions[0]).iconName:this.expressionUI.expression.condition?this.expressionUI.expression.condition.iconName:"filter_list"}isConditionSelected(e){return this.expressionUI.expression.condition&&this.expressionUI.expression.condition.name===e}onConditionsChanged(e){let t=e.newSelection.value;this.expressionUI.expression.condition=this.getCondition(t),this.focus()}getCondition(e){return this.column.filters.condition(e)}getConditionFriendlyName(e){return this.grid.resourceStrings[`igx_grid_filter_${e}`]||e}onValuesInput(e){this.expressionUI.expression.searchVal=Ib.parseValue(this.column.dataType,e.target.value)}onLogicOperatorButtonClicked(e,t){0===this.logicOperatorButtonGroup.selectedButtons.length?(e.stopPropagation(),this.logicOperatorButtonGroup.selectButton(t)):this.logicOperatorChanged.emit({target:this.expressionUI,newValue:t})}onLogicOperatorKeyDown(e,t){e.key===this.platform.KEYMAP.ENTER&&(this.logicOperatorButtonGroup.selectButton(t),this.logicOperatorChanged.emit({target:this.expressionUI,newValue:t}))}onRemoveButtonClick(){this.expressionRemoved.emit(this.expressionUI)}onOutletPointerDown(e){e.preventDefault()}},t=e;return e.fac=function(t){return new(t||e)(Rd(Jg),Rd($S))},e.cmp=Yn({type:e,selectors:[["igx-excel-style-default-expression"]],viewQuery:function(e,t){if(1&e&&(pg(_N,7,vA),pg(wN,7,MP),pg(CN,5,lO),pg(SN,7,cI)),2&e){let e;gg(e=fg())&&(t.overlayOutlet=e.first),gg(e=fg())&&(t.dropdownConditions=e.first),gg(e=fg())&&(t.logicOperatorButtonGroup=e.first),gg(e=fg())&&(t.inputValuesDirective=e.first)}},inputs:{column:"column",expressionUI:"expressionUI",expressionsList:"expressionsList",grid:"grid",displayDensity:"displayDensity"},outputs:{expressionRemoved:"expressionRemoved",logicOperatorChanged:"logicOperatorChanged"},standalone:!0,features:[yu],decls:14,vars:13,consts:[["type","box",3,"displayDensity","placeholder","overlaySettings","selectionChanging"],["dropdownConditions",""],["family","imx-icons",3,"name",4,"ngIf"],[4,"ngIf"],[3,"value","text","selected",4,"ngFor","ngForOf"],["type","box",3,"displayDensity"],["inputGroupValues",""],["igxInput","","tabindex","0","autocomplete","off",3,"type","placeholder","disabled","value","input"],["inputValues",""],["igxButton","icon",3,"displayDensity","click",4,"ngIf"],[3,"multiSelection",4,"ngIf"],["igxOverlayOutlet","",3,"pointerdown"],["overlayOutlet",""],["family","imx-icons",3,"name"],[3,"value","text","selected"],[1,"igx-grid__filtering-dropdown-items"],[1,"igx-grid__filtering-dropdown-text"],["igxButton","icon",3,"displayDensity","click"],[3,"multiSelection"],["logicOperatorButtonGroup",""],["igxButton","","tabindex","0","type","button",3,"displayDensity","selected","keydown","click"],["andButton",""],["orButton",""]],template:function(e,t){1&e&&(Yc(0,"igx-select",0,1),oh("selectionChanging",(function(e){return t.onConditionsChanged(e)})),Yc(2,"igx-prefix"),Wc(3,bN,1,1,"igx-icon",2),Wc(4,DN,2,0,"igx-icon",3),Xc(),Wc(5,EN,5,5,"igx-select-item",4),Xc(),Yc(6,"igx-input-group",5,6)(8,"input",7,8),oh("input",(function(e){return t.onValuesInput(e)})),Xc()(),Wc(10,IN,3,1,"button",9),Wc(11,TN,8,7,"igx-buttongroup",10),Yc(12,"div",11,12),oh("pointerdown",(function(e){return t.onOutletPointerDown(e)})),Xc()),2&e&&(Uc("displayDensity",t.displayDensity)("placeholder",t.conditionsPlaceholder)("overlaySettings",t.dropDownOverlaySettings),Ed(3),Uc("ngIf",t.expressionUI.expression.condition),Ed(1),Uc("ngIf",!t.expressionUI.expression.condition),Ed(1),Uc("ngForOf",t.conditions),Ed(1),Uc("displayDensity",t.displayDensity),Ed(2),Uc("type",t.type)("placeholder",t.inputValuePlaceholder)("disabled",t.expressionUI.expression.condition&&t.expressionUI.expression.condition.isUnary)("value",t.expressionUI.expression.searchVal),Ed(2),Uc("ngIf",!t.isSingle),Ed(1),Uc("ngIf",!t.isLast))},dependencies:[MP,gI,Em,FI,bm,yP,kT,cI,CI,lO,vA],encapsulation:2}),t})(),kN=["input"],RN=["picker"];function ON(e,t){1&e&&Zc(0,"igx-icon",12),2&e&&Uc("name",dh().getIconName())}function FN(e,t){1&e&&(Yc(0,"igx-icon"),$h(1,"filter_list"),Xc())}function PN(e,t){if(1&e&&(Yc(0,"igx-select-item",13),Zc(1,"igx-icon",12),Yc(2,"span"),$h(3),Xc()()),2&e){let e=t.$implicit,i=dh();Uc("value",e)("text",i.getConditionFriendlyName(e))("selected",i.isConditionSelected(e)),Ed(1),Uc("name",i.getCondition(e).iconName),Ed(2),jh(i.translateCondition(e))}}function MN(e,t){if(1&e){let e=nh();Yc(0,"igx-date-picker",14,15),oh("valueChange",(function(t){return Is(e),Ts(dh().expressionUI.expression.searchVal=t)}))("click",(function(){return Is(e),Ts(Kc(1).open())})),Zc(2,"igx-picker-toggle")(3,"igx-picker-clear"),Xc()}if(2&e){let e,t=dh();Uc("weekStart",null!==(e=t.column.pipeArgs.weekStart)&&void 0!==e?e:t.weekStart)("value",t.expressionUI.expression.searchVal)("locale",t.grid.locale)("outlet",t.grid.outlet)("displayDensity",t.displayDensity)("readOnly",!0)("placeholder",t.inputDatePlaceholder)("displayFormat",t.column.pipeArgs.format)("formatter",t.column.formatter)("disabled",t.expressionUI.expression.condition&&t.expressionUI.expression.condition.isUnary)}}function VN(e,t){if(1&e){let e=nh();Yc(0,"igx-time-picker",16,15),oh("valueChange",(function(t){return Is(e),Ts(dh().expressionUI.expression.searchVal=t)}))("click",(function(){return Is(e),Ts(Kc(1).open())})),Zc(2,"igx-picker-toggle")(3,"igx-picker-clear"),Xc()}if(2&e){let e=dh();Uc("inputFormat",e.column.defaultTimeFormat)("value",e.expressionUI.expression.searchVal)("locale",e.grid.locale)("outlet",e.grid.outlet)("displayDensity",e.displayDensity)("readOnly",!0)("placeholder",e.inputTimePlaceholder)("displayFormat",e.column.pipeArgs.format)("formatter",e.column.formatter)("disabled",e.expressionUI.expression.condition&&e.expressionUI.expression.condition.isUnary)}}function NN(e,t){if(1&e){let e=nh();Yc(0,"igx-input-group",17,18)(3,"input",19,20),oh("ngModelChange",(function(t){return Is(e),Ts(dh().expressionUI.expression.searchVal=t)})),Xc()()}if(2&e){let e=dh();Uc("displayDensity",e.displayDensity),Ed(3),Uc("placeholder",e.inputDatePlaceholder)("igxDateTimeEditor",e.column.defaultDateTimeFormat)("ngModel",e.expressionUI.expression.searchVal)("disabled",e.expressionUI.expression.condition&&e.expressionUI.expression.condition.isUnary)}}function LN(e,t){if(1&e){let e=nh();Yc(0,"button",21),oh("click",(function(){return Is(e),Ts(dh().onRemoveButtonClick())})),Yc(1,"igx-icon"),$h(2,"cancel"),Xc()()}2&e&&Uc("displayDensity",dh().displayDensity)}function HN(e,t){if(1&e){let e=nh();Yc(0,"igx-buttongroup",22,23)(2,"span",24,25),oh("keydown",(function(t){return Is(e),Ts(dh().onLogicOperatorKeyDown(t,0))}))("click",(function(t){return Is(e),Ts(dh().onLogicOperatorButtonClicked(t,0))})),$h(4),Xc(),Yc(5,"span",24,26),oh("keydown",(function(t){return Is(e),Ts(dh().onLogicOperatorKeyDown(t,1))}))("click",(function(t){return Is(e),Ts(dh().onLogicOperatorButtonClicked(t,1))})),$h(7),Xc()()}if(2&e){let e=dh();Uc("multiSelection",!1),Ed(2),Uc("displayDensity",e.displayDensity)("selected",0===e.expressionUI.afterOperator),Ed(2),Kh(" ",e.grid.resourceStrings.igx_grid_filter_operator_and," "),Ed(1),Uc("displayDensity",e.displayDensity)("selected",1===e.expressionUI.afterOperator),Ed(2),Kh(" ",e.grid.resourceStrings.igx_grid_filter_operator_or," ")}}var BN=(()=>{let e=class extends AN{get inputValuesElement(){return this.picker?.getEditElement()||this.input?.nativeElement}get inputDatePlaceholder(){return this.grid.resourceStrings.igx_grid_filter_row_date_placeholder}get inputTimePlaceholder(){return this.grid.resourceStrings.igx_grid_filter_row_time_placeholder}get weekStart(){return Ap(this.grid.locale)}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.cmp=Yn({type:e,selectors:[["igx-excel-style-date-expression"]],viewQuery:function(e,t){if(1&e&&(pg(kN,5,cI),pg(RN,5)),2&e){let e;gg(e=fg())&&(t.input=e.first),gg(e=fg())&&(t.picker=e.first)}},standalone:!0,features:[Tc,yu],decls:13,vars:11,consts:[["type","box",3,"displayDensity","placeholder","overlaySettings","selectionChanging"],["dropdownConditions",""],["family","imx-icons",3,"name",4,"ngIf"],[4,"ngIf"],[3,"value","text","selected",4,"ngFor","ngForOf"],["type","box",3,"weekStart","value","locale","outlet","displayDensity","readOnly","placeholder","displayFormat","formatter","disabled","valueChange","click",4,"ngIf"],["type","box",3,"inputFormat","value","locale","outlet","displayDensity","readOnly","placeholder","displayFormat","formatter","disabled","valueChange","click",4,"ngIf"],["type","box",3,"displayDensity",4,"ngIf"],["igxButton","icon",3,"displayDensity","click",4,"ngIf"],[3,"multiSelection",4,"ngIf"],["igxOverlayOutlet","",3,"pointerdown"],["overlayOutlet",""],["family","imx-icons",3,"name"],[3,"value","text","selected"],["type","box",3,"weekStart","value","locale","outlet","displayDensity","readOnly","placeholder","displayFormat","formatter","disabled","valueChange","click"],["picker",""],["type","box",3,"inputFormat","value","locale","outlet","displayDensity","readOnly","placeholder","displayFormat","formatter","disabled","valueChange","click"],["type","box",3,"displayDensity"],["dropDownTarget","","inputGroup",""],["igxInput","","tabindex","0",3,"placeholder","igxDateTimeEditor","ngModel","disabled","ngModelChange"],["input",""],["igxButton","icon",3,"displayDensity","click"],[3,"multiSelection"],["logicOperatorButtonGroup",""],["igxButton","","tabindex","0","type","button",3,"displayDensity","selected","keydown","click"],["andButton",""],["orButton",""]],template:function(e,t){1&e&&(Yc(0,"igx-select",0,1),oh("selectionChanging",(function(e){return t.onConditionsChanged(e)})),Yc(2,"igx-prefix"),Wc(3,ON,1,1,"igx-icon",2),Wc(4,FN,2,0,"igx-icon",3),Xc(),Wc(5,PN,4,5,"igx-select-item",4),Xc(),Wc(6,MN,4,10,"igx-date-picker",5),Wc(7,VN,4,10,"igx-time-picker",6),Wc(8,NN,5,5,"igx-input-group",7),Wc(9,LN,3,1,"button",8),Wc(10,HN,8,7,"igx-buttongroup",9),Yc(11,"div",10,11),oh("pointerdown",(function(e){return t.onOutletPointerDown(e)})),Xc()),2&e&&(Uc("displayDensity",t.displayDensity)("placeholder",t.conditionsPlaceholder)("overlaySettings",t.dropDownOverlaySettings),Ed(3),Uc("ngIf",t.expressionUI.expression.condition),Ed(1),Uc("ngIf",!t.expressionUI.expression.condition),Ed(1),Uc("ngForOf",t.conditions),Ed(1),Uc("ngIf","date"===t.column.dataType),Ed(1),Uc("ngIf","time"===t.column.dataType),Ed(1),Uc("ngIf","dateTime"===t.column.dataType),Ed(1),Uc("ngIf",!t.isSingle),Ed(1),Uc("ngIf",!t.isLast))},dependencies:[MP,gI,Em,FI,bm,yP,pP,qF,YF,mV,kT,Rw,Zx,O_,rw,cI,IA,CI,lO,vA],encapsulation:2}),t})(),GN=class{constructor(){this.isSpecial=!1,this.isBlanks=!1}},zN=class{constructor(){this.isSelected=!1,this.isVisible=!0}};function $N(e,t,i){WN(e,t,i),i.length&&(i[i.length-1].afterOperator=null)}function WN(e,t,i){if(e)if(e instanceof kb){let n=e;for(let e of n.filteringOperands)WN(e,n.operator,i);i.length&&(i[i.length-1].afterOperator=t)}else{let n=new zN;n.expression=e,n.afterOperator=t;let r=i[i.length-1];r&&(n.beforeOperator=r.afterOperator),i.push(n)}}var jN=["toggle"],KN=["defaultExpressionTemplate"],UN=["dateExpressionTemplate"],qN=["expressionsContainer"];function YN(e,t){if(1&e){let e=nh();Yc(0,"igx-excel-style-date-expression",15),oh("expressionRemoved",(function(t){return Is(e),Ts(dh(2).onExpressionRemoved(t))}))("logicOperatorChanged",(function(t){return Is(e),Ts(dh(2).onLogicOperatorChanged(t))})),Xc()}if(2&e){let e=t.$implicit,i=dh(2);Uc("expressionUI",e)("column",i.column)("grid",i.grid)("displayDensity",i.displayDensity)("expressionsList",i.expressionsList)}}function XN(e,t){if(1&e&&(Jc(0),Wc(1,YN,1,5,"igx-excel-style-date-expression",14),eh()),2&e){let e=dh();Ed(1),Uc("ngForOf",e.expressionsList)}}function ZN(e,t){if(1&e){let e=nh();Yc(0,"igx-excel-style-default-expression",15),oh("expressionRemoved",(function(t){return Is(e),Ts(dh(2).onExpressionRemoved(t))}))("logicOperatorChanged",(function(t){return Is(e),Ts(dh(2).onLogicOperatorChanged(t))})),Xc()}if(2&e){let e=t.$implicit,i=dh(2);Uc("expressionUI",e)("column",i.column)("grid",i.grid)("displayDensity",i.displayDensity)("expressionsList",i.expressionsList)}}function QN(e,t){if(1&e&&(Jc(0),Wc(1,ZN,1,5,"igx-excel-style-default-expression",14),eh()),2&e){let e=dh();Ed(1),Uc("ngForOf",e.expressionsList)}}var JN=function(e,t){return{"igx-excel-filter__secondary--cosy":e,"igx-excel-filter__secondary--compact":t}},eL=(()=>{let e=class{constructor(e,t,i){this.overlayService=e,this.cdr=t,this.platform=i,this.expressionsList=new Array,this._customDialogPositionSettings={verticalDirection:SE.Middle,horizontalDirection:CE.Center,horizontalStartPoint:CE.Center,verticalStartPoint:SE.Middle},this._customDialogOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new RE(this._customDialogPositionSettings),scrollStrategy:new HE}}ngAfterViewInit(){this._customDialogOverlaySettings.outlet=this.grid.outlet}get template(){return this.column.dataType===Eb.Date?this.dateExpressionTemplate:this.defaultExpressionTemplate}get grid(){return this.filteringService.grid}onCustomDialogOpening(){this.selectedOperator&&this.createInitialExpressionUIElement()}onCustomDialogOpened(){this.expressionComponents.first&&this.expressionComponents.first.focus()}open(e){this._customDialogOverlaySettings.target=this.overlayComponentId?this.grid.rootGrid?this.grid.rootGrid.nativeElement:this.grid.nativeElement:e,this.toggle.open(this._customDialogOverlaySettings),this.overlayComponentId=this.toggle.overlayId}onClearButtonClick(){this.filteringService.clearFilter(this.column.field),this.createInitialExpressionUIElement(),this.cdr.detectChanges()}closeDialog(){this.overlayComponentId?(this.overlayService.hide(this.overlayComponentId),this.overlayComponentId=null):this.toggle.close()}onApplyButtonClick(){this.expressionsList=this.expressionsList.filter((e=>e.expression.condition&&(e.expression.searchVal||0===e.expression.searchVal||e.expression.condition.isUnary))),this.expressionsList.length>0&&(this.expressionsList[0].beforeOperator=null,this.expressionsList[this.expressionsList.length-1].afterOperator=null),this.filteringService.filterInternal(this.column.field,this.expressionsList),this.closeDialog()}onAddButtonClick(){let e=new zN;e.expression={condition:null,fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null},this.expressionsList[this.expressionsList.length-1].afterOperator=Rb.And,e.beforeOperator=this.expressionsList[this.expressionsList.length-1].afterOperator,this.expressionsList.push(e),this.markChildrenForCheck(),this.scrollToBottom()}onExpressionRemoved(e){let t=this.expressionsList.indexOf(e);0===t&&this.expressionsList.length>1?this.expressionsList[1].beforeOperator=null:t===this.expressionsList.length-1?this.expressionsList[t-1].afterOperator=null:(this.expressionsList[t-1].afterOperator=this.expressionsList[t+1].beforeOperator,this.expressionsList[0].beforeOperator=null,this.expressionsList[this.expressionsList.length-1].afterOperator=null),this.expressionsList.splice(t,1),this.cdr.detectChanges(),this.markChildrenForCheck()}onLogicOperatorChanged(e){let t=this.expressionsList.indexOf(e.target);e.target.afterOperator=e.newValue,t+1<this.expressionsList.length&&(this.expressionsList[t+1].beforeOperator=e.newValue)}onKeyDown(e){e.stopPropagation()}onApplyButtonKeyDown(e){e.key===this.platform.KEYMAP.TAB&&!e.shiftKey&&(e.stopPropagation(),e.preventDefault())}createCondition(e){switch(this.column.dataType){case Eb.Boolean:return AA.instance().condition(e);case Eb.Number:case Eb.Currency:case Eb.Percent:return PA.instance().condition(e);case Eb.Date:return RA.instance().condition(e);case Eb.Time:return FA.instance().condition(e);case Eb.DateTime:return OA.instance().condition(e);default:return MA.instance().condition(e)}}markChildrenForCheck(){this.expressionComponents.forEach((e=>e.cdr.markForCheck())),this.expressionDateComponents.forEach((e=>e.cdr.markForCheck()))}createInitialExpressionUIElement(){this.expressionsList=[];let e=new zN;e.expression={condition:this.createCondition(this.selectedOperator),fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null},e.afterOperator=Rb.And,this.expressionsList.push(e);let t=new zN;t.expression={condition:null,fieldName:this.column.field,ignoreCase:this.column.filteringIgnoreCase,searchVal:null},t.beforeOperator=Rb.And,this.expressionsList.push(t)}scrollToBottom(){requestAnimationFrame((()=>{this.expressionsContainer.nativeElement.scrollTop=this.expressionsContainer.nativeElement.scrollHeight}))}},t=e;return e.fac=function(t){return new(t||e)(Rd(LE),Rd(Jg),Rd($S))},e.cmp=Yn({type:e,selectors:[["igx-excel-style-custom-dialog"]],viewQuery:function(e,t){if(1&e&&(pg(jN,7,fA),pg(KN,5,ju),pg(UN,5,ju),pg(qN,7),pg(AN,5),pg(BN,5)),2&e){let e;gg(e=fg())&&(t.toggle=e.first),gg(e=fg())&&(t.defaultExpressionTemplate=e.first),gg(e=fg())&&(t.dateExpressionTemplate=e.first),gg(e=fg())&&(t.expressionsContainer=e.first),gg(e=fg())&&(t.expressionComponents=e),gg(e=fg())&&(t.expressionDateComponents=e)}},inputs:{expressionsList:"expressionsList",column:"column",selectedOperator:"selectedOperator",filteringService:"filteringService",overlayComponentId:"overlayComponentId",displayDensity:"displayDensity"},standalone:!0,features:[yu],decls:24,vars:16,consts:[["igxToggle","",1,"igx-excel-filter__secondary",3,"ngClass","keydown","opening","opened"],["toggle",""],[1,"igx-excel-filter__secondary-header"],[1,"ig-typography__h6"],[1,"igx-excel-filter__secondary-main"],["expressionsContainer",""],[4,"ngIf"],["igxButton","",1,"igx-excel-filter__add-filter",3,"displayDensity","click"],[1,"igx-excel-filter__secondary-footer"],[1,"igx-excel-filter__clear"],["igxButton","flat",3,"displayDensity","click"],[1,"igx-excel-filter__cancel"],[1,"igx-excel-filter__apply"],["igxButton","raised",3,"displayDensity","click","keydown"],["class","igx-excel-filter__condition",3,"expressionUI","column","grid","displayDensity","expressionsList","expressionRemoved","logicOperatorChanged",4,"ngFor","ngForOf"],[1,"igx-excel-filter__condition",3,"expressionUI","column","grid","displayDensity","expressionsList","expressionRemoved","logicOperatorChanged"]],template:function(e,t){1&e&&(Yc(0,"article",0,1),oh("keydown",(function(e){return t.onKeyDown(e)}))("opening",(function(){return t.onCustomDialogOpening()}))("opened",(function(){return t.onCustomDialogOpened()})),Yc(2,"header",2)(3,"h4",3),$h(4),Xc()(),Yc(5,"article",4,5),Wc(7,XN,2,1,"ng-container",6),Wc(8,QN,2,1,"ng-container",6),Yc(9,"button",7),oh("click",(function(){return t.onAddButtonClick()})),Yc(10,"igx-icon"),$h(11,"add"),Xc(),Yc(12,"span"),$h(13),Xc()()(),Yc(14,"footer",8)(15,"div",9)(16,"button",10),oh("click",(function(){return t.onClearButtonClick()})),$h(17),Xc()(),Yc(18,"div",11)(19,"button",10),oh("click",(function(){return t.closeDialog()})),$h(20),Xc()(),Yc(21,"div",12)(22,"button",13),oh("click",(function(){return t.onApplyButtonClick()}))("keydown",(function(e){return t.onApplyButtonKeyDown(e)})),$h(23),Xc()()()()),2&e&&(Uc("ngClass",_u(13,JN,"cosy"===t.grid.displayDensity,"compact"===t.grid.displayDensity)),Ed(4),Uh(" ",t.grid.resourceStrings.igx_grid_excel_custom_dialog_header,"",t.column.header||t.column.field," "),Ed(3),Uc("ngIf","date"===t.column.dataType||"dateTime"===t.column.dataType||"time"===t.column.dataType),Ed(1),Uc("ngIf","date"!==t.column.dataType&&"dateTime"!==t.column.dataType&&"time"!==t.column.dataType),Ed(1),Uc("displayDensity",t.displayDensity),Ed(4),jh(t.grid.resourceStrings.igx_grid_excel_custom_dialog_add),Ed(3),Uc("displayDensity",t.displayDensity),Ed(1),Kh(" ",t.grid.resourceStrings.igx_grid_excel_custom_dialog_clear," "),Ed(2),Uc("displayDensity",t.displayDensity),Ed(1),Kh(" ",t.grid.resourceStrings.igx_grid_excel_cancel," "),Ed(2),Uc("displayDensity",t.displayDensity),Ed(1),Kh(" ",t.grid.resourceStrings.igx_grid_excel_apply," "))},dependencies:[fA,Sm,Em,bm,BN,AN,CI,FI],encapsulation:2}),t})(),tL=["customDialog"],iL=["subMenu"];function nL(e,t){if(1&e&&(Yc(0,"igx-drop-down-item",7)(1,"div",8),Zc(2,"igx-icon",9),Yc(3,"span",10),$h(4),Xc()()()),2&e){let e=t.$implicit,i=dh(2);Uc("value",e),Ed(2),Uc("name",i.getCondition(e).iconName),Ed(2),jh(i.translateCondition(e))}}function rL(e,t){if(1&e&&(Yc(0,"igx-drop-down-item")(1,"div",8)(2,"igx-icon"),$h(3,"filter_list"),Xc(),Yc(4,"span",10),$h(5),Xc()()()),2&e){let e=dh(2);Ed(5),jh(e.esf.grid.resourceStrings.igx_grid_excel_custom_filter)}}function sL(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"div",1),oh("keydown",(function(t){return Is(e),Ts(dh().onTextFilterKeyDown(t))}))("click",(function(t){return Is(e),Ts(dh().onTextFilterClick(t))})),Yc(2,"span"),$h(3),Xc(),Yc(4,"igx-icon"),$h(5,"keyboard_arrow_right"),Xc()(),Yc(6,"igx-drop-down",2,3),oh("selectionChanging",(function(t){return Is(e),Ts(dh().onSubMenuSelection(t))}))("closed",(function(){return Is(e),Ts(dh().onSubMenuClosed())})),Yc(8,"div"),Wc(9,nL,5,3,"igx-drop-down-item",4),Wc(10,rL,6,1,"igx-drop-down-item",0),Xc()(),Zc(11,"igx-excel-style-custom-dialog",5,6),eh()}if(2&e){let e=Kc(7),t=dh();Ed(1),Uc("igxDropDownItemNavigation",e),Ed(2),jh(t.subMenuText),Ed(3),Uc("maxHeight","397px")("displayDensity",t.esf.grid.displayDensity)("allowItemsFocus",!0),Ed(3),Uc("ngForOf",t.conditions),Ed(1),Uc("ngIf",t.showCustomFilterItem()),Ed(1),Uc("column",t.esf.column)("filteringService",t.esf.grid.filteringService)("overlayComponentId",t.esf.overlayComponentId)("displayDensity",t.esf.grid.displayDensity)}}var oL=(()=>{let e=class{constructor(e,t){this.esf=e,this.platform=t,this.shouldOpenSubMenu=!0,this.destroy$=new We,this._subMenuPositionSettings={verticalStartPoint:SE.Top},this._subMenuOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new RE(this._subMenuPositionSettings),scrollStrategy:new HE},this.esf.columnChange.pipe(yi(this.destroy$)).subscribe((()=>{this.esf.grid&&(this.shouldOpenSubMenu=!0,this._subMenuOverlaySettings.outlet=this.esf.grid.outlet)})),this.esf.grid&&(this._subMenuOverlaySettings.outlet=this.esf.grid.outlet)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onTextFilterKeyDown(e){e.key===this.platform.KEYMAP.ENTER&&this.onTextFilterClick(e)}onTextFilterClick(e){if(this.shouldOpenSubMenu){this._subMenuOverlaySettings.target=e.currentTarget;let t=this.esf.grid.nativeElement.getBoundingClientRect(),i=this.esf.mainDropdown.nativeElement.getBoundingClientRect(),n=i.left+i.width,r=t.left+t.width;n+=window.pageXOffset,r+=window.pageXOffset,Math.abs(n-r)<200?(this._subMenuOverlaySettings.positionStrategy.settings.horizontalDirection=CE.Left,this._subMenuOverlaySettings.positionStrategy.settings.horizontalStartPoint=CE.Left):(this._subMenuOverlaySettings.positionStrategy.settings.horizontalDirection=CE.Right,this._subMenuOverlaySettings.positionStrategy.settings.horizontalStartPoint=CE.Right),this.subMenu.open(this._subMenuOverlaySettings),this.shouldOpenSubMenu=!1}}getCondition(e){return this.esf.column.filters.condition(e)}translateCondition(e){return this.esf.grid.resourceStrings[`igx_grid_filter_${this.getCondition(e).name}`]||e}onSubMenuSelection(e){this.esf.expressionsList&&this.esf.expressionsList.length&&"in"!==this.esf.expressionsList[0].expression.condition.name&&(this.customDialog.expressionsList=this.esf.expressionsList),this.customDialog.selectedOperator=e.newSelection.value,e.cancel=!0,this.esf.overlayComponentId&&this.esf.hide(),this.subMenu.close(),this.customDialog.open(this.esf.mainDropdown.nativeElement)}onSubMenuClosed(){requestAnimationFrame((()=>{this.shouldOpenSubMenu=!0}))}showCustomFilterItem(){let e=this.esf.column.filteringExpressionsTree;return e&&e.filteringOperands&&e.filteringOperands.length&&!(e.filteringOperands[0].condition&&"in"===e.filteringOperands[0].condition.name)}get subMenuText(){switch(this.esf.column.dataType){case Eb.Boolean:return this.esf.grid.resourceStrings.igx_grid_excel_boolean_filter;case Eb.Number:case Eb.Percent:return this.esf.grid.resourceStrings.igx_grid_excel_number_filter;case Eb.Date:case Eb.DateTime:case Eb.Time:return this.esf.grid.resourceStrings.igx_grid_excel_date_filter;case Eb.Currency:return this.esf.grid.resourceStrings.igx_grid_excel_currency_filter;default:return this.esf.grid.resourceStrings.igx_grid_excel_text_filter}}get conditions(){return this.esf.column.filters.conditionList()}},t=e;return e.fac=function(t){return new(t||e)(Rd(yN),Rd($S))},e.cmp=Yn({type:e,selectors:[["igx-excel-style-conditional-filter"]],viewQuery:function(e,t){if(1&e&&(pg(tL,5,eL),pg(iL,5,YA)),2&e){let e;gg(e=fg())&&(t.customDialog=e.first),gg(e=fg())&&(t.subMenu=e.first)}},standalone:!0,features:[yu],decls:1,vars:1,consts:[[4,"ngIf"],["tabindex","0","role","menuitem","aria-haspopup","true",1,"igx-excel-filter__actions-filter",3,"igxDropDownItemNavigation","keydown","click"],[3,"maxHeight","displayDensity","allowItemsFocus","selectionChanging","closed"],["subMenu",""],[3,"value",4,"ngFor","ngForOf"],[3,"column","filteringService","overlayComponentId","displayDensity"],["customDialog",""],[3,"value"],[1,"igx-grid__filtering-dropdown-items"],["family","imx-icons",3,"name"],[1,"igx-grid__filtering-dropdown-text"]],template:function(e,t){1&e&&Wc(0,sL,13,11,"ng-container",0),2&e&&Uc("ngIf",t.esf.column)},dependencies:[Em,rI,FI,YA,bm,jA,eL],encapsulation:2}),t})(),aL=(()=>{let e=class{constructor(e){this.template=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxProgressBarText",""]],standalone:!0}),t})(),lL=(()=>{let e=class{constructor(e){this.template=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxProgressBarGradient",""]],standalone:!0}),t})(),dL=["indicator"],cL=function(e,t,i,n,r){return{"igx-linear-bar__value--start":e,"igx-linear-bar__value--center":t,"igx-linear-bar__value--end":i,"igx-linear-bar__value--top":n,"igx-linear-bar__value--hidden":r}},hL=["circle"];function uL(e,t){1&e&&(Qs(),th(0))}function gL(e,t){1&e&&(Qs(),Yc(0,"linearGradient",9),Zc(1,"stop",10)(2,"stop",11),Xc()),2&e&&Uc("id",dh().gradientId)}function pL(e,t){1&e&&th(0)}function mL(e,t){if(1&e&&(Qs(),Js(),Yc(0,"span",12),Wc(1,pL,1,0,"ng-container",5),Xc()),2&e){let e=dh(),t=Kc(11);Ed(1),Uc("ngTemplateOutlet",e.textTemplate?e.textTemplate.template:t)("ngTemplateOutletContext",e.context)}}function fL(e,t){if(1&e&&(Qs(),$h(0)),2&e){let e=dh();Kh(" ",e.textContent?e.textContent:e.valueInPercent+"%","\n")}}var yL=function(e){return{$implicit:e}},vL="start",xL="error",_L="info",wL="warning",CL="success",SL=(()=>{let e=class{constructor(){this.progressChanged=new zu,this.indeterminate=!1,this.animationDuration=2e3,this._initValue=0,this._contentInit=!1,this._max=100,this._value=0,this._newVal=0,this._animate=!0,this._internalState={oldVal:0,newVal:0}}get step(){return this._step?this._step:.01*this._max}set step(e){let t=Number(e);t>this.max||(this._step=t)}set animate(e){this._animate=e,this.animationDuration=e?2e3:0}get animate(){return this._animate}set max(e){e<0||this._max===e||this._animation&&"finished"!==this._animation.playState||(this._internalState.newVal=Math.round(RL(kL(this.value,e),e)),this._value=this._internalState.oldVal=Math.round(RL(this.valueInPercent,e)),this._max=e,this.triggerProgressTransition(this._internalState.oldVal,this._internalState.newVal,!0))}get max(){return this._max}get valueInPercent(){return kL(this._value,this._max)}get value(){return this._value}set value(e){if(this._animation&&"finished"!==this._animation.playState||e<0)return;let t=AL(e,this.max);isNaN(t)||this._value===e||this.indeterminate||(this._contentInit?this.triggerProgressTransition(this._value,t):this._initValue=t)}triggerProgressTransition(e,t,i=!1){if(e===t)return;let n={currentValue:t,previousValue:e},r=this.directionFlow(e,t);if(this._animate){let i=kL(t,this.max),n=kL(e,this.max),s=this.animationDuration/Math.abs(i-n)/(this._step?this._step:1);this.runAnimation(t),this._interval=setInterval((()=>this.increase(t,r)),s)}else this.updateProgress(t);i||this.progressChanged.emit(n)}increase(e,t){let i=kL(e,this._max);if(this._value=AL(this._value,this._max)+t,t>0&&this.valueInPercent>=i||t<0&&this.valueInPercent<=i)return this._value!==e&&(this._value=e),clearInterval(this._interval)}directionFlow(e,t){return e<t?this.step:-this.step}updateProgress(e){this._value=AL(e,this._max),this.runAnimation(e)}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,hostVars:2,hostBindings:function(e,t){2&e&&Gc("aria-valuemax",t.max)("aria-valuenow",t.value)},inputs:{indeterminate:"indeterminate",animationDuration:"animationDuration",step:"step",animate:"animate",max:"max",value:"value"},outputs:{progressChanged:"progressChanged"}}),t})(),bL=0,DL=0,EL=0,IL=(()=>{let e=class extends SL{constructor(){super(...arguments),this.valueMin=0,this.cssClass="igx-linear-bar",this.striped=!1,this.role="progressbar",this.id="igx-linear-bar-"+bL++,this.textAlign=vL,this.textVisibility=!0,this.textTop=!1,this.type="default",this.animationState={width:"0%"}}get isIndeterminate(){return this.indeterminate}get error(){return this.type===xL}get info(){return this.type===_L}get warning(){return this.type===wL}get success(){return this.type===CL}ngAfterContentInit(){this.triggerProgressTransition(0,this._initValue),this._contentInit=!0}runAnimation(e){if(this._animation&&"finished"!==this._animation.playState)return;let t=this.max<=0?0:kL(e,this.max),i=[];i[0]=y({},this.animationState),this.animationState.width=t+"%",i[1]=y({},this.animationState),this._animation=this._progressIndicator.nativeElement.animate(i,{easing:"ease-out",fill:"forwards",duration:this.animationDuration})}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.cmp=Yn({type:e,selectors:[["igx-linear-bar"]],viewQuery:function(e,t){if(1&e&&pg(dL,7),2&e){let e;gg(e=fg())&&(t._progressIndicator=e.first)}},hostVars:17,hostBindings:function(e,t){2&e&&(Gc("aria-valuemin",t.valueMin)("role",t.role)("id",t.id),Ah("igx-linear-bar",t.cssClass)("igx-linear-bar--striped",t.striped)("igx-linear-bar--indeterminate",t.isIndeterminate)("igx-linear-bar--danger",t.error)("igx-linear-bar--info",t.info)("igx-linear-bar--warning",t.warning)("igx-linear-bar--success",t.success))},inputs:{striped:"striped",role:"role",id:"id",textAlign:"textAlign",textVisibility:"textVisibility",textTop:"textTop",text:"text",type:"type"},standalone:!0,features:[Tc,yu],decls:6,vars:10,consts:[[1,"igx-linear-bar__base"],[1,"igx-linear-bar__indicator"],["indicator",""],[1,"igx-linear-bar__indicator-secondary"],[1,"igx-linear-bar__value",3,"ngClass"]],template:function(e,t){1&e&&(Yc(0,"div",0),Zc(1,"div",1,2)(3,"div",3),Xc(),Yc(4,"span",4),$h(5),Xc()),2&e&&(Ed(1),Th("width",0),Ed(3),Uc("ngClass",Su(4,cL,"start"===t.textAlign,"center"===t.textAlign,"end"===t.textAlign,t.textTop,!t.textVisibility)),Ed(1),Kh(" ",t.text?t.text:t.valueInPercent+"%","\n"))},dependencies:[Sm],encapsulation:2}),t})(),TL=(()=>{let e=class extends SL{get isIndeterminate(){return this.indeterminate}get context(){return{$implicit:{value:this.value,valueInPercent:this.valueInPercent,max:this.max}}}constructor(e,t){super(),this.renderer=e,this._directionality=t,this.cssClass="igx-circular-bar",this.id="igx-circular-bar-"+DL++,this.textVisibility=!0,this.gradientId="igx-circular-gradient-"+EL++,this._circleRadius=46,this._circumference=2*Math.PI*this._circleRadius,this.STROKE_OPACITY_DVIDER=100,this.STROKE_OPACITY_ADDITION=.2,this.animationState={strokeDashoffset:289,strokeOpacity:1}}ngAfterContentInit(){this.triggerProgressTransition(0,this._initValue),this._contentInit=!0}ngAfterViewInit(){this.renderer.setStyle(this._svgCircle.nativeElement,"stroke",`url(#${this.gradientId})`)}get textContent(){return this.text}runAnimation(e){if(this._animation&&"finished"!==this._animation.playState)return;let t=this.max<=0?0:kL(e,this.max),i=[];i[0]=y({},this.animationState),this.animationState.strokeDashoffset=this.getProgress(t),this.animationState.strokeOpacity=kL(e,this.max)/this.STROKE_OPACITY_DVIDER+this.STROKE_OPACITY_ADDITION,i[1]=y({},this.animationState),this._animation=this._svgCircle.nativeElement.animate(i,{easing:"ease-out",fill:"forwards",duration:this.animationDuration})}getProgress(e){return this._directionality.rtl?this._circumference+e*this._circumference/100:this._circumference-e*this._circumference/100}},t=e;return e.fac=function(t){return new(t||e)(Rd(hd),Rd(cA))},e.cmp=Yn({type:e,selectors:[["igx-circular-bar"]],contentQueries:function(e,t,i){if(1&e&&(mg(i,aL,5,aL),mg(i,lL,5,lL)),2&e){let e;gg(e=fg())&&(t.textTemplate=e.first),gg(e=fg())&&(t.gradientTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&pg(hL,7),2&e){let e;gg(e=fg())&&(t._svgCircle=e.first)}},hostVars:5,hostBindings:function(e,t){2&e&&(Gc("id",t.id),Ah("igx-circular-bar",t.cssClass)("igx-circular-bar--indeterminate",t.isIndeterminate))},inputs:{id:"id",isIndeterminate:"isIndeterminate",textVisibility:"textVisibility",text:"text"},standalone:!0,features:[Tc,yu],decls:12,vars:7,consts:[["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","viewBox","0 0 100 100","preserveAspectRatio","xMidYMid meet","role","progressbar","aria-valuemin","0"],["svg",""],["cx","50","cy","50","r","46",1,"igx-circular-bar__inner"],["cx","50","cy","50","r","46",1,"igx-circular-bar__outer"],["circle",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultGradientTemplate",""],["class","igx-circular-bar__text",4,"ngIf"],["defaultTextTemplate",""],["gradientTransform","rotate(90)",3,"id"],["offset","0%",1,"igx-circular-bar__gradient-start"],["offset","100%",1,"igx-circular-bar__gradient-end"],[1,"igx-circular-bar__text"]],template:function(e,t){if(1&e&&(Qs(),Yc(0,"svg",0,1),Zc(2,"circle",2)(3,"circle",3,4),Yc(5,"defs"),Wc(6,uL,1,0,"ng-container",5),Xc(),Wc(7,gL,3,1,"ng-template",null,6,_g),Xc(),Wc(9,mL,2,2,"span",7),Wc(10,fL,1,1,"ng-template",null,8,_g)),2&e){let e=Kc(8);Gc("aria-valuemax",t.max)("aria-valuenow",t.value),Ed(6),Uc("ngTemplateOutlet",t.gradientTemplate?t.gradientTemplate.template:e)("ngTemplateOutletContext",xu(5,yL,t.gradientId)),Ed(3),Uc("ngIf",t.textVisibility)}},dependencies:[Pm,Em],encapsulation:2}),t})(),AL=(e,t,i=0)=>Math.max(Math.min(e,t),i),kL=(e,t)=>t?Math.floor(100*e/t):0,RL=(e,t)=>t*e/100,OL="None",FL="Cascading",PL=new Dl("IgxTreeToken"),ML=new Dl("IgxTreeNodeToken"),VL=(()=>{let e=class{constructor(){this.expandedNodes=new Set,this.collapsingNodes=new Set,this.siblingComparer=(e,t)=>t!==e&&t.level===e.level}expand(e,t){this.collapsingNodes.delete(e),this.expandedNodes.has(e)||(e.expandedChange.emit(!0),this.expandedNodes.add(e),this.tree.singleBranchExpand&&this.tree.findNodes(e,this.siblingComparer)?.forEach((e=>{t?e.collapse():e.expanded=!1})))}collapsing(e){this.collapsingNodes.add(e)}collapse(e){this.expandedNodes.has(e)&&e.expandedChange.emit(!1),this.collapsingNodes.delete(e),this.expandedNodes.delete(e)}isExpanded(e){return this.expandedNodes.has(e)}register(e){this.tree=e}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac}),t})(),NL=(()=>{let e=class{constructor(){this.nodeSelection=new Set,this.indeterminateNodes=new Set}register(e){this.tree=e}selectMultipleNodes(e,t){if(!this.nodeSelection.size)return void this.selectNode(e);let i=this.tree.nodes.toArray().indexOf(this.getSelectedNodes()[this.nodeSelection.size-1]),n=this.tree.nodes.toArray().indexOf(e),r=this.tree.nodes.toArray().slice(Math.min(n,i),Math.max(n,i)+1).filter((e=>!this.isNodeSelected(e))),s=this.getSelectedNodes().concat(r);this.emitNodeSelectionEvent(s,r,[],t)}selectNode(e,t){this.tree.selection!==OL&&this.emitNodeSelectionEvent([...this.getSelectedNodes(),e],[e],[],t)}deselectNode(e,t){let i=this.getSelectedNodes().filter((t=>t!==e));this.emitNodeSelectionEvent(i,[],[e],t)}clearNodesSelection(){this.nodeSelection.clear(),this.indeterminateNodes.clear()}isNodeSelected(e){return this.nodeSelection.has(e)}isNodeIndeterminate(e){return this.indeterminateNodes.has(e)}selectNodesWithNoEvent(e,t=!1,i=!0){if(this.tree&&this.tree.selection===FL)return void this.cascadeSelectNodesWithNoEvent(e,t);let n=this.getSelectedNodes();t&&this.nodeSelection.clear(),e.forEach((e=>this.nodeSelection.add(e))),i&&this.emitSelectedChangeEvent(n)}deselectNodesWithNoEvent(e,t=!0){let i=this.getSelectedNodes();e?this.tree&&this.tree.selection===FL?this.cascadeDeselectNodesWithNoEvent(e):e.forEach((e=>this.nodeSelection.delete(e))):this.nodeSelection.clear(),t&&this.emitSelectedChangeEvent(i)}ensureStateOnNodeDelete(e){this.tree?.selection===FL&&requestAnimationFrame((()=>{if(this.isNodeSelected(e))this.deselectNodesWithNoEvent([e],!1);else{if(!e.parentNode)return;let t=e.parentNode?.allChildren.find((e=>!e._children?.length));if(!t)return;this.retriggerNodeState(t)}}))}retriggerNodeState(e){e.selected?(this.nodeSelection.delete(e),this.selectNodesWithNoEvent([e],!1,!1)):(this.nodeSelection.add(e),this.deselectNodesWithNoEvent([e],!1))}getSelectedNodes(){return this.nodeSelection.size?Array.from(this.nodeSelection):[]}getIndeterminateNodes(){return this.indeterminateNodes.size?Array.from(this.indeterminateNodes):[]}emitNodeSelectionEvent(e,t,i,n){if(this.tree.selection===FL)return void this.emitCascadeNodeSelectionEvent(e,t,i,n);let r=this.getSelectedNodes();if(this.areEqualCollections(r,e))return;let s={oldSelection:r,newSelection:e,added:t,removed:i,event:n,cancel:!1,owner:this.tree};this.tree.nodeSelection.emit(s),!s.cancel&&this.selectNodesWithNoEvent(s.newSelection,!0)}areEqualCollections(e,t){return e.length===t.length&&new Set(e.concat(t)).size===e.length}cascadeSelectNodesWithNoEvent(e,t=!1){let i=this.getSelectedNodes();if(t)this.indeterminateNodes.clear(),this.nodeSelection.clear(),this.calculateNodesNewSelectionState({added:e,removed:[]});else{let t={oldSelection:i,newSelection:[...i,...e]};this.populateAddRemoveArgs(t),this.calculateNodesNewSelectionState(t)}this.nodeSelection=new Set(this.nodesToBeSelected),this.indeterminateNodes=new Set(this.nodesToBeIndeterminate),this.emitSelectedChangeEvent(i)}cascadeDeselectNodesWithNoEvent(e){let t={added:[],removed:e};this.calculateNodesNewSelectionState(t),this.nodeSelection=new Set(this.nodesToBeSelected),this.indeterminateNodes=new Set(this.nodesToBeIndeterminate)}calculateNodesNewSelectionState(e){this.nodesToBeSelected=new Set(e.oldSelection?e.oldSelection:this.getSelectedNodes()),this.nodesToBeIndeterminate=new Set(this.getIndeterminateNodes()),this.cascadeSelectionState(e.removed,!1),this.cascadeSelectionState(e.added,!0)}cascadeSelectionState(e,t){if(e&&0!==e.length&&e&&e.length>0){let i=this.getCascadingNodeCollection(e);i.nodes.forEach((e=>{t?this.nodesToBeSelected.add(e):this.nodesToBeSelected.delete(e),this.nodesToBeIndeterminate.delete(e)})),Array.from(i.parents).forEach((e=>{this.handleParentSelectionState(e)}))}}emitCascadeNodeSelectionEvent(e,t,i,n){let r=this.getSelectedNodes();if(this.areEqualCollections(r,e))return;let s={oldSelection:r,newSelection:e,added:t,removed:i,event:n,cancel:!1,owner:this.tree};this.calculateNodesNewSelectionState(s),s.newSelection=Array.from(this.nodesToBeSelected),this.populateAddRemoveArgs(s),this.tree.nodeSelection.emit(s),!s.cancel&&(this.areEqualCollections(Array.from(this.nodesToBeSelected),s.newSelection)?(this.nodeSelection=new Set(this.nodesToBeSelected),this.indeterminateNodes=new Set(this.nodesToBeIndeterminate),this.emitSelectedChangeEvent(r)):this.cascadeSelectNodesWithNoEvent(s.newSelection,!0))}handleParentSelectionState(e){e&&(this.handleNodeSelectionState(e),e.parentNode&&this.handleParentSelectionState(e.parentNode))}handleNodeSelectionState(e){let t=e&&e._children?e._children.toArray():[];t.length?t.every((e=>this.nodesToBeSelected.has(e)))?(this.nodesToBeSelected.add(e),this.nodesToBeIndeterminate.delete(e)):t.some((e=>this.nodesToBeSelected.has(e)||this.nodesToBeIndeterminate.has(e)))?(this.nodesToBeIndeterminate.add(e),this.nodesToBeSelected.delete(e)):(this.nodesToBeIndeterminate.delete(e),this.nodesToBeSelected.delete(e)):(this.isNodeSelected(e)?this.nodesToBeSelected.add(e):this.nodesToBeSelected.delete(e),this.nodesToBeIndeterminate.delete(e))}getCascadingNodeCollection(e){let t={parents:new Set,nodes:new Set(e)};return Array.from(t.nodes).forEach((e=>{(e.allChildren?.toArray()||[]).forEach((e=>{t.nodes.add(e)})),e&&e.parentNode&&t.parents.add(e.parentNode)})),t}populateAddRemoveArgs(e){e.removed=e.oldSelection.filter((t=>e.newSelection.indexOf(t)<0)),e.added=e.newSelection.filter((t=>e.oldSelection.indexOf(t)<0))}emitSelectedChangeEvent(e){this.getSelectedNodes().forEach((t=>{e.indexOf(t)<0&&t.selectedChange.emit(!0)})),e.forEach((e=>{this.nodeSelection.has(e)||e.selectedChange.emit(!1)}))}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac}),t})(),LL=(()=>{let e=class{constructor(e,t){this.treeService=e,this.selectionService=t,this._focusedNode=null,this._lastFocusedNode=null,this._activeNode=null,this._visibleChildren=[],this._invisibleChildren=new Set,this._disabledChildren=new Set,this._cacheChange=new We,this._cacheChange.subscribe((()=>{this._visibleChildren=this.tree?.nodes?this.tree.nodes.filter((e=>!(this._invisibleChildren.has(e)||this._disabledChildren.has(e)))):[]}))}register(e){this.tree=e}get focusedNode(){return this._focusedNode}set focusedNode(e){this._focusedNode!==e&&(this._lastFocusedNode=this._focusedNode,this._lastFocusedNode&&(this._lastFocusedNode.tabIndex=-1),this._focusedNode=e,null!==this._focusedNode&&(this._focusedNode.tabIndex=0,this._focusedNode.header.nativeElement.focus()))}get activeNode(){return this._activeNode}set activeNode(e){this._activeNode!==e&&(this._activeNode=e,this.tree.activeNodeChanged.emit(this._activeNode))}get visibleChildren(){return this._visibleChildren}update_disabled_cache(e){e.disabled?this._disabledChildren.add(e):this._disabledChildren.delete(e),this._cacheChange.next()}init_invisible_cache(){this.tree.nodes.filter((e=>0===e.level)).forEach((e=>{this.update_visible_cache(e,e.expanded,!1)})),this._cacheChange.next()}update_visible_cache(e,t,i=!0){t?e._children.forEach((e=>{this._invisibleChildren.delete(e),this.update_visible_cache(e,e.expanded,!1)})):e.allChildren.forEach((e=>this._invisibleChildren.add(e))),i&&this._cacheChange.next()}setFocusedAndActiveNode(e,t=!0){t&&(this.activeNode=e),this.focusedNode=e}handleKeydown(e){let t=e.key.toLowerCase();if(this.focusedNode){if(!KS.has(t)&&"*"!==t)return void("enter"===t&&(this.activeNode=this.focusedNode));e.preventDefault(),e.repeat?setTimeout((()=>this.handleNavigation(e)),1):this.handleNavigation(e)}}ngOnDestroy(){this._cacheChange.next(),this._cacheChange.complete()}handleNavigation(e){switch(e.key.toLowerCase()){case"home":this.setFocusedAndActiveNode(this.visibleChildren[0]);break;case"end":this.setFocusedAndActiveNode(this.visibleChildren[this.visibleChildren.length-1]);break;case"arrowleft":case"left":this.handleArrowLeft();break;case"arrowright":case"right":this.handleArrowRight();break;case"arrowup":case"up":this.handleUpDownArrow(!0,e);break;case"arrowdown":case"down":this.handleUpDownArrow(!1,e);break;case"*":this.handleAsterisk();break;case" ":case"spacebar":case"space":this.handleSpace(e.shiftKey);break;default:return}}handleArrowLeft(){if(this.focusedNode.expanded&&!this.treeService.collapsingNodes.has(this.focusedNode)&&this.focusedNode._children?.length)this.activeNode=this.focusedNode,this.focusedNode.collapse();else{let e=this.focusedNode.parentNode;e&&!e.disabled&&this.setFocusedAndActiveNode(e)}}handleArrowRight(){if(this.focusedNode._children.length>0)if(this.focusedNode.expanded){if(this.treeService.collapsingNodes.has(this.focusedNode))return void this.focusedNode.expand();let e=this.focusedNode._children.find((e=>!e.disabled));e&&this.setFocusedAndActiveNode(e)}else this.activeNode=this.focusedNode,this.focusedNode.expand()}handleUpDownArrow(e,t){let i=this.getVisibleNode(this.focusedNode,e?-1:1);i!==this.focusedNode&&(t.ctrlKey?this.setFocusedAndActiveNode(i,!1):this.setFocusedAndActiveNode(i))}handleAsterisk(){(this.focusedNode.parentNode?this.focusedNode.parentNode._children:this.tree.rootNodes)?.forEach((e=>{!e.disabled&&(!e.expanded||this.treeService.collapsingNodes.has(e))&&e.expand()}))}handleSpace(e=!1){if(this.tree.selection!==OL){if(this.activeNode=this.focusedNode,e)return void this.selectionService.selectMultipleNodes(this.focusedNode);this.focusedNode.selected?this.selectionService.deselectNode(this.focusedNode):this.selectionService.selectNode(this.focusedNode)}}getVisibleNode(e,t=1){let i=this.visibleChildren.indexOf(e);return this.visibleChildren[i+t]||e}},t=e;return e.fac=function(t){return new(t||e)(pn(VL),pn(NL))},e.prov=ji({token:e,factory:e.fac}),t})(),HL=["ghostTemplate"],BL=["defaultIndicator"],GL=["childrenContainer"];function zL(e,t){}function $L(e,t){1&e&&Wc(0,zL,0,0,"ng-template")}function WL(e,t){1&e&&Wc(0,$L,1,0,null,1),2&e&&(dh(),Uc("ngTemplateOutlet",Kc(9)))}function jL(e,t){}function KL(e,t){1&e&&Wc(0,jL,0,0,"ng-template")}function UL(e,t){1&e&&(Yc(0,"div",7,8),uh(2),Xc())}function qL(e,t){if(1&e&&(Yc(0,"igx-icon"),$h(1),Xc()),2&e){let e=dh();Gc("aria-label",e.expanded?e.resourceStrings.igx_collapse:e.resourceStrings.igx_expand),Ed(1),Kh(" ",e.expanded?"keyboard_arrow_down":"keyboard_arrow_right"," ")}}function YL(e,t){if(1&e&&Zc(0,"igx-checkbox",9),2&e){let e=dh();Uc("checked",e.selected)("readonly",!0)("indeterminate",e.indeterminate)("tabindex",-1)}}function XL(e,t){1&e&&Zc(0,"span",19)}function ZL(e,t){1&e&&th(0)}var QL=function(e){return{"igx-tree-node__toggle-button--hidden":e}},JL=function(e){return{$implicit:e}};function eH(e,t){if(1&e){let e=nh();Yc(0,"span",20),oh("click",(function(){return Is(e),Ts(dh(2).indicatorClick())})),Wc(1,ZL,1,0,"ng-container",21),Xc()}if(2&e){let e=dh(2);Uc("ngClass",xu(3,QL,!(null!=e._children&&e._children.length))),Ed(1),Uc("ngTemplateOutlet",e.expandIndicatorTemplate)("ngTemplateOutletContext",xu(5,JL,e.expanded))}}function tH(e,t){1&e&&(Yc(0,"span",22),Zc(1,"igx-circular-bar",23),Xc()),2&e&&(Ed(1),Uc("animate",!1)("indeterminate",!0)("textVisibility",!1))}function iH(e,t){1&e&&th(0)}function nH(e,t){if(1&e){let e=nh();Yc(0,"div",24),oh("pointerdown",(function(e){return e.preventDefault()}))("click",(function(t){return Is(e),Ts(dh(2).onSelectorClick(t))})),Wc(1,iH,1,0,"ng-container",1),Xc()}if(2&e){dh(2);let e=Kc(7);Ed(1),Uc("ngTemplateOutlet",e)}}function rH(e,t){1&e&&Zc(0,"span",19)}var sH=function(e,t,i,n,r,s){return{"igx-tree-node__wrapper--cosy":e,"igx-tree-node__wrapper--compact":t,"igx-tree-node__wrapper--selected":i,"igx-tree-node__wrapper--active":n,"igx-tree-node__wrapper--focused":r,"igx-tree-node__wrapper--disabled":s}},oH=function(){return[]};function aH(e,t){if(1&e){let e=nh();Yc(0,"div",10,11),oh("pointerdown",(function(t){return Is(e),Ts(dh().onPointerDown(t))}))("focus",(function(){return Is(e),Ts(dh().handleFocus())}))("blur",(function(){return Is(e),Ts(dh().clearFocus())})),Yc(2,"div",12),Wc(3,XL,1,0,"span",13),Xc(),Wc(4,eH,2,7,"span",14),Wc(5,tH,2,3,"span",15),Wc(6,nH,2,1,"div",16),Yc(7,"div",17),uh(8,1),Xc()(),Yc(9,"div",18),Wc(10,rH,1,0,"span",13),Zc(11,"div"),Xc()}if(2&e){let e=dh();Uc("tabIndex",e.tabIndex)("ngClass",bu(8,sH,e.isCosy,e.isCompact,e.selected,e.active,e.focused,e.disabled)),Gc("role",e.role),Ed(3),Uc("ngForOf",vu(15,oH).constructor(e.level)),Ed(1),Uc("ngIf",!e.loading),Ed(1),Uc("ngIf",e.loading),Ed(1),Uc("ngIf",e.showSelectors),Ed(4),Uc("ngForOf",vu(16,oH).constructor(e.level))}}function lH(e,t){}function dH(e,t){1&e&&Wc(0,lH,0,0,"ng-template")}function cH(e,t){if(1&e&&(Yc(0,"div",25),Wc(1,dH,1,0,null,1),Xc()),2&e){dh();let e=Kc(9);Ed(1),Uc("ngTemplateOutlet",e)}}var hH=[[["igx-tree-node"]],"*"],uH=["igx-tree-node","*"],gH=(()=>{let e=class{set parentNode(e){e&&(this._parentNode=e,this._parentNode.addLinkChild(this))}get parentNode(){return this._parentNode}get target(){return this.node||this.parentNode}constructor(e,t,i){this.node=e,this.navService=t,this.elementRef=i,this.role="treeitem",this._parentNode=null}get tabIndex(){return this.navService.focusedNode===this.target?this.target?.disabled?-1:0:-1}handleBlur(){this.target.isFocused=!1}handleFocus(){this.target&&!this.target.disabled&&(this.navService.focusedNode!==this.target&&(this.navService.focusedNode=this.target),this.target.isFocused=!0)}ngOnDestroy(){this.target.removeLinkChild(this)}},t=e;return e.fac=function(t){return new(t||e)(Rd(ML,8),Rd(LL),Rd(ld))},e.dir=er({type:e,selectors:[["","igxTreeNodeLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&oh("blur",(function(){return t.handleBlur()}))("focus",(function(){return t.handleFocus()})),2&e&&Gc("role",t.role)("tabindex",t.tabIndex)},inputs:{parentNode:["igxTreeNodeLink","parentNode"]},standalone:!0}),t})(),pH=(()=>{let e=class extends VR{set tabIndex(e){this._tabIndex=e}get tabIndex(){return this.disabled?-1:null===this._tabIndex?null===this.navService.focusedNode?this.hasLinkChildren?-1:0:-1:this.hasLinkChildren?-1:this._tabIndex}get animationSettings(){return this.tree.animationSettings}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings||(this._resourceStrings=fI.TreeResStrings),this._resourceStrings}set active(e){e&&(this.navService.activeNode=this,this.tree.activeNodeBindingChange.emit(this))}get active(){return this.navService.activeNode===this}get focused(){return this.isFocused&&this.navService.focusedNode===this}get path(){return this.parentNode?.path?[...this.parentNode.path,this]:[this]}get disabled(){return this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.tree.disabledChange.emit(this))}get role(){return this.hasLinkChildren?"none":"treeitem"}get children(){return this._children?.length?this._children.toArray():null}get hasLinkChildren(){return this.linkChildren?.length>0||this.registeredChildren?.length>0}get isCompact(){return this.tree?.displayDensity===JE}get isCosy(){return this.tree?.displayDensity===QE}constructor(e,t,i,n,r,s,o,a){super(s),this.tree=e,this.selectionService=t,this.treeService=i,this.navService=n,this.cdr=r,this.element=o,this.parentNode=a,this.loading=!1,this.selectedChange=new zu,this.expandedChange=new zu,this.cssClass="igx-tree-node",this.registeredChildren=[],this._resourceStrings=fI.TreeResStrings,this._tabIndex=null,this._disabled=!1}get showSelectors(){return this.tree.selection!==OL}get indeterminate(){return this.selectionService.isNodeIndeterminate(this)}get level(){return this.parentNode?this.parentNode.level+1:0}get selected(){return this.selectionService.isNodeSelected(this)}set selected(e){this.tree?.nodes&&this.tree.nodes.find((e=>e===this))||!e?(e&&!this.selectionService.isNodeSelected(this)&&this.selectionService.selectNodesWithNoEvent([this]),!e&&this.selectionService.isNodeSelected(this)&&this.selectionService.deselectNodesWithNoEvent([this])):this.tree.forceSelect.push(this)}get expanded(){return this.treeService.isExpanded(this)}set expanded(e){e?this.treeService.expand(this,!1):this.treeService.collapse(this)}get expandIndicatorTemplate(){return this.tree?.expandIndicator?this.tree.expandIndicator:this._defaultExpandIndicatorTemplate}get nativeElement(){return this.element.nativeElement}ngOnInit(){this.openAnimationDone.pipe(yi(this.destroy$)).subscribe((()=>{this.tree.nodeExpanded.emit({owner:this.tree,node:this})})),this.closeAnimationDone.pipe(yi(this.destroy$)).subscribe((()=>{this.tree.nodeCollapsed.emit({owner:this.tree,node:this}),this.treeService.collapse(this),this.cdr.markForCheck()}))}handleFocus(){if(!this.disabled){if(this.navService.focusedNode!==this&&(this.navService.focusedNode=this),this.isFocused=!0,this.linkChildren?.length)return void this.linkChildren.first.nativeElement.focus();if(this.registeredChildren.length)return void this.registeredChildren[0].elementRef.nativeElement.focus()}}clearFocus(){this.isFocused=!1}onSelectorClick(e){e.preventDefault(),e.shiftKey?this.selectionService.selectMultipleNodes(this,e):this.selected?this.selectionService.deselectNode(this,e):this.selectionService.selectNode(this,e)}toggle(){this.expanded?this.collapse():this.expand()}indicatorClick(){this.toggle(),this.navService.setFocusedAndActiveNode(this)}onPointerDown(e){e.stopPropagation(),this.navService.setFocusedAndActiveNode(this)}ngOnDestroy(){super.ngOnDestroy(),this.selectionService.ensureStateOnNodeDelete(this)}expand(){if(this.expanded&&!this.treeService.collapsingNodes.has(this))return;let e={owner:this.tree,node:this,cancel:!1};this.tree.nodeExpanding.emit(e),e.cancel||(this.treeService.expand(this,!0),this.cdr.detectChanges(),this.playOpenAnimation(this.childrenContainer))}collapse(){if(!this.expanded||this.treeService.collapsingNodes.has(this))return;let e={owner:this.tree,node:this,cancel:!1};this.tree.nodeCollapsing.emit(e),e.cancel||(this.treeService.collapsing(this),this.playCloseAnimation(this.childrenContainer))}addLinkChild(e){this._tabIndex=-1,this.registeredChildren.push(e)}removeLinkChild(e){let t=this.registeredChildren.indexOf(e);-1!==t&&this.registeredChildren.splice(t,1)}},t=e;return e.fac=function(t){return new(t||e)(Rd(PL),Rd(NL),Rd(VL),Rd(LL),Rd(Jg),Rd(wE),Rd(ld),Rd(ML,12))},e.cmp=Yn({type:e,selectors:[["igx-tree-node"]],contentQueries:function(e,t,i){if(1&e&&(mg(i,gH,4,ld),mg(i,ML,4,ML),mg(i,ML,5,ML)),2&e){let e;gg(e=fg())&&(t.linkChildren=e),gg(e=fg())&&(t._children=e),gg(e=fg())&&(t.allChildren=e)}},viewQuery:function(e,t){if(1&e&&(pg(HL,5,ld),pg(BL,7,ju),pg(GL,5,ld)),2&e){let e;gg(e=fg())&&(t.header=e.first),gg(e=fg())&&(t._defaultExpandIndicatorTemplate=e.first),gg(e=fg())&&(t.childrenContainer=e.first)}},hostVars:5,hostBindings:function(e,t){2&e&&(Gc("role",t.role),Ah("igx-tree-node--disabled",t.disabled)("igx-tree-node",t.cssClass))},inputs:{data:"data",loading:"loading",resourceStrings:"resourceStrings",active:"active",disabled:"disabled",selected:"selected",expanded:"expanded"},outputs:{selectedChange:"selectedChange",expandedChange:"expandedChange"},standalone:!0,features:[cu([{provide:ML,useExisting:e}]),Tc,yu],ngContentSelectors:uH,decls:12,vars:2,consts:[["noDragTemplate",""],[4,"ngTemplateOutlet"],["class","igx-tree-node__group","role","group",4,"ngIf"],["defaultIndicator",""],["selectMarkerTemplate",""],["headerTemplate",""],["dragTemplate",""],["role","group",1,"igx-tree-node__group"],["childrenContainer",""],[3,"checked","readonly","indeterminate","tabindex"],[1,"igx-tree-node__wrapper",3,"tabIndex","ngClass","pointerdown","focus","blur"],["ghostTemplate",""],["aria-hidden","true"],["aria-hidden","true","class","igx-tree-node__spacer",4,"ngFor","ngForOf"],["class","igx-tree-node__toggle-button",3,"ngClass","click",4,"ngIf"],["class","igx-tree-node__toggle-button",4,"ngIf"],["class","igx-tree-node__select",3,"pointerdown","click",4,"ngIf"],[1,"igx-tree-node__content"],[1,"igx-tree-node__drop-indicator"],["aria-hidden","true",1,"igx-tree-node__spacer"],[1,"igx-tree-node__toggle-button",3,"ngClass","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-tree-node__toggle-button"],[3,"animate","indeterminate","textVisibility"],[1,"igx-tree-node__select",3,"pointerdown","click"],[1,"igx-tree-node__drag-wrapper"]],template:function(e,t){if(1&e&&(hh(hH),Wc(0,WL,1,1,"ng-template",null,0,_g),Wc(2,KL,1,0,null,1),Wc(3,UL,3,0,"div",2),Wc(4,qL,2,2,"ng-template",null,3,_g),Wc(6,YL,1,4,"ng-template",null,4,_g),Wc(8,aH,12,17,"ng-template",null,5,_g),Wc(10,cH,2,1,"ng-template",null,6,_g)),2&e){let e=Kc(1);Ed(2),Uc("ngTemplateOutlet",e),Ed(1),Uc("ngIf",t.expanded&&!t.loading)}},dependencies:[Pm,Em,FI,gk,Sm,bm,TL],encapsulation:2}),t})(),mH=[[["igx-tree-node"]]],fH=["igx-tree-node"],yH=(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxTreeExpandIndicator",""]],standalone:!0}),t})(),vH=(()=>{let e=class extends tI{get selection(){return this._selection}set selection(e){this._selection=e,this.selectionService.clearNodesSelection()}get rootNodes(){return this.nodes?.filter((e=>0===e.level))}constructor(e,t,i,n,r){super(r),this.navService=e,this.selectionService=t,this.treeService=i,this.element=n,this._displayDensityOptions=r,this.cssClass="igx-tree",this.singleBranchExpand=!1,this.animationSettings={openAnimation:$x,closeAnimation:Wx},this.nodeSelection=new zu,this.nodeExpanding=new zu,this.nodeExpanded=new zu,this.nodeCollapsing=new zu,this.nodeCollapsed=new zu,this.activeNodeChanged=new zu,this.disabledChange=new zu,this.activeNodeBindingChange=new zu,this.forceSelect=[],this._selection=OL,this.destroy$=new We,this.unsubChildren$=new We,this._comparer=(e,t)=>t.data===e,this.selectionService.register(this),this.treeService.register(this),this.navService.register(this)}get nativeElement(){return this.element.nativeElement}expandAll(e){(e=e||this.nodes.toArray()).forEach((e=>e.expanded=!0))}collapseAll(e){(e=e||this.nodes.toArray()).forEach((e=>e.expanded=!1))}deselectAll(e){this.selectionService.deselectNodesWithNoEvent(e)}findNodes(e,t){let i=t||this._comparer,n=this.nodes.filter((t=>i(e,t)));return 0===n?.length?null:n}handleKeydown(e){this.navService.handleKeydown(e)}ngOnInit(){super.ngOnInit(),this.disabledChange.pipe(yi(this.destroy$)).subscribe((e=>{this.navService.update_disabled_cache(e)})),this.activeNodeBindingChange.pipe(yi(this.destroy$)).subscribe((e=>{this.expandToNode(this.navService.activeNode),this.scrollNodeIntoView(e?.header?.nativeElement)})),this.densityChanged.pipe(yi(this.destroy$)).subscribe((()=>{requestAnimationFrame((()=>{this.scrollNodeIntoView(this.navService.activeNode?.header.nativeElement)}))})),this.subToCollapsing()}ngAfterViewInit(){this.nodes.changes.pipe(yi(this.destroy$)).subscribe((()=>{this.subToChanges()})),this.scrollNodeIntoView(this.navService.activeNode?.header?.nativeElement),this.subToChanges()}ngOnDestroy(){this.unsubChildren$.next(),this.unsubChildren$.complete(),this.destroy$.next(),this.destroy$.complete()}expandToNode(e){e&&e.parentNode&&e.path.forEach((t=>{t!==e&&!t.expanded&&(t.expanded=!0)}))}subToCollapsing(){this.nodeCollapsing.pipe(yi(this.destroy$)).subscribe((e=>{e.cancel||this.navService.update_visible_cache(e.node,!1)})),this.nodeExpanding.pipe(yi(this.destroy$)).subscribe((e=>{e.cancel||this.navService.update_visible_cache(e.node,!0)}))}subToChanges(){this.unsubChildren$.next();let e=[...this.forceSelect];requestAnimationFrame((()=>{this.selectionService.selectNodesWithNoEvent(e)})),this.forceSelect=[],this.nodes.forEach((e=>{e.expandedChange.pipe(yi(this.unsubChildren$)).subscribe((t=>{this.navService.update_visible_cache(e,t)})),e.closeAnimationDone.pipe(yi(this.unsubChildren$)).subscribe((()=>{let e=this.navService.focusedNode?.header.nativeElement;this.scrollNodeIntoView(e)})),e.openAnimationDone.pipe(yi(this.unsubChildren$)).subscribe((()=>{let e=this.navService.focusedNode?.header.nativeElement;this.scrollNodeIntoView(e)}))})),this.navService.init_invisible_cache()}scrollNodeIntoView(e){if(!e)return;let t=e.getBoundingClientRect(),i=this.nativeElement.getBoundingClientRect(),n=i.top>t.top?t.top-i.top:0,r=i.bottom<t.bottom?t.bottom-i.bottom:0;(n||r)&&this.nativeElement.scrollHeight>this.nativeElement.clientHeight&&(this.nativeElement.scrollTop=this.nativeElement.scrollTop+r+n+(n?-1:1)*t.height)}},t=e;return e.fac=function(t){return new(t||e)(Rd(LL),Rd(NL),Rd(VL),Rd(ld),Rd(eI,8))},e.cmp=Yn({type:e,selectors:[["igx-tree"]],contentQueries:function(e,t,i){if(1&e&&(mg(i,yH,5,ju),mg(i,pH,5)),2&e){let e;gg(e=fg())&&(t.expandIndicator=e.first),gg(e=fg())&&(t.nodes=e)}},hostVars:2,hostBindings:function(e,t){2&e&&Ah("igx-tree",t.cssClass)},inputs:{selection:"selection",singleBranchExpand:"singleBranchExpand",animationSettings:"animationSettings"},outputs:{nodeSelection:"nodeSelection",nodeExpanding:"nodeExpanding",nodeExpanded:"nodeExpanded",nodeCollapsing:"nodeCollapsing",nodeCollapsed:"nodeCollapsed",activeNodeChanged:"activeNodeChanged"},standalone:!0,features:[cu([VL,NL,LL,{provide:PL,useExisting:e}]),Tc,yu],ngContentSelectors:fH,decls:2,vars:0,consts:[["role","tree",1,"igx-tree__root",3,"keydown"]],template:function(e,t){1&e&&(hh(mH),Yc(0,"div",0),oh("keydown",(function(e){return t.handleKeydown(e)})),uh(1),Xc())},encapsulation:2}),t})(),xH=(()=>{let e=class extends tI{constructor(e){super(e),this._displayDensityOptions=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(eI,8))},e.dir=er({type:e,selectors:[["","igxListBase",""]],standalone:!0,features:[Tc]}),t})(),_H=((_H=_H||{})[_H.NONE=0]="NONE",_H[_H.LEFT=1]="LEFT",_H[_H.RIGHT=2]="RIGHT",_H),wH=(()=>{let e=class{constructor(e){this.template=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxEmptyList",""]],standalone:!0}),t})(),CH=(()=>{let e=class{constructor(e){this.template=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxDataLoading",""]],standalone:!0}),t})(),SH=(()=>{let e=class{constructor(e){this.template=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxListItemLeftPanning",""]],standalone:!0}),t})(),bH=(()=>{let e=class{constructor(e){this.template=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxListItemRightPanning",""]],standalone:!0}),t})(),DH=["leftPanningTmpl"],EH=["rightPanningTmpl"];function IH(e,t){1&e&&th(0)}function TH(e,t){if(1&e&&(Yc(0,"div",7,8),Wc(2,IH,1,0,"ng-container",9),Xc()),2&e){let e=dh();Th("width",e.offsetWidthInRem,"rem")("height",e.offsetHeightInRem,"rem"),Ed(2),Uc("ngTemplateOutlet",e.list.listItemLeftPanningTemplate.template)("ngTemplateOutletContext",e.context)}}function AH(e,t){1&e&&th(0)}function kH(e,t){if(1&e&&(Yc(0,"div",10,11),Wc(2,AH,1,0,"ng-container",9),Xc()),2&e){let e=dh();Th("width",e.offsetWidthInRem,"rem")("height",e.offsetHeightInRem,"rem"),Ed(2),Uc("ngTemplateOutlet",e.list.listItemRightPanningTemplate.template)("ngTemplateOutletContext",e.context)}}function RH(e,t){1&e&&uh(0)}function OH(e,t){1&e&&(Yc(0,"div",12),uh(1,1),Xc())}function FH(e,t){1&e&&(Yc(0,"div",13),uh(1,2),Xc())}function PH(e,t){1&e&&(Yc(0,"div",14),uh(1,3),Xc())}function MH(e,t){1&e&&th(0)}function VH(e,t){if(1&e&&(Jc(0),Wc(1,MH,1,0,"ng-container",15),eh()),2&e){dh();let e=Kc(3);Ed(1),Uc("ngTemplateOutlet",e)}}function NH(e,t){1&e&&th(0)}function LH(e,t){1&e&&th(0)}function HH(e,t){1&e&&th(0)}function BH(e,t){1&e&&th(0)}function GH(e,t){if(1&e&&(Jc(0),Yc(1,"div",16),Wc(2,NH,1,0,"ng-container",15),Wc(3,LH,1,0,"ng-container",15),Wc(4,HH,1,0,"ng-container",15),Wc(5,BH,1,0,"ng-container",15),Xc(),eh()),2&e){dh();let e=Kc(5),t=Kc(7),i=Kc(9),n=Kc(3);Ed(2),Uc("ngTemplateOutlet",e),Ed(1),Uc("ngTemplateOutlet",t),Ed(1),Uc("ngTemplateOutlet",i),Ed(1),Uc("ngTemplateOutlet",n)}}var zH=["*",[["","igxListThumbnail",""],["igx-list__item-thumbnail"],["igx-avatar"]],[["","igxListLine",""],["",8,"igx-list__item-lines"],["","igxListLineTitle",""],["","igxListLineSubTitle",""],["",8,"igx-list__item-line-title"],["",8,"igx-list__item-line-subtitle"]],[["","igxListAction",""],["",8,"igx-list__item-actions"]]],$H=["*","[igxListThumbnail], igx-list__item-thumbnail, igx-avatar","[igxListLine], .igx-list__item-lines, [igxListLineTitle], [igxListLineSubTitle], .igx-list__item-line-title, .igx-list__item-line-subtitle","[igxListAction], .igx-list__item-actions"],WH=(()=>{let e=class{get panState(){return this._panState}get index(){return null!==this._index?this._index:this.list.children.toArray().indexOf(this)}set index(e){this._index=e}get element(){return this.elementRef.nativeElement}get contentElement(){let e=this.element.getElementsByClassName("igx-list__item-content");return e&&e.length>0?e[0]:null}get context(){return{$implicit:this}}get width(){if(this.element)return this.element.offsetWidth}get maxLeft(){return-this.width}get maxRight(){return this.width}get offsetWidthInRem(){return db(this.element.offsetWidth)}get offsetHeightInRem(){return db(this.element.offsetHeight)}constructor(e,t,i){this.list=e,this.elementRef=t,this._renderer=i,this.hidden=!1,this.touchAction="pan-y",this._panState=_H.NONE,this.panOffset=0,this._index=null,this.lastPanDir=_H.NONE}get role(){return this.isHeader?"separator":"listitem"}get headerStyle(){return this.isHeader}get innerStyle(){return!this.isHeader}get display(){return this.hidden?"none":""}clicked(e){this.list.itemClicked.emit({item:this,event:e,direction:this.lastPanDir}),this.lastPanDir=_H.NONE}panStart(){this.isTrue(this.isHeader)||!this.isTrue(this.list.allowLeftPanning)&&!this.isTrue(this.list.allowRightPanning)||this.list.startPan.emit({item:this,direction:this.lastPanDir,keepitem:!1})}panCancel(){this.resetPanPosition(),this.list.endPan.emit({item:this,direction:this.lastPanDir,keepItem:!1})}panMove(e){if(this.isTrue(this.isHeader)||!this.isTrue(this.list.allowLeftPanning)&&!this.isTrue(this.list.allowRightPanning))return;let t=e.deltaX<0;t&&this.isTrue(this.list.allowLeftPanning)?(this.showLeftPanTemplate(),this.setContentElementLeft(Math.max(this.maxLeft,e.deltaX))):!t&&this.isTrue(this.list.allowRightPanning)&&(this.showRightPanTemplate(),this.setContentElementLeft(Math.min(this.maxRight,e.deltaX)))}panEnd(){if(this.isTrue(this.isHeader)||!this.isTrue(this.list.allowLeftPanning)&&!this.isTrue(this.list.allowRightPanning))return;let e=this.panOffset,t=this.width*this.list.panEndTriggeringThreshold;if(0===e)return;let i=e>0?_H.RIGHT:_H.LEFT;this.lastPanDir=i;let n={item:this,direction:i,keepItem:!1};this.list.endPan.emit(n);let r=this._panState;if(Math.abs(e)<t)return this.resetPanPosition(),void this.list.resetPan.emit(this);if(i===_H.LEFT?this.list.leftPan.emit(n):this.list.rightPan.emit(n),!0===n.keepItem?(this.setContentElementLeft(0),this._panState=_H.NONE):i===_H.LEFT?(this.setContentElementLeft(this.maxLeft),this._panState=_H.LEFT):(this.setContentElementLeft(this.maxRight),this._panState=_H.RIGHT),r!==this._panState){let e={oldState:r,newState:this._panState,item:this};this.list.panStateChange.emit(e)}this.hideLeftAndRightPanTemplates()}showLeftPanTemplate(){this.setLeftAndRightTemplatesVisibility("visible","hidden")}showRightPanTemplate(){this.setLeftAndRightTemplatesVisibility("hidden","visible")}hideLeftAndRightPanTemplates(){setTimeout((()=>{this.setLeftAndRightTemplatesVisibility("hidden","hidden")}),500)}setLeftAndRightTemplatesVisibility(e,t){this.leftPanningTemplateElement&&this.leftPanningTemplateElement.nativeElement&&(this.leftPanningTemplateElement.nativeElement.style.visibility=e),this.rightPanningTemplateElement&&this.rightPanningTemplateElement.nativeElement&&(this.rightPanningTemplateElement.nativeElement.style.visibility=t)}setContentElementLeft(e){this.panOffset=e,this.contentElement.style.transform="translateX("+e+"px)"}isTrue(e){return"boolean"==typeof e?e:"true"===e}resetPanPosition(){this.setContentElementLeft(0),this._panState=_H.NONE,this.hideLeftAndRightPanTemplates()}},t=e;return e.fac=function(t){return new(t||e)(Rd(xH),Rd(ld),Rd(hd))},e.cmp=Yn({type:e,selectors:[["igx-list-item"]],viewQuery:function(e,t){if(1&e&&(pg(DH,5),pg(EH,5)),2&e){let e;gg(e=fg())&&(t.leftPanningTemplateElement=e.first),gg(e=fg())&&(t.rightPanningTemplateElement=e.first)}},hostVars:10,hostBindings:function(e,t){1&e&&oh("click",(function(e){return t.clicked(e)}))("panstart",(function(){return t.panStart()}))("pancancel",(function(){return t.panCancel()}))("panmove",(function(e){return t.panMove(e)}))("panend",(function(){return t.panEnd()})),2&e&&(Gc("aria-label",t.ariaLabel)("role",t.role),Th("touch-action",t.touchAction)("display",t.display),Ah("igx-list__header",t.headerStyle)("igx-list__item-base",t.innerStyle))},inputs:{isHeader:"isHeader",hidden:"hidden",index:"index"},standalone:!0,features:[cu([MM]),yu],ngContentSelectors:$H,decls:12,vars:4,consts:[["class","igx-list__item-right",3,"width","height",4,"ngIf"],["class","igx-list__item-left",3,"width","height",4,"ngIf"],["itemsContent",""],["itemThumbnails",""],["itemLines",""],["itemActions",""],[4,"ngIf"],[1,"igx-list__item-right"],["leftPanningTmpl",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-list__item-left"],["rightPanningTmpl",""],[1,"igx-list__item-thumbnail"],[1,"igx-list__item-lines"],[1,"igx-list__item-actions"],[4,"ngTemplateOutlet"],[1,"igx-list__item-content"]],template:function(e,t){1&e&&(hh(zH),Wc(0,TH,3,6,"div",0),Wc(1,kH,3,6,"div",1),Wc(2,RH,1,0,"ng-template",null,2,_g),Wc(4,OH,2,0,"ng-template",null,3,_g),Wc(6,FH,2,0,"ng-template",null,4,_g),Wc(8,PH,2,0,"ng-template",null,5,_g),Wc(10,VH,2,1,"ng-container",6),Wc(11,GH,6,4,"ng-container",6)),2&e&&(Uc("ngIf",!t.isHeader&&t.list.listItemLeftPanningTemplate),Ed(1),Uc("ngIf",!t.isHeader&&t.list.listItemRightPanningTemplate),Ed(9),Uc("ngIf",t.isHeader),Ed(1),Uc("ngIf",!t.isHeader))},dependencies:[Em,Pm],encapsulation:2,changeDetection:0}),t})(),jH=["defaultEmptyList"],KH=["defaultDataLoading"];function UH(e,t){if(1&e&&(Yc(0,"article",3),$h(1),Xc()),2&e){let e=dh();Ed(1),Kh(" ",e.resourceStrings.igx_list_no_items," ")}}function qH(e,t){if(1&e&&(Yc(0,"article",3),$h(1),Xc()),2&e){let e=dh();Ed(1),Kh(" ",e.resourceStrings.igx_list_loading," ")}}function YH(e,t){1&e&&th(0)}function XH(e,t){if(1&e&&(Jc(0),Wc(1,YH,1,0,"ng-container",4),eh()),2&e){let e=dh();Ed(1),Uc("ngTemplateOutlet",e.template)("ngTemplateOutletContext",e.context)}}var ZH=["*"],QH=0,JH=(()=>{let e=class extends xH{set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}constructor(e,t){super(t),this.element=e,this.panEndTriggeringThreshold=.5,this.id="igx-list-"+QH++,this.allowLeftPanning=!1,this.allowRightPanning=!1,this.isLoading=!1,this.leftPan=new zu,this.rightPan=new zu,this.startPan=new zu,this.endPan=new zu,this.resetPan=new zu,this.panStateChange=new zu,this.itemClicked=new zu,this._resourceStrings=fI.ListResStrings}get sortedChildren(){return void 0!==this.children?this.children.toArray().sort(((e,t)=>e.index-t.index)):null}get role(){return"list"}get isListEmpty(){return!this.children||0===this.children.length}get cssClass(){return!this.isListEmpty&&this.displayDensity===ZE}get cssClassCompact(){return!this.isListEmpty&&this.displayDensity===JE}get cssClassCosy(){return!this.isListEmpty&&this.displayDensity===QE}get items(){let e=[];if(void 0!==this.children)for(let t of this.sortedChildren)t.isHeader||e.push(t);return e}get headers(){let e=[];if(void 0!==this.children)for(let t of this.children.toArray())t.isHeader&&e.push(t);return e}get context(){return{$implicit:this}}get template(){return this.isLoading?this.dataLoadingTemplate?this.dataLoadingTemplate.template:this.defaultDataLoadingTemplate:this.emptyListTemplate?this.emptyListTemplate.template:this.defaultEmptyListTemplate}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(eI,8))},e.cmp=Yn({type:e,selectors:[["igx-list"]],contentQueries:function(e,t,i){if(1&e&&(mg(i,wH,5,wH),mg(i,CH,5,CH),mg(i,SH,5,SH),mg(i,bH,5,bH),mg(i,WH,5)),2&e){let e;gg(e=fg())&&(t.emptyListTemplate=e.first),gg(e=fg())&&(t.dataLoadingTemplate=e.first),gg(e=fg())&&(t.listItemLeftPanningTemplate=e.first),gg(e=fg())&&(t.listItemRightPanningTemplate=e.first),gg(e=fg())&&(t.children=e)}},viewQuery:function(e,t){if(1&e&&(pg(jH,7,ju),pg(KH,7,ju)),2&e){let e;gg(e=fg())&&(t.defaultEmptyListTemplate=e.first),gg(e=fg())&&(t.defaultDataLoadingTemplate=e.first)}},hostVars:10,hostBindings:function(e,t){2&e&&(Gc("id",t.id)("role",t.role),Ah("igx-list--empty",t.isListEmpty)("igx-list",t.cssClass)("igx-list--compact",t.cssClassCompact)("igx-list--cosy",t.cssClassCosy))},inputs:{panEndTriggeringThreshold:"panEndTriggeringThreshold",id:"id",allowLeftPanning:"allowLeftPanning",allowRightPanning:"allowRightPanning",isLoading:"isLoading",resourceStrings:"resourceStrings"},outputs:{leftPan:"leftPan",rightPan:"rightPan",startPan:"startPan",endPan:"endPan",resetPan:"resetPan",panStateChange:"panStateChange",itemClicked:"itemClicked"},standalone:!0,features:[cu([{provide:xH,useExisting:e}]),Tc,yu],ngContentSelectors:ZH,decls:6,vars:1,consts:[["defaultEmptyList",""],["defaultDataLoading",""],[4,"ngIf"],[1,"igx-list__message"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(hh(),uh(0),Wc(1,UH,2,1,"ng-template",null,0,_g),Wc(3,qH,2,1,"ng-template",null,1,_g),Wc(5,XH,2,2,"ng-container",2)),2&e&&(Ed(5),Uc("ngIf",!t.children||0===t.children.length||t.isLoading))},dependencies:[Em,Pm],encapsulation:2}),t})(),eB=["input"],tB=["list"],iB=["selectAllCheckbox"],nB=["addToCurrentFilterCheckbox"],rB=["tree"],sB=["defaultExcelStyleLoadingValuesTemplate"];function oB(e,t){if(1&e){let e=nh();Yc(0,"igx-icon",14),oh("click",(function(){return Is(e),Ts(dh().clearInput())})),$h(1," clear "),Xc()}}function aB(e,t){if(1&e){let e=nh();Yc(0,"igx-list-item")(1,"igx-checkbox",21),oh("change",(function(t){return Is(e),Ts(dh(2).onCheckboxChange(t))})),$h(2),Xc()()}if(2&e){let e=t.$implicit;Ed(1),Uc("value",e)("tabindex",-1)("checked",null==e?null:e.isSelected)("disableRipple",!0)("indeterminate",null==e?null:e.indeterminate)("disableTransitions",!0),Ed(1),Kh(" ",e.label," ")}}function lB(e,t){1&e&&th(0)}function dB(e,t){if(1&e&&(Yc(0,"div",22),Wc(1,lB,1,0,"ng-container",23),Xc()),2&e){let e=dh(2);Ed(1),Uc("ngTemplateOutlet",e.valuesLoadingTemplate)}}function cB(e,t){1&e&&th(0)}function hB(e,t){1&e&&Wc(0,cB,1,0,"ng-container",23),2&e&&(dh(2),Uc("ngTemplateOutlet",Kc(9)))}function uB(e,t){if(1&e&&(Yc(0,"igx-list",15,16)(2,"div",17),Wc(3,aB,3,7,"igx-list-item",18),Xc(),Wc(4,dB,2,1,"ng-template",19),Wc(5,hB,1,1,"ng-template",20),Xc()),2&e){let e=dh();Uc("displayDensity",e.esf.displayDensity)("isLoading",e.isLoading),Ed(3),Uc("igxForOf",e.displayedListData)("igxForScrollOrientation","vertical")("igxForContainerSize",e.containerSize)("igxForItemSize",e.itemSize)}}function gB(e,t){if(1&e&&(Yc(0,"div",31)(1,"igx-checkbox",35,36),$h(3),Xc()()),2&e){let e=dh(3);Ed(1),Uc("value",e.addToCurrentFilterItem)("checked",e.addToCurrentFilterItem.isSelected)("disableRipple",!0)("disableTransitions",!0),Ed(2),Kh(" ",e.addToCurrentFilterItem.label," ")}}function pB(e,t){if(1&e){let e=nh();Yc(0,"div",30)(1,"div",31)(2,"igx-checkbox",32,33),oh("change",(function(t){return Is(e),Ts(dh(2).onSelectAllCheckboxChange(t))})),$h(4),Xc()(),Wc(5,gB,4,5,"div",34),Xc()}if(2&e){let e=dh(2);Ed(2),Uc("value",e.selectAllItem)("checked",null==e.selectAllItem?null:e.selectAllItem.isSelected)("disableRipple",!0)("indeterminate",null==e.selectAllItem?null:e.selectAllItem.indeterminate)("disableTransitions",!0),Ed(2),Kh(" ",e.selectAllItem.label," "),Ed(1),Uc("ngIf",e.searchValue)}}function mB(e,t){if(1&e&&(Yc(0,"igx-tree-node",37)(1,"div"),$h(2),Xc()()),2&e){let e=t.$implicit;Uc("data",e)("selected",e.isSelected),Ed(2),jh(e.label)}}function fB(e,t){if(1&e&&(Yc(0,"igx-tree-node",37)(1,"div"),$h(2),Xc(),Wc(3,mB,3,3,"igx-tree-node",28),Xc()),2&e){let e=t.$implicit;Uc("data",e)("selected",e.isSelected),Ed(2),jh(e.label),Ed(1),Uc("ngForOf",e.children)}}function yB(e,t){if(1&e&&(Yc(0,"igx-tree-node",37)(1,"div"),$h(2),Xc(),Wc(3,fB,4,4,"igx-tree-node",28),Xc()),2&e){let e=t.$implicit;Uc("data",e)("selected",e.isSelected),Ed(2),jh(e.label),Ed(1),Uc("ngForOf",e.children)}}function vB(e,t){if(1&e&&(Yc(0,"igx-tree-node",37)(1,"div"),$h(2),Xc(),Wc(3,yB,4,4,"igx-tree-node",28),Xc()),2&e){let e=t.$implicit;Uc("data",e)("selected",e.isSelected),Ed(2),jh(e.label),Ed(1),Uc("ngForOf",e.children)}}function xB(e,t){if(1&e&&(Yc(0,"igx-tree-node",37)(1,"div"),$h(2),Xc(),Wc(3,vB,4,4,"igx-tree-node",28),Xc()),2&e){let e=t.$implicit;Uc("data",e)("selected",e.isSelected),Ed(2),jh(e.label),Ed(1),Uc("ngForOf",e.children)}}function _B(e,t){if(1&e&&(Yc(0,"igx-tree-node",37)(1,"div"),$h(2),Xc(),Wc(3,xB,4,4,"igx-tree-node",28),Xc()),2&e){let e=t.$implicit;Uc("data",e)("selected",e.isSelected),Ed(2),jh(e.label),Ed(1),Uc("ngForOf",e.children)}}function wB(e,t){if(1&e&&(Yc(0,"igx-tree-node",37)(1,"div"),$h(2),Xc(),Wc(3,_B,4,4,"igx-tree-node",28),Xc()),2&e){let e=t.$implicit;Uc("data",e)("selected",e.isSelected),Ed(2),jh(e.label),Ed(1),Uc("ngForOf",e.children)}}function CB(e,t){if(1&e&&(Yc(0,"igx-tree-node",37)(1,"div"),$h(2),Xc(),Wc(3,wB,4,4,"igx-tree-node",28),Xc()),2&e){let e=t.$implicit;Uc("data",e)("selected",e.isSelected),Ed(2),jh(e.label),Ed(1),Uc("ngForOf",e.children)}}function SB(e,t){if(1&e&&(Yc(0,"igx-tree-node",37)(1,"div"),$h(2),Xc(),Wc(3,CB,4,4,"igx-tree-node",28),Xc()),2&e){let e=t.$implicit;Uc("data",e)("selected",e.isSelected),Ed(2),jh(e.label),Ed(1),Uc("ngForOf",e.children)}}function bB(e,t){if(1&e&&(Yc(0,"igx-tree-node",37)(1,"div"),$h(2),Xc(),Wc(3,SB,4,4,"igx-tree-node",28),Xc()),2&e){let e=t.$implicit;Uc("data",e)("selected",e.isSelected),Ed(2),jh(e.label),Ed(1),Uc("ngForOf",e.children)}}function DB(e,t){1&e&&th(0)}function EB(e,t){if(1&e&&(Yc(0,"div",22),Wc(1,DB,1,0,"ng-container",23),Xc()),2&e){let e=dh(2);Ed(1),Uc("ngTemplateOutlet",e.valuesLoadingTemplate)}}function IB(e,t){1&e&&th(0)}function TB(e,t){1&e&&Wc(0,IB,1,0,"ng-container",23),2&e&&(dh(2),Uc("ngTemplateOutlet",Kc(9)))}function AB(e,t){if(1&e){let e=nh();Yc(0,"div",24),Wc(1,pB,6,7,"div",25),Yc(2,"igx-tree",26,27),oh("nodeSelection",(function(t){return Is(e),Ts(dh().onNodeSelectionChange(t))})),Wc(4,bB,4,4,"igx-tree-node",28),Xc(),Wc(5,EB,2,1,"ng-template",19),Wc(6,TB,1,1,"ng-template",29),Xc()}if(2&e){let e=dh();Ed(1),Uc("ngIf",!e.isTreeEmpty()),Ed(1),Uc("displayDensity",e.esf.displayDensity),Ed(2),Uc("ngForOf",e.displayedListData),Ed(2),Uc("ngIf",e.isTreeEmpty())}}function kB(e,t){if(1&e&&(Yc(0,"div",38),$h(1),Xc()),2&e){let e=dh();Ed(1),Kh(" ",null==e.esf.grid?null:e.esf.grid.resourceStrings.igx_grid_excel_no_matches," ")}}function RB(e,t){1&e&&Zc(0,"igx-circular-bar",39),2&e&&Uc("indeterminate",!0)}var OB=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}constructor(e){this.template=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxExcelStyleLoading",""]],standalone:!0}),t})(),FB=(()=>{let e=class{get selectAllItem(){if(!this._selectAllItem){let e={isSelected:!1,isFiltered:!1,indeterminate:!1,isSpecial:!0,isBlanks:!1,value:this.esf.grid.resourceStrings.igx_grid_excel_select_all,label:this.esf.grid.resourceStrings.igx_grid_excel_select_all};this._selectAllItem=e}return this._selectAllItem}get addToCurrentFilterItem(){if(!this._addToCurrentFilterItem){let e={isSelected:!1,isFiltered:!1,indeterminate:!1,isSpecial:!0,isBlanks:!1,value:this.esf.grid.resourceStrings.igx_grid_excel_add_to_filter,label:this.esf.grid.resourceStrings.igx_grid_excel_add_to_filter};this._addToCurrentFilterItem=e}return this._addToCurrentFilterItem}get isLoading(){return this._isLoading}set isLoading(e){this._isLoading=e,this.cdr.destroyed||this.cdr.detectChanges()}get valuesLoadingTemplate(){return this.esf.grid?.excelStyleLoadingValuesTemplateDirective?this.esf.grid.excelStyleLoadingValuesTemplateDirective.template:this.defaultExcelStyleLoadingValuesTemplate}constructor(e,t,i){this.cdr=e,this.esf=t,this.platform=i,this.defaultClass=!0,this.displayedListData=[],this.destroy$=new We,this.refreshSize=()=>{this.virtDir&&(this.virtDir.igxForContainerSize=this.containerSize,this.virtDir.igxForItemSize=this.itemSize,this.virtDir.recalcUpdateSizes(),this.cdr.detectChanges())},t.loadingStart.pipe(yi(this.destroy$)).subscribe((()=>{this.displayedListData=[],this.isLoading=!0})),t.loadingEnd.pipe(yi(this.destroy$)).subscribe((()=>{this.refreshSize(),this.isLoading=!1})),t.initialized.pipe(yi(this.destroy$)).subscribe((()=>{requestAnimationFrame((()=>{this.refreshSize(),this.searchInput.nativeElement.focus()}))})),t.columnChange.pipe(yi(this.destroy$)).subscribe((()=>{this.virtDir?.resetScrollPosition()})),t.listDataLoaded.pipe(yi(this.destroy$)).subscribe((()=>{this._selectAllItem=this.esf.listData[0],this.isHierarchical()&&this.esf.listData[0].isSpecial&&this.esf.listData.splice(0,1),this.searchValue?this.clearInput():this.filterListData(),this.cdr.detectChanges(),requestAnimationFrame((()=>{this.refreshSize(),this.searchInput.nativeElement.focus()}))}))}ngAfterViewInit(){requestAnimationFrame(this.refreshSize)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}clearInput(){this.searchValue=null,this.filterListData()}onCheckboxChange(e){let t=this.displayedListData.indexOf(e.checkbox.value),i=this.displayedListData[0];if(0===t)this.displayedListData.forEach((t=>{t!==this.addToCurrentFilterItem&&(t.isSelected=e.checked)})),i.indeterminate=!1;else{e.checkbox.value.isSelected=e.checked;let t=this.displayedListData.indexOf(this.addToCurrentFilterItem)>-1?2:1,n=this.displayedListData.slice(t,this.displayedListData.length);n.find((e=>!1===e.isSelected))?n.find((e=>!0===e.isSelected))?i.indeterminate=!0:(i.indeterminate=!1,i.isSelected=!1):(i.indeterminate=!1,i.isSelected=!0)}e.checkbox.nativeCheckbox.nativeElement.blur()}onSelectAllCheckboxChange(e){this._selectAllItem.isSelected=e.checked,this._selectAllItem.indeterminate=!1,this.tree.nodes.forEach((t=>t.data.isSelected=e.checked))}onNodeSelectionChange(e){e.added.forEach((e=>{e.data.isSelected=!0})),e.removed.forEach((e=>{e.data.isSelected=!1})),this._hierarchicalSelectedItems=e.newSelection.map((e=>e.data));let t=this.selectAllItem;0===this._hierarchicalSelectedItems.length?(t.indeterminate=!1,t.isSelected=!1):this._hierarchicalSelectedItems.length===this.tree.nodes.length?(t.indeterminate=!1,t.isSelected=!0):(t.indeterminate=!0,t.isSelected=!1)}get itemSize(){let e="40px";switch(this.esf.displayDensity){case QE:e="32px";break;case JE:e="24px"}return e}get containerSize(){return this.esf.listData.length?this.list?.element.nativeElement.offsetHeight:0}get applyButtonDisabled(){return this._selectAllItem&&!this._selectAllItem.isSelected&&!this._selectAllItem.indeterminate||this.displayedListData&&0===this.displayedListData.length}onInputKeyDown(e){switch(e.key){case this.platform.KEYMAP.ENTER:return e.preventDefault(),void this.applyFilter();case this.platform.KEYMAP.ESCAPE:return void(this.searchValue&&(e.stopPropagation(),this.clearInput()))}}filterListData(){if((this.esf.column?.dataType===Eb.Number||this.esf.column?.dataType===Eb.Currency||this.esf.column?.dataType===Eb.Percent)&&this.rejectNonNumericalEntries(),!this.esf.listData||!this.esf.listData.length)return void(this.displayedListData=[]);let e;if(e=this._selectAllItem?this._selectAllItem:this.esf.listData[0],!this.searchValue){let t=this.esf.listData.some((e=>e.isFiltered)),i=this.esf.listData.some((e=>!e.isFiltered));return e.indeterminate=t&&i,this.isHierarchical()&&this.tree&&(this._hierarchicalSelectedItems=this.tree.nodes.map((e=>e.data)).filter((e=>e.isFiltered))),this.esf.listData.forEach((e=>e.isSelected=e.isFiltered)),this.displayedListData!==this.esf.listData&&(this.displayedListData=this.esf.listData,this.isHierarchical()&&(this.cdr.detectChanges(),this.tree.nodes.forEach((e=>{let n=e.data;e.selected=n.isSelected||n.isFiltered,t=t||e.selected,i=i||!e.selected})),e.indeterminate=t&&i)),e.label=this.esf.grid.resourceStrings.igx_grid_excel_select_all,void this.cdr.detectChanges()}let t=this.searchValue.toLowerCase();if(this.isHierarchical()){this._hierarchicalSelectedItems=[],this.esf.listData.forEach((e=>e.isSelected=!1));let e=VS(this.esf.listData,"children");this.displayedListData=this.hierarchicalSelectMatches(e,t),this.cdr.detectChanges(),this.tree.nodes.forEach((e=>{e.selected=!0,e.data.label.toString().toLowerCase().indexOf(t)>-1&&this.expandAllParentNodes(e)}))}else this.displayedListData=this.esf.listData.filter(((e,i)=>0===i&&e.isSpecial||null!==e.label&&void 0!==e.label&&!e.isBlanks&&e.label.toString().toLowerCase().indexOf(t)>-1)),this.esf.listData.forEach((e=>e.isSelected=!1)),this.displayedListData.forEach((e=>e.isSelected=!0)),this.displayedListData.splice(1,0,this.addToCurrentFilterItem),2===this.displayedListData.length&&(this.displayedListData=[]);e.indeterminate=!1,e.isSelected=!0,e.label=this.esf.grid.resourceStrings.igx_grid_excel_select_all_search_results,this.cdr.detectChanges()}applyFilter(){let t,i=new kb(Rb.Or,this.esf.column.field),n=[];if(this.isHierarchical())this.addToCurrentFilterCheckbox&&this.addToCurrentFilterCheckbox.checked&&this.addFilteredToSelectedItems(this.esf.listData),n=this._hierarchicalSelectedItems;else{let e=this.displayedListData[1];n=e===this.addToCurrentFilterItem&&e.isSelected?this.esf.listData.slice(1,this.esf.listData.length).filter((e=>e.isSelected||e.isFiltered)):this.esf.listData.slice(1,this.esf.listData.length).filter((e=>e.isSelected))}if(t=this.isHierarchical()?this.esf.listData.find((e=>!1===e.isSelected)):this.esf.listData.slice(1,this.esf.listData.length).find((e=>!1===e.isSelected)),t){if(n.length<=e.filterOptimizationThreshold)n.forEach((e=>{let t=null;if(null!==e.value&&void 0!==e.value)if(this.esf.column.dataType===Eb.Boolean)t=this.createCondition(e.value.toString());else{let e=this.esf.column.dataType===Eb.Time?"at":"equals";t=this.createCondition(e)}else t=this.createCondition("empty");i.filteringOperands.push({condition:t,fieldName:this.esf.column.field,ignoreCase:this.esf.column.filteringIgnoreCase,searchVal:e.value})}));else{let e,t=n.findIndex((e=>null===e.value||void 0===e.value));t>=0&&(e=n[t],n.splice(t,1)),i.filteringOperands.push({condition:this.createCondition("in"),fieldName:this.esf.column.field,ignoreCase:this.esf.column.filteringIgnoreCase,searchVal:new Set(this.esf.column.dataType===Eb.Date||this.esf.column.dataType===Eb.DateTime?n.map((e=>e.value.toISOString())):this.esf.column.dataType===Eb.Time?n.map((e=>e.value.toLocaleTimeString())):n.map((e=>e.value)))}),e&&i.filteringOperands.push({condition:this.createCondition("empty"),fieldName:this.esf.column.field,ignoreCase:this.esf.column.filteringIgnoreCase,searchVal:e.value})}let t=this.esf.grid,r=this.esf.column;t.filteringService.filterInternal(r.field,i),this.esf.expressionsList=new Array,t.filteringService.generateExpressionsList(r.filteringExpressionsTree,t.filteringLogic,this.esf.expressionsList)}else this.esf.grid.filteringService.clearFilter(this.esf.column.field);this.esf.closeDropdown()}isHierarchical(){return this.esf.isHierarchical}isTreeEmpty(){return this.esf.isHierarchical&&0===this.displayedListData.length}hierarchicalSelectMatches(e,t){return e.forEach((e=>{e.indeterminate=!1,e.isSelected=!1;let i=this.tree.nodes.filter((t=>t.data.label===e.label))[0];i&&(i.expanded=!1),e.label.toString().toLowerCase().indexOf(t)>-1?(e.isSelected=!0,this.hierarchicalSelectAllChildren(e),this._hierarchicalSelectedItems.push(e)):e.children.length>0&&(e.children=this.hierarchicalSelectMatches(e.children,t),e.children.length>0&&(e.isSelected=!0,i&&(i.expanded=!0)))})),e.filter((e=>!0===e.isSelected))}hierarchicalSelectAllChildren(e){e.children.forEach((e=>{e.indeterminate=!1,e.isSelected=!0,this._hierarchicalSelectedItems.push(e),e.children&&this.hierarchicalSelectAllChildren(e)}))}expandAllParentNodes(e){e.parentNode&&(e.parentNode.expanded=!0,this.expandAllParentNodes(e.parentNode))}addFilteredToSelectedItems(e){e.forEach((e=>{e.children&&this.addFilteredToSelectedItems(e.children),e.isFiltered&&this._hierarchicalSelectedItems.indexOf(e)<0&&this._hierarchicalSelectedItems.push(e)}))}createCondition(e){switch(this.esf.column.dataType){case Eb.Boolean:return AA.instance().condition(e);case Eb.Number:case Eb.Currency:case Eb.Percent:return PA.instance().condition(e);case Eb.Date:return RA.instance().condition(e);case Eb.Time:return FA.instance().condition(e);case Eb.DateTime:return OA.instance().condition(e);default:return MA.instance().condition(e)}}rejectNonNumericalEntries(){let e=/[^0-9\.,eE\-]/g;this.searchValue&&e.test(this.searchValue)&&(this.searchInput.value=this.searchValue.replace(e,""),this.searchValue=this.searchInput.value)}},t=e;return e.filterOptimizationThreshold=2,e.fac=function(t){return new(t||e)(Rd(Jg),Rd(yN),Rd($S))},e.cmp=Yn({type:e,selectors:[["igx-excel-style-search"]],viewQuery:function(e,t){if(1&e&&(pg(eB,7,cI),pg(tB,5,JH),pg(iB,5,gk),pg(nB,5,gk),pg(rB,5,vH),pg(QT,7),pg(sB,5,ju)),2&e){let e;gg(e=fg())&&(t.searchInput=e.first),gg(e=fg())&&(t.list=e.first),gg(e=fg())&&(t.selectAllCheckbox=e.first),gg(e=fg())&&(t.addToCurrentFilterCheckbox=e.first),gg(e=fg())&&(t.tree=e.first),gg(e=fg())&&(t.virtDir=e.first),gg(e=fg())&&(t.defaultExcelStyleLoadingValuesTemplate=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&Ah("igx-excel-filter__menu-main",t.defaultClass)},standalone:!0,features:[yu],decls:19,vars:11,consts:[["type","box",3,"displayDensity"],["igxPrefix",""],["igxInput","","tabindex","0","autocomplete","off",3,"ngModel","placeholder","ngModelChange","keydown"],["input",""],["igxSuffix","","tabindex","0",3,"click",4,"ngIf"],[3,"displayDensity","isLoading",4,"ngIf"],["class","igx-excel-filter__tree",4,"ngIf"],["emptySearch",""],["defaultExcelStyleLoadingValuesTemplate",""],[1,"igx-excel-filter__menu-footer"],[1,"igx-excel-filter__cancel"],["igxButton","flat",3,"displayDensity","click"],[1,"igx-excel-filter__apply"],["igxButton","raised",3,"displayDensity","disabled","click"],["igxSuffix","","tabindex","0",3,"click"],[3,"displayDensity","isLoading"],["list",""],[2,"overflow","hidden","position","relative"],[4,"igxFor","igxForOf","igxForScrollOrientation","igxForContainerSize","igxForItemSize"],["igxDataLoading",""],["igxEmptyList",""],[3,"value","tabindex","checked","disableRipple","indeterminate","disableTransitions","change"],[1,"igx-excel-filter__loading"],[4,"ngTemplateOutlet"],[1,"igx-excel-filter__tree"],["class","igx-excel-filter__tree-alike",4,"ngIf"],["selection","Cascading",3,"displayDensity","nodeSelection"],["tree",""],[3,"data","selected",4,"ngFor","ngForOf"],[3,"ngIf"],[1,"igx-excel-filter__tree-alike"],[1,"igx-excel-filter__tree-alike-item"],[3,"value","checked","disableRipple","indeterminate","disableTransitions","change"],["selectAllCheckbox",""],["class","igx-excel-filter__tree-alike-item",4,"ngIf"],[3,"value","checked","disableRipple","disableTransitions"],["addToCurrentFilterCheckbox",""],[3,"data","selected"],[1,"igx-excel-filter__empty"],[3,"indeterminate"]],template:function(e,t){1&e&&(Yc(0,"igx-input-group",0)(1,"igx-icon",1),$h(2,"search"),Xc(),Yc(3,"input",2,3),oh("ngModelChange",(function(e){return t.searchValue=e}))("ngModelChange",(function(){return t.filterListData()}))("keydown",(function(e){return t.onInputKeyDown(e)})),Xc(),Wc(5,oB,2,0,"igx-icon",4),Xc(),Wc(6,uB,6,6,"igx-list",5),Wc(7,AB,7,4,"div",6),Wc(8,kB,2,1,"ng-template",null,7,_g),Wc(10,RB,1,1,"ng-template",null,8,_g),Yc(12,"footer",9)(13,"div",10)(14,"button",11),oh("click",(function(){return t.esf.cancel()})),$h(15),Xc()(),Yc(16,"div",12)(17,"button",13),oh("click",(function(){return t.applyFilter()})),$h(18),Xc()()()),2&e&&(Uc("displayDensity",t.esf.displayDensity),Ed(3),Uc("ngModel",t.searchValue)("placeholder",null==t.esf.column?null:t.esf.column.grid.resourceStrings.igx_grid_excel_search_placeholder),Ed(2),Uc("ngIf",t.searchValue||0===t.searchValue),Ed(1),Uc("ngIf",!t.isHierarchical()),Ed(1),Uc("ngIf",t.isHierarchical()),Ed(7),Uc("displayDensity",t.esf.displayDensity),Ed(1),Kh(" ",null==t.esf.grid?null:t.esf.grid.resourceStrings.igx_grid_excel_cancel," "),Ed(2),Uc("displayDensity",t.esf.displayDensity)("disabled",t.applyButtonDisabled),Ed(1),Kh(" ",null==t.esf.grid?null:t.esf.grid.resourceStrings.igx_grid_excel_apply," "))},dependencies:[kT,FI,gI,Rw,Zx,O_,rw,cI,Em,pI,JH,QT,WH,gk,CH,Pm,wH,vH,bm,pH,TL,CI],encapsulation:2}),t})();function PB(e,t){if(1&e){let e=nh();Yc(0,"div",1),oh("click",(function(){return Is(e),Ts(dh().esf.onSelect())})),Yc(1,"span"),$h(2),Xc(),Yc(3,"igx-icon"),$h(4,"done"),Xc()()}if(2&e){let e=dh();Uc("ngClass",e.esf.column.selected?"igx-excel-filter__actions-selected":"igx-excel-filter__actions-select"),Gc("aria-pressed",e.esf.column.selected),Ed(2),jh(e.esf.grid.resourceStrings.igx_grid_excel_select)}}var MB=(()=>{let e=class{constructor(e){this.esf=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(yN))},e.cmp=Yn({type:e,selectors:[["igx-excel-style-selecting"]],standalone:!0,features:[yu],decls:1,vars:1,consts:[["tabindex","0","role","button",3,"ngClass","click",4,"ngIf"],["tabindex","0","role","button",3,"ngClass","click"]],template:function(e,t){1&e&&Wc(0,PB,5,3,"div",0),2&e&&Uc("ngIf",t.esf.column)},dependencies:[Em,Sm,FI],encapsulation:2}),t})();function VB(e,t){if(1&e){let e=nh();Yc(0,"div",1),oh("click",(function(){return Is(e),Ts(dh().esf.onHideToggle())})),Yc(1,"span"),$h(2),Xc(),Yc(3,"igx-icon"),$h(4),Xc()()}if(2&e){let e=dh();Ed(2),jh(e.esf.column.hidden?e.esf.grid.resourceStrings.igx_grid_excel_show:e.esf.grid.resourceStrings.igx_grid_excel_hide),Ed(2),jh(e.esf.column.hidden?"visibility":"visibility_off")}}var NB=(()=>{let e=class{constructor(e){this.esf=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(yN))},e.cmp=Yn({type:e,selectors:[["igx-excel-style-hiding"]],standalone:!0,features:[yu],decls:1,vars:1,consts:[["class","igx-excel-filter__actions-hide","tabindex","0","role","menuitem",3,"click",4,"ngIf"],["tabindex","0","role","menuitem",1,"igx-excel-filter__actions-hide",3,"click"]],template:function(e,t){1&e&&Wc(0,VB,5,2,"div",0),2&e&&Uc("ngIf",t.esf.column)},dependencies:[Em,FI],encapsulation:2}),t})();function LB(e,t){if(1&e){let e=nh();Yc(0,"div",1),oh("click",(function(){return Is(e),Ts(dh().esf.onPin())})),Yc(1,"span"),$h(2),Xc(),Zc(3,"igx-icon",2),Xc()}if(2&e){let e=dh();Uc("ngClass",e.esf.column.pinned?"igx-excel-filter__actions-unpin":"igx-excel-filter__actions-pin"),Ed(2),jh(e.esf.column.pinned?e.esf.grid.resourceStrings.igx_grid_excel_unpin:e.esf.grid.resourceStrings.igx_grid_excel_pin),Ed(1),gh("name",e.esf.column.pinned?"unpin-left":"pin-left")}}var HB=(()=>{let e=class{constructor(e){this.esf=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(yN))},e.cmp=Yn({type:e,selectors:[["igx-excel-style-pinning"]],standalone:!0,features:[yu],decls:1,vars:1,consts:[["tabindex","0","role","menuitem",3,"ngClass","click",4,"ngIf"],["tabindex","0","role","menuitem",3,"ngClass","click"],["family","imx-icons",3,"name"]],template:function(e,t){1&e&&Wc(0,LB,4,3,"div",0),2&e&&Uc("ngIf",t.esf.column)},dependencies:[Em,Sm,FI],encapsulation:2}),t})();function BB(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"header"),$h(2),Xc(),Yc(3,"igx-buttongroup",1)(4,"button",2),oh("click",(function(){return Is(e),Ts(dh().onMoveButtonClicked(0))})),Yc(5,"igx-icon"),$h(6,"arrow_back"),Xc(),Yc(7,"span"),$h(8),Xc()(),Yc(9,"button",2),oh("click",(function(){return Is(e),Ts(dh().onMoveButtonClicked(1))})),Yc(10,"span"),$h(11),Xc(),Yc(12,"igx-icon"),$h(13,"arrow_forwards"),Xc()()(),eh()}if(2&e){let e=dh();Ed(2),Kh(" ",e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_header,"\n"),Ed(1),Uc("multiSelection",!1),Ed(1),Uc("displayDensity",e.esf.grid.displayDensity)("disabled",e.canNotMoveLeft),Ed(4),Kh(" ","compact"===e.esf.grid.displayDensity?e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_left_short:e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_left," "),Ed(1),Uc("displayDensity",e.esf.grid.displayDensity)("disabled",e.canNotMoveRight),Ed(2),Kh(" ","compact"===e.esf.grid.displayDensity?e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_right_short:e.esf.grid.resourceStrings.igx_grid_excel_filter_moving_right," ")}}var GB=(()=>{let e=class{constructor(e){this.esf=e,this.defaultClass=!0}get visibleColumns(){return this.esf.grid.visibleColumns.filter((e=>!e.columnGroup))}get canNotMoveLeft(){return 0===this.esf.column.visibleIndex||0===this.esf.grid.unpinnedColumns.indexOf(this.esf.column)&&this.esf.column.disablePinning||0!==this.esf.column.level&&!this.findColumn(0,this.visibleColumns)}get canNotMoveRight(){return this.esf.column.visibleIndex===this.visibleColumns.length-1||0!==this.esf.column.level&&!this.findColumn(1,this.visibleColumns)}onMoveButtonClicked(e){let t;this.esf.column.pinned?this.esf.column.isLastPinned&&1===e&&this.esf.grid.isPinningToStart?(t=this.esf.grid.unpinnedColumns[0],e=0):this.esf.column.isFirstPinned&&0===e&&!this.esf.grid.isPinningToStart?(t=this.esf.grid.unpinnedColumns[this.esf.grid.unpinnedColumns.length-1],e=1):t=this.findColumn(e,this.esf.grid.pinnedColumns):0===this.esf.grid.unpinnedColumns.indexOf(this.esf.column)&&0===e&&this.esf.grid.isPinningToStart?(t=this.esf.grid.pinnedColumns[this.esf.grid.pinnedColumns.length-1],t.parent&&(t=t.topLevelParent),e=1):this.esf.grid.unpinnedColumns.indexOf(this.esf.column)!==this.esf.grid.unpinnedColumns.length-1||1!==e||this.esf.grid.isPinningToStart?t=this.findColumn(e,this.esf.grid.unpinnedColumns):(t=this.esf.grid.pinnedColumns[0],e=0),this.esf.grid.moveColumn(this.esf.column,t,e)}findColumn(e,t){let i=t.indexOf(this.esf.column);if(0===e){for(;i>0;)if(i--,t[i].level===this.esf.column.level&&t[i].parent===this.esf.column.parent)return t[i];return t[0]}for(;i<t.length-1;)if(i++,t[i].level===this.esf.column.level&&t[i].parent===this.esf.column.parent)return t[i]}},t=e;return e.fac=function(t){return new(t||e)(Rd(yN))},e.cmp=Yn({type:e,selectors:[["igx-excel-style-moving"]],hostVars:2,hostBindings:function(e,t){2&e&&Ah("igx-excel-filter__move",t.defaultClass)},standalone:!0,features:[yu],decls:1,vars:1,consts:[[4,"ngIf"],[3,"multiSelection"],["igxButton","",3,"displayDensity","disabled","click"]],template:function(e,t){1&e&&Wc(0,BB,14,8,"ng-container",0),2&e&&Uc("ngIf",t.esf.column)},dependencies:[Em,lO,CI,FI],encapsulation:2}),t})(),zB=["sortButtonGroup"];function $B(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"header"),$h(2),Xc(),Yc(3,"igx-buttongroup",1,2)(5,"button",3),oh("click",(function(){return Is(e),Ts(dh().onSortButtonClicked(1))})),Yc(6,"igx-icon"),$h(7,"arrow_upwards"),Xc(),Yc(8,"span"),$h(9),Xc()(),Yc(10,"button",3),oh("click",(function(){return Is(e),Ts(dh().onSortButtonClicked(2))})),Yc(11,"igx-icon"),$h(12,"arrow_downwards"),Xc(),Yc(13,"span"),$h(14),Xc()()(),eh()}if(2&e){let e=dh();Ed(2),Kh(" ",e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_header,"\n"),Ed(1),Uc("multiSelection",!1),Ed(2),Uc("displayDensity",e.esf.grid.displayDensity),Gc("data-togglable",!0),Ed(4),Kh(" ","compact"===e.esf.grid.displayDensity?e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_asc_short:e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_asc," "),Ed(1),Uc("displayDensity",e.esf.grid.displayDensity),Gc("data-togglable",!0),Ed(4),Kh(" ","compact"===e.esf.grid.displayDensity?e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_desc_short:e.esf.grid.resourceStrings.igx_grid_excel_filter_sorting_desc," ")}}var WB=(()=>{let e=class{constructor(e,t){this.esf=e,this.cdr=t,this.defaultClass=!0,this.destroy$=new We,this.esf.sortingChanged.pipe(yi(this.destroy$)).subscribe((()=>{this.updateSelectedButtons(this.esf.column.field)}))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}onSortButtonClicked(e){0===this.sortButtonGroup.selectedIndexes.length?this.esf.grid.isColumnGrouped(this.esf.column.field)?this.sortButtonGroup.selectButton(e-1):this.esf.grid.clearSort(this.esf.column.field):this.esf.grid.sort({fieldName:this.esf.column.field,dir:e,ignoreCase:!0})}updateSelectedButtons(e){let t=this.esf.grid.sortingExpressions.findIndex((t=>t.fieldName===e));if(this.cdr.detectChanges(),this.sortButtonGroup.buttons.forEach(((e,t)=>{this.sortButtonGroup.deselectButton(t)})),-1!==t){let e=this.esf.grid.sortingExpressions[t].dir;this.sortButtonGroup.selectButton(e-1)}}},t=e;return e.fac=function(t){return new(t||e)(Rd(yN),Rd(Jg))},e.cmp=Yn({type:e,selectors:[["igx-excel-style-sorting"]],viewQuery:function(e,t){if(1&e&&pg(zB,5,lO),2&e){let e;gg(e=fg())&&(t.sortButtonGroup=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&Ah("igx-excel-filter__sort",t.defaultClass)},standalone:!0,features:[yu],decls:1,vars:1,consts:[[4,"ngIf"],[3,"multiSelection"],["sortButtonGroup",""],["igxButton","",3,"displayDensity","click"]],template:function(e,t){1&e&&Wc(0,$B,15,8,"ng-container",0),2&e&&Uc("ngIf",t.esf.column)},dependencies:[Em,lO,CI,FI],encapsulation:2}),t})();function jB(e,t){if(1&e){let e=nh();Yc(0,"button",5),oh("click",(function(){return Is(e),Ts(dh(2).esf.onSelect())})),Yc(1,"igx-icon"),$h(2,"done"),Xc()()}if(2&e){let e=dh(2);Uc("ngClass",e.esf.column.selected?"igx-excel-filter__actions-selected":"igx-excel-filter__actions-select"),Gc("aria-label",e.esf.column.selected?e.esf.grid.resourceStrings.igx_grid_excel_deselect:e.esf.grid.resourceStrings.igx_grid_excel_select)}}function KB(e,t){if(1&e){let e=nh();Yc(0,"button",6),oh("click",(function(){return Is(e),Ts(dh(2).esf.onPin())})),Zc(1,"igx-icon",7),Xc()}if(2&e){let e=dh(2);Gc("aria-label",e.esf.column.pinned?e.esf.grid.resourceStrings.igx_grid_excel_unpin:e.esf.grid.resourceStrings.igx_grid_excel_pin),Ed(1),Uc("name",e.esf.column.pinned?"unpin-left":"pin-left")}}function UB(e,t){if(1&e){let e=nh();Yc(0,"button",6),oh("click",(function(){return Is(e),Ts(dh(2).esf.onHideToggle())})),Yc(1,"igx-icon"),$h(2),Xc()()}if(2&e){let e=dh(2);Gc("aria-label",e.esf.column.hidden?e.esf.grid.resourceStrings.igx_grid_excel_show:e.esf.grid.resourceStrings.igx_grid_excel_hide),Ed(2),jh(e.esf.column.hidden?"visibility":"visibility_off")}}function qB(e,t){if(1&e&&(Yc(0,"header",1)(1,"h4"),$h(2),Xc(),Yc(3,"div",2),Wc(4,jB,3,2,"button",3),Wc(5,KB,2,2,"button",4),Wc(6,UB,3,2,"button",4),Xc()()),2&e){let e=dh();Ed(2),jh(e.esf.column.header||e.esf.column.field),Ed(2),Uc("ngIf",e.showSelecting),Ed(1),Uc("ngIf",e.showPinning),Ed(1),Uc("ngIf",e.showHiding)}}var YB=(()=>{let e=class{constructor(e){this.esf=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(yN))},e.cmp=Yn({type:e,selectors:[["igx-excel-style-header"]],inputs:{showPinning:"showPinning",showSelecting:"showSelecting",showHiding:"showHiding"},standalone:!0,features:[yu],decls:1,vars:1,consts:[["class","igx-excel-filter__menu-header",4,"ngIf"],[1,"igx-excel-filter__menu-header"],[1,"igx-excel-filter__menu-header-actions"],["igxButton","icon",3,"ngClass","click",4,"ngIf"],["igxButton","icon",3,"click",4,"ngIf"],["igxButton","icon",3,"ngClass","click"],["igxButton","icon",3,"click"],["family","imx-icons",3,"name"]],template:function(e,t){1&e&&Wc(0,qB,7,4,"header",0),2&e&&Uc("ngIf",t.esf.column)},dependencies:[Em,CI,Sm,FI],encapsulation:2}),t})(),XB=["mainDropdown"],ZB=["defaultExcelColumnOperations"],QB=["defaultExcelFilterOperations"];function JB(e,t){1&e&&Zc(0,"igx-excel-style-sorting")}function eG(e,t){1&e&&Zc(0,"igx-excel-style-moving")}function tG(e,t){1&e&&Zc(0,"igx-excel-style-pinning")}function iG(e,t){1&e&&Zc(0,"igx-excel-style-hiding")}function nG(e,t){1&e&&Zc(0,"igx-excel-style-selecting")}function rG(e,t){if(1&e&&(Zc(0,"igx-excel-style-header",5),Wc(1,JB,1,0,"igx-excel-style-sorting",6),Wc(2,eG,1,0,"igx-excel-style-moving",6),Wc(3,tG,1,0,"igx-excel-style-pinning",6),Wc(4,iG,1,0,"igx-excel-style-hiding",6),Wc(5,nG,1,0,"igx-excel-style-selecting",6)),2&e){let e=dh();Uc("showHiding","comfortable"!==e.displayDensity&&!(null!=e.column&&e.column.disableHiding))("showPinning","comfortable"!==e.displayDensity&&!(null!=e.column&&e.column.disablePinning))("showSelecting","comfortable"!==e.displayDensity&&e.columnSelectable()),Ed(1),Uc("ngIf",null==e.column?null:e.column.sortable),Ed(1),Uc("ngIf",null==e.grid?null:e.grid.moving),Ed(1),Uc("ngIf",!(null!=e.column&&e.column.disablePinning)&&"comfortable"===e.displayDensity),Ed(1),Uc("ngIf",!(null!=e.column&&e.column.disableHiding)&&"comfortable"===e.displayDensity),Ed(1),Uc("ngIf",e.columnSelectable()&&"comfortable"===e.displayDensity)}}function sG(e,t){1&e&&Zc(0,"igx-excel-style-clear-filters")(1,"igx-excel-style-conditional-filter")(2,"igx-excel-style-search")}function oG(e,t){1&e&&(Jc(0),uh(1),eh())}function aG(e,t){1&e&&(Jc(0),uh(1,1),eh())}var lG=[[["igx-excel-style-column-operations"],["","igxExcelStyleColumnOperations",""]],[["igx-excel-style-filter-operations"],["","igxExcelStyleFilterOperations",""]]],dG=function(e,t){return{"igx-excel-filter__menu--cosy":e,"igx-excel-filter__menu--compact":t}},cG=["igx-excel-style-column-operations,[igxExcelStyleColumnOperations]","igx-excel-style-filter-operations,[igxExcelStyleFilterOperations]"],hG=(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["igx-excel-style-column-operations"],["","igxExcelStyleColumnOperations",""]],standalone:!0}),t})(),uG=(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["igx-excel-style-filter-operations"],["","igxExcelStyleFilterOperations",""]],standalone:!0}),t})(),gG=(()=>{let e=class extends yN{set column(e){this._column=e,this.listData=new Array,this.columnChange.emit(this._column),this.subscriptions?.unsubscribe(),this._column&&(this.grid.filteringService.registerSVGIcons(),this.init(),this.sortingChanged.emit(),this.subscriptions=this.grid.columnPin.subscribe((()=>{requestAnimationFrame((()=>{this.cdr.destroyed||this.cdr.detectChanges()}))})),this.subscriptions.add(this.grid.columnVisibilityChanged.subscribe((()=>this.detectChanges()))),this.subscriptions.add(this.grid.sortingExpressionsChange.subscribe((()=>this.sortingChanged.emit()))),this.subscriptions.add(this.grid.filteringExpressionsTreeChange.subscribe((()=>this.init()))),this.subscriptions.add(this.grid.densityChanged.subscribe((()=>this.detectChanges()))),this.subscriptions.add(this.grid.columnMovingEnd.subscribe((()=>this.cdr.markForCheck()))))}get column(){return this._column}get minHeight(){if(this._minHeight||0===this._minHeight)return this._minHeight;if(!this.inline){let e=645;switch(this.displayDensity){case QE:e=465;break;case JE:e=330}return`${e}px`}}set minHeight(e){this._minHeight=e}get maxHeight(){if(this._maxHeight)return this._maxHeight;if(!this.inline){let e=775;switch(this.displayDensity){case QE:e=565;break;case JE:e=405}return`${e}px`}}set maxHeight(e){this._maxHeight=e}get grid(){return this.column?.grid??this.gridAPI}get displayDensity(){return this.grid?.displayDensity}constructor(e,t,i,n){super(e,t,i),this.gridAPI=n,this.defaultClass=!0,this.inline=!0,this.loadingStart=new zu,this.loadingEnd=new zu,this.initialized=new zu,this.sortingChanged=new zu,this.columnChange=new zu,this.listDataLoaded=new zu,this.expressionsList=new Array,this.listData=new Array,this.uniqueValues=[],this.isHierarchical=!1,this.containsNullOrEmpty=!1,this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.filterValues=new Set}ngOnDestroy(){this.subscriptions?.unsubscribe(),delete this.overlayComponentId}initialize(e,t){this.inline=!1,this.column=e,this.overlayService=t,this._originalDisplay&&(this.element.nativeElement.style.display=this._originalDisplay),this.initialized.emit(),this.subscriptions.add(this.grid.columnMoving.subscribe((()=>this.closeDropdown())))}onPin(){this.closeDropdown(),this.column.pinned=!this.column.pinned}onSelect(){this.column.selected?this.grid.selectionService.deselectColumn(this.column.field):this.grid.selectionService.selectColumn(this.column.field,this.grid.columnSelection===Wb),this.grid.notifyChanges()}columnSelectable(){return this.grid?.columnSelection!==$b&&this.column?.selectable}onHideToggle(){this.column.toggleVisibility(),this.closeDropdown()}cancel(){this.overlayComponentId||this.init(),this.closeDropdown()}closeDropdown(){this.overlayComponentId&&(this.overlayService.hide(this.overlayComponentId),this.overlayComponentId=null)}onKeyDown(e){this.platform.isFilteringKeyCombo(e)&&(e.preventDefault(),this.closeDropdown()),e.stopPropagation()}hide(){this._originalDisplay=document.defaultView.getComputedStyle(this.element.nativeElement).display,this.element.nativeElement.style.display="none"}detectChanges(){this.cdr.detectChanges()}init(){this.expressionsList=new Array,$N(this.column.filteringExpressionsTree,this.grid.filteringLogic,this.expressionsList),this.populateColumnData()}areExpressionsSelectable(){return 1===this.expressionsList.length&&("equals"===this.expressionsList[0].expression.condition.name||"at"===this.expressionsList[0].expression.condition.name||"true"===this.expressionsList[0].expression.condition.name||"false"===this.expressionsList[0].expression.condition.name||"empty"===this.expressionsList[0].expression.condition.name||"in"===this.expressionsList[0].expression.condition.name)||this.expressionsList.filter((e=>!(1!==e.beforeOperator&&1!==e.afterOperator||"equals"!==e.expression.condition.name&&"at"!==e.expression.condition.name&&"true"!==e.expression.condition.name&&"false"!==e.expression.condition.name&&"empty"!==e.expression.condition.name&&"in"!==e.expression.condition.name))).length===this.expressionsList.length}populateColumnData(){this.cdr.detectChanges(),this.grid.uniqueColumnValuesStrategy?this.renderColumnValuesRemotely():this.renderColumnValuesFromData()}renderColumnValuesRemotely(){this.loadingStart.emit();let e=this.getColumnFilterExpressionsTree(),t=this.column;this.grid.uniqueColumnValuesStrategy(this.column,e,(e=>{if(!this.column||this.column!==t)return;let i=e.map((e=>({value:e})));this.uniqueValues=this.column.sortStrategy.sort(i,"value",gb.Asc,this.column.sortingIgnoreCase,((e,t)=>{let i=e[t];return this.column.dataType===Eb.Time&&(i=(new Date).setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())),i})),this.renderValues(),this.loadingEnd.emit()}))}renderColumnValuesFromData(){this.loadingStart.emit();let e=this.getColumnFilterExpressionsTree();this.grid.filterStrategy.getFilterItems(this.column,e).then((e=>{this.isHierarchical=e.length>0&&e.some((e=>e.children&&e.children.length>0)),this.uniqueValues=e,this.renderValues(),this.loadingEnd.emit(),this.sortingChanged.emit()}))}renderValues(){this.filterValues=this.generateFilterValues(this.column.dataType===Eb.Date||this.column.dataType===Eb.DateTime),this.generateListData()}generateFilterValues(e=!1){let t;return t=e?new Set(this.expressionsList.reduce(((e,t)=>"in"===t.expression.condition.name?[...e,...Array.from(t.expression.searchVal.values()).map((e=>new Date(e).toISOString()))]:[...e,t.expression.searchVal?t.expression.searchVal.toISOString():t.expression.searchVal]),[])):this.column.dataType===Eb.Time?new Set(this.expressionsList.reduce(((e,t)=>"in"===t.expression.condition.name?[...e,...Array.from(t.expression.searchVal.values()).map((e=>"string"==typeof e?e:new Date(e).toLocaleTimeString()))]:[...e,t.expression.searchVal?t.expression.searchVal.toLocaleTimeString():t.expression.searchVal]),[])):new Set(this.expressionsList.reduce(((e,t)=>"in"===t.expression.condition.name?[...e,...Array.from(t.expression.searchVal.values())]:[...e,t.expression.searchVal]),[])),t}generateListData(){this.listData=new Array;let e=this.areExpressionsSelectable();if(this.column.dataType===Eb.Boolean?this.addBooleanItems():this.addItems(e),!this.isHierarchical&&this.containsNullOrEmpty){let t=this.generateBlanksItem(e);this.listData.unshift(t)}this.listData.length>0&&this.addSelectAllItem(),this.cdr.destroyed||this.cdr.detectChanges(),this.listDataLoaded.emit()}getColumnFilterExpressionsTree(){let e=this.grid.filteringExpressionsTree,t=new kb(e.operator,e.fieldName);for(let i of e.filteringOperands)i instanceof kb&&i.fieldName===this.column.field||t.filteringOperands.push(i);return t}addBooleanItems(){this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.uniqueValues.forEach((e=>{let t=e.value,i=new GN;null!=t&&""!==t?(this.column.filteringExpressionsTree?!0===t&&this.expressionsList.find((e=>"true"===e.expression.condition.name))||!1===t&&this.expressionsList.find((e=>"false"===e.expression.condition.name))?(i.isSelected=!0,i.isFiltered=!0,this.selectAllIndeterminate=!0):(i.isSelected=!1,i.isFiltered=!1):(i.isSelected=!0,i.isFiltered=!0),i.value=t,i.label=t?this.grid.resourceStrings.igx_grid_filter_true:this.grid.resourceStrings.igx_grid_filter_false,i.indeterminate=!1,this.listData.push(i)):this.containsNullOrEmpty=!0}))}addItems(e){this.selectAllSelected=!0,this.selectAllIndeterminate=!1,this.containsNullOrEmpty=!1,this.listData=this.generateFilterListItems(this.uniqueValues,e),this.containsNullOrEmpty=this.uniqueValues.length>this.listData.length}generateFilterListItems(e,t,i){let n=[];return e?.forEach((e=>{let r=e.value;if(null!=r&&""!==r){let s=new GN;if(s.parent=i,s.value=r,s.label=void 0!==e.label?e.label:this.getFilterItemLabel(r),s.indeterminate=!1,s.isSelected=!0,s.isFiltered=!0,this.column.filteringExpressionsTree)if(s.isSelected=!1,s.isFiltered=!1,t){let e=this.getExpressionValue(r);this.filterValues.has(e)&&(s.isSelected=!0,s.isFiltered=!0),this.selectAllIndeterminate=!0}else this.selectAllSelected=!1;s.children=this.generateFilterListItems(e.children??e.value?.children,t,s),n.push(s)}})),n}addSelectAllItem(){let e=new GN;e.isSelected=this.selectAllSelected,e.value=this.grid.resourceStrings.igx_grid_excel_select_all,e.label=this.grid.resourceStrings.igx_grid_excel_select_all,e.indeterminate=this.selectAllIndeterminate,e.isSpecial=!0,e.isFiltered=this.selectAllSelected,this.listData.unshift(e)}generateBlanksItem(e){let t=new GN;return this.column.filteringExpressionsTree?e&&(this.filterValues.has(null)?(t.isSelected=!0,t.isFiltered=!0):(t.isSelected=!1,t.isFiltered=!1)):(t.isSelected=!0,t.isFiltered=!0),t.value=null,t.label=this.grid.resourceStrings.igx_grid_excel_blanks,t.indeterminate=!1,t.isSpecial=!0,t.isBlanks=!0,t}getFilterItemLabel(e,t=!0,i){if(this.column.formatter)return t?this.column.formatter(e,i):e;let{display:n,format:r,digitsInfo:s,currencyCode:o,timezone:a}=this.column.pipeArgs,l=this.grid.locale;switch(this.column.dataType){case Eb.Date:case Eb.DateTime:case Eb.Time:return ab(e,r,l,a);case Eb.Currency:return lb(e,o||Mp(l),n,s,l);case Eb.Number:return vm(e,l,s);case Eb.Percent:return ym(e,l,s);default:return e}}getExpressionValue(e){return this.column.dataType===Eb.Date||this.column.dataType===Eb.DateTime?e=e&&new Date(e).toISOString():this.column.dataType===Eb.Time&&(e=e&&new Date(e).toLocaleTimeString()),e}},t=e;return e.fac=function(t){return new(t||e)(Rd(Jg),Rd(ld),Rd($S),Rd(wk,9))},e.cmp=Yn({type:e,selectors:[["igx-grid-excel-style-filtering"]],contentQueries:function(e,t,i){if(1&e&&(mg(i,hG,5,hG),mg(i,uG,5,uG)),2&e){let e;gg(e=fg())&&(t.excelColumnOperationsDirective=e.first),gg(e=fg())&&(t.excelFilterOperationsDirective=e.first)}},viewQuery:function(e,t){if(1&e&&(pg(XB,5,ld),pg(ZB,7,ju),pg(QB,7,ju)),2&e){let e;gg(e=fg())&&(t.mainDropdown=e.first),gg(e=fg())&&(t.defaultExcelColumnOperations=e.first),gg(e=fg())&&(t.defaultExcelFilterOperations=e.first)}},hostVars:6,hostBindings:function(e,t){2&e&&(Th("max-height",t.maxHeight),Ah("igx-excel-filter",t.defaultClass)("igx-excel-filter--inline",t.inline))},inputs:{column:"column",minHeight:"minHeight",maxHeight:"maxHeight"},outputs:{loadingStart:"loadingStart",loadingEnd:"loadingEnd",initialized:"initialized",sortingChanged:"sortingChanged",columnChange:"columnChange",listDataLoaded:"listDataLoaded"},standalone:!0,features:[cu([{provide:yN,useExisting:Ni((()=>e))}]),Tc,yu],ngContentSelectors:cG,decls:8,vars:13,consts:[["defaultExcelColumnOperations",""],["defaultExcelFilterOperations",""],["role","menu",1,"igx-excel-filter__menu",3,"ngClass","id","keydown"],["mainDropdown",""],[4,"ngIf","ngIfElse"],[3,"showHiding","showPinning","showSelecting"],[4,"ngIf"]],template:function(e,t){if(1&e&&(hh(lG),Wc(0,rG,6,8,"ng-template",null,0,_g),Wc(2,sG,3,0,"ng-template",null,1,_g),Yc(4,"article",2,3),oh("keydown",(function(e){return t.onKeyDown(e)})),Wc(6,oG,2,0,"ng-container",4),Wc(7,aG,2,0,"ng-container",4),Xc()),2&e){let e=Kc(1),i=Kc(3);Ed(4),Th("min-height",t.minHeight)("max-height",t.maxHeight),Uc("ngClass",_u(10,dG,"cosy"===t.displayDensity,"compact"===t.displayDensity))("id",t.overlayComponentId),Ed(2),Uc("ngIf",t.excelColumnOperationsDirective)("ngIfElse",e),Ed(1),Uc("ngIf",t.excelFilterOperationsDirective)("ngIfElse",i)}},dependencies:[YB,Em,WB,GB,HB,NB,MB,xN,oL,FB,Sm],encapsulation:2,changeDetection:0}),t})(),pG=[gG,YB,WB,HB,NB,MB,xN,oL,GB,FB,hG,uG,OB],mG=["*"],fG=(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.cmp=Yn({type:e,selectors:[["igx-grid-footer"]],standalone:!0,features:[yu],ngContentSelectors:mG,decls:1,vars:0,template:function(e,t){1&e&&(hh(),uh(0))},encapsulation:2}),t})(),yG=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxRowEdit",""]],standalone:!0}),t})(),vG=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxRowEditText",""]],standalone:!0}),t})(),xG=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxRowAddText",""]],standalone:!0}),t})(),_G=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxRowEditActions",""]],standalone:!0}),t})(),wG=(()=>{let e=class{constructor(e,t){this.grid=e,this.element=t}handleTab(e){e.stopPropagation(),(this.grid.rowEditTabs.last===this&&!e.shiftKey||this.grid.rowEditTabs.first===this&&e.shiftKey)&&this.move(e)}handleEscape(e){this.grid.crudService.endEdit(!1,e),this.grid.tbody.nativeElement.focus()}handleEnter(e){e.stopPropagation()}move(e){e.preventDefault(),this.currentCellIndex=e.shiftKey?this.grid.lastEditableColumnIndex:this.grid.firstEditableColumnIndex,this.grid.navigation.activeNode.row=this.grid.crudService.rowInEditMode.index,this.grid.navigation.activeNode.column=this.currentCellIndex,this.grid.navigateTo(this.grid.crudService.rowInEditMode.index,this.currentCellIndex,(t=>{t.target.activate(e),this.grid.cdr.detectChanges()}))}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk),Rd(ld))},e.dir=er({type:e,selectors:[["","igxRowEditTabStop",""]],hostBindings:function(e,t){1&e&&oh("keydown.Tab",(function(e){return t.handleTab(e)}))("keydown.Shift.Tab",(function(e){return t.handleTab(e)}))("keydown.Escape",(function(e){return t.handleEscape(e)}))("keydown.Enter",(function(e){return t.handleEnter(e)}))},standalone:!0}),t})(),CG=(()=>{let e=class extends VT{get draggable(){return this.column&&(this.column.grid.moving||this.column.groupable&&!this.column.columnGroup)}get icon(){return this.cms.icon}constructor(e,t,i,n,r,s,o){super(r,e,t,i,n,o),this.cms=s,this._ghostClass="igx-grid__drag-ghost-image",this.ghostImgIconClass="igx-grid__drag-ghost-image-icon",this.ghostImgIconGroupClass="igx-grid__drag-ghost-image-icon-group",this.columnSelectedClass="igx-grid-th--selected"}ngOnDestroy(){this._unsubscribe(),super.ngOnDestroy()}onEscape(e){this.cms.cancelDrop=!0,this.onPointerUp(e)}onPointerDown(e){if(!this.draggable||"false"===e.target.getAttribute("draggable"))return;e.preventDefault(),e.stopPropagation(),this._removeOnDestroy=!1,this.cms.column=this.column,this.ghostClass=this._ghostClass,super.onPointerDown(e),this.column.grid.cdr.detectChanges();let t={source:this.column};this.column.grid.columnMovingStart.emit(t),this.subscription$=Lt(this.column.grid.document.defaultView,"keydown").subscribe((e=>{e.key===this.platformUtil.KEYMAP.ESCAPE&&this.onEscape(e)}))}onPointerMove(e){if(e.preventDefault(),super.onPointerMove(e),this._dragStarted&&this.ghostElement&&!this.cms.column&&(this.cms.column=this.column,this.column.grid.cdr.detectChanges()),this.cms.column){let t={source:this.column,cancel:!1};this.column.grid.columnMoving.emit(t),t.cancel&&this.onEscape(e)}}onPointerUp(e){this.zone.run((()=>{super.onPointerUp(e),this.cms.column=null,this.column.grid.cdr.detectChanges()})),this._unsubscribe()}createGhost(e,t){super.createGhost(e,t),this.ghostElement.style.height=null,this.ghostElement.style.minWidth=null,this.ghostElement.style.flexBasis=null,this.ghostElement.style.position=null,this.renderer.removeClass(this.ghostElement,this.columnSelectedClass);let i=document.createElement("i"),n=document.createTextNode("block");i.appendChild(n),i.classList.add("material-icons"),this.cms.icon=i,this.column.columnGroup?(this.ghostElement.insertBefore(i,this.ghostElement.childNodes[0]),this.renderer.addClass(i,this.ghostImgIconGroupClass),this.ghostElement.children[0].style.paddingLeft="0px",this.ghostLeft=this._ghostStartX=e-this.ghostElement.getBoundingClientRect().width/3*2,this.ghostTop=this._ghostStartY=t-this.ghostElement.getBoundingClientRect().height/3*2):(this.renderer.addClass(i,this.ghostImgIconClass),this.ghostElement.insertBefore(i,this.ghostElement.firstElementChild),this.ghostLeft=this._ghostStartX=e-this.ghostElement.getBoundingClientRect().width/3*2,this.ghostTop=this._ghostStartY=t-this.ghostElement.getBoundingClientRect().height/3*2)}_unsubscribe(){this.subscription$&&(this.subscription$.unsubscribe(),this.subscription$=null)}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(Xu),Rd(Ig),Rd(hd),Rd(Jg),Rd(fM),Rd($S))},e.dir=er({type:e,selectors:[["","igxColumnMovingDrag",""]],inputs:{column:["igxColumnMovingDrag","column"]},standalone:!0,features:[Tc]}),t})(),SG=(()=>{let e=class{get cosyStyle(){return"cosy"===this.density}get compactStyle(){return"compact"===this.density}get expressions(){return this._expressions}set expressions(e){this._expressions=e,this.chipExpressions=this._expressions,this.expressionsChanged(),this.expressionsChange.emit(this._expressions)}get dropAreaMessage(){return this._dropAreaMessage??this.grid.resourceStrings.igx_grid_groupByArea_message}set dropAreaMessage(e){this._dropAreaMessage=e}get nativeElement(){return this.ref.nativeElement}constructor(e,t){this.ref=e,this.platform=t,this.density=ZE,this.defaultClass=!0,this.expressionsChange=new zu,this._expressions=[]}get dropAreaVisible(){return this.grid.columnInDrag&&this.grid.columnInDrag.groupable||!this.expressions.length}handleKeyDown(e,t){this.platform.isActivationKey(t)&&this.updateGroupSorting(e)}handleClick(e){this.grid.getColumnByName(e).groupable&&this.updateGroupSorting(e)}onDragDrop(e){let t=e.detail.owner;if(t instanceof CG){let e=t.column;if(!this.grid.columns.find((t=>t===e)))return;let i=-1!==this.expressions.findIndex((t=>t.fieldName===e.field));if(e.groupable&&!i&&!e.columnGroup&&e.field){let t={fieldName:e.field,dir:this.grid.sortingExpressions.find((t=>t.fieldName===e.field))?.dir||gb.Asc,ignoreCase:e.sortingIgnoreCase,strategy:e.sortStrategy,groupingComparer:e.groupingComparer};this.groupBy(t)}}}getReorderedExpressions(e){let t=[];return e.forEach((e=>{let i=this.expressions.find((t=>t.fieldName===e.id));this.grid.getColumnByName(i.fieldName)?.groupable&&t.push(i)})),t}updateGroupSorting(e){let t=this.expressions.find((t=>t.fieldName===e));t.dir=3-t.dir,(this.grid.groupingExpressionsChange||this.expressionsChange).emit(this.expressions),this.grid.pipeTrigger++,this.grid.notifyChanges()}expressionsChanged(){}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd($S))},e.dir=er({type:e,viewQuery:function(e,t){if(1&e&&pg(WF,5),2&e){let e;gg(e=fg())&&(t.chips=e)}},hostVars:6,hostBindings:function(e,t){2&e&&Ah("igx-grid-grouparea",t.defaultClass)("igx-grid-grouparea--cosy",t.cosyStyle)("igx-grid-grouparea--compact",t.compactStyle)},inputs:{dropAreaTemplate:"dropAreaTemplate",density:"density",grid:"grid",expressions:"expressions",dropAreaMessage:"dropAreaMessage"},outputs:{expressionsChange:"expressionsChange"}}),t})(),bG=(()=>{let e=class{transform(e,t,i){let n=t.getColumnByName(e);return{groupable:!!n?.groupable,title:n?.header||e}}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"igxGroupByMeta",type:e,pure:!0,standalone:!0}),t})(),DG=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}constructor(e){this.template=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxGroupByRow",""]],standalone:!0}),t})(),EG=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxGridDetail",""]],standalone:!0}),t})(),IG=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxRowExpandedIndicator",""]],standalone:!0}),t})(),TG=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxRowCollapsedIndicator",""]],standalone:!0}),t})(),AG=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxHeaderExpandedIndicator",""]],standalone:!0}),t})(),kG=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxHeaderCollapsedIndicator",""]],standalone:!0}),t})(),RG=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxExcelStyleHeaderIcon",""]],standalone:!0}),t})(),OG=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxSortHeaderIcon",""]],standalone:!0}),t})(),FG=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxSortAscendingHeaderIcon",""]],standalone:!0}),t})(),PG=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxSortDescendingHeaderIcon",""]],standalone:!0}),t})(),MG=(()=>{let e=class extends NT{constructor(e,t,i,n){super(t,i,n),this.groupArea=e,this.elementRef=t,this.hovered=!1}onDragEnter(e){let t=e.detail.owner,i=t.column;if(!this.columnBelongsToGrid(i))return;let n=!!this.groupArea.expressions&&-1!==this.groupArea.expressions.findIndex((e=>e.fieldName===i.field));i.groupable&&!n&&!i.columnGroup&&i.field?(t.icon.innerText="group_work",this.hovered=!0):(t.icon.innerText="block",this.hovered=!1)}onDragLeave(e){let t=e.detail.owner.column;this.columnBelongsToGrid(t)&&(e.detail.owner.icon.innerText="block",this.hovered=!1)}closestParentByAttr(e,t){return e.hasAttribute(t)?e:this.closestParentByAttr(e.parentElement,t)}columnBelongsToGrid(e){let t=this.elementRef.nativeElement,i=this.closestParentByAttr(t,"igxGroupAreaDrop").getAttribute("gridId");if(e){let t=e.grid;return!(!t||t.id!==i)}return!1}},t=e;return e.fac=function(t){return new(t||e)(Rd(SG),Rd(ld),Rd(hd),Rd(Ig))},e.dir=er({type:e,selectors:[["","igxGroupAreaDrop",""]],hostVars:2,hostBindings:function(e,t){2&e&&Ah("igx-drop-area--hover",t.hovered)},standalone:!0,features:[Tc]}),t})(),VG=(()=>{let e=class{transform(e,t){let i=t.findIndex((t=>t.fieldName===e));return-1!==i?++i:null}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"sortingIndex",type:e,pure:!0,standalone:!0}),t})(),NG=(()=>{let e=class{transform(e,t,i){let n="fit-content"===e,r="string"==typeof e&&-1!==e.indexOf("%");return i?"":n||r?e:`${Math.max(parseFloat(e),t)}px`}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"igxHeaderGroupWidth",type:e,pure:!0,standalone:!0}),t})(),LG=(()=>{let e=class{transform(e,t,i){let n={};if(!e)return n;for(let i of Object.keys(e)){let r=e[i];n[i]="function"==typeof r?r(t):r}return n}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"igxHeaderGroupStyle",type:e,pure:!0,standalone:!0}),t})(),HG=(()=>{let e=class{constructor(e){this.zone=e,this.resizeCursor="col-resize",this.showResizer=!1}getColumnHeaderRenderedWidth(){return this.column.headerCell.nativeElement.getBoundingClientRect().width}get resizerHeight(){let e=this.column.grid.getVisibleContentHeight(),t=1;return this.column.columnLayoutChild&&(t=this.column.grid.multiRowLayoutRowSize-this.column.rowStart+1),0!==this.column.level&&(e-=this.column.topLevelParent.headerGroup.height-this.column.headerGroup.height*t),e}get restrictResizeMin(){let e=this.getColumnHeaderRenderedWidth();return e-(this.column.minWidthPx<e?this.column.minWidthPx:e)}get restrictResizeMax(){let e=this.getColumnHeaderRenderedWidth(),t=this.column.maxWidthPx;return this.column.maxWidth?t-e:Number.MAX_SAFE_INTEGER}autosizeColumnOnDblClick(){let e=this.getColumnHeaderRenderedWidth();this.column.width=this.column.getAutoSize(),this.zone.run((()=>{})),this.column.grid.columnResized.emit({column:this.column,prevWidth:e.toString(),newWidth:this.column.width})}resizeColumn(e){this.showResizer=!1;let t=e.clientX-this.startResizePos,i=this.column.width,n=i&&"string"==typeof i&&-1!==i.indexOf("%"),r=parseFloat(i),s=this.getColumnHeaderRenderedWidth();r=Number.isNaN(r)?parseFloat(s):r,this.column.grid.hasColumnLayouts?this.resizeColumnLayoutFor(this.column,t):n?this._handlePercentageResize(t,this.column):this._handlePixelResize(t,this.column),this.zone.run((()=>{})),r!==parseFloat(this.column.width)&&this.column.grid.columnResized.emit({column:this.column,prevWidth:n?r+"%":r+"px",newWidth:this.column.width}),this.isColumnResizing=!1}_handlePixelResize(e,t){let i=parseFloat(t.width),n=t.minWidthPx,r=t.maxWidthPx;t.width=i+e<n?n+"px":r&&i+e>r?r+"px":i+e+"px"}_handlePercentageResize(e,t){let i=parseFloat(t.width),n=e/t.grid.calcWidth*100,r=t.minWidthPercent,s=t.maxWidthPercent;t.width=i+n<r?r+"%":s&&i+n>s?s+"%":i+n+"%"}getColMinWidth(e){let t=parseFloat(e.width),i=e.headerCell.nativeElement.getBoundingClientRect().width;t=Number.isNaN(t)||t<i?i:t;let n=parseFloat(e.minWidth);return n<t?n:t}resizeColumnLayoutFor(e,t){let i=e.getResizableColUnderEnd(),n=i.reduce(((e,t)=>e+t.spanUsed),0),r=[...i],s=t,o=n,a=!1;do{a=!1;let e=o,i=[];r.forEach((n=>{let r=parseFloat(n.target.calcWidth),l=t/o*n.target.gridColumnSpan,d=n.target.width,c=d&&"string"==typeof d&&-1!==d.indexOf("%"),h=n.target.minWidthPx,u=n.target.maxWidthPx;r+l<h?(n.target.width=c?n.target.minWidthPercent+"%":h+"px",s+=r-h,e-=n.spanUsed,a=!0):u&&r+l>u?(n.target.width=c?n.target.maxWidthPercent+"%":n.target.maxWidthPx+"px",s-=u-r,e-=n.spanUsed,a=!0):i.push(n)})),o=e,r=i}while(a);r.forEach((e=>{let t=s/o*e.target.gridColumnSpan,i=e.target.width;i&&"string"==typeof i&&-1!==i.indexOf("%")?this._handlePercentageResize(t,e.target):this._handlePixelResize(t,e.target)}))}},t=e;return e.fac=function(t){return new(t||e)(pn(Ig))},e.prov=ji({token:e,factory:e.fac}),t})(),BG=["defaultESFHeaderIconTemplate"],GG=["defaultSortHeaderIconTemplate"];function zG(e,t){if(1&e&&(Yc(0,"span",6),$h(1),Xc()),2&e){let e=dh();Uc("title",e.title),Ed(1),jh(e.column.header||e.column.field)}}function $G(e,t){1&e&&(Yc(0,"igx-icon"),$h(1,"more_vert"),Xc())}function WG(e,t){if(1&e&&(Yc(0,"igx-icon"),$h(1),Xc()),2&e){let e=dh();Ed(1),jh(e.sortDirection<2?"arrow_upward":"arrow_downward")}}function jG(e,t){1&e&&th(0)}function KG(e,t){1&e&&th(0)}var UG=function(e){return{$implicit:e}};function qG(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"div",8),oh("click",(function(t){return Is(e),Ts(dh(2).onSortingIconClick(t))}))("pointerdown",(function(e){return e.stopPropagation()})),Pu(2,"sortingIndex"),Wc(3,KG,1,0,"ng-container",4),Xc(),eh()}if(2&e){let e=dh(2);Ed(1),Gc("data-sortIndex","single"===e.grid.sortingOptions.mode&&e.grid.sortingExpressions.length<=1?null:Vu(2,4,e.column.field,e.grid.sortingExpressions))("draggable",!1),Ed(2),Uc("ngTemplateOutlet",e.sortIconTemplate)("ngTemplateOutletContext",xu(7,UG,e))}}function YG(e,t){1&e&&th(0)}function XG(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"div",9),oh("click",(function(t){return Is(e),Ts(dh(2).onFilteringIconClick(t))}))("pointerdown",(function(e){return e.stopPropagation()})),Wc(2,YG,1,0,"ng-container",4),Xc(),eh()}if(2&e){let e=dh(2);Ed(1),Uc("ngClass",e.filterIconClassName),Ed(1),Uc("ngTemplateOutlet",e.esfIconTemplate)("ngTemplateOutletContext",xu(3,UG,e))}}function ZG(e,t){if(1&e&&(Jc(0),Yc(1,"div",7),Wc(2,qG,4,9,"ng-container",5),Wc(3,XG,3,5,"ng-container",5),Xc(),eh()),2&e){let e=dh();Ed(2),Uc("ngIf",e.column.sortable&&!e.disabled),Ed(1),Uc("ngIf",e.grid.allowFiltering&&e.column.filterable&&"excelStyleFilter"===e.grid.filterMode)}}var QG=function(e,t){return{$implicit:e,column:t}},JG=(()=>{let e=class{get ariaSelected(){return this.column.selected}get columnGroupStyle(){return!this.column.columnGroup}get cosyStyle(){return"cosy"===this.density}get compactStyle(){return"compact"===this.density}get sortAscendingStyle(){return this.sortDirection===gb.Asc}get sortDescendingStyle(){return this.sortDirection===gb.Desc}get numberStyle(){return this.column.dataType===Eb.Number}get sortableStyle(){return this.column.sortable}get selectableStyle(){return this.selectable}get filterableStyle(){return this.column.filterable&&this.grid.filteringService.isFilterRowVisible}get sortedStyle(){return this.sorted}get selectedStyle(){return this.selected}get height(){return!this.grid.hasColumnGroups||this.grid.isPivot?null:(this.grid.maxLevelHeaderDepth+1-this.column.level)*this.grid.defaultRowHeight/this.grid._baseFontSize}get esfIconTemplate(){return this.grid.excelStyleHeaderIconTemplate||this.defaultESFHeaderIconTemplate}get sortIconTemplate(){return this.sortDirection===gb.None&&this.grid.sortHeaderIconTemplate?this.grid.sortHeaderIconTemplate:this.sortDirection===gb.Asc&&this.grid.sortAscendingHeaderIconTemplate?this.grid.sortAscendingHeaderIconTemplate:this.sortDirection===gb.Desc&&this.grid.sortDescendingHeaderIconTemplate?this.grid.sortDescendingHeaderIconTemplate:this.defaultSortHeaderIconTemplate}get disabled(){let e=this.grid.groupArea||this.grid.treeGroupArea;return!!(e?.expressions&&e.expressions.length&&e.expressions.map((e=>e.fieldName)).includes(this.column.field))}get sorted(){return this.sortDirection!==gb.None}get filterIconClassName(){return this.column.filteringExpressionsTree?"igx-excel-filter__icon--filtered":"igx-excel-filter__icon"}get selectable(){return this.grid.columnSelection!==$b&&this.column.applySelectableClass&&!this.column.selected&&!this.grid.filteringService.isFilterRowVisible}get selected(){return this.column.selected&&(!this.grid.filteringService.isFilterRowVisible||this.grid.filteringService.filteredColumn!==this.column)}get title(){return this.column.title||this.column.header||this.column.field}get nativeElement(){return this.ref.nativeElement}constructor(e,t,i,n){this.grid=e,this.colResizingService=t,this.cdr=i,this.ref=n,this.sortDirection=gb.None,this._destroy$=new We}onClick(e){if(!this.colResizingService.isColumnResizing)if(this.grid.filteringService.isFilterRowVisible){if(this.column.filterCellTemplate)return void this.grid.filteringRow.close();this.column.filterable&&!this.column.columnGroup&&!this.grid.filteringService.isFilterComplex(this.column.field)&&(this.grid.filteringService.filteredColumn=this.column)}else if(this.grid.columnSelection!==$b&&this.column.selectable){let t=this.grid.columnSelection===Wb||!e.ctrlKey,i=this.grid.columnSelection===jb&&e.shiftKey;!this.column.selected||this.grid.selectionService.getSelectedColumns().length>1&&t?this.grid.selectionService.selectColumn(this.column.field,t,i,e):this.grid.selectionService.deselectColumn(this.column.field,e)}this.grid.theadRow.nativeElement.focus()}onPinterEnter(){this.column.applySelectableClass=!0}onPointerLeave(){this.column.applySelectableClass=!1}ngDoCheck(){this.getSortDirection(),this.cdr.markForCheck()}ngOnDestroy(){this._destroy$.next(!0),this._destroy$.complete()}onFilteringIconClick(e){e.stopPropagation(),this.grid.filteringService.toggleFilterDropdown(this.nativeElement,this.column)}onSortingIconClick(e){e.stopPropagation(),this.triggerSort()}getSortDirection(){let e=this.grid.sortingExpressions.find((e=>e.fieldName===this.column.field));this.sortDirection=e?e.dir:gb.None}triggerSort(){let e=(this.grid.groupingExpressions?this.grid.groupingExpressions.find((e=>e.fieldName===this.column.field)):this.grid.groupArea?.expressions&&this.grid.groupArea?.expressions.find((e=>e.fieldName===this.column.field)))?this.sortDirection+1>gb.Desc?gb.Asc:gb.Desc:this.sortDirection+1>gb.Desc?gb.None:this.sortDirection+1;this.sortDirection=e,this.grid.sort({fieldName:this.column.field,dir:this.sortDirection,ignoreCase:this.column.sortingIgnoreCase,strategy:this.column.sortStrategy})}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk),Rd(HG),Rd(Jg),Rd(ld))},e.cmp=Yn({type:e,selectors:[["igx-grid-header"]],viewQuery:function(e,t){if(1&e&&(pg(BG,7,ju),pg(GG,7,ju)),2&e){let e;gg(e=fg())&&(t.defaultESFHeaderIconTemplate=e.first),gg(e=fg())&&(t.defaultSortHeaderIconTemplate=e.first)}},hostVars:25,hostBindings:function(e,t){1&e&&oh("click",(function(e){return t.onClick(e)}))("pointerenter",(function(){return t.onPinterEnter()}))("pointerleave",(function(){return t.onPointerLeave()})),2&e&&(Gc("aria-selected",t.ariaSelected),Th("height",t.height,"rem"),Ah("igx-grid-th",t.columnGroupStyle)("igx-grid-th--cosy",t.cosyStyle)("igx-grid-th--compact",t.compactStyle)("asc",t.sortAscendingStyle)("desc",t.sortDescendingStyle)("igx-grid-th--number",t.numberStyle)("igx-grid-th--sortable",t.sortableStyle)("igx-grid-th--selectable",t.selectableStyle)("igx-grid-th--filtrable",t.filterableStyle)("igx-grid-th--sorted",t.sortedStyle)("igx-grid-th--selected",t.selectedStyle))},inputs:{column:"column",density:"density"},standalone:!0,features:[yu],decls:9,vars:6,consts:[["defaultColumn",""],["defaultESFHeaderIconTemplate",""],["defaultSortHeaderIconTemplate",""],[1,"igx-grid-th__title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"title"],[1,"igx-grid-th__icons"],[1,"sort-icon",3,"click","pointerdown"],[3,"ngClass","click","pointerdown"]],template:function(e,t){if(1&e&&(Wc(0,zG,2,2,"ng-template",null,0,_g),Wc(2,$G,2,0,"ng-template",null,1,_g),Wc(4,WG,2,1,"ng-template",null,2,_g),Yc(6,"span",3),Wc(7,jG,1,0,"ng-container",4),Xc(),Wc(8,ZG,4,2,"ng-container",5)),2&e){let e=Kc(1);Ed(7),Uc("ngTemplateOutlet",t.column.headerTemplate?t.column.headerTemplate:e)("ngTemplateOutletContext",_u(3,QG,t.column,t.column)),Ed(1),Uc("ngIf",!t.column.columnGroup)}},dependencies:[FI,Pm,Em,Sm,VG],encapsulation:2,changeDetection:0}),t})(),ez=class extends RE{shouldFitInViewPort(){return!0}fitInViewport(e,t){t.contentElementRect.height-t.viewPortRect.height>0?(e.style.width="auto",e.style.height=`${t.viewPortRect.height}px`):e.style.height=`${Math.max(t.viewPortRect.height-t.targetRect.bottom-1,t.contentElementRect.height)}px`,super.fitInViewport(e,t)}},tz=(()=>{let e=class{constructor(e,t){this.iconService=e,this._overlayService=t,this.isFilterRowVisible=!1,this.filteredColumn=null,this.selectedExpression=null,this.columnToMoreIconHidden=new Map,this.activeFilterCell=0,this.columnsWithComplexFilter=new Set,this.areEventsSubscribed=!1,this.destroy$=new We,this.isFiltering=!1,this.columnToExpressionsMap=new Map,this.columnStartIndex=-1,this._filterMenuOverlaySettings={closeOnEscape:!0,closeOnOutsideClick:!0,modal:!1,positionStrategy:new ez({verticalStartPoint:SE.Bottom,openAnimation:dy(fy,{params:{duration:"250ms"}}),closeAnimation:null}),scrollStrategy:new HE}}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}toggleFilterDropdown(e,t){let i=t.filteringExpressionsTree?"igx-excel-filter__icon--filtered":"igx-excel-filter__icon",n=e.querySelector(`.${i}`)||e,{id:r,ref:s}=this.grid.createFilterDropdown(t,v(y({},this._filterMenuOverlaySettings),{target:n}));this._overlayService.opening.pipe(ci((e=>e.id===r)),yi(this.destroy$)).subscribe((()=>this.lastActiveNode=this.grid.navigation.activeNode)),this._overlayService.closed.pipe(ci((e=>e.id===r)),yi(this.destroy$)).subscribe((()=>{this._overlayService.detach(r),s?.destroy(),this.grid.navigation.activeNode=this.lastActiveNode,this.grid.theadRow.nativeElement.focus()})),this.grid.columnPinned.pipe(ci()).subscribe((()=>s?.destroy())),this._overlayService.show(r)}subscribeToEvents(){this.areEventsSubscribed||(this.areEventsSubscribed=!0,this.grid.columnResized.pipe(yi(this.destroy$)).subscribe((e=>{this.updateFilteringCell(e.column)})),this.grid.parentVirtDir.chunkLoad.pipe(yi(this.destroy$)).subscribe((e=>{e.startIndex!==this.columnStartIndex&&(this.columnStartIndex=e.startIndex,this.grid.filterCellList.forEach((e=>{e.updateFilterCellArea()})))})),this.grid.columnMovingEnd.pipe(yi(this.destroy$)).subscribe((()=>{this.grid.filterCellList.forEach((e=>{e.updateFilterCellArea()}))})))}hideFilteringRowOnColumnVisibilityChange(e){let t=this.grid.filteringRow;t&&t.column&&t.column===e&&t.close()}filterInternal(e,t=null){let i;this.isFiltering=!0,i=t instanceof kb?t:this.createSimpleFilteringTree(e,t),0===i.filteringOperands.length?this.clearFilter(e):this.filter(e,null,i),this.isFiltering=!1}filter(e,t,i,n){let r=this.grid,s=r.getColumnByName(e),o=n||!!s&&s.filteringIgnoreCase,a=r.filteringExpressionsTree,l=a.find(e);i=i??l;let d=a.findIndex(e),c={owner:r,filteringExpressions:this.prepare_filtering_expression(a,e,t,i,o,d,!0).find(e),cancel:!1};if(this.grid.filtering.emit(c),c.cancel)return;if(i)this.filter_internal(e,t,i,o);else{let i=this.grid.filteringExpressionsTree.find(e);if(!i)throw new Error("Invalid condition or Expression Tree!");if(i instanceof kb)this.filter_internal(e,t,i,o);else{let n=i;this.filter_internal(e,t,n.condition,o)}}let h=this.grid.filteringExpressionsTree.find(e);requestAnimationFrame((()=>this.grid.filteringDone.emit(h)))}filter_global(e,t,i){if(!t)return;let n=this.grid.filteringExpressionsTree;this.grid.crudService.endEdit(!1),this.grid.page=0,n.filteringOperands=[];for(let r of this.grid.columns)this.prepare_filtering_expression(n,r.field,e,t,i||r.filteringIgnoreCase);this.grid.filteringExpressionsTree=n}clearFilter(e){if(e&&!this.grid.getColumnByName(e))return;let t=new kb(null,e),i={owner:this.grid,filteringExpressions:t,cancel:!1};this.grid.filtering.emit(i),i.cancel||(this.isFiltering=!0,this.clear_filter(e),requestAnimationFrame((()=>this.grid.filteringDone.emit(t))),e?this.getExpressions(e).length=0:this.grid.columns.forEach((e=>{this.getExpressions(e.field).length=0})),this.isFiltering=!1)}clear_filter(e){let t=this.grid;t.crudService.endEdit(!1);let i=t.filteringExpressionsTree,n=i.findIndex(e);n>-1?i.filteringOperands.splice(n,1):e||(i.filteringOperands=[]),t.filteringExpressionsTree=i}filterGlobal(e,t,i){if(!t)return;let n=this.grid.filteringExpressionsTree,r=new kb(n.operator,n.fieldName);for(let n of this.grid.columns)this.prepare_filtering_expression(r,n.field,e,t,i||n.filteringIgnoreCase);let s={owner:this.grid,filteringExpressions:r,cancel:!1};this.grid.filtering.emit(s),!s.cancel&&(this.grid.crudService.endEdit(!1),this.grid.page=0,this.grid.filteringExpressionsTree=r,requestAnimationFrame((()=>this.grid.filteringDone.emit(this.grid.filteringExpressionsTree))))}registerSVGIcons(){aR.forEach((e=>this.iconService.addSvgIconFromText(e.name,e.value,"imx-icons"))),this.iconService.addSvgIconFromText(iR.name,iR.value,"imx-icons"),this.iconService.addSvgIconFromText(nR.name,nR.value,"imx-icons")}getExpressions(e){if(!this.columnToExpressionsMap.has(e)){let t=this.grid.columns.find((t=>t.field===e)),i=new Array;return t&&(this.generateExpressionsList(t.filteringExpressionsTree,this.grid.filteringExpressionsTree.operator,i),this.columnToExpressionsMap.set(e,i)),i}return this.columnToExpressionsMap.get(e)}refreshExpressions(){this.isFiltering||(this.columnsWithComplexFilter.clear(),this.columnToExpressionsMap.forEach(((e,t)=>{let i=this.grid.columns.find((e=>e.field===t));i?(e.length=0,this.generateExpressionsList(i.filteringExpressionsTree,this.grid.filteringExpressionsTree.operator,e),this.isFilteringTreeComplex(i.filteringExpressionsTree)&&this.columnsWithComplexFilter.add(t),this.updateFilteringCell(i)):this.columnToExpressionsMap.delete(t)})))}removeExpression(e,t){let i=this.getExpressions(e);0===t&&i.length>1?i[1].beforeOperator=null:t===i.length-1?i[t-1].afterOperator=null:(i[t-1].afterOperator=i[t+1].beforeOperator,i[0].beforeOperator=null,i[i.length-1].afterOperator=null),i.splice(t,1)}createSimpleFilteringTree(e,t=null){let i,n=t||this.getExpressions(e),r=new kb(Rb.Or,e);for(let t of n)t.expression.condition.isUnary||null!==t.expression.searchVal?void 0!==t.beforeOperator&&null!==t.beforeOperator&&t.beforeOperator!==Rb.Or||t.afterOperator!==Rb.And?t.beforeOperator===Rb.And?i.filteringOperands.push(t.expression):(r.filteringOperands.push(t.expression),i=null):(i=new kb(Rb.And,e),r.filteringOperands.push(i),i.filteringOperands.push(t.expression)):t.afterOperator===Rb.And&&!i&&(i=new kb(Rb.And,e),r.filteringOperands.push(i));return r}isFilterComplex(e){if(this.columnsWithComplexFilter.has(e))return!0;let t=this.grid.columns.find((t=>t.field===e)),i=t&&this.isFilteringTreeComplex(t.filteringExpressionsTree);return i&&this.columnsWithComplexFilter.add(e),i}getOperatorAsString(e){return 0===e?this.grid.resourceStrings.igx_grid_filter_operator_and:this.grid.resourceStrings.igx_grid_filter_operator_or}getChipLabel(e){if(e.condition.isUnary)return this.grid.resourceStrings[`igx_grid_filter_${e.condition.name}`]||e.condition.name;if(e.searchVal instanceof Date){let t=this.grid.getColumnByName(e.fieldName),i=t.formatter;if(i)return i(e.searchVal,void 0);let n=t.pipeArgs;return ab(e.searchVal,n.format,this.grid.locale)}return e.searchVal}updateFilteringCell(e){let t=e.filterCell;t&&t.updateFilterCellArea()}generateExpressionsList(e,t,i){$N(e,t,i)}isFilteringExpressionsTreeEmpty(e){if(kb.empty(e))return!0;for(let t of e.filteringOperands){if(!(t instanceof kb))return!1;{let e=t;if(e.filteringOperands&&e.filteringOperands.length)return!1}}return!0}filter_internal(e,t,i,n){let r=this.grid.filteringExpressionsTree;this.grid.crudService.endEdit(!1),this.grid.page=0;let s=r.findIndex(e);this.prepare_filtering_expression(r,e,t,i,n,s),this.grid.filteringExpressionsTree=r}prepare_filtering_expression(e,t,i,n,r,s=-1,o=!1){let a=n instanceof kb?n:null,l=n instanceof kb?null:n,d=e;if(o&&(d=new kb(e.operator,e.fieldName),d.filteringOperands=[...e.filteringOperands]),l){let n={fieldName:t,searchVal:i,condition:l,ignoreCase:r};a=new kb(e.operator,t),a.filteringOperands.push(n)}return a&&(s>-1?d.filteringOperands[s]=a:d.filteringOperands.push(a)),d}isFilteringTreeComplex(e){if(!e)return!1;if(e instanceof kb){let t=e;if(t.operator===Rb.Or)return this.getChildAndOperatorsCount(t)>1;let i=!1;for(let e of t.filteringOperands)i=i||this.isFilteringTreeComplex(e);return i}return!1}getChildAndOperatorsCount(e){let t,i=0;for(let n=0;n<e.filteringOperands.length;n++)t=e[n],t instanceof kb&&(t.operator===Rb.And&&i++,i+=this.getChildAndOperatorsCount(t));return i}},t=e;return e.fac=function(t){return new(t||e)(pn(bI),pn(LE))},e.prov=ji({token:e,factory:e.fac}),t})(),iz=["emptyFilter"],nz=["defaultFilter"],rz=["complexFilter"],sz=["chipsArea"],oz=["moreIcon"],az=["ghostChip"],lz=["complexChip"];function dz(e,t){if(1&e){let e=nh();Yc(0,"igx-chips-area",4)(1,"igx-chip",5,6),oh("click",(function(){return Is(e),Ts(dh().onChipClicked())})),Yc(3,"igx-icon",7),$h(4,"filter_list"),Xc(),Yc(5,"span"),$h(6),Xc()()()}if(2&e){let e=dh();Gc("draggable",!1),Ed(1),Uc("displayDensity",e.displayDensity)("tabIndex",-1),Gc("draggable",!1),Ed(2),Gc("draggable",!1),Ed(2),Gc("draggable",!1),Ed(1),jh(e.filteringService.grid.resourceStrings.igx_grid_filter)}}function cz(e,t){if(1&e){let e=nh();Yc(0,"igx-chip",15),oh("click",(function(){Is(e);let t=dh().$implicit;return Ts(dh(2).onChipClicked(t.expression))}))("remove",(function(t){Is(e);let i=dh().$implicit;return Ts(dh(2).onChipRemoved(t,i))})),Zc(1,"igx-icon",16),Yc(2,"span",null,17),$h(4),Xc()()}if(2&e){let e=dh().$implicit,t=dh(2);Uc("removable",!0)("tabIndex",-1)("displayDensity",t.displayDensity),Ed(1),Uc("name",e.expression.condition.iconName),Ed(3),Kh(" ",t.filteringService.getChipLabel(e.expression)," ")}}function hz(e,t){if(1&e&&(Yc(0,"span",18),$h(1),Xc()),2&e){let e=dh().$implicit,t=dh(2);Ed(1),jh(t.filteringService.getOperatorAsString(e.afterOperator))}}function uz(e,t){if(1&e&&(Jc(0),Wc(1,cz,5,5,"igx-chip",13),Wc(2,hz,2,1,"span",14),eh()),2&e){let e=t.last,i=t.index,n=dh(2);Ed(1),Uc("ngIf",n.isChipVisible(i)),Ed(1),Uc("ngIf",!e&&n.isChipVisible(i+1))}}function gz(e,t){if(1&e){let e=nh();Yc(0,"igx-chips-area",4,8),Wc(2,uz,3,2,"ng-container",9),Yc(3,"div",10,11),oh("click",(function(){return Is(e),Ts(dh().onChipClicked())})),Yc(5,"igx-icon"),$h(6,"filter_list"),Xc(),Zc(7,"igx-badge",12),Xc()()}if(2&e){let e=dh();Ed(2),Uc("ngForOf",e.expressionsList),Ed(1),Uc("ngClass",e.filteringIndicatorClass()),Ed(4),Uc("value",e.moreFiltersCount)}}function pz(e,t){if(1&e){let e=nh();Yc(0,"igx-chip",19,20),oh("remove",(function(){return Is(e),Ts(dh().clearFiltering())})),Yc(2,"igx-icon",7),$h(3,"filter_list"),Xc(),Yc(4,"span"),$h(5),Xc()()}if(2&e){let e=dh();Uc("removable",!0)("displayDensity",e.displayDensity)("tabIndex",-1),Ed(5),jh(e.filteringService.grid.resourceStrings.igx_grid_complex_filter)}}function mz(e,t){1&e&&th(0)}var fz=(()=>{let e=class{get styleClasses(){let e=this.column&&this.column.selected?"igx-grid__filtering-cell--selected":"igx-grid__filtering-cell";switch(this.column.grid.displayDensity){case JE:e+=" igx-grid__filtering-cell--compact";break;case QE:e+=" igx-grid__filtering-cell--cosy"}return e}constructor(e,t){this.cdr=e,this.filteringService=t,this.moreFiltersCount=0,this.baseClass="igx-grid__filtering-cell-indicator",this.filteringService.subscribeToEvents()}ngOnInit(){this.filteringService.columnToMoreIconHidden.set(this.column.field,!0)}ngAfterViewInit(){this.updateFilterCellArea()}ngDoCheck(){this.updateFilterCellArea()}isChipVisible(e){let t=this.expressionsList[e];return!(!t||!t.isVisible)}updateFilterCellArea(){this.expressionsList=this.filteringService.getExpressions(this.column.field),this.updateVisibleFilters()}get displayDensity(){return this.column.grid.displayDensity===ZE?QE:this.column.grid.displayDensity}get template(){if(!this.column.filterable)return null;if(this.column.filterCellTemplate)return this.column.filterCellTemplate;let e=this.column.filteringExpressionsTree;return e&&0!==e.filteringOperands.length?this.filteringService.isFilterComplex(this.column.field)?this.complexFilter:this.defaultFilter:this.emptyFilter}get context(){return{$implicit:this.column,column:this.column}}onChipClicked(e){e?this.expressionsList.forEach((t=>{t.isSelected=t.expression===e})):this.expressionsList.length>0&&(this.expressionsList.forEach((e=>{e.isSelected=!1})),this.expressionsList[0].isSelected=!0),this.filteringService.grid.navigation.performHorizontalScrollToCell(this.column.visibleIndex),this.filteringService.filteredColumn=this.column,this.filteringService.isFilterRowVisible=!0,this.filteringService.selectedExpression=e}onChipRemoved(e,t){let i=this.expressionsList.indexOf(t);this.removeExpression(i),this.filteringService.grid.theadRow.nativeElement.focus()}clearFiltering(){this.filteringService.clearFilter(this.column.field),this.cdr.detectChanges()}filteringIndicatorClass(){return{[this.baseClass]:!this.isMoreIconHidden(),[`${this.baseClass}--hidden`]:this.isMoreIconHidden()}}removeExpression(e){0!==e||1!==this.expressionsList.length?(this.filteringService.removeExpression(this.column.field,e),this.updateVisibleFilters(),this.filteringService.filterInternal(this.column.field)):this.clearFiltering()}isMoreIconHidden(){return this.filteringService.columnToMoreIconHidden.get(this.column.field)}updateVisibleFilters(){if(this.expressionsList.forEach((e=>e.isVisible=!0)),this.moreIcon&&this.filteringService.columnToMoreIconHidden.set(this.column.field,!0),this.cdr.detectChanges(),this.chipsArea&&this.expressionsList.length>1){let e=this.chipsArea.element.nativeElement.offsetWidth,t=0,i=this.chipsArea.element.nativeElement.children,n=0,r=this.moreIcon.nativeElement.offsetWidth-parseInt(document.defaultView.getComputedStyle(this.moreIcon.nativeElement)["margin-left"],10);for(let s=0;s<i.length-1;s++){if(!(t+i[s].offsetWidth<e)){(s%2!=0&&t+r>e||n>0&&t-i[s-1].offsetWidth+r>e)&&n--,this.moreFiltersCount=this.expressionsList.length-n,this.filteringService.columnToMoreIconHidden.set(this.column.field,!1);break}t+=i[s].offsetWidth,s%2==0?n++:(t+=parseInt(document.defaultView.getComputedStyle(i[s])["margin-left"],10),t+=parseInt(document.defaultView.getComputedStyle(i[s])["margin-right"],10))}for(let e=n;e<this.expressionsList.length;e++)this.expressionsList[e].isVisible=!1;this.cdr.detectChanges()}}},t=e;return e.fac=function(t){return new(t||e)(Rd(Jg),Rd(tz))},e.cmp=Yn({type:e,selectors:[["igx-grid-filtering-cell"]],viewQuery:function(e,t){if(1&e&&(pg(iz,7,ju),pg(nz,7,ju),pg(rz,7,ju),pg(sz,5,KF),pg(oz,5,ld),pg(az,5,WF),pg(lz,5,WF)),2&e){let e;gg(e=fg())&&(t.emptyFilter=e.first),gg(e=fg())&&(t.defaultFilter=e.first),gg(e=fg())&&(t.complexFilter=e.first),gg(e=fg())&&(t.chipsArea=e.first),gg(e=fg())&&(t.moreIcon=e.first),gg(e=fg())&&(t.ghostChip=e.first),gg(e=fg())&&(t.complexChip=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&kh(t.styleClasses)},inputs:{column:"column"},standalone:!0,features:[yu],decls:7,vars:2,consts:[["emptyFilter",""],["defaultFilter",""],["complexFilter",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-filtering-chips"],[3,"displayDensity","tabIndex","click"],["ghostChip",""],["igxPrefix",""],["chipsArea",""],[4,"ngFor","ngForOf"],[3,"ngClass","click"],["moreIcon",""],[3,"value"],[3,"removable","tabIndex","displayDensity","click","remove",4,"ngIf"],["class","igx-filtering-chips__connector",4,"ngIf"],[3,"removable","tabIndex","displayDensity","click","remove"],["igxPrefix","","family","imx-icons",3,"name"],["label",""],[1,"igx-filtering-chips__connector"],[3,"removable","displayDensity","tabIndex","remove"],["complexChip",""]],template:function(e,t){1&e&&(Wc(0,dz,7,7,"ng-template",null,0,_g),Wc(2,gz,8,3,"ng-template",null,1,_g),Wc(4,pz,6,4,"ng-template",null,2,_g),Wc(6,mz,1,0,"ng-container",3)),2&e&&(Ed(6),Uc("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context))},dependencies:[KF,WF,FI,gI,bm,Em,Sm,eO,Pm],encapsulation:2,changeDetection:0}),t})(),yz=(()=>{let e=class{constructor(e,t,i){this.zone=e,this.element=t,this.colResizingService=i,this._dblClick=!1,this.destroy$=new We,this.DEBOUNCE_TIME=200}onDoubleClick(){this._dblClick=!0,this.initResizeService(),this.colResizingService.autosizeColumnOnDblClick()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}ngAfterViewInit(){!this.column.columnGroup&&this.column.resizable&&(this.zone.runOutsideAngular((()=>{Lt(this.element.nativeElement,"mousedown").pipe(Zt(this.DEBOUNCE_TIME),yi(this.destroy$)).subscribe((e=>{this._dblClick?this._dblClick=!1:0===e.button&&(this._onResizeAreaMouseDown(e),this.column.grid.resizeLine.resizer.onMousedown(e))}))})),Lt(this.element.nativeElement,"mouseup").pipe(Zt(this.DEBOUNCE_TIME),yi(this.destroy$)).subscribe((()=>{this.colResizingService.isColumnResizing=!1,this.colResizingService.showResizer=!1,this.column.grid.cdr.detectChanges()})))}_onResizeAreaMouseDown(e){this.initResizeService(e),this.colResizingService.showResizer=!0,this.column.grid.cdr.detectChanges()}initResizeService(e=null){this.colResizingService.column=this.column,e&&(this.colResizingService.isColumnResizing=!0,this.colResizingService.startResizePos=e.clientX)}},t=e;return e.fac=function(t){return new(t||e)(Rd(Ig),Rd(ld),Rd(HG))},e.dir=er({type:e,selectors:[["","igxResizeHandle",""]],hostBindings:function(e,t){1&e&&oh("dblclick",(function(){return t.onDoubleClick()}))},inputs:{column:["igxResizeHandle","column"]},standalone:!0}),t})(),vz=(()=>{let e=class extends NT{set data(e){e instanceof tA?this._displayContainer=e:this._column=e}get column(){return this._column}get isDropTarget(){return this.column&&this.column.grid.moving&&(!this.column.pinned&&this.cms.column?.disablePinning||!this.cms.column?.disablePinning)}get horizontalScroll(){if(this._displayContainer)return this._displayContainer}get nativeElement(){return this.ref.nativeElement}constructor(e,t,i,n){super(e,t,i),this.ref=e,this.renderer=t,this._=i,this.cms=n,this._dropIndicator=null,this._lastDropIndicator=null,this._dragLeave=new We,this._dropIndicatorClass="igx-grid-th__drop-indicator--active"}ngOnDestroy(){this._dragLeave.next(!0),this._dragLeave.complete(),super.ngOnDestroy()}onDragOver(e){if(e.detail.owner instanceof CG&&this.isDropTarget&&this.cms.column!==this.column&&this.cms.column.level===this.column.level&&this.cms.column.parent===this.column.parent){this._lastDropIndicator&&this.renderer.removeClass(this._dropIndicator,this._dropIndicatorClass);let t=this.nativeElement.getBoundingClientRect(),i=t.left+t.width/2,n=this.nativeElement.parentElement;e.detail.pageX<i?(this._dropPos=mM.BeforeDropTarget,this._lastDropIndicator=this._dropIndicator=n.firstElementChild):(this._dropPos=mM.AfterDropTarget,this._lastDropIndicator=this._dropIndicator=n.lastElementChild),"block"!==this.cms.icon.innerText&&this.renderer.addClass(this._dropIndicator,this._dropIndicatorClass)}}onDragEnter(e){if(e.detail.owner instanceof CG){if(this.column&&this.cms.column.grid.id!==this.column.grid.id)return void(this.cms.icon.innerText="block");this.isDropTarget&&this.cms.column!==this.column&&this.cms.column.level===this.column.level&&this.cms.column.parent===this.column.parent?((!this.column.pinned||this.column.pinned&&this.cms.column.pinned)&&(this.cms.icon.innerText="swap_horiz"),this.cms.icon.innerText="save_alt"):this.cms.icon.innerText="block",this.horizontalScroll&&(this.cms.icon.innerText="right"===e.target.id?"arrow_forward":"arrow_back",Gt(0,yt).pipe(yi(this._dragLeave)).subscribe((()=>{"right"===e.target.id?this.horizontalScroll.scrollPosition+=10:this.horizontalScroll.scrollPosition-=10})))}}onDragLeave(e){e.detail.owner instanceof CG&&(this.cms.icon.innerText="block",this._dropIndicator&&this.renderer.removeClass(this._dropIndicator,this._dropIndicatorClass),this.horizontalScroll&&this._dragLeave.next(!0))}onDragDrop(e){e.preventDefault(),e.detail.owner instanceof CG&&(this.column&&this.cms.column.grid.id!==this.column.grid.id||(this.horizontalScroll&&this._dragLeave.next(!0),this.isDropTarget&&(this.column.grid.moveColumn(this.cms.column,this.column,this._dropPos),this.cms.column=null,this.column.grid.cdr.detectChanges())))}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(hd),Rd(Ig),Rd(fM))},e.dir=er({type:e,selectors:[["","igxColumnMovingDrop",""]],inputs:{data:["igxColumnMovingDrop","data"]},standalone:!0,features:[Tc]}),t})();function xz(e,t){1&e&&Zc(0,"span",7)}function _z(e,t){if(1&e&&(Zc(0,"igx-grid-header-group",9),Pu(1,"igxHeaderGroupStyle")),2&e){let e=dh().$implicit,t=dh(2);Uc("ngClass",e.headerGroupClasses)("ngStyle",Nu(1,7,e.headerGroupStyles,e,t.grid.pipeTrigger))("column",e)("igxColumnMovingDrag",e)("ghostHost",t.grid.outlet.nativeElement)("igxColumnMovingDrop",e),Gc("droppable",!0)}}function wz(e,t){if(1&e&&(Jc(0),Wc(1,_z,2,11,"igx-grid-header-group",8),eh()),2&e){let e=t.$implicit;Ed(1),Uc("ngIf",!e.hidden)}}function Cz(e,t){1&e&&Zc(0,"span",10)}var Sz=function(e,t){return{"igx-grid-th--pinned-last":e,"igx-grid-th--pinned-first":t}},bz=function(e,t){return{"grid-template-rows":e,"grid-template-columns":t}};function Dz(e,t){if(1&e&&(Jc(0),Wc(1,xz,1,0,"span",3),Yc(2,"div",4),Wc(3,wz,2,1,"ng-container",5),Xc(),Wc(4,Cz,1,0,"span",6),eh()),2&e){let e=dh();Ed(1),Uc("ngIf",e.grid.moving),Ed(1),Uc("ngClass",_u(5,Sz,e.hasLastPinnedChildColumn,e.hasFirstPinnedChildColumn))("ngStyle",_u(8,bz,e.column.getGridTemplate(!0),e.column.getGridTemplate(!1))),Ed(1),Uc("ngForOf",e.column.children),Ed(1),Uc("ngIf",e.grid.moving)}}function Ez(e,t){if(1&e&&(Yc(0,"span",11),$h(1),Xc()),2&e){let e=dh();Uc("title",e.title),Ed(1),jh(e.column.header)}}function Iz(e,t){if(1&e&&(Yc(0,"igx-icon"),$h(1),Xc()),2&e){let e=dh();Gc("draggable",!1),Ed(1),Kh(" ",e.column.expanded?"expand_more":"chevron_right"," ")}}function Tz(e,t){1&e&&Zc(0,"span",7)}function Az(e,t){1&e&&th(0)}var kz=function(e,t){return{$implicit:e,column:t}};function Rz(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"div",15),oh("click",(function(t){return Is(e),Ts(dh(2).toggleExpandState(t))})),Wc(2,Az,1,0,"ng-container",13),Xc(),eh()}if(2&e){let e=dh(2),t=Kc(4);Ed(2),Uc("ngTemplateOutlet",e.column.collapsibleIndicatorTemplate?e.column.collapsibleIndicatorTemplate:t)("ngTemplateOutletContext",_u(2,kz,e.column,e.column))}}function Oz(e,t){1&e&&th(0)}function Fz(e,t){if(1&e&&(Yc(0,"igx-grid-header-group",18),Pu(1,"igxHeaderGroupWidth"),Pu(2,"igxHeaderGroupWidth"),Pu(3,"igxHeaderGroupStyle"),Xc()),2&e){let e=dh().$implicit,t=dh(3);Th("min-width",Nu(1,7,e.calcWidth,t.grid.defaultHeaderGroupMinWidth,t.grid.hasColumnLayouts))("flex-basis",Nu(2,11,e.calcWidth,t.grid.defaultHeaderGroupMinWidth,t.grid.hasColumnLayouts)),Uc("ngClass",e.headerGroupClasses)("ngStyle",Nu(3,15,e.headerGroupStyles,e,t.grid.pipeTrigger))("column",e)}}function Pz(e,t){if(1&e&&(Jc(0),Wc(1,Fz,4,19,"igx-grid-header-group",17),eh()),2&e){let e=t.$implicit;Ed(1),Uc("ngIf",!e.hidden)}}function Mz(e,t){if(1&e&&(Yc(0,"div",16),Wc(1,Pz,2,1,"ng-container",5),Xc()),2&e){let e=dh(2);Ed(1),Uc("ngForOf",e.column.children)}}function Vz(e,t){1&e&&Zc(0,"span",10)}var Nz=function(e,t,i,n,r,s){return{"igx-grid-th--pinned-last":e,"igx-grid-th--pinned-first":t,"igx-grid-th--collapsible":i,"igx-grid-th--selectable":n,"igx-grid-th--selected":r,"igx-grid-th--active":s}};function Lz(e,t){if(1&e){let e=nh();Jc(0),Wc(1,Tz,1,0,"span",3),Yc(2,"div",12),oh("pointerdown",(function(t){return Is(e),Ts(dh().pointerdown(t))}))("click",(function(t){return Is(e),Ts(dh().groupClicked(t))}))("pointerenter",(function(){return Is(e),Ts(dh().onPinterEnter())}))("pointerleave",(function(){return Is(e),Ts(dh().onPointerLeave())})),Wc(3,Rz,3,5,"ng-container",0),Wc(4,Oz,1,0,"ng-container",13),Xc(),Wc(5,Mz,2,1,"div",14),Wc(6,Vz,1,0,"span",6),eh()}if(2&e){let e=dh(),t=Kc(2);Ed(1),Uc("ngIf",e.grid.moving),Ed(1),Uc("ngClass",bu(14,Nz,e.hasLastPinnedChildColumn,e.hasFirstPinnedChildColumn,e.column.collapsible,e.selectable,e.selected,e.activeGroup))("igxColumnMovingDrag",e.column)("ghostHost",e.grid.outlet.nativeElement)("igxColumnMovingDrop",e.column),Gc("aria-label",e.column.header||e.column.field)("aria-expanded",e.column.expanded)("aria-selected",e.column.selected)("droppable",!0),Ed(1),Uc("ngIf",e.column.collapsible),Ed(1),Uc("ngTemplateOutlet",e.column.headerTemplate?e.column.headerTemplate:t)("ngTemplateOutletContext",_u(21,kz,e.column,e.column)),Ed(1),Uc("ngIf",!e.grid.isPivot),Ed(1),Uc("ngIf",e.grid.moving)}}function Hz(e,t){1&e&&Zc(0,"span",7)}function Bz(e,t){1&e&&Zc(0,"igx-grid-filtering-cell",22),2&e&&(Uc("column",dh(2).column),Gc("draggable",!1))}function Gz(e,t){if(1&e&&Zc(0,"span",23),2&e){let e=dh(2);Th("cursor",e.colResizingService.resizeCursor),Uc("igxResizeHandle",e.column),Gc("draggable",!1)}}function zz(e,t){1&e&&Zc(0,"span",10)}function $z(e,t){if(1&e){let e=nh();Jc(0),Wc(1,Hz,1,0,"span",3),Yc(2,"igx-grid-header",19),oh("pointerdown",(function(){return Is(e),Ts(dh().activate())})),Pu(3,"igxHeaderGroupStyle"),Xc(),Wc(4,Bz,1,2,"igx-grid-filtering-cell",20),Wc(5,Gz,1,4,"span",21),Wc(6,zz,1,0,"span",6),eh()}if(2&e){let e=dh();Ed(1),Uc("ngIf",e.grid.moving),Ed(1),Uc("id",e.grid.id+"_"+e.column.field)("ngClass",e.column.headerClasses)("ngStyle",Nu(3,13,e.column.headerStyles,e.column,e.grid.pipeTrigger))("igxColumnMovingDrag",e.column)("ghostHost",e.grid.outlet.nativeElement)("igxColumnMovingDrop",e.column)("column",e.column)("density",e.grid.displayDensity),Gc("droppable",!0),Ed(2),Uc("ngIf",e.grid.allowFiltering&&"quickFilter"===e.grid.filterMode),Ed(1),Uc("ngIf",!e.column.columnGroup&&e.column.resizable),Ed(1),Uc("ngIf",e.grid.moving)}}var Wz=(()=>{let e=class{get rowEnd(){return this.column.rowEnd}get colEnd(){return this.column.colEnd}get rowStart(){return this.column.rowStart}get colStart(){return this.column.colStart}get headerID(){return`${this.grid.id}_-1_${this.column.level}_${this.column.visibleIndex}`}get active(){let e=this.grid.navigation.activeNode;return!(!e||this.column.columnGroup)&&-1===e.row&&e.column===this.column.visibleIndex&&e.level===this.column.level}get activeGroup(){let e=this.grid.navigation.activeNode;return!!e&&-1===e.row&&e.column===this.column.visibleIndex&&e.level===this.column.level}get width(){return this.grid.getHeaderGroupWidth(this.column)}constructor(e,t,i,n,r,s){this.cdr=e,this.grid=t,this.ref=i,this.colResizingService=n,this.filteringService=r,this.platform=s,this.defaultCss=!0}get pinnedCss(){return this.isPinned}get pinnedLastCss(){return this.isLastPinned}get pinnedFirstCSS(){return this.isFirstPinned}get headerDragCss(){return this.isHeaderDragged}get filteringCss(){return this.isFiltered}get zIndex(){return this.column.pinned?9999-this.grid.pinnedColumns.indexOf(this.column):null}get isFiltered(){return this.filteringService.filteredColumn===this.column}get isLastPinned(){return!this.grid.hasColumnLayouts&&this.column.isLastPinned}get isFirstPinned(){return!this.grid.hasColumnLayouts&&this.column.isFirstPinned}get groupDisplayStyle(){return this.grid.hasColumnLayouts&&this.column.children?"flex":""}get isPinned(){return this.column.pinned}get isHeaderDragged(){return this.grid.columnInDrag===this.column}get hasLastPinnedChildColumn(){return this.column.allChildren.some((e=>e.isLastPinned))}get hasFirstPinnedChildColumn(){return this.column.allChildren.some((e=>e.isFirstPinned))}get selectable(){let e=this.column.allChildren.filter((e=>!e.hidden&&e.selectable&&!e.columnGroup));return this.grid.columnSelection!==$b&&this.column.applySelectableClass&&!this.selected&&e.length>0&&!this.grid.filteringService.isFilterRowVisible}get selected(){return this.column.selected}get height(){return this.nativeElement.getBoundingClientRect().height}get title(){return this.column.title||this.column.header}get nativeElement(){return this.ref.nativeElement}onMouseDown(e){e.preventDefault()}groupClicked(e){let t=this.column.allChildren.filter((e=>!e.hidden&&e.selectable&&!e.columnGroup)).map((e=>e.field));if(this.grid.columnSelection!==$b&&t.length>0&&!this.grid.filteringService.isFilterRowVisible){let i=this.grid.columnSelection===Wb||!e.ctrlKey,n=this.grid.columnSelection===jb&&e.shiftKey;if(this.selected){let r=this.grid.selectionService.getSelectedColumns();r.length===t.length&&r.every((e=>t.includes(e)))||!i?this.grid.selectionService.deselectColumns(t,e):this.grid.selectionService.selectColumns(t,i,n,e)}else this.grid.selectionService.selectColumns(t,i,n,e)}}toggleExpandState(e){e.stopPropagation(),this.column.expanded=!this.column.expanded}pointerdown(e){e.stopPropagation(),this.activate(),this.grid.theadRow.nativeElement.focus()}activate(){this.grid.navigation.setActiveNode(this.activeNode),this.grid.theadRow.nativeElement.focus()}ngDoCheck(){this.cdr.markForCheck()}onPinterEnter(){this.column.applySelectableClass=!0}onPointerLeave(){this.column.applySelectableClass=!1}get activeNode(){return{row:-1,column:this.column.visibleIndex,level:this.column.level,mchCache:{level:this.column.level,visibleIndex:this.column.visibleIndex},layout:this.column.columnLayoutChild?{rowStart:this.column.rowStart,colStart:this.column.colStart,rowEnd:this.column.rowEnd,colEnd:this.column.colEnd,columnVisibleIndex:this.column.visibleIndex}:null}}},t=e;return e.fac=function(t){return new(t||e)(Rd(Jg),Rd(wk),Rd(ld),Rd(HG),Rd(tz),Rd($S))},e.cmp=Yn({type:e,selectors:[["igx-grid-header-group"]],viewQuery:function(t,i){if(1&t&&(pg(JG,5),pg(fz,5),pg(e,5,e)),2&t){let e;gg(e=fg())&&(i.header=e.first),gg(e=fg())&&(i.filter=e.first),gg(e=fg())&&(i.children=e)}},hostVars:27,hostBindings:function(e,t){1&e&&oh("mousedown",(function(e){return t.onMouseDown(e)})),2&e&&(Gc("id",t.headerID),Th("grid-row-end",t.rowEnd)("grid-column-end",t.colEnd)("grid-row-start",t.rowStart)("grid-column-start",t.colStart)("z-index",t.zIndex)("display",t.groupDisplayStyle),Ah("igx-grid-th--active",t.active)("igx-grid-thead__item",t.defaultCss)("igx-grid-th--pinned",t.pinnedCss)("igx-grid-th--pinned-last",t.pinnedLastCss)("igx-grid-th--pinned-first",t.pinnedFirstCSS)("igx-grid__drag-col-header",t.headerDragCss)("igx-grid-th--filtering",t.filteringCss))},inputs:{column:"column"},standalone:!0,features:[yu],decls:7,vars:3,consts:[[4,"ngIf"],["defaultColumn",""],["defaultCollapseIndicator",""],["class","igx-grid-th__drop-indicator-left",4,"ngIf"],[1,"igx-grid-thead__group","igx-grid__mrl-block",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf"],["class","igx-grid-th__drop-indicator-right",4,"ngIf"],[1,"igx-grid-th__drop-indicator-left"],["class","igx-grid-thead__subgroup",3,"ngClass","ngStyle","column","igxColumnMovingDrag","ghostHost","igxColumnMovingDrop",4,"ngIf"],[1,"igx-grid-thead__subgroup",3,"ngClass","ngStyle","column","igxColumnMovingDrag","ghostHost","igxColumnMovingDrop"],[1,"igx-grid-th__drop-indicator-right"],[1,"igx-grid-th__group-title",3,"title"],["role","columnheader",1,"igx-grid-thead__title",3,"ngClass","igxColumnMovingDrag","ghostHost","igxColumnMovingDrop","pointerdown","click","pointerenter","pointerleave"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","igx-grid-thead__group",4,"ngIf"],[1,"igx-grid-th__expander",3,"click"],[1,"igx-grid-thead__group"],["class","igx-grid-thead__subgroup",3,"ngClass","ngStyle","column","min-width","flex-basis",4,"ngIf"],[1,"igx-grid-thead__subgroup",3,"ngClass","ngStyle","column"],["role","columnheader",1,"igx-grid-th--fw",3,"id","ngClass","ngStyle","igxColumnMovingDrag","ghostHost","igxColumnMovingDrop","column","density","pointerdown"],[3,"column",4,"ngIf"],["class","igx-grid-th__resize-handle",3,"igxResizeHandle","cursor",4,"ngIf"],[3,"column"],[1,"igx-grid-th__resize-handle",3,"igxResizeHandle"]],template:function(e,t){1&e&&(Wc(0,Dz,5,11,"ng-container",0),Wc(1,Ez,2,2,"ng-template",null,1,_g),Wc(3,Iz,2,2,"ng-template",null,2,_g),Wc(5,Lz,7,24,"ng-container",0),Wc(6,$z,7,17,"ng-container",0)),2&e&&(Uc("ngIf",t.grid.hasColumnLayouts&&t.column.columnGroup),Ed(5),Uc("ngIf",!t.grid.hasColumnLayouts&&t.column.columnGroup),Ed(1),Uc("ngIf",!t.column.columnGroup))},dependencies:[e,Em,Sm,Fm,bm,CG,vz,FI,Pm,JG,fz,yz,NG,LG],encapsulation:2,changeDetection:0}),t})(),jz=["defaultFilterUI"],Kz=["defaultDateUI"],Uz=["defaultTimeUI"],qz=["defaultDateTimeUI"],Yz=["input"],Xz=["inputGroupConditions"],Zz=["chipsArea"],Qz=["inputGroup"],Jz=["picker"],e$=["inputGroupPrefix"],t$=["container"],i$=["operand"],n$=["closeButton"],r$=["operators"];function s$(e,t){if(1&e&&(Yc(0,"igx-drop-down-item",19)(1,"div",20),Zc(2,"igx-icon",21),Yc(3,"span",22),$h(4),Xc()()()),2&e){let e=t.$implicit,i=dh();Uc("value",e)("selected",i.isConditionSelected(e)),Ed(2),Uc("name",i.getCondition(e).iconName),Ed(2),jh(i.translateCondition(e))}}function o$(e,t){if(1&e){let e=nh();Yc(0,"igx-suffix")(1,"igx-icon",30),oh("keydown",(function(t){return Is(e),Ts(dh(2).onCommitKeyDown(t))}))("click",(function(){return Is(e),Ts(dh(2).onCommitClick())})),$h(2,"done"),Xc(),Yc(3,"igx-icon",30),oh("keydown",(function(t){return Is(e),Ts(dh(2).onClearKeyDown(t))}))("click",(function(){return Is(e),Ts(dh(2).onClearClick())})),$h(4,"clear"),Xc()()}}function a$(e,t){if(1&e){let e=nh();Yc(0,"igx-input-group",23,24),oh("focusout",(function(){return Is(e),Ts(dh().onInputGroupFocusout())})),Yc(2,"igx-prefix",25,26),oh("click",(function(t){return Is(e),Ts(dh().inputGroupPrefixClick(t))}))("keydown",(function(t){return Is(e),Ts(dh().onPrefixKeyDown(t))})),Zc(4,"igx-icon",21),Xc(),Yc(5,"input",27,28),oh("input",(function(t){return Is(e),Ts(dh().onInput(t))}))("click",(function(){return Is(e),Ts(dh().onInputClick())}))("compositionstart",(function(){return Is(e),Ts(dh().onCompositionStart())}))("compositionend",(function(){return Is(e),Ts(dh().onCompositionEnd())}))("keydown",(function(t){return Is(e),Ts(dh().onInputKeyDown(t))}))("keyup",(function(){return Is(e),Ts(dh().onInputKeyUp())})),Xc(),Wc(7,o$,5,0,"igx-suffix",29),Xc()}if(2&e){let e=dh(),t=Kc(1);Uc("displayDensity",e.displayDensity),Ed(2),Uc("igxDropDownItemNavigation",t),Ed(2),Uc("name",e.getIconName()),Ed(1),Uc("placeholder",e.placeholder)("value",e.value)("type",e.type)("readonly",e.isUnaryCondition),Ed(2),Uc("ngIf",e.value||0===e.value)}}function l$(e,t){if(1&e){let e=nh();Yc(0,"igx-suffix")(1,"igx-icon",30),oh("keydown",(function(t){return Is(e),Ts(dh(2).onCommitKeyDown(t))}))("click",(function(t){return Is(e),Ts(dh(2).onCommitClick(t))})),$h(2,"done"),Xc(),Yc(3,"igx-icon",30),oh("keydown",(function(t){return Is(e),Ts(dh(2).onClearKeyDown(t))}))("click",(function(t){return Is(e),Ts(dh(2).clearInput(t))})),$h(4,"clear"),Xc()()}}function d$(e,t){if(1&e){let e=nh();Yc(0,"igx-date-picker",31,32),oh("valueChange",(function(t){return Is(e),Ts(dh().value=t)}))("click",(function(){Is(e);let t=Kc(1);return Ts(dh().expression.condition.isUnary?null:t.open())}))("keydown",(function(t){return Is(e),Ts(dh().onInputKeyDown(t))}))("focusout",(function(){return Is(e),Ts(dh().onInputGroupFocusout())}))("closed",(function(){return Is(e),Ts(dh().focusEditElement())})),Yc(2,"igx-prefix",25,26),oh("click",(function(t){return Is(e),Ts(dh().inputGroupPrefixClick(t))}))("keydown",(function(t){return Is(e),Ts(dh().onPrefixKeyDown(t))})),Zc(4,"igx-icon",21),Xc(),Wc(5,l$,5,0,"igx-suffix",29),Zc(6,"igx-picker-toggle")(7,"igx-picker-clear"),Xc()}if(2&e){let e=dh(),t=Kc(1);Uc("value",e.value)("readOnly",!0)("outlet",e.filteringService.grid.outlet)("locale",e.filteringService.grid.locale)("displayFormat",e.column.pipeArgs.format)("formatter",e.column.formatter)("placeholder",e.placeholder)("weekStart",e.column.pipeArgs.weekStart)("displayDensity",e.displayDensity),Ed(2),Uc("igxDropDownItemNavigation",t),Ed(2),Uc("name",e.expression.condition.iconName),Ed(1),Uc("ngIf",e.value)}}function c$(e,t){if(1&e){let e=nh();Yc(0,"igx-suffix")(1,"igx-icon",30),oh("keydown",(function(t){return Is(e),Ts(dh(2).onCommitKeyDown(t))}))("click",(function(t){return Is(e),Ts(dh(2).onCommitClick(t))})),$h(2,"done"),Xc(),Yc(3,"igx-icon",30),oh("keydown",(function(t){return Is(e),Ts(dh(2).onClearKeyDown(t))}))("click",(function(t){return Is(e),Ts(dh(2).clearInput(t))})),$h(4,"clear"),Xc()()}}function h$(e,t){if(1&e){let e=nh();Yc(0,"igx-time-picker",33,32),oh("valueChange",(function(t){return Is(e),Ts(dh().value=t)}))("closed",(function(){return Is(e),Ts(dh().focusEditElement())}))("focusout",(function(){return Is(e),Ts(dh().onInputGroupFocusout())}))("keydown",(function(t){return Is(e),Ts(dh().onInputKeyDown(t))}))("click",(function(){Is(e);let t=Kc(1);return Ts(dh().expression.condition.isUnary?null:t.open())})),Yc(2,"igx-prefix",25,26),oh("click",(function(t){return Is(e),Ts(dh().inputGroupPrefixClick(t))}))("keydown",(function(t){return Is(e),Ts(dh().onPrefixKeyDown(t))})),Zc(4,"igx-icon",21),Xc(),Wc(5,c$,5,0,"igx-suffix",29),Zc(6,"igx-picker-toggle")(7,"igx-picker-clear"),Xc()}if(2&e){let e=dh(),t=Kc(1);Uc("value",e.value)("inputFormat",e.column.defaultTimeFormat)("locale",e.filteringService.grid.locale)("formatter",e.column.formatter)("outlet",e.filteringService.grid.outlet)("displayDensity",e.displayDensity)("readOnly",!0)("placeholder",e.placeholder),Ed(2),Uc("igxDropDownItemNavigation",t),Ed(2),Uc("name",e.expression.condition.iconName),Ed(1),Uc("ngIf",e.value)}}function u$(e,t){if(1&e){let e=nh();Yc(0,"igx-suffix")(1,"igx-icon",30),oh("keydown",(function(t){return Is(e),Ts(dh(2).onCommitKeyDown(t))}))("click",(function(){return Is(e),Ts(dh(2).onCommitClick())})),$h(2,"done"),Xc(),Yc(3,"igx-icon",30),oh("keydown",(function(t){return Is(e),Ts(dh(2).onClearKeyDown(t))}))("click",(function(){return Is(e),Ts(dh(2).onClearClick())})),$h(4,"clear"),Xc()()}}function g$(e,t){if(1&e){let e=nh();Yc(0,"igx-input-group",23,24),oh("focusout",(function(){return Is(e),Ts(dh().onInputGroupFocusout())})),Yc(2,"igx-prefix",25,26),oh("click",(function(t){return Is(e),Ts(dh().inputGroupPrefixClick(t))}))("keydown",(function(t){return Is(e),Ts(dh().onPrefixKeyDown(t))})),Zc(4,"igx-icon",21),Xc(),Yc(5,"input",34,28),oh("valueChange",(function(t){return Is(e),Ts(dh().onInput(t))}))("click",(function(){return Is(e),Ts(dh().onInputClick())}))("keydown",(function(t){return Is(e),Ts(dh().onInputKeyDown(t))}))("keyup",(function(){return Is(e),Ts(dh().onInputKeyUp())})),Xc(),Wc(7,u$,5,0,"igx-suffix",29),Xc()}if(2&e){let e=dh(),t=Kc(1);Uc("displayDensity",e.displayDensity),Ed(2),Uc("igxDropDownItemNavigation",t),Ed(2),Uc("name",e.getIconName()),Ed(1),Uc("placeholder",e.placeholder)("igxDateTimeEditor",e.column.defaultDateTimeFormat)("value",e.value)("readonly",e.isUnaryCondition),Ed(2),Uc("ngIf",e.value||0===e.value)}}function p$(e,t){1&e&&th(0)}function m$(e,t){if(1&e){let e=nh();Yc(0,"button",35),oh("keydown",(function(t){return Is(e),Ts(dh().onLeftArrowKeyDown(t))}))("click",(function(){return Is(e),Ts(dh().scrollChipsOnArrowPress("left"))})),Yc(1,"igx-icon"),$h(2,"navigate_before"),Xc()()}}function f$(e,t){if(1&e){let e=nh();Yc(0,"span",41)(1,"button",42),oh("click",(function(t){Is(e);let i=dh().index;return Ts(dh().toggleOperatorsDropDown(t,i))})),Yc(2,"igx-icon"),$h(3,"expand_more"),Xc(),Yc(4,"span"),$h(5),Xc()(),Yc(6,"igx-drop-down",43,44),oh("selectionChanging",(function(t){Is(e);let i=dh().$implicit;return Ts(dh().onLogicOperatorChanged(t,i))})),Yc(8,"igx-drop-down-item",19),$h(9),Xc(),Yc(10,"igx-drop-down-item",19),$h(11),Xc()()()}if(2&e){let e=Kc(7),t=dh().$implicit,i=dh();Ed(1),Uc("igxDropDownItemNavigation",e)("displayDensity",i.displayDensity),Ed(4),jh(i.filteringService.getOperatorAsString(t.afterOperator)),Ed(1),Uc("displayDensity",i.column.grid.displayDensity),Ed(2),Uc("value",0)("selected",0===t.afterOperator),Ed(1),jh(i.filteringService.grid.resourceStrings.igx_grid_filter_operator_and),Ed(1),Uc("value",1)("selected",1===t.afterOperator),Ed(1),jh(i.filteringService.grid.resourceStrings.igx_grid_filter_operator_or)}}function y$(e,t){if(1&e){let e=nh();Jc(0,36),Yc(1,"igx-chip",37,38),oh("pointerdown",(function(t){Is(e);let i=Kc(2);return Ts(dh().onChipPointerdown(t,i))}))("click",(function(t){let i=Is(e).$implicit;return Ts(dh().onChipClick(t,i))}))("keydown",(function(t){let i=Is(e).$implicit;return Ts(dh().onChipKeyDown(t,i))}))("remove",(function(t){let i=Is(e).$implicit;return Ts(dh().onChipRemoved(t,i))})),Zc(3,"igx-icon",39),Yc(4,"span"),$h(5),Xc()(),Wc(6,f$,12,10,"span",40),eh()}if(2&e){let e=t.$implicit,i=t.last,n=dh();Ed(1),Uc("selectable",!1)("selected",e.isSelected)("displayDensity",n.displayDensity)("removable",!0),Ed(2),Uc("name",e.expression.condition.iconName),Ed(2),jh(n.filteringService.getChipLabel(e.expression)),Ed(1),Uc("ngIf",!i)}}function v$(e,t){if(1&e){let e=nh();Yc(0,"button",45),oh("click",(function(){return Is(e),Ts(dh().scrollChipsOnArrowPress("right"))})),Yc(1,"igx-icon"),$h(2,"navigate_next"),Xc()()}}var x$=function(e){return{$implicit:e}},_$=(()=>{let e=class{get column(){return this._column}set column(e){this._column&&this.expressionsList.forEach((e=>e.isSelected=!1)),e&&(this._column=e,this.expressionsList=this.filteringService.getExpressions(this._column.field),this.resetExpression(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset))}get value(){return this.expression?this.expression.searchVal:null}set value(e){if(!e&&0!==e&&this.expression.searchVal){if(this.expression.searchVal=null,0===this.expressionsList.findIndex((e=>e.expression===this.expression))&&1===this.expressionsList.length)return this.filteringService.clearFilter(this.column.field),void(this.expression.condition.isUnary&&this.resetExpression(this.expression.condition.name))}else{let t=this.expression.searchVal;if(zS(t,e))return;this.expression.searchVal=Ib.parseValue(this.column.dataType,e),void 0===this.expressionsList.find((e=>e.expression===this.expression))&&this.addExpression(!0),this.filter()}}get displayDensity(){return this.column.grid.displayDensity===ZE?QE:this.column.grid.displayDensity}get compactCSSClass(){return this.column.grid.displayDensity===JE}get cosyCSSClass(){return this.column.grid.displayDensity===QE}get nativeElement(){return this.ref.nativeElement}constructor(e,t,i,n){this.filteringService=e,this.ref=t,this.cdr=i,this.platform=n,this.defaultCSSClass=!0,this._positionSettings={horizontalStartPoint:CE.Left,verticalStartPoint:SE.Bottom},this._conditionsOverlaySettings={closeOnOutsideClick:!0,modal:!1,scrollStrategy:new HE,positionStrategy:new AE(this._positionSettings)},this._operatorsOverlaySettings={closeOnOutsideClick:!0,modal:!1,scrollStrategy:new HE,positionStrategy:new AE(this._positionSettings)},this.chipAreaScrollOffset=0,this._column=null,this.isKeyPressed=!1,this.isComposing=!1,this._cancelChipClick=!1,this.NARROW_WIDTH_THRESHOLD=432,this.$destroyer=new We}onKeydownHandler(e){this.platform.isFilteringKeyCombo(e)&&(e.preventDefault(),e.stopPropagation(),this.close())}ngAfterViewInit(){this._conditionsOverlaySettings.outlet=this.column.grid.outlet,this._operatorsOverlaySettings.outlet=this.column.grid.outlet;let e=this.expressionsList.find((e=>!0===e.isSelected));e&&(this.expression=e.expression),this.filteringService.grid.localeChange.pipe(yi(this.$destroyer)).subscribe((()=>{this.cdr.markForCheck()})),requestAnimationFrame((()=>this.focusEditElement()))}get disabled(){return!(this.column.filteringExpressionsTree&&this.column.filteringExpressionsTree.filteringOperands.length>0)}get template(){return this.column.dataType===Eb.Date?this.defaultDateUI:this.column.dataType===Eb.Time?this.defaultTimeUI:this.column.dataType===Eb.DateTime?this.defaultDateTimeUI:this.defaultFilterUI}get type(){switch(this.column.dataType){case Eb.String:case Eb.Boolean:return"text";case Eb.Number:case Eb.Currency:return"number"}}get conditions(){return this.column.filters.conditionList()}get isUnaryCondition(){return!this.expression.condition||this.expression.condition.isUnary}get placeholder(){return this.expression.condition&&this.expression.condition.isUnary?this.filteringService.getChipLabel(this.expression):this.column.dataType===Eb.Date?this.filteringService.grid.resourceStrings.igx_grid_filter_row_date_placeholder:this.column.dataType===Eb.Boolean?this.filteringService.grid.resourceStrings.igx_grid_filter_row_boolean_placeholder:this.filteringService.grid.resourceStrings.igx_grid_filter_row_placeholder}onPrefixKeyDown(e){this.platform.isActivationKey(e)&&this.dropDownConditions.collapsed?(this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement),e.stopImmediatePropagation()):e.key===this.platform.KEYMAP.TAB&&!this.dropDownConditions.collapsed&&this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement)}onInputKeyDown(e){if(this.isKeyPressed=!0,e.stopPropagation(),this.column.dataType===Eb.Boolean&&this.platform.isActivationKey(e))return this.inputGroupPrefix.nativeElement.focus(),void this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement);if(e.key===this.platform.KEYMAP.ENTER){if(this.isComposing)return;this.commitInput()}else e.altKey&&e.key===this.platform.KEYMAP.ARROW_DOWN?(this.inputGroupPrefix.nativeElement.focus(),this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement)):this.platform.isFilteringKeyCombo(e)&&(e.preventDefault(),this.close())}onInputKeyUp(){this.isKeyPressed=!1}onInput(e){if(!e)return;let t=e.target;this.column.dataType!==Eb.DateTime?(this.platform.isEdge&&"number"!==t.type||this.isKeyPressed||t.value||t.checkValidity())&&(this.value=t.value):this.value=e}onCompositionStart(){this.isComposing=!0}onCompositionEnd(){this.isComposing=!1}onInputClick(){this.column.dataType===Eb.Boolean&&this.dropDownConditions.collapsed&&(this.inputGroupPrefix.nativeElement.focus(),this.toggleConditionsDropDown(this.inputGroupPrefix.nativeElement))}getCondition(e){return this.column.filters.condition(e)}translateCondition(e){return this.filteringService.grid.resourceStrings[`igx_grid_filter_${this.getCondition(e).name}`]||e}getIconName(){return this.column.dataType===Eb.Boolean&&null===this.expression.condition?this.getCondition(this.conditions[0]).iconName:this.expression.condition.iconName}isConditionSelected(e){return!!this.expression.condition&&this.expression.condition.name===e}clearFiltering(){this.filteringService.clearFilter(this.column.field),this.resetExpression(),this.input&&this.input.nativeElement.focus(),this.cdr.detectChanges(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset)}commitInput(){this.expressionsList.filter((e=>!0===e.isSelected)).forEach((e=>e.isSelected=!1));let e=-1;for(let t=0;t<this.expressionsList.length;t++){let i=this.expressionsList[t].expression;null===i.searchVal&&!i.condition.isUnary&&(e=t)}-1!==e&&this.removeExpression(e,this.expression),this.resetExpression(),this.scrollChipsWhenAddingExpression()}clearInput(e){e?.stopPropagation(),this.value=null}onClearKeyDown(e){this.platform.isActivationKey(e)&&(e.preventDefault(),this.clearInput(),this.focusEditElement())}onClearClick(){this.clearInput(),this.focusEditElement()}onCommitKeyDown(e){this.platform.isActivationKey(e)&&(e.preventDefault(),this.commitInput(),this.focusEditElement())}onCommitClick(e){e?.stopPropagation(),this.commitInput(),this.focusEditElement()}onInputGroupFocusout(){!this.value&&0!==this.value&&this.expression.condition&&!this.expression.condition.isUnary||requestAnimationFrame((()=>{let e=document.activeElement;e.classList.contains("igx-chip__remove")||"IGX-DAY-ITEM"===e.tagName||(!e||!this.editorsContain(e))&&this.dropDownConditions.collapsed&&this.commitInput()}))}close(){if(1===this.expressionsList.length&&null===this.expressionsList[0].expression.searchVal&&!1===this.expressionsList[0].expression.condition.isUnary)this.filteringService.getExpressions(this.column.field).pop(),this.filter();else{let e=this.expressionsList.filter((e=>null===e.expression.searchVal&&!e.expression.condition.isUnary));e&&e.length>0&&(e.forEach((e=>this.filteringService.removeExpression(this.column.field,this.expressionsList.indexOf(e)))),this.filter())}this.filteringService.isFilterRowVisible=!1,this.filteringService.updateFilteringCell(this.column),this.filteringService.filteredColumn=null,this.filteringService.selectedExpression=null,this.filteringService.grid.theadRow.nativeElement.focus(),this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset)}onDateSelected(e){this.value=e}inputGroupPrefixClick(e){e.stopPropagation(),e.currentTarget.focus(),this.toggleConditionsDropDown(e.currentTarget)}toggleConditionsDropDown(e){this._conditionsOverlaySettings.target=e,this._conditionsOverlaySettings.excludeFromOutsideClick=[e],this.dropDownConditions.toggle(this._conditionsOverlaySettings)}toggleOperatorsDropDown(e,t){this._operatorsOverlaySettings.target=e.target.parentElement,this._operatorsOverlaySettings.excludeFromOutsideClick=[e.target.parentElement],this.dropDownOperators.toArray()[t].toggle(this._operatorsOverlaySettings)}onConditionsChanged(e){let t=e.newSelection.value;this.expression.condition=this.getCondition(t),this.expression.condition.isUnary?requestAnimationFrame((()=>this.unaryConditionChangedCallback())):requestAnimationFrame((()=>this.conditionChangedCallback())),requestAnimationFrame((()=>this.focusEditElement()))}onChipPointerdown(e,t){let i=document.activeElement;this._cancelChipClick=t.selected&&i&&this.editorsContain(i)}onChipClick(e,t){this._cancelChipClick?this._cancelChipClick=!1:(this.expressionsList.forEach((e=>e.isSelected=!1)),this.toggleChip(t))}toggleChip(e){e.isSelected=!e.isSelected,e.isSelected&&(this.expression=e.expression,this.focusEditElement())}onChipKeyDown(e,t){e.key===this.platform.KEYMAP.ENTER&&(e.preventDefault(),this.toggleChip(t))}onLeftArrowKeyDown(e){e.key===this.platform.KEYMAP.TAB&&(this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset))}onChipRemoved(e,t){let i=this.expressionsList.indexOf(t);this.removeExpression(i,t.expression),this.scrollChipsOnRemove()}onLogicOperatorChanged(e,t){e.oldSelection&&(t.afterOperator=e.newSelection.value,this.expressionsList[this.expressionsList.indexOf(t)+1].beforeOperator=t.afterOperator,requestAnimationFrame((()=>this.filter())))}scrollChipsOnArrowPress(e){let t=0,i=this.chipsArea.element.nativeElement.children,n=this.container.nativeElement.getBoundingClientRect();if("right"===e){for(let e of i)Math.ceil(e.getBoundingClientRect().right)<Math.ceil(n.right)&&t++;t<i.length&&(this.chipAreaScrollOffset-=Math.ceil(i[t].getBoundingClientRect().right)-Math.ceil(n.right)+1,this.transform(this.chipAreaScrollOffset))}if("left"===e){for(let e of i)Math.ceil(e.getBoundingClientRect().left)<Math.ceil(n.left)&&t++;t>0&&(this.chipAreaScrollOffset+=Math.ceil(n.left)-Math.ceil(i[t-1].getBoundingClientRect().left)+1,this.transform(this.chipAreaScrollOffset))}}resetChipsArea(){this.chipAreaScrollOffset=0,this.transform(this.chipAreaScrollOffset),this.showHideArrowButtons()}focusEditElement(){this.input?this.input.nativeElement.focus():this.picker&&this.picker.getEditElement().focus()}ngOnDestroy(){this.$destroyer.next()}showHideArrowButtons(){requestAnimationFrame((()=>{if(this.filteringService.isFilterRowVisible){let e=this.container.nativeElement.getBoundingClientRect().width;this.chipsAreaWidth=this.chipsArea.element.nativeElement.getBoundingClientRect().width,this.showArrows=this.chipsAreaWidth>=e&&this.isColumnFiltered,this.cdr.destroyed||this.cdr.detectChanges()}}))}addExpression(e){let t=new zN;t.expression=this.expression,t.beforeOperator=this.expressionsList.length>0?Rb.And:null,t.isSelected=e,this.expressionsList.push(t);let i=this.expressionsList.length;this.expressionsList[i-2]&&(this.expressionsList[i-2].afterOperator=this.expressionsList[i-1].beforeOperator),this.showHideArrowButtons()}removeExpression(e,t){0!==e||1!==this.expressionsList.length?(this.filteringService.removeExpression(this.column.field,e),this.filter(),this.expression===t&&this.resetExpression(),this.showHideArrowButtons()):this.clearFiltering()}resetExpression(e){this.expression={fieldName:this.column.field,condition:null,searchVal:null,ignoreCase:this.column.filteringIgnoreCase},this.column.dataType!==Eb.Boolean&&(this.expression.condition=this.getCondition(e??this.conditions[0])),this.column.dataType===Eb.Date&&this.input&&(this.input.nativeElement.value=null),this.showHideArrowButtons()}scrollChipsWhenAddingExpression(){let e=this.chipsArea.element.nativeElement.children;if(!e||0===e.length)return;let t=this.container.nativeElement.offsetWidth,i=this.chipsArea.element.nativeElement.offsetWidth;i>t&&(this.chipAreaScrollOffset=t-i,this.transform(this.chipAreaScrollOffset))}transform(e){requestAnimationFrame((()=>{this.chipsArea.element.nativeElement.style.transform=`translate(${e}px)`}))}scrollChipsOnRemove(){let e=0,t=this.chipsArea.element.nativeElement.children,i=this.container.nativeElement.getBoundingClientRect();for(let n of t)Math.ceil(n.getBoundingClientRect().right)<Math.ceil(i.left)&&e++;if(e<=2)this.chipAreaScrollOffset=0;else{let n="chip"===t[e].id?e-2:e-1;this.chipAreaScrollOffset+=Math.ceil(i.left)-Math.ceil(t[n].getBoundingClientRect().left)+1}this.transform(this.chipAreaScrollOffset)}conditionChangedCallback(){this.expression.searchVal||0===this.expression.searchVal?this.filter():this.value&&(this.value=null)}unaryConditionChangedCallback(){this.value&&(this.value=null),void 0===this.expressionsList.find((e=>e.expression===this.expression))&&this.addExpression(!0),this.filter()}filter(){this.filteringService.filterInternal(this.column.field)}editorsContain(e){return!!(this.inputGroup&&this.inputGroup.nativeElement.contains(e)||this.picker&&this.picker.element.nativeElement.contains(e))}get isColumnFiltered(){return this.column.filteringExpressionsTree&&this.column.filteringExpressionsTree.filteringOperands.length>0}get isNarrowWidth(){return this.nativeElement.offsetWidth<this.NARROW_WIDTH_THRESHOLD}},t=e;return e.fac=function(t){return new(t||e)(Rd(tz),Rd(ld),Rd(Jg),Rd($S))},e.cmp=Yn({type:e,selectors:[["igx-grid-filtering-row"]],viewQuery:function(e,t){if(1&e&&(pg(jz,7,ju),pg(Kz,7,ju),pg(Uz,7,ju),pg(qz,7,ju),pg(Yz,5,ld),pg(Xz,7,YA),pg(Zz,7,KF),pg(Qz,5,ld),pg(Jz,5),pg(e$,5,ld),pg(t$,7),pg(i$,5),pg(n$,7),pg(r$,5,YA)),2&e){let e;gg(e=fg())&&(t.defaultFilterUI=e.first),gg(e=fg())&&(t.defaultDateUI=e.first),gg(e=fg())&&(t.defaultTimeUI=e.first),gg(e=fg())&&(t.defaultDateTimeUI=e.first),gg(e=fg())&&(t.input=e.first),gg(e=fg())&&(t.dropDownConditions=e.first),gg(e=fg())&&(t.chipsArea=e.first),gg(e=fg())&&(t.inputGroup=e.first),gg(e=fg())&&(t.picker=e.first),gg(e=fg())&&(t.inputGroupPrefix=e.first),gg(e=fg())&&(t.container=e.first),gg(e=fg())&&(t.operand=e.first),gg(e=fg())&&(t.closeButton=e.first),gg(e=fg())&&(t.dropDownOperators=e)}},hostVars:6,hostBindings:function(e,t){1&e&&oh("keydown",(function(e){return t.onKeydownHandler(e)})),2&e&&Ah("igx-grid__filtering-row",t.defaultCSSClass)("igx-grid__filtering-row--compact",t.compactCSSClass)("igx-grid__filtering-row--cosy",t.cosyCSSClass)},inputs:{column:"column",value:"value"},standalone:!0,features:[yu],decls:33,vars:19,consts:[[3,"displayDensity","height","selectionChanging"],["inputGroupConditions",""],[3,"value","selected",4,"ngFor","ngForOf"],["defaultFilterUI",""],["defaultDateUI",""],["defaultTimeUI",""],["defaultDateTimeUI",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["igxButton","icon","type","button","class","igx-grid__filtering-row-scroll-start",3,"keydown","click",4,"ngIf"],[1,"igx-grid__filtering-row-main"],["container",""],["chipsArea",""],["tabindex","0",4,"ngFor","ngForOf"],["igxButton","icon","type","button","class","igx-grid__filtering-row-scroll-end",3,"click",4,"ngIf"],[3,"ngClass"],["buttonsContainer",""],["type","button","igxRipple","",3,"displayDensity","igxButton","disabled","tabindex","click"],["type","button","igxRipple","",3,"displayDensity","igxButton","click"],["closeButton",""],[3,"value","selected"],[1,"igx-grid__filtering-dropdown-items"],["family","imx-icons",3,"name"],[1,"igx-grid__filtering-dropdown-text"],["type","box",3,"displayDensity","focusout"],["inputGroup",""],["tabindex","0",3,"igxDropDownItemNavigation","click","keydown"],["inputGroupPrefix",""],["igxInput","","tabindex","0","autocomplete","off",3,"placeholder","value","type","readonly","input","click","compositionstart","compositionend","keydown","keyup"],["input",""],[4,"ngIf"],["tabindex","0",3,"keydown","click"],["type","box",3,"value","readOnly","outlet","locale","displayFormat","formatter","placeholder","weekStart","displayDensity","valueChange","click","keydown","focusout","closed"],["picker",""],["type","box",3,"value","inputFormat","locale","formatter","outlet","displayDensity","readOnly","placeholder","valueChange","closed","focusout","keydown","click"],["igxInput","","tabindex","0",3,"placeholder","igxDateTimeEditor","value","readonly","valueChange","click","keydown","keyup"],["igxButton","icon","type","button",1,"igx-grid__filtering-row-scroll-start",3,"keydown","click"],["tabindex","0"],["id","chip",3,"selectable","selected","displayDensity","removable","pointerdown","click","keydown","remove"],["chip",""],["igxPrefix","","family","imx-icons",3,"name"],["id","operand",4,"ngIf"],["id","operand"],["igxButton","","type","button",3,"igxDropDownItemNavigation","displayDensity","click"],[3,"displayDensity","selectionChanging"],["operators",""],["igxButton","icon","type","button",1,"igx-grid__filtering-row-scroll-end",3,"click"]],template:function(e,t){1&e&&(Yc(0,"igx-drop-down",0,1),oh("selectionChanging",(function(e){return t.onConditionsChanged(e)})),Wc(2,s$,5,4,"igx-drop-down-item",2),Xc(),Wc(3,a$,8,8,"ng-template",null,3,_g),Wc(5,d$,8,12,"ng-template",null,4,_g),Wc(7,h$,8,11,"ng-template",null,5,_g),Wc(9,g$,8,8,"ng-template",null,6,_g),Wc(11,p$,1,0,"ng-container",7),Wc(12,m$,3,0,"button",8),Yc(13,"div",9,10)(15,"div")(16,"igx-chips-area",null,11),Wc(18,y$,7,7,"ng-container",12),Xc()()(),Wc(19,v$,3,0,"button",13),Yc(20,"div",14,15)(22,"button",16),oh("click",(function(){return t.clearFiltering()})),Yc(23,"igx-icon"),$h(24,"refresh"),Xc(),Yc(25,"span"),$h(26),Xc()(),Yc(27,"button",17,18),oh("click",(function(){return t.close()})),Yc(29,"igx-icon"),$h(30,"close"),Xc(),Yc(31,"span"),$h(32),Xc()()()),2&e&&(Uc("displayDensity",t.displayDensity)("height","200px"),Ed(2),Uc("ngForOf",t.conditions),Ed(9),Uc("ngTemplateOutlet",t.template)("ngTemplateOutletContext",xu(17,x$,t)),Ed(1),Uc("ngIf",t.showArrows),Ed(6),Uc("ngForOf",t.expressionsList),Ed(1),Uc("ngIf",t.showArrows),Ed(1),Uc("ngClass",t.isNarrowWidth?"igx-grid__filtering-row-editing-buttons--small":"igx-grid__filtering-row-editing-buttons"),Ed(2),Uc("displayDensity",t.displayDensity)("igxButton",t.isNarrowWidth?"icon":"flat")("disabled",t.disabled)("tabindex",t.disabled),Ed(4),jh(t.isNarrowWidth?"":t.filteringService.grid.resourceStrings.igx_grid_filter_row_reset),Ed(1),Uc("displayDensity",t.displayDensity)("igxButton",t.isNarrowWidth?"icon":"flat"),Ed(5),jh(t.isNarrowWidth?"":t.filteringService.grid.resourceStrings.igx_grid_filter_row_close))},dependencies:[bm,YA,jA,KF,WF,FI,kT,gI,rI,cI,Em,pI,pP,qF,YF,mV,IA,Pm,CI,Sm,lA],encapsulation:2,changeDetection:0}),t})(),w$=class{get viewIndex(){return this.index+this.grid.page*this.grid.perPage}get key(){let e=this._data??this.grid.dataView[this.index],t=this.grid.primaryKey;return t?e[t]:e}get addRowUI(){return!!this.grid.crudService.row&&this.grid.crudService.row.getClassName()===mk.name&&this.grid.crudService.row.id===this.key}get validation(){let e=this.grid.validation.getFormGroup(this.key);return{status:e?.status||"VALID",errors:e?.errors}}get data(){return this.inEditMode?AS(this.grid.dataCloneStrategy.clone(this._data??this.grid.dataView[this.index]),this.grid.transactions.getAggregatedValue(this.key,!1),((e,t)=>{if(Array.isArray(t))return t})):this._data??this.grid.dataView[this.index]}get inEditMode(){if(this.grid.rowEditable){let e=this.grid.crudService.row;return e&&e.id===this.key||!1}return!1}get pinned(){return this.grid.isRecordPinned(this.data)}set pinned(e){e?this.pin():this.unpin()}get expanded(){return this.grid.gridAPI.get_row_expansion_state(this.data)}set expanded(e){this.grid.gridAPI.set_row_expansion_state(this.key,e)}get selected(){return this.grid.selectionService.isRowSelected(this.key)}set selected(e){e?this.grid.selectionService.selectRowsWithNoEvent([this.key]):this.grid.selectionService.deselectRowsWithNoEvent([this.key]),this.grid.cdr.markForCheck()}get deleted(){return this.grid.gridAPI.row_deleted_transaction(this.key)}get hasChildren(){return!1}get disabled(){return this.grid.isGhostRecord(this.data)}get cells(){let e=[];return this.grid.columns.forEach((t=>{let i=new yM(this.grid,this.index,t.field);e.push(i)})),e}pin(){return this.grid.pinRow(this.key,this.index)}unpin(){return this.grid.unpinRow(this.key)}update(e){let t=this.grid.crudService;t.cellInEditMode&&t.cell.id.rowID===this.key&&this.grid.transactions.endPending(!1);let i=new pk(this.key,this.index,this.data,this.grid);this.grid.gridAPI.update_row(i,e),this.grid.notifyChanges()}delete(){this.grid.deleteRowById(this.key)}},C$=class extends w${constructor(e,t,i){super(),this.grid=e,this.index=t,this._data=i&&i.addRow&&i.recordRef?i.recordRef:i}get viewIndex(){if(this.grid.paginator){let e=[],t=[],i=this.grid.dataView[0],n=this.grid.expansionStates.size,r=this.grid.groupingExpressions.length,s=0,o=this.grid.groupingFlatResult.indexOf(i);return(n||r)&&this.grid.groupingFlatResult.forEach(((i,n)=>{let s=this.grid.primaryKey?i[this.grid.primaryKey]:i;r&&n<o&&this.grid.isGroupByRecord(i)&&t.push(i),this.grid.expansionStates.get(s)&&n<o&&!this.grid.isGroupByRecord(i)&&e.push(i)})),this.grid.summaryCalculationMode!==Bb&&(s=t.filter((e=>this.grid.isExpandedGroup(e))).length,this.grid.summaryPosition===Hb&&t.length&&t[t.length-1].records.indexOf(i)>-1&&(s+=-1)),e.length+s+o+this.index}return this.index}get parent(){let e;if(!this.grid.groupingExpressions.length)return;let t=this.index-1;for(;t>=0&&!e;){let i=this.grid.dataView[t];this.grid.isGroupByRecord(i)&&(e=new D$(this.grid,t,i)),t--}return e}},S$=class extends w${constructor(e,t,i,n){super(),this.grid=e,this.index=t,this._treeRow=n,this._data=i&&i.addRow&&i.recordRef?i.recordRef:i}get viewIndex(){return this.grid.hasSummarizedColumns&&this.grid.page>0&&this.grid.summaryCalculationMode!==Bb?this.grid.processedExpandedFlatData.indexOf(this.grid.dataView[0].data)+(this.grid.summaryPosition===Hb?this.grid.rootRecords.indexOf(this.getRootParent(this.grid.dataView[0])):this.grid.rootRecords.indexOf(this.getRootParent(this.grid.dataView[0]))+1)+this.index:this.index+this.grid.page*this.grid.perPage}get data(){if(this.inEditMode)return AS(this.grid.dataCloneStrategy.clone(this._data??this.grid.dataView[this.index]),this.grid.transactions.getAggregatedValue(this.key,!1),((e,t)=>{if(Array.isArray(t))return t}));let e=this.grid.dataView[this.index];return this._data?this._data:this.grid.isTreeRow(e)?e.data:e}get children(){let e=[];return this.treeRow.expanded&&this.treeRow.children.forEach(((t,i)=>{let n=new S$(this.grid,this.index+1+i,t.data);e.push(n)})),e}get parent(){return this.grid.getRowByKey(this.treeRow.parent?.key)}get hasChildren(){return!!this.treeRow.children&&this.treeRow.children.length>0}get treeRow(){return this._treeRow??this.grid.records.get(this.key)}get pinned(){return this.grid.isRecordPinned(this)}set pinned(e){e?this.pin():this.unpin()}get expanded(){return this.grid.gridAPI.get_row_expansion_state(this.treeRow)}set expanded(e){this.grid.gridAPI.set_row_expansion_state(this.key,e)}get disabled(){return!!this.grid.isGhostRecord(this.data)&&void 0===this.treeRow.isFilteredOutParent}getRootParent(e){for(;e.parent;)e=e.parent;return e}},b$=class extends w${constructor(e,t,i){super(),this.grid=e,this.index=t,this._data=i&&i.addRow&&i.recordRef?i.recordRef:i}get hasChildren(){return!!this.grid.childLayoutKeys.length}get viewIndex(){let e=this.grid.filteredSortedData.indexOf(this.grid.dataView[0]),t=this.grid.filteredSortedData.filter(((t,i)=>{let n=this.grid.primaryKey?t[this.grid.primaryKey]:t;return this.grid.expansionStates.get(n)&&i<e}));return e+t.length+this.index}get cells(){let e=[];return this.grid.columns.forEach((t=>{let i=new yM(this.grid,this.index,t.field);e.push(i)})),e}},D$=class{get groupRow(){return this._groupRow?this._groupRow:this.grid.dataView[this.index]}get children(){let e=[];return this.groupRow.records.forEach(((t,i)=>{let n=new C$(this.grid,this.index+1+i,t);e.push(n)})),e}get viewIndex(){if(this.grid.page){let e=[],t=[],i=this.grid.dataView[0],n=this.grid.expansionStates.size,r=this.grid.groupingExpressions.length,s=0,o=this.grid.groupingFlatResult.indexOf(i);return(n||r)&&this.grid.groupingFlatResult.forEach(((i,n)=>{let s=this.grid.primaryKey?i[this.grid.primaryKey]:i;r&&n<o&&this.grid.isGroupByRecord(i)&&t.push(i),this.grid.expansionStates.get(s)&&n<o&&!this.grid.isGroupByRecord(i)&&e.push(i)})),this.grid.summaryCalculationMode!==Bb&&(s=t.filter((e=>this.grid.isExpandedGroup(e))).length,this.grid.summaryPosition===Hb&&t.length&&t[t.length-1].records.indexOf(i)>-1&&(s+=-1)),e.length+s+o+this.index}return this.index}constructor(e,t,i){this._groupRow=i,this.grid=e,this.index=t,this.isGroupByRow=!0}get selected(){return this.children.every((e=>e.selected))}set selected(e){e?this.children.forEach((e=>{this.grid.selectionService.selectRowsWithNoEvent([e.key])})):this.children.forEach((e=>{this.grid.selectionService.deselectRowsWithNoEvent([e.key])})),this.grid.cdr.markForCheck()}get expanded(){return this.grid.isExpandedGroup(this.groupRow)}set expanded(e){this.gridAPI.set_grouprow_expansion_state(this.groupRow,e)}isActive(){return!!this.grid.navigation.activeNode&&this.grid.navigation.activeNode.row===this.index}toggle(){this.grid.toggleGroup(this.groupRow)}get gridAPI(){return this.grid.gridAPI}},E$=class{get summaries(){return this._summaries?this._summaries:this.grid.dataView[this.index].summaries}get viewIndex(){if(this.grid.hasSummarizedColumns&&this.grid.page>0){if(this.gridType===Qb.Grid){if(this.grid.page){let e=[],t=[],i=this.grid.dataView[0],n=this.grid.expansionStates.size,r=this.grid.groupingExpressions.length,s=0,o=this.grid.groupingFlatResult.indexOf(i);return(n||r)&&this.grid.groupingFlatResult.forEach(((i,n)=>{let s=this.grid.primaryKey?i[this.grid.primaryKey]:i;r&&n<o&&this.grid.isGroupByRecord(i)&&t.push(i),this.grid.expansionStates.get(s)&&n<o&&!this.grid.isGroupByRecord(i)&&e.push(i)})),this.grid.summaryCalculationMode!==Bb&&(s=t.filter((e=>this.grid.isExpandedGroup(e))).length,this.grid.summaryPosition===Hb&&t.length&&t[t.length-1].records.indexOf(i)>-1&&(s+=-1)),e.length+s+o+this.index}return this.index}if(this.gridType===Qb.TreeGrid&&this.grid.summaryCalculationMode!==Bb)return this.grid.processedExpandedFlatData.indexOf(this.grid.dataView[0].data)+(this.grid.summaryPosition===Hb?this.grid.rootRecords.indexOf(this.getRootParent(this.grid.dataView[0])):this.grid.rootRecords.indexOf(this.getRootParent(this.grid.dataView[0]))+1)+this.index}return this.index+this.grid.page*this.grid.perPage}constructor(e,t,i,n){this._summaries=i,this.grid=e,this.index=t,this.isSummaryRow=!0,this.gridType=n}getRootParent(e){for(;e.parent;)e=e.parent;return e}},I$=(()=>{let e=class{transform(e,t,i,n,r,s){if(!e)return"";let o=[];for(let t of Object.keys(e)){let s=e[t];("function"==typeof s?s(i,n,tb(i,n),r):s)&&o.push(t)}return o.join(" ")}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"igxCellStyleClasses",type:e,pure:!0,standalone:!0}),t})(),T$=(()=>{let e=class{transform(e,t,i,n,r,s){let o={};if(!e)return o;for(let t of Object.keys(e)){let s=e[t];o[t]="function"==typeof s?s(i,n,tb(i,n),r):s}return o}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"igxCellStyles",type:e,pure:!0,standalone:!0}),t})(),A$=(()=>{let e=class{transform(e){if(e){let t=e.split("/"),i=t[t.length-1].split(".");return i.length?i[0]:""}return e}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"igxCellImageAlt",type:e,pure:!0,standalone:!0}),t})(),k$=(()=>{let e=class{constructor(e){this.grid=e,this.row=new C$(this.grid,-1,{})}transform(e,t,i,n,r,s,o,a,l,d,c,h){let u=new Set(["igx-grid__tr",a%2?"igx-grid__tr--even":"igx-grid__tr--odd"]),g=[[n,"igx-grid__tr--selected"],[i,"igx-grid__tr--edit"],[r,"igx-grid__tr--edited"],[s,"igx-grid__tr--deleted"],[o,"igx-grid__tr--drag"],[l,"igx-grid__tr--mrl"],[d,"igx-grid__tr--filtered"]];for(let[e,t]of g)e&&u.add(t);for(let i of Object.keys(e??{})){let n=e[i];this.row.index=a,this.row._data=t.data,("function"==typeof n?n(this.row):n)&&u.add(i)}return u}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"igxGridRowClasses",type:e,pure:!0,standalone:!0}),t})(),R$=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n){let r={};if(!e)return r;for(let n of Object.keys(e)){let s=e[n],o=this.grid.isTreeRow&&this.grid.isTreeRow(t)?t.data:t,a=new C$(this.grid,i,o);r[n]="function"==typeof s?s(a):s}return r}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"igxGridRowStyles",type:e,pure:!0,standalone:!0}),t})(),O$=(()=>{let e=class{transform(e){return e.filter((e=>!e.columnGroup))}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"igxNotGrouped",type:e,pure:!0,standalone:!0}),t})(),F$=(()=>{let e=class{transform(e){return e.filter((e=>0===e.level))}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"igxTopLevel",type:e,pure:!0,standalone:!0}),t})(),P$=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i){return this.grid.transactions.enabled?Ib.mergeTransactions(MS(e),this.grid.transactions.getAggregatedChanges(!0),this.grid.primaryKey,this.grid.dataCloneStrategy):e}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"gridTransaction",type:e,pure:!0,standalone:!0}),t})(),M$=(()=>{let e=class{transform(e,t){return e&&e.length?t?e:[]:e}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"visibleColumns",type:e,pure:!0,standalone:!0}),t})(),V$=class{constructor(e){this.grid=e}transform(e,t,i=!1,n){if(this.grid.hasPinnedRecords&&i){let t=e.filter((e=>!this.grid.isSummaryRow(e)&&this.grid.isRecordPinned(e)));return t.sort(((e,t)=>this.grid.getInitialPinnedIndex(e)-this.grid.getInitialPinnedIndex(t))),t}return this.grid.unpinnedRecords=e,this.grid.hasPinnedRecords?e.map((e=>!this.grid.isSummaryRow(e)&&this.grid.isRecordPinned(e)?{recordRef:e,ghostRecord:!0}:e)):(this.grid.pinnedRecords=[],i?[]:e)}},N$=V$;V$.fac=function(e){return new(e||V$)(Rd(wk,16))},V$.pipe=tr({name:"gridRowPinning",type:V$,pure:!0,standalone:!0}),_F([function(e,t,i){let n=i.value;return i.value=function(...e){let t=n.apply(this,e);return this.grid.buildDataView(),t},i}],N$.prototype,"transform",null);var L$=(()=>{let e=class{transform(e,t,i,n,r){return r?tb(e,t):n}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"dataMapper",type:e,pure:!0,standalone:!0}),t})(),H$=(()=>{let e=class{transform(e,t,i){return e.replace(t,i)}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"igxStringReplace",type:e,pure:!0,standalone:!0}),t})(),B$=(()=>{let e=class{transform(e,t,i,n,r,s,o){if(!i){let i=n.getState(e),r=tb(i?.value??{},t);return i&&i.value&&(r||0===r||!1===r)}{let i=n.getAggregatedValue(e,!1);if(i)return null!=tb(i,t)}}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"transactionState",type:e,pure:!0,standalone:!0}),t})(),G$=(()=>{let e=class{transform(e,t,i,n){return t(e,i,n)}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"columnFormatter",type:e,pure:!0,standalone:!0}),t})(),z$=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t=!1,i){if(!this.grid.rowEditable||!this.grid.crudService.row||this.grid.crudService.row.getClassName()!==mk.name||!this.grid.crudService.addRowParent||t!==this.grid.crudService.addRowParent.isPinned)return e;let n=e.slice(0),r=this.grid.crudService.row.recordRef;return n.splice(this.grid.crudService.row.index,0,r),n}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"gridAddRow",type:e,pure:!0,standalone:!0}),t})(),$$=["headerVirtualContainer"],W$=["headerDragContainer"],j$=["headerSelectorContainer"],K$=["headerGroupContainer"],U$=["headSelectorBaseTemplate"],q$=["headerHierarchyExpander"];function Y$(e,t){if(1&e&&(Jc(0),Zc(1,"span",8),eh()),2&e){let e=dh();Ed(1),Th("left",e.grid.pinnedWidth,"px"),Uc("igxColumnMovingDrop",e.headerContainer)}}function X$(e,t){if(1&e&&(Jc(0),Zc(1,"span",9),eh()),2&e){let e=dh();Ed(1),Th("left",e.grid.pinnedWidth,"px"),Uc("igxColumnMovingDrop",e.headerContainer)}}function Z$(e,t){1&e&&th(0)}function Q$(e,t){if(1&e&&(Jc(0),Yc(1,"div",10,11),oh("pointerdown",(function(e){return e.preventDefault()})),Yc(3,"div",12),Wc(4,Z$,1,0,"ng-container",13),Xc()(),eh()),2&e){let e=dh();Ed(1),Ah("igx-grid__drag-indicator--header",!e.grid.isRowSelectable),Ed(3),Uc("ngTemplateOutlet",e.grid.dragIndicatorIconTemplate||e.grid.dragIndicatorIconBase)}}function J$(e,t){1&e&&th(0,null,17)}function eW(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"div",14,15),oh("click",(function(t){return Is(e),Ts(dh().headerRowSelection(t))}))("pointerdown",(function(e){return e.preventDefault()})),Wc(3,J$,2,0,"ng-container",16),Xc(),eh()}if(2&e){let e=dh(),t=Kc(17);Ed(1),Ah("igx-grid__cbx-selection--push",e.grid.filteringService.isFilterRowVisible),Ed(2),Uc("ngTemplateOutlet",e.grid.headSelectorTemplate||t)("ngTemplateOutletContext",e.rowSelectorsContext)}}function tW(e,t){1&e&&th(0)}var iW=function(e,t,i){return{"igx-grid__hierarchical-expander igx-grid__hierarchical-expander--header igx-grid__tr-action":e,"igx-grid__hierarchical-expander--push":t,"igx-grid__hierarchical-expander--no-border":i}},nW=function(e){return{$implicit:e}};function rW(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"div",18,19),oh("click",(function(){return Is(e),Ts(dh().grid.toggleAll())}))("pointerdown",(function(e){return e.preventDefault()})),Wc(3,tW,1,0,"ng-container",16),Xc(),eh()}if(2&e){let e=dh();Ed(1),Uc("hidden",!e.grid.hasExpandableChildren||!e.grid.hasVisibleColumns)("ngClass",wu(4,iW,e.grid.hasExpandableChildren,e.grid.filteringService.isFilterRowVisible,e.grid.isRowSelectable||e.grid.rowDraggable)),Ed(2),Uc("ngTemplateOutlet",e.grid.iconTemplate)("ngTemplateOutletContext",xu(8,nW,e.grid))}}function sW(e,t){1&e&&th(0)}function oW(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"div",20,21),oh("click",(function(){return Is(e),Ts(dh().grid.toggleAllGroupRows())}))("pointerdown",(function(e){return e.preventDefault()})),Wc(3,sW,1,0,"ng-container",16),Xc(),eh()}if(2&e){let e=dh();Ed(1),kh(e.indentationCSSClasses),Ed(2),Uc("ngTemplateOutlet",e.grid.iconTemplate)("ngTemplateOutletContext",xu(5,nW,e.grid))}}function aW(e,t){if(1&e&&(Jc(0),Yc(1,"igx-grid-header-group",23),Pu(2,"igxHeaderGroupWidth"),Pu(3,"igxHeaderGroupWidth"),Pu(4,"igxHeaderGroupStyle"),Xc(),eh()),2&e){let e=t.$implicit,i=dh(2);Ed(1),Th("min-width",Nu(2,7,e.width,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",Nu(3,11,e.width,i.grid.defaultHeaderGroupMinWidth,i.hasMRL)),Uc("ngClass",e.headerGroupClasses)("ngStyle",Nu(4,15,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function lW(e,t){if(1&e&&(Jc(0),Wc(1,aW,5,19,"ng-container",22),Pu(2,"igxTopLevel"),eh()),2&e){let e=dh();Ed(1),Uc("ngForOf",Mu(2,1,e.pinnedColumnCollection))}}function dW(e,t){if(1&e&&(Yc(0,"igx-grid-header-group",23),Pu(1,"igxHeaderGroupWidth"),Pu(2,"igxHeaderGroupWidth"),Pu(3,"igxHeaderGroupStyle"),Xc()),2&e){let e=t.$implicit,i=dh();Th("min-width",Nu(1,7,e.width,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",Nu(2,11,e.width,i.grid.defaultHeaderGroupMinWidth,i.hasMRL)),Uc("ngClass",e.headerGroupClasses)("ngStyle",Nu(3,15,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function cW(e,t){if(1&e&&(Jc(0),Yc(1,"igx-grid-header-group",23),Pu(2,"igxHeaderGroupWidth"),Pu(3,"igxHeaderGroupWidth"),Pu(4,"igxHeaderGroupStyle"),Xc(),eh()),2&e){let e=t.$implicit,i=dh(2);Ed(1),Th("min-width",Nu(2,9,e.width,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",Nu(3,13,e.width,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("left",e.rightPinnedOffset),Uc("ngClass",e.headerGroupClasses)("ngStyle",Nu(4,17,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function hW(e,t){if(1&e&&(Jc(0),Wc(1,cW,5,21,"ng-container",22),Pu(2,"igxTopLevel"),eh()),2&e){let e=dh();Ed(1),Uc("ngForOf",Mu(2,1,e.pinnedColumnCollection))}}function uW(e,t){if(1&e&&(Jc(0),Zc(1,"igx-grid-filtering-row",24,25),eh()),2&e){let e=dh();Ed(1),Th("width",e.width,"px"),Uc("column",e.grid.filteringService.filteredColumn)}}function gW(e,t){if(1&e&&(Jc(0),Zc(1,"span",26),eh()),2&e){let e=dh();Ed(1),Uc("igxColumnMovingDrop",e.headerContainer)}}var pW=function(e){return{visibility:e}};function mW(e,t){if(1&e&&(Yc(0,"div",27),Zc(1,"igx-checkbox",28,29),Xc()),2&e){let e=t.$implicit,i=dh();Ed(1),Uc("tabindex",-1)("readonly",!0)("checked",e.selectedCount>0&&i.grid.selectionService.areAllRowSelected())("disableRipple",!0)("ngStyle",xu(7,pW,i.grid.isMultiRowSelectionEnabled?"visible":"hidden"))("indeterminate",e.selectedCount>0&&i.grid.selectionService.hasSomeRowSelected())("aria-label",i.grid.headSelectorBaseAriaLabel)}}var fW,yW,vW=(()=>{let e=class{get cosyStyle(){return"cosy"===this.density}get compactStyle(){return"compact"===this.density}get groups(){return WS(this._groups?.toArray()??[])}get headers(){return this.groups.map((e=>e.header))}get filters(){return this.groups.map((e=>e.filter))}get headerForOf(){return this.headerContainer}get navigation(){return this.grid.navigation}get nativeElement(){return this.ref.nativeElement}get isHierarchicalGrid(){return!!this.grid.isHierarchicalRecord}get indentationCSSClasses(){return`igx-grid__header-indentation igx-grid__row-indentation--level-${this.grid.groupingExpressions.length}`}get rowSelectorsContext(){let e={$implicit:{selectedCount:this.grid.selectionService.filteredSelectedRowIds.length,totalCount:this.grid.totalRowsCountAfterFilter}};return this.isHierarchicalGrid&&(e.$implicit.selectAll=()=>this.grid.selectAllRows(),e.$implicit.deselectAll=()=>this.grid.deselectAllRows()),e}constructor(e,t){this.ref=e,this.cdr=t,this.pinnedColumnCollection=[],this.unpinnedColumnCollection=[]}ngDoCheck(){this.cdr.markForCheck()}headerRowSelection(e){this.grid.isMultiRowSelectionEnabled&&(this.grid.selectionService.areAllRowSelected()?this.grid.selectionService.clearRowSelection(e):this.grid.selectionService.selectAllRows(e))}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(Jg))},e.cmp=Yn({type:e,selectors:[["igx-grid-header-row"]],viewQuery:function(e,t){if(1&e&&(pg($$,7,tA),pg(W$,5),pg(j$,5),pg(K$,5),pg(U$,5),pg(_$,5),pg(q$,5),pg(Wz,5)),2&e){let e;gg(e=fg())&&(t.headerContainer=e.first),gg(e=fg())&&(t.headerDragContainer=e.first),gg(e=fg())&&(t.headerSelectorContainer=e.first),gg(e=fg())&&(t.headerGroupContainer=e.first),gg(e=fg())&&(t.headSelectorBaseTemplate=e.first),gg(e=fg())&&(t.filterRow=e.first),gg(e=fg())&&(t.headerHierarchyExpander=e.first),gg(e=fg())&&(t._groups=e)}},hostVars:4,hostBindings:function(e,t){2&e&&Ah("igx-grid-thead--cosy",t.cosyStyle)("igx-grid-thead--compact",t.compactStyle)},inputs:{grid:"grid",pinnedColumnCollection:"pinnedColumnCollection",unpinnedColumnCollection:"unpinnedColumnCollection",activeDescendant:"activeDescendant",hasMRL:"hasMRL",width:"width",density:"density"},standalone:!0,features:[yu],decls:18,vars:27,consts:[["role","rowgroup",1,"igx-grid-thead__wrapper"],["role","row",1,"igx-grid__tr"],[4,"ngIf"],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForContainerSize","igxForTrackBy","igxForSizePropName","igxForScrollOrientation"],["headerVirtualContainer",""],[1,"igx-grid-thead__thumb",3,"hidden"],["igxHeadSelector",""],["headSelectorBaseTemplate",""],["id","left","droppable","true",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left","droppable","true",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],[1,"igx-grid__drag-indicator","igx-grid__tr-action",3,"pointerdown"],["headerDragContainer",""],[2,"visibility","hidden"],[4,"ngTemplateOutlet"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"click","pointerdown"],["headerSelectorContainer",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["headSelector",""],[3,"hidden","ngClass","click","pointerdown"],["headerHierarchyExpander",""],[3,"click","pointerdown"],["headerGroupContainer",""],[4,"ngFor","ngForOf"],[3,"ngClass","ngStyle","column"],[3,"column"],["filteringRow",""],["id","right","droppable","true",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","disableRipple","ngStyle","indeterminate","aria-label"],["headerCheckbox",""]],template:function(e,t){1&e&&(Yc(0,"div",0)(1,"div",1),Wc(2,Y$,2,3,"ng-container",2),Wc(3,X$,2,3,"ng-container",2),Wc(4,Q$,5,3,"ng-container",2),Wc(5,eW,4,4,"ng-container",2),Wc(6,rW,4,10,"ng-container",2),Wc(7,oW,4,7,"ng-container",2),Wc(8,lW,3,3,"ng-container",2),Wc(9,dW,4,19,"ng-template",3,4,_g),Pu(11,"igxTopLevel"),Wc(12,hW,3,3,"ng-container",2),Xc(),Wc(13,uW,3,3,"ng-container",2),Wc(14,gW,2,1,"ng-container",2),Xc(),Zc(15,"div",5),Wc(16,mW,3,9,"ng-template",6,7,_g)),2&e&&(Th("width",t.width,"px"),Ah("igx-grid__tr--mrl",t.hasMRL),Ed(1),Th("width",t.width,"px"),Ed(1),Uc("ngIf",t.grid.moving&&t.grid.columnInDrag&&t.pinnedColumnCollection.length<=0),Ed(1),Uc("ngIf",t.grid.moving&&t.grid.columnInDrag&&t.pinnedColumnCollection.length>0),Ed(1),Uc("ngIf",t.grid.rowDraggable),Ed(1),Uc("ngIf",t.grid.showRowSelectors),Ed(1),Uc("ngIf",t.isHierarchicalGrid),Ed(1),Uc("ngIf",null==t.grid||null==t.grid.groupingExpressions?null:t.grid.groupingExpressions.length),Ed(1),Uc("ngIf",t.pinnedColumnCollection.length&&t.grid.isPinningToStart),Ed(1),Uc("igxGridForOf",Mu(11,25,t.unpinnedColumnCollection))("igxForScrollContainer",t.grid.parentVirtDir)("igxForContainerSize",t.grid.unpinnedWidth)("igxForTrackBy",t.grid.trackColumnChanges)("igxForSizePropName","calcPixelWidth")("igxForScrollOrientation","horizontal"),Ed(3),Uc("ngIf",t.pinnedColumnCollection.length&&!t.grid.isPinningToStart),Ed(1),Uc("ngIf",t.grid.filteringService.isFilterRowVisible),Ed(1),Uc("ngIf",t.grid.moving&&t.grid.columnInDrag),Ed(1),Th("width",t.grid.scrollSize,"px"),Uc("hidden",!t.grid.hasVerticalScroll()))},dependencies:[Em,vz,Pm,Sm,bm,Wz,Fm,tA,_$,gk,F$,NG,LG],encapsulation:2,changeDetection:0}),t})(),xW=[JG,Wz,vW],_W=(()=>{let e=class extends VT{constructor(){super(...arguments),this._rowDragStarted=!1,this.transitionEndEvent=()=>{this.ghostElement&&this.ghostElement.removeEventListener("transitionend",this.transitionEndEvent,!1),this.endDragging()}}set data(e){this._data=e}get data(){return this._data.grid.createRow(this._data.index,this._data.data)}get row(){return this._data}onPointerDown(e){e.preventDefault(),this._rowDragStarted=!1,this._removeOnDestroy=!1,super.onPointerDown(e)}onPointerMove(e){if(super.onPointerMove(e),this._dragStarted&&!this._rowDragStarted){this._rowDragStarted=!0;let t={dragDirective:this,dragData:this.data,dragElement:this.row.nativeElement,cancel:!1,owner:this.row.grid};if(this.row.grid.rowDragStart.emit(t),t.cancel)return this.ghostElement.parentNode.removeChild(this.ghostElement),this.ghostElement=null,this._dragStarted=!1,void(this._clicked=!1);this.row.grid.dragRowID=this.row.key,this.row.grid.rowDragging=!0,this.row.grid.cdr.detectChanges(),this.subscription$=Lt(this.row.grid.document.defaultView,"keydown").subscribe((t=>{t.key===this.platformUtil.KEYMAP.ESCAPE&&(this._lastDropArea=!1,this.onPointerUp(e))}))}}onPointerUp(e){if(!this._clicked)return;let t={dragDirective:this,dragData:this.data,dragElement:this.row.nativeElement,animation:!1,owner:this.row.grid};this.zone.run((()=>{this.row.grid.rowDragEnd.emit(t)}));let i=this._lastDropArea;super.onPointerUp(e),!i&&this.ghostElement?this.ghostElement.addEventListener("transitionend",this.transitionEndEvent,!1):this.endDragging()}createGhost(e,t){if(this.row.grid.gridAPI.crudService.endEdit(!1),this.row.grid.cdr.detectChanges(),this.ghostContext={$implicit:this.row.data,data:this.row.data,grid:this.row.grid},super.createGhost(e,t,this.row.nativeElement),this.isHierarchicalGrid){let e=this.row;if(e.expander){let t=e.expander.nativeElement.getBoundingClientRect().width;this._ghostHostX+=t}}let i=this.ghostElement,n=this.row.grid.nativeElement.getBoundingClientRect(),r=this.row.nativeElement.getBoundingClientRect();i.style.overflow="hidden",i.style.width=n.width+"px",i.style.height=r.height+"px",this.renderer.addClass(i,"igx-grid__tr--ghost"),this.renderer.removeClass(i,"igx-grid__tr--selected");let s=i.getElementsByClassName("igx-grid__td");for(let e of s)this.renderer.removeClass(e,"igx-grid__td--selected"),this.renderer.removeClass(e,"igx-grid__td--active")}_unsubscribe(){this.subscription$&&!this.subscription$.closed&&this.subscription$.unsubscribe()}endDragging(){this.onTransitionEnd(null),this.row.grid.dragRowID=null,this.row.grid.rowDragging=!1,this.row.grid.cdr.detectChanges(),this._unsubscribe()}get isHierarchicalGrid(){return/^ig.-hierarchical-grid$/.test(this.row.grid.nativeElement.tagName.toLowerCase())}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["","igxRowDrag",""]],inputs:{data:["igxRowDrag","data"]},standalone:!0,features:[Tc]}),t})(),wW=(()=>{let e=class{static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxDragIndicatorIcon",""]],standalone:!0}),t})(),CW=(()=>{let e=class{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxRowDragGhost",""]],standalone:!0}),t})(),SW=(()=>{let e=class{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxRowSelector",""]],standalone:!0}),t})(),bW=(()=>{let e=class{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxGroupByRowSelector",""]],standalone:!0}),t})(),DW=(()=>{let e=class{constructor(e){this.templateRef=e}static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxHeadSelector",""]],standalone:!0}),t})(),EW=[SW,bW,DW],IW=window,TW=IW.ShadowRoot&&(void 0===IW.ShadyCSS||IW.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,AW=Symbol(),kW=new WeakMap,RW=e=>new class{constructor(e,t,i){if(this._$cssResult$=!0,i!==AW)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(TW&&void 0===e){let i=void 0!==t&&1===t.length;i&&(e=kW.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&kW.set(t,e))}return e}toString(){return this.cssText}}("string"==typeof e?e:e+"",void 0,AW),OW=TW?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(let i of e.cssRules)t+=i.cssText;return RW(t)})(e):e,FW=window,PW=FW.trustedTypes,MW=PW?PW.emptyScript:"",VW=FW.reactiveElementPolyfillSupport,NW={toAttribute(e,t){switch(t){case Boolean:e=e?MW:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=null!==e;break;case Number:i=null===e?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch{i=null}}return i}},LW=(e,t)=>t!==e&&(t==t||e==e),HW={attribute:!0,type:String,converter:NW,reflect:!1,hasChanged:LW},BW=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(e){var t;this.finalize(),(null!==(t=this.h)&&void 0!==t?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach(((t,i)=>{let n=this._$Ep(i,t);void 0!==n&&(this._$Ev.set(n,i),e.push(n))})),e}static createProperty(e,t=HW){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){let i="symbol"==typeof e?Symbol():"__"+e,n=this.getPropertyDescriptor(e,i,t);void 0!==n&&Object.defineProperty(this.prototype,e,n)}}static getPropertyDescriptor(e,t,i){return{get(){return this[t]},set(n){let r=this[e];this[t]=n,this.requestUpdate(e,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||HW}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),void 0!==e.h&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let e=this.properties,t=[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)];for(let i of t)this.createProperty(i,e[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let i=new Set(e.flat(1/0).reverse());for(let e of i)t.unshift(OW(e))}else void 0!==e&&t.push(OW(e));return t}static _$Ep(e,t){let i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}u(){var e;this._$E_=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(e=this.constructor.h)||void 0===e||e.forEach((e=>e(this)))}addController(e){var t,i;(null!==(t=this._$ES)&&void 0!==t?t:this._$ES=[]).push(e),void 0!==this.renderRoot&&this.isConnected&&(null===(i=e.hostConnected)||void 0===i||i.call(e))}removeController(e){var t;null===(t=this._$ES)||void 0===t||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;let t=null!==(e=this.shadowRoot)&&void 0!==e?e:this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{TW?e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet)):t.forEach((t=>{let i=document.createElement("style"),n=IW.litNonce;void 0!==n&&i.setAttribute("nonce",n),i.textContent=t.cssText,e.appendChild(i)}))})(t,this.constructor.elementStyles),t}connectedCallback(){var e;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostConnected)||void 0===t?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostDisconnected)||void 0===t?void 0:t.call(e)}))}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$EO(e,t,i=HW){var n;let r=this.constructor._$Ep(e,i);if(void 0!==r&&!0===i.reflect){let s=(void 0!==(null===(n=i.converter)||void 0===n?void 0:n.toAttribute)?i.converter:NW).toAttribute(t,i.type);this._$El=e,null==s?this.removeAttribute(r):this.setAttribute(r,s),this._$El=null}}_$AK(e,t){var i;let n=this.constructor,r=n._$Ev.get(e);if(void 0!==r&&this._$El!==r){let e=n.getPropertyOptions(r),s="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null===(i=e.converter)||void 0===i?void 0:i.fromAttribute)?e.converter:NW;this._$El=r,this[r]=s.fromAttribute(t,e.type),this._$El=null}}requestUpdate(e,t,i){let n=!0;void 0!==e&&(((i=i||this.constructor.getPropertyOptions(e)).hasChanged||LW)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),!0===i.reflect&&this._$El!==e&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(e,i))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}_$Ej(){return x(this,null,(function*(){this.isUpdatePending=!0;try{yield this._$E_}catch(e){Promise.reject(e)}let e=this.scheduleUpdate();return null!=e&&(yield e),!this.isUpdatePending}))}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((e,t)=>this[t]=e)),this._$Ei=void 0);let t=!1,i=this._$AL;try{t=this.shouldUpdate(i),t?(this.willUpdate(i),null===(e=this._$ES)||void 0===e||e.forEach((e=>{var t;return null===(t=e.hostUpdate)||void 0===t?void 0:t.call(e)})),this.update(i)):this._$Ek()}catch(e){throw t=!1,this._$Ek(),e}t&&this._$AE(i)}willUpdate(e){}_$AE(e){var t;null===(t=this._$ES)||void 0===t||t.forEach((e=>{var t;return null===(t=e.hostUpdated)||void 0===t?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){void 0!==this._$EC&&(this._$EC.forEach(((e,t)=>this._$EO(t,this[t],e))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};BW.finalized=!0,BW.elementProperties=new Map,BW.elementStyles=[],BW.shadowRootOptions={mode:"open"},VW?.({ReactiveElement:BW}),(null!==(fW=FW.reactiveElementVersions)&&void 0!==fW?fW:FW.reactiveElementVersions=[]).push("1.6.1");var GW=window,zW=GW.trustedTypes,$W=zW?zW.createPolicy("lit-html",{createHTML:e=>e}):void 0,WW="$lit$",jW=`lit$${(Math.random()+"").slice(9)}$`,KW="?"+jW,UW=`<${KW}>`,qW=document,YW=()=>qW.createComment(""),XW=e=>null===e||"object"!=typeof e&&"function"!=typeof e,ZW=Array.isArray,QW="[ \t\n\f\r]",JW=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ej=/-->/g,tj=/>/g,ij=RegExp(`>|${QW}(?:([^\\s"'>=/]+)(${QW}*=${QW}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),nj=/'/g,rj=/"/g,sj=/^(?:script|style|textarea|title)$/i,oj=(e,...t)=>({_$litType$:1,strings:e,values:t}),aj=Symbol.for("lit-noChange"),lj=Symbol.for("lit-nothing"),dj=new WeakMap,cj=qW.createTreeWalker(qW,129,null,!1),hj=class{constructor({strings:e,_$litType$:t},i){let n;this.parts=[];let r=0,s=0,o=e.length-1,a=this.parts,[l,d]=((e,t)=>{let i,n=e.length-1,r=[],s=2===t?"<svg>":"",o=JW;for(let t=0;t<n;t++){let n,a,l=e[t],d=-1,c=0;for(;c<l.length&&(o.lastIndex=c,a=o.exec(l),null!==a);)c=o.lastIndex,o===JW?"!--"===a[1]?o=ej:void 0!==a[1]?o=tj:void 0!==a[2]?(sj.test(a[2])&&(i=RegExp("</"+a[2],"g")),o=ij):void 0!==a[3]&&(o=ij):o===ij?">"===a[0]?(o=i??JW,d=-1):void 0===a[1]?d=-2:(d=o.lastIndex-a[2].length,n=a[1],o=void 0===a[3]?ij:'"'===a[3]?rj:nj):o===rj||o===nj?o=ij:o===ej||o===tj?o=JW:(o=ij,i=void 0);let h=o===ij&&e[t+1].startsWith("/>")?" ":"";s+=o===JW?l+UW:d>=0?(r.push(n),l.slice(0,d)+WW+l.slice(d)+jW+h):l+jW+(-2===d?(r.push(void 0),t):h)}let a=s+(e[n]||"<?>")+(2===t?"</svg>":"");if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==$W?$W.createHTML(a):a,r]})(e,t);if(this.el=hj.createElement(l,i),cj.currentNode=this.el.content,2===t){let e=this.el.content,t=e.firstChild;t.remove(),e.append(...t.childNodes)}for(;null!==(n=cj.nextNode())&&a.length<o;){if(1===n.nodeType){if(n.hasAttributes()){let e=[];for(let t of n.getAttributeNames())if(t.endsWith(WW)||t.startsWith(jW)){let i=d[s++];if(e.push(t),void 0!==i){let e=n.getAttribute(i.toLowerCase()+WW).split(jW),t=/([.?@])?(.*)/.exec(i);a.push({type:1,index:r,name:t[2],strings:e,ctor:"."===t[1]?mj:"?"===t[1]?yj:"@"===t[1]?vj:pj})}else a.push({type:6,index:r})}for(let t of e)n.removeAttribute(t)}if(sj.test(n.tagName)){let e=n.textContent.split(jW),t=e.length-1;if(t>0){n.textContent=zW?zW.emptyScript:"";for(let i=0;i<t;i++)n.append(e[i],YW()),cj.nextNode(),a.push({type:2,index:++r});n.append(e[t],YW())}}}else if(8===n.nodeType)if(n.data===KW)a.push({type:2,index:r});else{let e=-1;for(;-1!==(e=n.data.indexOf(jW,e+1));)a.push({type:7,index:r}),e+=jW.length-1}r++}}static createElement(e,t){let i=qW.createElement("template");return i.innerHTML=e,i}};function uj(e,t,i=e,n){var r,s,o,a;if(t===aj)return t;let l=void 0!==n?null===(r=i._$Co)||void 0===r?void 0:r[n]:i._$Cl,d=XW(t)?void 0:t._$litDirective$;return l?.constructor!==d&&(null===(s=l?._$AO)||void 0===s||s.call(l,!1),void 0===d?l=void 0:(l=new d(e),l._$AT(e,i,n)),void 0!==n?(null!==(o=(a=i)._$Co)&&void 0!==o?o:a._$Co=[])[n]=l:i._$Cl=l),void 0!==l&&(t=uj(e,l._$AS(e,t.values),l,n)),t}var gj=class{constructor(e,t,i,n){var r;this.type=2,this._$AH=lj,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=n,this._$Cp=null===(r=n?.isConnected)||void 0===r||r}get _$AU(){var e,t;return null!==(t=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==t?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode,t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=uj(this,e,t),XW(e)?e===lj||null==e||""===e?(this._$AH!==lj&&this._$AR(),this._$AH=lj):e!==this._$AH&&e!==aj&&this._(e):void 0!==e._$litType$?this.g(e):void 0!==e.nodeType?this.$(e):(e=>ZW(e)||"function"==typeof e?.[Symbol.iterator])(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==lj&&XW(this._$AH)?this._$AA.nextSibling.data=e:this.$(qW.createTextNode(e)),this._$AH=e}g(e){var t;let{values:i,_$litType$:n}=e,r="number"==typeof n?this._$AC(e):(void 0===n.el&&(n.el=hj.createElement(n.h,this.options)),n);if((null===(t=this._$AH)||void 0===t?void 0:t._$AD)===r)this._$AH.v(i);else{let e=new class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:i},parts:n}=this._$AD,r=(null!==(t=e?.creationScope)&&void 0!==t?t:qW).importNode(i,!0);cj.currentNode=r;let s=cj.nextNode(),o=0,a=0,l=n[0];for(;void 0!==l;){if(o===l.index){let t;2===l.type?t=new gj(s,s.nextSibling,this,e):1===l.type?t=new l.ctor(s,l.name,l.strings,this,e):6===l.type&&(t=new xj(s,this,e)),this._$AV.push(t),l=n[++a]}o!==l?.index&&(s=cj.nextNode(),o++)}return cj.currentNode=qW,r}v(e){let t=0;for(let i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}}(r,this),t=e.u(this.options);e.v(i),this.$(t),this._$AH=e}}_$AC(e){let t=dj.get(e.strings);return void 0===t&&dj.set(e.strings,t=new hj(e)),t}T(e){ZW(this._$AH)||(this._$AH=[],this._$AR());let t,i=this._$AH,n=0;for(let r of e)n===i.length?i.push(t=new gj(this.k(YW()),this.k(YW()),this,this.options)):t=i[n],t._$AI(r),n++;n<i.length&&(this._$AR(t&&t._$AB.nextSibling,n),i.length=n)}_$AR(e=this._$AA.nextSibling,t){var i;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,t);e&&e!==this._$AB;){let t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cp=e,null===(t=this._$AP)||void 0===t||t.call(this,e))}},pj=class{constructor(e,t,i,n,r){this.type=1,this._$AH=lj,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=r,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=lj}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,i,n){let r=this.strings,s=!1;if(void 0===r)e=uj(this,e,t,0),s=!XW(e)||e!==this._$AH&&e!==aj,s&&(this._$AH=e);else{let n,o,a=e;for(e=r[0],n=0;n<r.length-1;n++)o=uj(this,a[i+n],t,n),o===aj&&(o=this._$AH[n]),s||(s=!XW(o)||o!==this._$AH[n]),o===lj?e=lj:e!==lj&&(e+=(o??"")+r[n+1]),this._$AH[n]=o}s&&!n&&this.j(e)}j(e){e===lj?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},mj=class extends pj{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===lj?void 0:e}},fj=zW?zW.emptyScript:"",yj=class extends pj{constructor(){super(...arguments),this.type=4}j(e){e&&e!==lj?this.element.setAttribute(this.name,fj):this.element.removeAttribute(this.name)}},vj=class extends pj{constructor(e,t,i,n,r){super(e,t,i,n,r),this.type=5}_$AI(e,t=this){var i;if((e=null!==(i=uj(this,e,t,0))&&void 0!==i?i:lj)===aj)return;let n=this._$AH,r=e===lj&&n!==lj||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==lj&&(n===lj||r);r&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==i?i:this.element,e):this._$AH.handleEvent(e)}},xj=class{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){uj(this,e)}},_j=GW.litHtmlPolyfillSupport;_j?.(hj,gj),(null!==(yW=GW.litHtmlVersions)&&void 0!==yW?yW:GW.litHtmlVersions=[]).push("2.7.4");var wj,Cj,Sj=class extends BW{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;let i=super.createRenderRoot();return null!==(e=(t=this.renderOptions).renderBefore)&&void 0!==e||(t.renderBefore=i.firstChild),i}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,i)=>{var n,r;let s=null!==(n=i?.renderBefore)&&void 0!==n?n:t,o=s._$litPart$;if(void 0===o){let e=null!==(r=i?.renderBefore)&&void 0!==r?r:null;s._$litPart$=o=new gj(t.insertBefore(YW(),e),e,void 0,i??{})}return o._$AI(e),o})(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}render(){return aj}};Sj.finalized=!0,Sj._$litElement$=!0,null===(wj=globalThis.litElementHydrateSupport)||void 0===wj||wj.call(globalThis,{LitElement:Sj});var bj=globalThis.litElementPolyfillSupport;bj?.({LitElement:Sj}),(null!==(Cj=globalThis.litElementVersions)&&void 0!==Cj?Cj:globalThis.litElementVersions=[]).push("3.3.2");var Dj,Ej=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?v(y({},t),{finisher(i){i.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(i){i.createProperty(t.key,e)}};function Ij(e){return(t,i)=>{return void 0!==i?(n=e,r=i,void t.constructor.createProperty(r,n)):Ej(e,t);var n,r}}null===(Dj=window.HTMLSlotElement)||void 0===Dj||Dj.prototype.assignedElements;var Tj="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE4cHgiIGhlaWdodD0iMThweCIgaWQ9ImltZyI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTE3IDdoLTR2Mmg0YzEuNjUgMCAzIDEuMzUgMyAzcy0xLjM1IDMtMyAzaC00djJoNGMyLjc2IDAgNS0yLjI0IDUtNXMtMi4yNC01LTUtNXptLTYgOEg3Yy0xLjY1IDAtMy0xLjM1LTMtM3MxLjM1LTMgMy0zaDRWN0g3Yy0yLjc2IDAtNSAyLjI0LTUgNXMyLjI0IDUgNSA1aDR2LTJ6bS0zLTRoOHYySDh6Ii8+PC9zdmc+Cg==",Aj=Object.defineProperty,kj=Object.getOwnPropertyDescriptor,Rj=(e,t,i,n)=>{for(var r,s=n>1?void 0:n?kj(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(s=(n?r(t,i,s):r(s))||s);return n&&s&&Aj(t,i,s),s},Oj=class extends Sj{constructor(){super(...arguments),this.text="Trial version of Ignite UI for Angular",this.url="https://www.infragistics.com/how-to-buy/renewal"}render(){return oj`
            <a part="link" href=${this.url} target="_blank">
                <svg>
                    <use xlink:href="${Tj}#img" href="${Tj}#img"></use>
                </svg>
                <span>${this.text}</span>
            </a>
            <span part="image"></span>
        `}};Oj.styles=RW(':host{display:block;position:absolute;bottom:0;right:0;width:100%;height:100%;z-index:10000;pointer-events:none}[part=link]{position:absolute;display:inline-flex;align-items:center;bottom:0;right:0;font-family:Titillium Web,sans-serif;font-size:.875rem;padding:.125rem .25rem;line-height:normal;border:1px solid var(--igx-watermark-border-color, var(--border-color, var(--igx-watermark-base-color, var(--base-color, #09f))));border-radius:var(--igx-watermark-border-radius, var(--border-radius, .125rem));color:var(--igx-watermark-color, var(--color, #fff));z-index:10002;background-color:var(--igx-watermark-link-background, var(--link-background, var(--igx-watermark-base-color, var(--base-color, #09f))));pointer-events:all;text-decoration:none}[part=link] svg{width:1.125rem;height:1.125rem;fill:currentColor;margin-inline-end:.25rem}[part=image]{width:100%;height:100%;position:absolute;top:0;left:0;z-index:10001;pointer-events:none;background-color:var(--igx-watermark-image-color, var(--image-color, color-mix(in srgb, var(--igx-watermark-base-color, var(--base-color, #09f)) var(--igx-watermark-image-opacity, var(--image-opacity, 5%)), transparent)));mask-image:var(--igx-watermark-background-image, var(--background-image, url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="184" height="104" viewBox="0 0 184 104"><path id="trial" d="M16.72,10.148L10.3,8.434l1.806-6.723L7.09,0.369,5.283,7.092,2.308,6.3,1.15,10.609l2.975,0.8L1.235,22.161q-1.345,5.007-.367,7.207T5.8,32.623a28.163,28.163,0,0,0,4.9.664l0.851-4.1-3.85-.88q-1.721-.46-1.889-1.5a11.188,11.188,0,0,1,.591-3.867l2.741-10.2,6.416,1.714ZM19.7,35.79l4.348-16.181,1.135-.144a33.871,33.871,0,0,1,7.382-.214L33.919,14.2a22.941,22.941,0,0,0-8.788,1.18L25.878,12.6l-5.021-1.342L14.629,34.436Zm16.783,4.485,6.229-23.182L37.64,15.738,31.412,38.921Zm7.287-27.123L45.2,7.82,40.132,6.466,38.7,11.8Zm20.042,11q-1.391-2.334-5.645-3.471a41.951,41.951,0,0,0-9.645-1.285l-0.773,3.62,1.513,0.3q4.563,0.822,7.538,1.617a3.562,3.562,0,0,1,2.2,1.382,3.528,3.528,0,0,1,.116,2.814L58.658,30.8,52.524,29.7a10.645,10.645,0,0,0-6.3.354q-2.306,1.074-3.253,4.6-1.981,7.372,4.946,9.223a18.357,18.357,0,0,0,7.946.285,10.134,10.134,0,0,0,5.722,3.368L62.76,43.72a2.665,2.665,0,0,1-1.343-1.03,2.273,2.273,0,0,1-.13-1.65l2.84-10.571Q65.2,26.482,63.808,24.147ZM57.7,34.367l-1.657,6.166-0.912.055A18.635,18.635,0,0,1,50,40.013q-2.836-.758-1.976-3.957a3.237,3.237,0,0,1,4.142-2.62ZM71.532,49.642l8.82-32.826-5.068-1.354-8.82,32.826Z"/></svg>\')));mask-size:12.5rem 9.375rem;mask-position:top left;-webkit-mask-image:var(--igx-watermark-background-image, var(--background-image, url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="184" height="104" viewBox="0 0 184 104"><path id="trial" d="M16.72,10.148L10.3,8.434l1.806-6.723L7.09,0.369,5.283,7.092,2.308,6.3,1.15,10.609l2.975,0.8L1.235,22.161q-1.345,5.007-.367,7.207T5.8,32.623a28.163,28.163,0,0,0,4.9.664l0.851-4.1-3.85-.88q-1.721-.46-1.889-1.5a11.188,11.188,0,0,1,.591-3.867l2.741-10.2,6.416,1.714ZM19.7,35.79l4.348-16.181,1.135-.144a33.871,33.871,0,0,1,7.382-.214L33.919,14.2a22.941,22.941,0,0,0-8.788,1.18L25.878,12.6l-5.021-1.342L14.629,34.436Zm16.783,4.485,6.229-23.182L37.64,15.738,31.412,38.921Zm7.287-27.123L45.2,7.82,40.132,6.466,38.7,11.8Zm20.042,11q-1.391-2.334-5.645-3.471a41.951,41.951,0,0,0-9.645-1.285l-0.773,3.62,1.513,0.3q4.563,0.822,7.538,1.617a3.562,3.562,0,0,1,2.2,1.382,3.528,3.528,0,0,1,.116,2.814L58.658,30.8,52.524,29.7a10.645,10.645,0,0,0-6.3.354q-2.306,1.074-3.253,4.6-1.981,7.372,4.946,9.223a18.357,18.357,0,0,0,7.946.285,10.134,10.134,0,0,0,5.722,3.368L62.76,43.72a2.665,2.665,0,0,1-1.343-1.03,2.273,2.273,0,0,1-.13-1.65l2.84-10.571Q65.2,26.482,63.808,24.147ZM57.7,34.367l-1.657,6.166-0.912.055A18.635,18.635,0,0,1,50,40.013q-2.836-.758-1.976-3.957a3.237,3.237,0,0,1,4.142-2.62ZM71.532,49.642l8.82-32.826-5.068-1.354-8.82,32.826Z"/></svg>\')));-webkit-mask-position:top left}\n'),Rj([Ij({attribute:"text"})],Oj.prototype,"text",2),Rj([Ij({attribute:"url"})],Oj.prototype,"url",2),Oj=Rj([(e=>t=>{return"function"==typeof t?(i=e,n=t,customElements.define(i,n),n):((e,t)=>{let{kind:i,elements:n}=t;return{kind:i,elements:n,finisher(t){customElements.define(e,t)}}})(e,t);var i,n})("igc-trial-watermark")],Oj);var Fj=(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","igxGridBody",""]],standalone:!0,features:[cu([YT])]}),t})(),Pj=class extends AE{constructor(){super(...arguments),this.isTop=!1,this.isTopInitialPosition=null}position(e,t,i,n,r){let s=this.settings.container,o=r||this.settings.target;this.isTop=null!==this.isTopInitialPosition?this.isTopInitialPosition:s.getBoundingClientRect().bottom<o.getBoundingClientRect().bottom+e.getBoundingClientRect().height,e.style.width=o.clientWidth+"px",this.settings.verticalStartPoint=this.settings.verticalDirection=this.isTop?SE.Top:SE.Bottom,this.settings.openAnimation=this.isTop?Mv:Ov,super.position(e,{width:o.clientWidth,height:o.clientHeight},i,n,o)}},Mj=["*"],Vj=(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","excelText",""],["excel-text"]],standalone:!0}),t})(),Nj=(()=>{let e=class{},t=e;return e.fac=function(t){return new(t||e)},e.dir=er({type:e,selectors:[["","csvText",""],["csv-text"]],standalone:!0}),t})(),Lj=(()=>{let e=class{constructor(){this.cssClass="igx-grid-toolbar__title"}},t=e;return e.fac=function(t){return new(t||e)},e.cmp=Yn({type:e,selectors:[["igx-grid-toolbar-title"]],hostVars:2,hostBindings:function(e,t){2&e&&Ah("igx-grid-toolbar__title",t.cssClass)},standalone:!0,features:[yu],ngContentSelectors:Mj,decls:1,vars:0,template:function(e,t){1&e&&(hh(),uh(0))},encapsulation:2}),t})(),Hj=(()=>{let e=class{constructor(){this.cssClass="igx-grid-toolbar__actions"}},t=e;return e.fac=function(t){return new(t||e)},e.cmp=Yn({type:e,selectors:[["igx-grid-toolbar-actions"]],hostVars:2,hostBindings:function(e,t){2&e&&Ah("igx-grid-toolbar__actions",t.cssClass)},standalone:!0,features:[yu],ngContentSelectors:Mj,decls:1,vars:0,template:function(e,t){1&e&&(hh(),uh(0))},encapsulation:2}),t})(),Bj=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxGridToolbar",""]],standalone:!0}),t})(),Gj=class{};function zj(e,t){if(1&e&&(Yc(0,"span"),$h(1),Xc()),2&e){let e=dh();Ed(1),jh(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_advanced_filtering_button_label)}}var $j=["*"],Wj=(()=>{let e=class{get grid(){return this.toolbar.grid}constructor(e){this.toolbar=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(Gj))},e.cmp=Yn({type:e,selectors:[["igx-grid-toolbar-advanced-filtering"]],inputs:{overlaySettings:"overlaySettings"},standalone:!0,features:[yu],ngContentSelectors:$j,decls:7,vars:4,consts:[["igxButton","outlined","type","button","name","btnAdvancedFiltering","igxRipple","",3,"displayDensity","title","ngClass","click"],["ref",""],[4,"ngIf"]],template:function(e,t){if(1&e&&(hh(),Yc(0,"button",0),oh("click",(function(){return t.grid.openAdvancedFilteringDialog()})),Yc(1,"igx-icon"),$h(2,"filter_list"),Xc(),Yc(3,"span",null,1),uh(5),Xc(),Wc(6,zj,2,1,"span",2),Xc()),2&e){let e=Kc(4);Uc("displayDensity",t.grid.displayDensity)("title",null==t.grid?null:t.grid.resourceStrings.igx_grid_toolbar_advanced_filtering_button_tooltip)("ngClass",t.grid.advancedFilteringExpressionsTree?"igx-grid-toolbar__adv-filter--filtered":"igx-grid-toolbar__adv-filter"),Ed(6),Uc("ngIf",!e.textContent.trim())}},dependencies:[CI,lA,Sm,FI,Em],encapsulation:2}),t})();function jj(e,t){1&e&&uh(0,2)}function Kj(e,t){1&e&&Zc(0,"igx-grid-toolbar-advanced-filtering")}function Uj(e,t){if(1&e&&(Yc(0,"igx-grid-toolbar-actions"),Wc(1,Kj,1,0,"igx-grid-toolbar-advanced-filtering",2),Xc()),2&e){let e=dh();Ed(1),Uc("ngIf",null==e.grid?null:e.grid.allowAdvancedFiltering)}}function qj(e,t){1&e&&th(0)}function Yj(e,t){1&e&&(Yc(0,"div",5),Zc(1,"igx-linear-bar",6),Xc()),2&e&&(Ed(1),Uc("indeterminate",!0))}var Xj=[[["","igxGridToolbarTitle",""],["igx-grid-toolbar-title"],["igc-grid-toolbar-title"]],"*",[["","igxGridToolbarActions",""],["igx-grid-toolbar-actions"],["igc-grid-toolbar-actions"]]],Zj=["[igxGridToolbarTitle],igx-grid-toolbar-title,igc-grid-toolbar-title","*","[igxGridToolbarActions],igx-grid-toolbar-actions,igc-grid-toolbar-actions"],Qj=(()=>{let e=class extends tI{get grid(){return this._grid?this._grid:this.api.grid}set grid(e){this._grid=e}get nativeElement(){return this.element.nativeElement}get cosyStyle(){return"cosy"===this.displayDensity}get compactStyle(){return"compact"===this.displayDensity}constructor(e,t,i,n){super(e),this._displayDensityOptions=e,this.api=t,this.iconService=i,this.element=n,this.showProgress=!1,this.defaultStyle=!0,this.iconService.addSvgIconFromText(iR.name,iR.value,"imx-icons"),this.iconService.addSvgIconFromText(nR.name,nR.value,"imx-icons")}ngOnDestroy(){this.sub?.unsubscribe()}},t=e;return e.fac=function(t){return new(t||e)(Rd(eI,8),Rd(Ck),Rd(bI),Rd(ld))},e.cmp=Yn({type:e,selectors:[["igx-grid-toolbar"]],contentQueries:function(e,t,i){if(1&e&&mg(i,Hj,5),2&e){let e;gg(e=fg())&&(t.hasActions=e.first)}},hostVars:6,hostBindings:function(e,t){2&e&&Ah("igx-grid-toolbar",t.defaultStyle)("igx-grid-toolbar--cosy",t.cosyStyle)("igx-grid-toolbar--compact",t.compactStyle)},inputs:{showProgress:"showProgress",grid:"grid"},standalone:!0,features:[cu([{provide:Gj,useExisting:e}]),Tc,yu],ngContentSelectors:Zj,decls:8,vars:3,consts:[[1,"igx-grid-toolbar__custom-content"],["actions",""],[4,"ngIf"],[4,"ngTemplateOutlet"],["class","igx-grid-toolbar__progress-bar",4,"ngIf"],[1,"igx-grid-toolbar__progress-bar"],[3,"indeterminate"]],template:function(e,t){if(1&e&&(hh(Xj),uh(0),Yc(1,"div",0),uh(2,1),Xc(),Wc(3,jj,1,0,"ng-template",null,1,_g),Wc(5,Uj,2,1,"igx-grid-toolbar-actions",2),Wc(6,qj,1,0,"ng-container",3),Wc(7,Yj,2,1,"div",4)),2&e){let e=Kc(4);Ed(5),Uc("ngIf",!t.hasActions),Ed(1),Uc("ngTemplateOutlet",e),Ed(1),Uc("ngIf",t.showProgress)}},dependencies:[Em,Hj,Wj,Pm,IL],encapsulation:2}),t})();function Jj(e,t){1&e&&th(0)}var eK=function(e){return{$implicit:e}};function tK(e,t){if(1&e&&(Jc(0),Wc(1,Jj,1,0,"ng-container",2),eh()),2&e){let e=dh(),t=Kc(2);Ed(1),Uc("ngTemplateOutlet",e.summaryTemplate?e.summaryTemplate:t)("ngTemplateOutletContext",xu(2,eK,e.summaryResults))}}function iK(e,t){if(1&e&&(Jc(0),Yc(1,"div",4)(2,"span",5),$h(3),Xc(),Yc(4,"span",6),$h(5),Xc()(),eh()),2&e){let e=t.$implicit,i=dh(2);Ed(1),Th("height",i.itemHeight,"px"),Ed(1),Uc("title",e.label),Ed(1),jh(i.translateSummary(e)),Ed(1),Uc("title",i.formatSummaryResult(e)),Ed(1),Kh(" ",i.formatSummaryResult(e)," ")}}function nK(e,t){1&e&&Wc(0,iK,6,6,"ng-container",3),2&e&&Uc("ngForOf",dh().summaryResults)}var rK=(()=>{let e=class{constructor(e){this.element=e,this.firstCellIndentation=0,this.hasSummary=!1}get visibleColumnIndex(){return this.column.visibleIndex}get attrCellID(){return`${this.grid.id}_${this.rowIndex}_${this.visibleColumnIndex}`}activate(){let e=this.grid.navigation.activeNode;e&&this.rowIndex===e.row&&this.visibleColumnIndex===e.column||(this.grid.navigation.setActiveNode({row:this.rowIndex,column:this.visibleColumnIndex},"summaryCell"),this.grid.cdr.detectChanges())}get selectionNode(){return{row:this.rowIndex,column:this.column.columnLayoutChild?this.column.parent.visibleIndex:this.visibleColumnIndex,isSummaryRow:!0}}get width(){return this.column.getCellWidth()}get nativeElement(){return this.element.nativeElement}get columnDatatype(){return this.column.dataType}get itemHeight(){return this.column.grid.defaultSummaryHeight}get grid(){return this.column.grid}get currencyCode(){return this.column.pipeArgs.currencyCode?this.column.pipeArgs.currencyCode:Mp(this.grid.locale)}get currencySymbol(){return this.column.pipeArgs.display?this.column.pipeArgs.display:function(e){return Jh(e)[tu.CurrencySymbol]||null}(this.grid.locale)}translateSummary(e){return this.grid.resourceStrings[`igx_grid_summary_${e.key}`]||e.label}formatSummaryResult(e){if(void 0===e.summaryResult||null===e.summaryResult||""===e.summaryResult)return"";if(this.summaryFormatter)return this.summaryFormatter(e,this.column.summaries);let t=this.column.pipeArgs,i=this.grid.locale;if("count"===e.key)return vm(e.summaryResult,i);if(e.defaultFormatting)switch(this.column.dataType){case Eb.Number:return vm(e.summaryResult,i,t.digitsInfo);case Eb.Date:case Eb.DateTime:case Eb.Time:return Kp(e.summaryResult,t.format,i,t.timezone);case Eb.Currency:return fm(e.summaryResult,i,this.currencySymbol,this.currencyCode,t.digitsInfo);case Eb.Percent:return ym(e.summaryResult,i,t.digitsInfo)}return e.summaryResult}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld))},e.cmp=Yn({type:e,selectors:[["igx-grid-summary-cell"]],hostVars:5,hostBindings:function(e,t){1&e&&oh("pointerdown",(function(){return t.activate()})),2&e&&(Gc("data-rowIndex",t.rowIndex)("data-visibleIndex",t.visibleColumnIndex)("id",t.attrCellID),Ah("igx-grid-summary--active",t.active))},inputs:{summaryResults:"summaryResults",column:"column",firstCellIndentation:"firstCellIndentation",hasSummary:"hasSummary",density:"density",summaryFormatter:"summaryFormatter",summaryTemplate:"summaryTemplate",active:"active",rowIndex:"rowIndex"},standalone:!0,features:[yu],decls:3,vars:1,consts:[[4,"ngIf"],["defaultSummary",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"igx-grid-summary__item"],[1,"igx-grid-summary__label",3,"title"],[1,"igx-grid-summary__result",3,"title"]],template:function(e,t){1&e&&(Wc(0,tK,2,4,"ng-container",0),Wc(1,nK,1,1,"ng-template",null,1,_g)),2&e&&Uc("ngIf",t.hasSummary)},dependencies:[Em,Pm,bm],encapsulation:2,changeDetection:0}),t})(),sK=["igxDirRef"];function oK(e,t){if(1&e&&(Jc(0),Yc(1,"div",4),oh("pointerdown",(function(e){return e.preventDefault()})),Xc(),eh()),2&e){let e=dh(2);Ed(1),Th("min-width",e.grid.summariesMargin,"px")("flex-basis",e.grid.summariesMargin,"px")}}function aK(e,t){1&e&&th(0)}function lK(e,t){if(1&e&&(Jc(0),Wc(1,aK,1,0,"ng-container",5),eh()),2&e){let e=dh(2),t=Kc(2);Ed(1),Uc("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getContext(e))}}function dK(e,t){if(1&e&&Zc(0,"igx-grid-summary-cell",6),2&e){let e=t.$implicit,i=dh(2);Th("max-height",i.minHeight,"px")("min-height",i.minHeight,"px")("min-width",e.getCellWidth())("max-width",e.getCellWidth())("flex-basis",e.getCellWidth()),Ah("igx-grid-summary--cosy","cosy"===i.grid.displayDensity)("igx-grid-summary--compact","compact"===i.grid.displayDensity)("igx-grid-summary--empty",!e.hasSummary)("igx-grid-summary--pinned-last",e.isLastPinned),Uc("column",e)("rowIndex",i.index)("firstCellIndentation",i.firstCellIndentation)("summaryResults",i.getColumnSummaries(e.field))("summaryTemplate",e.summaryTemplate)("hasSummary",e.hasSummary)("density",i.grid.displayDensity)("summaryFormatter",e.summaryFormatter)("active",i.isCellActive(e.visibleIndex))}}function cK(e,t){1&e&&th(0)}function hK(e,t){if(1&e&&(Jc(0),Wc(1,cK,1,0,"ng-container",5),eh()),2&e){let e=dh(2),t=Kc(2);Ed(1),Uc("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getContext(e))}}function uK(e,t){if(1&e&&(Jc(0),Wc(1,oK,2,4,"ng-container",0),Wc(2,lK,2,2,"ng-container",0),Wc(3,dK,1,27,"ng-template",2,3,_g),Pu(5,"igxNotGrouped"),Wc(6,hK,2,2,"ng-container",0),eh()),2&e){let e=dh();Ed(1),Uc("ngIf",e.grid.summariesMargin),Ed(1),Uc("ngIf",e.pinnedColumns.length>0&&e.grid.isPinningToStart),Ed(1),Uc("igxGridForOf",Mu(5,9,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForTrackBy",e.grid.trackColumnChanges)("igxForSizePropName","calcPixelWidth"),Ed(3),Uc("ngIf",e.pinnedColumns.length>0&&!e.grid.isPinningToStart)}}function gK(e,t){if(1&e&&Zc(0,"igx-grid-summary-cell",8),2&e){let e=t.$implicit,i=dh(2);Th("max-height",i.minHeight,"px")("min-height",i.minHeight,"px")("min-width",e.getCellWidth())("max-width",e.getCellWidth())("flex-basis",e.getCellWidth())("left",e.rightPinnedOffset),Ah("igx-grid-summary--cosy","cosy"===i.grid.displayDensity)("igx-grid-summary--compact","compact"===i.grid.displayDensity)("igx-grid-summary--empty",!e.hasSummary)("igx-grid-summary--pinned-first",e.isFirstPinned)("igx-grid-summary--pinned-last",e.isLastPinned),Uc("column",e)("firstCellIndentation",i.firstCellIndentation)("rowIndex",i.index)("summaryResults",i.getColumnSummaries(e.field))("summaryTemplate",e.summaryTemplate)("hasSummary",e.hasSummary)("density",i.grid.displayDensity)("active",i.isCellActive(e.visibleIndex))}}function pK(e,t){1&e&&(Wc(0,gK,1,30,"igx-grid-summary-cell",7),Pu(1,"igxNotGrouped")),2&e&&Uc("ngForOf",Mu(1,1,dh().pinnedColumns))}var mK=(()=>{let e=class{get dataRowIndex(){return this.index}get minHeight(){return this.grid.summaryRowHeight-1}get summaryCells(){let e=new Wu;if(!this._summaryCells)return e;let t=this._summaryCells.filter((e=>e.nativeElement.isConnected));return e.reset(t),e}set summaryCells(e){}constructor(e,t,i){this.grid=e,this.element=t,this.cdr=i,this.firstCellIndentation=-1}ngDoCheck(){this.cdr.markForCheck()}get nativeElement(){return this.element.nativeElement}getColumnSummaries(e){return this.summaries.get(e)?this.summaries.get(e):[]}isCellActive(e){let t=this.grid.navigation.activeNode;return!!t&&t.row===this.index&&t.column===e}get pinnedColumns(){return this.grid.pinnedColumns}get unpinnedColumns(){return this.grid.unpinnedColumns}getContext(e){return{$implicit:e}}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk),Rd(ld),Rd(Jg))},e.cmp=Yn({type:e,selectors:[["igx-grid-summary-row"]],viewQuery:function(e,t){if(1&e&&(pg(sK,5,tA),pg(rK,5,rK)),2&e){let e;gg(e=fg())&&(t.virtDirRow=e.first),gg(e=fg())&&(t._summaryCells=e)}},hostVars:1,hostBindings:function(e,t){2&e&&Gc("data-rowIndex",t.dataRowIndex)},inputs:{summaries:"summaries",gridID:"gridID",index:"index",firstCellIndentation:"firstCellIndentation"},standalone:!0,features:[cu([YT]),yu],decls:3,vars:1,consts:[[4,"ngIf"],["summaryCellTemplate",""],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForScrollOrientation","igxForContainerSize","igxForTrackBy","igxForSizePropName"],["igxDirRef",""],[1,"igx-grid__summaries-patch",3,"pointerdown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","cell",1,"igx-grid-summary","igx-grid-summary--fw",3,"column","rowIndex","firstCellIndentation","summaryResults","summaryTemplate","hasSummary","density","summaryFormatter","active"],["role","cell","class","igx-grid-summary igx-grid-summary--fw igx-grid-summary--pinned",3,"igx-grid-summary--cosy","igx-grid-summary--compact","igx-grid-summary--empty","igx-grid-summary--pinned-first","igx-grid-summary--pinned-last","column","firstCellIndentation","rowIndex","summaryResults","summaryTemplate","hasSummary","density","active","max-height","min-height","min-width","max-width","flex-basis","left",4,"ngFor","ngForOf"],["role","cell",1,"igx-grid-summary","igx-grid-summary--fw","igx-grid-summary--pinned",3,"column","firstCellIndentation","rowIndex","summaryResults","summaryTemplate","hasSummary","density","active"]],template:function(e,t){1&e&&(Wc(0,uK,7,11,"ng-container",0),Wc(1,pK,2,3,"ng-template",null,1,_g)),2&e&&Uc("ngIf",t.summaries.size)},dependencies:[Em,Pm,tA,rK,bm,O$],encapsulation:2,changeDetection:0}),t})(),fK=(()=>{let e=class{constructor(e,t,i){this.element=e,this.document=t,this.zone=i,this.restrictHResizeMin=Number.MIN_SAFE_INTEGER,this.restrictHResizeMax=Number.MAX_SAFE_INTEGER,this.resizeEnd=new We,this.resizeStart=new We,this.resize=new We,this._destroy=new We,this.resizeStart.pipe(yi(this._destroy),St((e=>e.clientX)),pi((e=>this.resize.pipe(yi(this._destroy),yi(this.resizeEnd),St((t=>t.clientX-e)))))).subscribe((e=>{let t=this._left+e,i=this._left-this.restrictHResizeMin,n=this._left+this.restrictHResizeMax;this.left=t<i?i:t,t>n&&(this.left=n)}))}ngOnInit(){this.zone.runOutsideAngular((()=>{Lt(this.document.defaultView,"mousemove").pipe(yi(this._destroy),Di((()=>Gt(0,yt)))).subscribe((e=>this.onMousemove(e))),Lt(this.document.defaultView,"mouseup").pipe(yi(this._destroy)).subscribe((e=>this.onMouseup(e)))}))}ngOnDestroy(){this._destroy.next(!0),this._destroy.complete()}set left(e){requestAnimationFrame((()=>this.element.nativeElement.style.left=e+"px"))}set top(e){null!=this.restrictResizerTop?requestAnimationFrame((()=>this.element.nativeElement.style.top=this.restrictResizerTop+"px")):requestAnimationFrame((()=>this.element.nativeElement.style.top=e+"px"))}onMouseup(e){this.resizeEnd.next(e),this.resizeEnd.complete()}onMousedown(e){e.preventDefault();let t=this.element.nativeElement.parentElement.parentElement;this.left=this._left=e.clientX-t.getBoundingClientRect().left,this.top=e.target.getBoundingClientRect().top-t.getBoundingClientRect().top,this.resizeStart.next(e)}onMousemove(e){e.preventDefault(),this.resize.next(e)}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(Cp),Rd(Ig))},e.dir=er({type:e,selectors:[["","igxResizer",""]],inputs:{restrictHResizeMin:"restrictHResizeMin",restrictHResizeMax:"restrictHResizeMax",restrictResizerTop:"restrictResizerTop"},outputs:{resizeEnd:"resizeEnd",resizeStart:"resizeStart",resize:"resize"},standalone:!0}),t})(),yK=(()=>{let e=class{constructor(e){this.colResizingService=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(HG))},e.cmp=Yn({type:e,selectors:[["igx-grid-column-resizer"]],viewQuery:function(e,t){if(1&e&&pg(fK,7),2&e){let e;gg(e=fg())&&(t.resizer=e.first)}},inputs:{restrictResizerTop:"restrictResizerTop"},standalone:!0,features:[yu],decls:1,vars:7,consts:[["igxResizer","",1,"igx-grid-th__resize-line",3,"restrictHResizeMax","restrictHResizeMin","restrictResizerTop","resizeEnd"]],template:function(e,t){1&e&&(Yc(0,"div",0),oh("resizeEnd",(function(e){return t.colResizingService.resizeColumn(e)})),Xc()),2&e&&(Th("left",-99999,"px")("height",t.colResizingService.resizerHeight,"px"),Uc("restrictHResizeMax",t.colResizingService.restrictResizeMax)("restrictHResizeMin",t.colResizingService.restrictResizeMin)("restrictResizerTop",t.restrictResizerTop))},dependencies:[fK],encapsulation:2,changeDetection:0}),t})(),vK=(()=>{let e=class extends fA{constructor(){super(...arguments),this.ariaLive="polite",this.autoHide=!0,this.displayTime=4e3,this.textMessage=""}get isVisible(){return!this.collapsed}set isVisible(e){e!==this.isVisible&&(e?requestAnimationFrame((()=>{this.open()})):this.close())}open(){clearInterval(this.timeoutId);let e={positionStrategy:this.strategy,closeOnEscape:!1,closeOnOutsideClick:!1,modal:!1,outlet:this.outlet};super.open(e),this.autoHide&&(this.timeoutId=window.setTimeout((()=>{this.close()}),this.displayTime))}close(){clearTimeout(this.timeoutId),super.close()}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,hostVars:1,hostBindings:function(e,t){2&e&&Gc("aria-live",t.ariaLive)},inputs:{ariaLive:"ariaLive",autoHide:"autoHide",displayTime:"displayTime",outlet:"outlet",isVisible:"isVisible"},features:[Tc]}),t})();function xK(e,t){if(1&e){let e=nh();Yc(0,"button",2),oh("click",(function(){return Is(e),Ts(dh().triggerAction())})),$h(1),Xc()}if(2&e){let e=dh();Ed(1),Kh(" ",e.actionText,"\n")}}var _K,wK=["*"],CK=0,SK=(()=>{let e=class extends vK{constructor(){super(...arguments),this.id="igx-snackbar-"+CK++,this.cssClass="igx-snackbar",this.clicked=new zu,this.animationStarted=new zu,this.animationDone=new zu,this._positionSettings={horizontalDirection:CE.Center,verticalDirection:SE.Bottom,openAnimation:dy(fy,{params:{duration:".35s",easing:"cubic-bezier(0.0, 0.0, 0.2, 1)",fromPosition:"translateY(100%)",toPosition:"translateY(0)"}}),closeAnimation:dy(yy,{params:{duration:".2s",easing:"cubic-bezier(0.4, 0.0, 1, 1)",fromPosition:"translateY(0)",toPosition:"translateY(100%)"}})}}get positionSettings(){return this._positionSettings}set positionSettings(e){this._positionSettings=e}open(e){void 0!==e&&(this.textMessage=e),this.strategy=this.outlet?new PE(this.positionSettings):new FE(this.positionSettings),super.open()}toggle(){this.collapsed||this.isClosing?this.open():this.close()}triggerAction(){this.clicked.emit(this)}ngOnInit(){this.opened.pipe(yi(this.destroy$)).subscribe((()=>{let e={owner:this,id:this._overlayId};this.animationStarted.emit(e)})),this.closed.pipe(yi(this.destroy$)).subscribe((()=>{let e={owner:this,id:this._overlayId};this.animationDone.emit(e)}))}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.cmp=Yn({type:e,selectors:[["igx-snackbar"]],hostVars:3,hostBindings:function(e,t){2&e&&(Gc("id",t.id),Ah("igx-snackbar",t.cssClass))},inputs:{id:"id",actionText:"actionText",positionSettings:"positionSettings"},outputs:{clicked:"clicked",animationStarted:"animationStarted",animationDone:"animationDone"},standalone:!0,features:[Tc,yu],ngContentSelectors:wK,decls:4,vars:2,consts:[[1,"igx-snackbar__message"],["class","igx-snackbar__button","igxRipple","white",3,"click",4,"ngIf"],["igxRipple","white",1,"igx-snackbar__button",3,"click"]],template:function(e,t){1&e&&(hh(),Yc(0,"div",0),$h(1),uh(2),Xc(),Wc(3,xK,2,1,"button",1)),2&e&&(Ed(1),Kh(" ",t.textMessage," "),Ed(2),Uc("ngIf",t.actionText))},dependencies:[Em],encapsulation:2}),t})(),bK=new Uint8Array(16);function DK(){if(!_K&&!(_K=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _K(bK)}var EK=[];for(let e=0;e<256;++e)EK.push((e+256).toString(16).slice(1));var IK={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},TK=function(e,t,i){if(IK.randomUUID&&!t&&!e)return IK.randomUUID();let n=(e=e||{}).random||(e.rng||DK)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=n[e];return t}return function(e,t=0){return(EK[e[t+0]]+EK[e[t+1]]+EK[e[t+2]]+EK[e[t+3]]+"-"+EK[e[t+4]]+EK[e[t+5]]+"-"+EK[e[t+6]]+EK[e[t+7]]+"-"+EK[e[t+8]]+EK[e[t+9]]+"-"+EK[e[t+10]]+EK[e[t+11]]+EK[e[t+12]]+EK[e[t+13]]+EK[e[t+14]]+EK[e[t+15]]).toLowerCase()}(n)};function AK(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"igx-chip",5),oh("keyDown",(function(t){return Is(e),Ts(dh().handleKeyDown(t.owner.id,t.originalEvent))}))("remove",(function(t){return Is(e),Ts(dh().clearGrouping(t.owner.id))}))("chipClick",(function(){let t=Is(e).$implicit;return Ts(dh().handleClick(t.fieldName))})),Pu(2,"igxGroupByMeta"),Pu(3,"igxGroupByMeta"),Pu(4,"igxGroupByMeta"),Pu(5,"igxGroupByMeta"),Yc(6,"span"),$h(7),Pu(8,"igxGroupByMeta"),Xc(),Yc(9,"igx-icon",6),$h(10),Xc()(),Yc(11,"span",7)(12,"igx-icon",8),$h(13,"arrow_forward"),Xc()(),eh()}if(2&e){let e=t.$implicit,i=t.last,n=dh();Ed(1),Uc("id",e.fieldName)("title",Vu(2,9,e.fieldName,n.grid).title)("displayDensity",n.grid.displayDensity)("removable",Nu(3,12,e.fieldName,n.grid,n.grid.groupablePipeTrigger).groupable)("draggable",Nu(4,16,e.fieldName,n.grid,n.grid.groupablePipeTrigger).groupable)("disabled",!Nu(5,20,e.fieldName,n.grid,n.grid.groupablePipeTrigger).groupable),Ed(6),jh(Vu(8,24,e.fieldName,n.grid).title),Ed(3),jh(1===e.dir?"arrow_upward":"arrow_downward"),Ed(2),Uc("hidden",i&&!n.dropAreaVisible)}}function kK(e,t){1&e&&th(0)}function RK(e,t){if(1&e&&(Yc(0,"igx-icon",9),$h(1,"group_work"),Xc(),Yc(2,"span",10),$h(3),Xc()),2&e){let e=dh();Ed(3),jh(e.dropAreaMessage)}}var OK=(()=>{let e=class extends SG{constructor(e,t){super(e,t),this.sortingExpressions=[]}handleReorder(e){let{chipsArray:t,originalEvent:i}=e,n=this.getReorderedExpressions(t);this.grid.groupingExpansionState=[],this.expressions=n,i instanceof KeyboardEvent&&(this.grid.groupingExpressions=n)}handleMoveEnd(){this.grid.groupingExpressions=this.expressions}groupBy(e){this.grid.groupBy(e)}clearGrouping(e){this.grid.clearGrouping(e)}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd($S))},e.cmp=Yn({type:e,selectors:[["igx-grid-group-by-area"]],inputs:{sortingExpressions:"sortingExpressions",grid:"grid"},standalone:!0,features:[cu([{provide:SG,useExisting:e}]),Tc,yu],decls:6,vars:7,consts:[[3,"reorder","moveEnd"],[4,"ngFor","ngForOf"],["igxGroupAreaDrop","",3,"hidden","igxDrop"],[4,"ngTemplateOutlet"],["default",""],[3,"id","title","displayDensity","removable","draggable","disabled","keyDown","remove","chipClick"],["igxSuffix",""],[1,"igx-grid-grouparea__connector"],[3,"hidden"],[1,"igx-drop-area__icon"],[1,"igx-drop-area__text"]],template:function(e,t){if(1&e&&(Yc(0,"igx-chips-area",0),oh("reorder",(function(e){return t.handleReorder(e)}))("moveEnd",(function(){return t.handleMoveEnd()})),Wc(1,AK,14,27,"ng-container",1),Yc(2,"div",2),oh("igxDrop",(function(e){return t.onDragDrop(e)})),Wc(3,kK,1,0,"ng-container",3),Xc()(),Wc(4,RK,4,1,"ng-template",null,4,_g)),2&e){let e=Kc(5);Ed(1),Uc("ngForOf",t.chipExpressions),Ed(1),qh("igx-drop-area","comfortable"!==t.density?"--"+t.density:"",""),Uc("hidden",!t.dropAreaVisible),Gc("gridId",t.grid.id),Ed(1),Uc("ngTemplateOutlet",t.dropAreaTemplate||e)}},dependencies:[KF,bm,WF,FI,pI,MG,NT,Pm,bG],encapsulation:2}),t})(),FK=new Dl("IgxGridTransaction"),PK=(()=>{let e=class{constructor(){this._validityStates=new Map,this._valid=!0}get valid(){return this._valid}create(e,t){let i=this.getFormGroup(e);if(i)for(let e of this.grid.columns){let n=i.get(e.field);n?n.markAsPristine():this.addFormControl(i,t,e)}else{i=new z_({});for(let e of this.grid.columns)this.addFormControl(i,t,e);let n={formGroup:i,owner:this.grid};this.grid.formGroupCreated.emit(n),this.add(e,i)}return i}addFormControl(e,t,i){let n=tb(t||{},i.field),r=this.getFieldKey(i.field),s=new tw(n,{updateOn:this.grid.validationTrigger});s.addValidators(i.validators),e.addControl(r,s),s.setValue(n)}getFieldKey(e){return(e?.split(".")??[]).join("_")}getFormGroup(e){return this._validityStates.get(e)}getFormControl(e,t){let i=this.getFormGroup(e),n=this.getFieldKey(t);return i?.get(n)}add(e,t){this._validityStates.set(e,t)}getValidity(){let e=[];return this._validityStates.forEach(((t,i)=>{let n=[];for(let e of this.grid.columns){let i=this.getFieldKey(e.field),r=t.get(i);r&&n.push({field:i,status:r.status,errors:r.errors})}e.push({key:i,status:t.status,fields:n,errors:t.errors})})),e}getInvalid(){return this.getValidity().filter((e=>"INVALID"===e.status))}update(e,t){if(!t)return;let i=Object.keys(t),n=this.getFormGroup(e);for(let e of i){let i=this.getFieldKey(e),r=n?.get(i);r&&r.value!==t[e]&&r.setValue(t[e],{emitEvent:!1})}this.updateStatus()}updateAll(e){if(e&&0!==this._validityStates.size)for(let t of e){let e=t[this.grid.primaryKey]||t;if(this.getFormGroup(e)){let i=this.grid.transactions.getAggregatedValue(e,!0)||t;this.update(e,i)}}}markAsTouched(e,t){let i=this.getFormGroup(e);if(!i)return;i.markAsTouched();let n=t?[t]:this.grid.columns.map((e=>e.field));for(let e of n){let t=this.getFieldKey(e);i?.get(t)?.markAsTouched()}}updateStatus(){let e=this.valid;this._valid=0===this.getInvalid().length,this.valid!==e&&this.grid.validationStatusChange.emit({status:this.valid?"VALID":"INVALID",owner:this.grid})}clear(e){void 0!==e?this._validityStates.delete(e):this._validityStates.clear(),this.updateStatus()}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac}),t})(),MK=(()=>{let e=class{get activeNode(){return this._activeNode}set activeNode(e){this._activeNode=e}constructor(e){this.platform=e,this._activeNode={},this.lastActiveNode={},this.pendingNavigation=!1}handleNavigation(e){let t=e.key.toLowerCase();KS.has(t)&&e.stopPropagation(),(!this.grid.crudService.cell||!KS.has(t))&&((e.repeat&&ZS.has(t)||"tab"===t&&this.grid.crudService.cell)&&e.preventDefault(),e.repeat?setTimeout((()=>this.dispatchEvent(e)),1):this.dispatchEvent(e))}dispatchEvent(e){let t=e.key.toLowerCase();if(!this.activeNode||!(ZS.has(t)||"tab"===t&&this.grid.crudService.cell||this.grid.crudService.rowEditingBlocked||this.grid.crudService.rowInEditMode))return;let i=e.shiftKey,n=e.ctrlKey;if(KS.has(t)&&this.pendingNavigation)return void e.preventDefault();let r=this.isDataRow(this.activeNode.row)?"dataCell":this.isDataRow(this.activeNode.row,!0)?"summaryCell":"groupRow";if(this.emitKeyDown(r,this.activeNode.row,e))return;if(e.altKey)return void this.handleAlt(t,e);-1===[" ","spacebar","space"].indexOf(t)&&this.grid.selectionService.keyboardStateOnKeydown(this.activeNode,i,i&&"tab"===t);let s=this.getNextPosition(this.activeNode.row,this.activeNode.column,t,i,n,e);KS.has(t)&&(e.preventDefault(),this.navigateInBody(s.rowIndex,s.colIndex,(t=>{t.target.activate(e),this.grid.cdr.detectChanges()}))),this.grid.cdr.detectChanges()}summaryNav(e){this.grid.hasSummarizedColumns&&this.horizontalNav(e,e.key.toLowerCase(),this.grid.dataView.length,"summaryCell")}headerNavigation(e){let t=e.key.toLowerCase();if(!QS.has(t)||-1!==this.activeNode?.row)return;e.preventDefault();let i=e.ctrlKey,n=e.shiftKey,r=e.altKey;this.performHeaderKeyCombination(this.currentActiveColumn,t,n,i,r,e),!(n||r||i&&(t.includes("down")||t.includes("down")))&&(this.grid.hasColumnGroups?this.handleMCHeaderNav(t,i):this.horizontalNav(e,t,-1,"headerCell"))}focusTbody(e){let t=this.grid.verticalScrollContainer.totalItemCount??this.grid.dataView.length;if(t<1)this.activeNode=null;else if(!this.activeNode||!Object.keys(this.activeNode).length||this.activeNode.row<0||this.activeNode.row>t-1){let i=Object.keys(this.lastActiveNode).length,n=i&&(this.lastActiveNode.row<0||this.lastActiveNode.row>t-1);if(this.setActiveNode(this.lastActiveNode.row>=0&&this.lastActiveNode.row<t?this.firstVisibleNode(this.lastActiveNode.row):this.firstVisibleNode()),n||this.grid.cellSelection!==jb)this.grid.clearCellSelection(),this.grid.navigateTo(this.activeNode.row,this.activeNode.column,(t=>{t.target?.activate(e),this.grid.cdr.detectChanges()}));else{if(i&&!this.grid.selectionService.selected(this.lastActiveNode))return;let e={rowStart:this.activeNode.row,rowEnd:this.activeNode.row,columnStart:this.activeNode.column,columnEnd:this.activeNode.column};this.grid.selectRange(e),this.grid.notifyChanges()}}}focusFirstCell(e=!0){if((e||this.grid.dataView.length)&&this.activeNode&&(-1===this.activeNode.row||this.activeNode.row===this.grid.dataView.length||!e&&!this.grid.hasSummarizedColumns))return;let t=this.lastActiveNode&&e&&-1!==this.lastActiveNode.row||!e&&this.lastActiveNode.row!==this.grid.dataView.length;this.setActiveNode(this.firstVisibleNode(e?-1:this.grid.dataView.length)),t&&this.performHorizontalScrollToCell(this.activeNode.column)}isColumnFullyVisible(e){if(e<0||this.isColumnPinned(e,this.forOfDir()))return!0;let t=this.getColumnUnpinnedIndex(e),i=this.forOfDir().getColumnScrollLeft(t+1)-this.forOfDir().getColumnScrollLeft(t);return this.displayContainerWidth<i&&this.displayContainerScrollLeft===this.forOfDir().getColumnScrollLeft(t)||this.displayContainerWidth>=this.forOfDir().getColumnScrollLeft(t+1)-this.displayContainerScrollLeft&&this.displayContainerScrollLeft<=this.forOfDir().getColumnScrollLeft(t)}shouldPerformHorizontalScroll(e,t=-1){if(e<0||e>this.grid.visibleColumns.length-1)return!1;if(t<0||t>this.grid.dataView.length-1)return!this.isColumnFullyVisible(e);let i=this.grid.dataView[t];return!i.expression&&!i.detailsData&&!this.isColumnFullyVisible(e)}shouldPerformVerticalScroll(e,t){if(this.grid.isRecordPinnedByViewIndex(e))return!1;let i=this.grid.hasPinnedRecords&&this.grid.isRowPinningToTop?e-this.grid.pinnedDataView.length:e,n=this.getRowElementByIndex(e),r=this.grid.verticalScrollContainer.getSizeAt(i),s=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,o=n?n.offsetTop+r+this.containerTopOffset:s+r;return!n||n.offsetTop<Math.abs(this.containerTopOffset)||s&&o-s>5}performVerticalScrollToCell(e,t=-1,i){if(!this.shouldPerformVerticalScroll(e,t))return;this.pendingNavigation=!0;let n=this.grid.hasPinnedRecords&&this.grid.isRowPinningToTop?e-this.grid.pinnedDataView.length:e;this.grid.verticalScrollContainer.scrollTo(n),this.grid.verticalScrollContainer.chunkLoad.pipe(ci()).subscribe((()=>{this.pendingNavigation=!1,i&&i()}))}performHorizontalScrollToCell(e,t){if(this.grid.rowList<1&&this.grid.summariesRowList.length<1&&this.grid.hasColumnGroups){let t=this.grid.getColumnByVisibleIndex(e);for(;t.parent;)t=t.parent;e=this.forOfDir().igxForOf.indexOf(t)}this.shouldPerformHorizontalScroll(e)&&(this.pendingNavigation=!0,this.grid.parentVirtDir.chunkLoad.pipe(ci()).subscribe((()=>{this.pendingNavigation=!1,t&&t()})),this.forOfDir().scrollTo(this.getColumnUnpinnedIndex(e)))}isDataRow(e,t=!1){let i;if(e<0||e>this.grid.dataView.length-1){if(i=this.grid.dataView[e-this.grid.virtualizationState.startIndex],!i)return this.grid.verticalScrollContainer.isRemote&&e>=0&&e<=this.grid.totalItemCount-1}else i=this.grid.dataView[e];return i&&!this.grid.isGroupByRecord(i)&&!this.grid.isDetailRecord(i)&&!i.childGridsData&&(t||!i.summaries)}isGroupRow(e){if(e<0||e>this.grid.dataView.length-1)return!1;let t=this.grid.dataView[e];return t&&this.grid.isGroupByRecord(t)}setActiveNode(e){if(!this.isActiveNodeChanged(e))return;this.activeNode||(this.activeNode=e),Object.assign(this.activeNode,e);let t=this.grid.dataView[e.row],i=e.row<0?"headerCell":this.isDataRow(e.row)?"dataCell":t&&this.grid.isGroupByRecord(t)?"groupRow":t&&this.grid.isDetailRecord(t)?"masterDetailRow":"summaryCell",n={row:this.activeNode.row,column:this.activeNode.column,level:this.activeNode.level,tag:i};this.grid.activeNodeChange.emit(n)}isActiveNodeChanged(e){let t=!1,i=(e,i)=>{if(e){n=Object.getOwnPropertyNames(e);for(let r of n)this.activeNode[i][r]!==e[r]&&(t=!0)}else t=!0};if(!this.activeNode)return t=!0;let n=Object.getOwnPropertyNames(e);for(let r of n)this.activeNode[r]&&"object"==typeof this.activeNode[r]?i(e[r],r):this.activeNode[r]!==e[r]&&(t=!0);return t}getNextPosition(e,t,i,n,r,s){if(!this.isDataRow(e,!0)&&(i.indexOf("down")<0||i.indexOf("up")<0)&&r)return{rowIndex:e,colIndex:t};switch(i){case"pagedown":case"pageup":s.preventDefault(),"pagedown"===i?this.grid.verticalScrollContainer.scrollNextPage():this.grid.verticalScrollContainer.scrollPrevPage();let o=this.grid.crudService.cell;this.grid.verticalScrollContainer.chunkLoad.pipe(ci()).subscribe((()=>{o&&this.grid.rowList.map((e=>e.index)).indexOf(o.rowIndex)<0&&this.grid.tbody.nativeElement.focus({preventScroll:!0})}));break;case"tab":this.handleEditing(n,s);break;case"end":e=r?this.findLastDataRowIndex():this.activeNode.row,t=this.lastColumnIndex;break;case"home":e=r?this.findFirstDataRowIndex():this.activeNode.row,t=0;break;case"arrowleft":case"left":t=r?0:this.activeNode.column-1;break;case"arrowright":case"right":t=r?this.lastColumnIndex:this.activeNode.column+1;break;case"arrowup":case"up":if(r&&!this.isDataRow(e)||this.grid.rowEditable&&this.grid.crudService.rowEditingBlocked)break;t=void 0!==this.activeNode.column?this.activeNode.column:0,e=r?this.findFirstDataRowIndex():this.activeNode.row-1;break;case"arrowdown":case"down":if(r&&!this.isDataRow(e)||this.grid.rowEditable&&this.grid.crudService.rowEditingBlocked)break;t=void 0!==this.activeNode.column?this.activeNode.column:0,e=r?this.findLastDataRowIndex():this.activeNode.row+1;break;case"enter":case"f2":let a=this.grid.gridAPI.get_cell_by_visible_index(this.activeNode.row,this.activeNode.column);if(!this.isDataRow(e)||!a.editable)break;this.grid.crudService.enterEditMode(a,s);break;case"escape":case"esc":if(!this.isDataRow(e))break;if(this.grid.crudService.isInCompositionMode)return;(this.grid.crudService.cellInEditMode||this.grid.crudService.rowInEditMode)&&(this.grid.crudService.endEdit(!1,s),this.platform.isEdge&&this.grid.cdr.detectChanges(),this.grid.tbody.nativeElement.focus());break;case" ":case"spacebar":case"space":let l=this.grid.gridAPI.get_row_by_index(this.activeNode.row);this.grid.isRowSelectable&&l&&(this.isDataRow(e)&&(l.selected?this.grid.selectionService.deselectRow(l.key,s):this.grid.selectionService.selectRowById(l.key,!1,s)),this.isGroupRow(e)&&l.onGroupSelectorClick(s));break;default:return}return{rowIndex:e,colIndex:t}}horizontalNav(e,t,i,n){let r=e.ctrlKey;if(!jS.has(e.key.toLowerCase())||(e.preventDefault(),this.activeNode.row=i,i>0&&this.emitKeyDown("summaryCell",this.activeNode.row,e)))return;let s={column:this.activeNode.column,mchCache:{level:this.activeNode.level,visibleIndex:this.activeNode.column}};if((t.includes("left")||"home"===t)&&this.activeNode.column>0&&(s.column=r||"home"===t?0:this.activeNode.column-1),(t.includes("right")||"end"===t)&&this.activeNode.column<this.lastColumnIndex&&(s.column=r||"end"===t?this.lastColumnIndex:this.activeNode.column+1),"headerCell"===n){let e=this.grid.getColumnByVisibleIndex(s.column);s.mchCache.level=e.level,s.mchCache.visibleIndex=e.visibleIndex}this.setActiveNode({row:this.activeNode.row,column:s.column,mchCache:s.mchCache}),this.performHorizontalScrollToCell(this.activeNode.column)}get lastColumnIndex(){return Math.max(...this.grid.visibleColumns.map((e=>e.visibleIndex)))}get displayContainerWidth(){return Math.round(this.grid.parentVirtDir.dc.instance._viewContainer.element.nativeElement.offsetWidth)}get displayContainerScrollLeft(){return Math.ceil(this.grid.headerContainer.scrollPosition)}get containerTopOffset(){return parseInt(this.grid.verticalScrollContainer.dc.instance._viewContainer.element.nativeElement.style.top,10)}getColumnUnpinnedIndex(e){let t=this.grid.unpinnedColumns.find((t=>!t.columnGroup&&t.visibleIndex===e));return this.grid.pinnedColumns.length?this.grid.unpinnedColumns.filter((e=>!e.columnGroup)).indexOf(t):e}forOfDir(){return this.grid.dataRowList.length>0?this.grid.dataRowList.first.virtDirRow:this.grid.summariesRowList.length?this.grid.summariesRowList.first.virtDirRow:this.grid.headerContainer}handleAlt(e,t){t.preventDefault();let i=this.grid.gridAPI.get_row_by_index(this.activeNode.row);if((this.isToggleKey(e)||this.isAddKey(e))&&i){if(this.isAddKey(e)){if(!this.grid.rowEditable)return void console.warn("The grid must be in row edit mode to perform row adding!");t.shiftKey&&void 0!==i.treeRow?this.grid.crudService.enterAddRowMode(i,!0,t):t.shiftKey||this.grid.crudService.enterAddRowMode(i,!1,t)}else!i.expanded&&qS.has(e)?void 0===i.key?i.toggle():this.grid.gridAPI.set_row_expansion_state(i.key,!0,t):i.expanded&&YS.has(e)&&(void 0===i.key?i.toggle():this.grid.gridAPI.set_row_expansion_state(i.key,!1,t));this.grid.notifyChanges()}}handleEditing(e,t){let i=e?this.grid.getPreviousCell(this.activeNode.row,this.activeNode.column,(e=>e.editable)):this.grid.getNextCell(this.activeNode.row,this.activeNode.column,(e=>e.editable));if(!this.grid.crudService.rowInEditMode&&this.isActiveNode(i.rowIndex,i.visibleColumnIndex))return this.grid.crudService.endEdit(!0,t),void this.grid.tbody.nativeElement.focus();if(t.preventDefault(),this.grid.crudService.rowInEditMode&&this.grid.rowEditTabs.length&&(this.activeNode.row!==i.rowIndex||this.isActiveNode(i.rowIndex,i.visibleColumnIndex))){if(this.grid.crudService.updateCell(!0,t).cancel)return;e?this.grid.rowEditTabs.last.element.nativeElement.focus():this.grid.rowEditTabs.first.element.nativeElement.focus()}else this.grid.crudService.rowInEditMode&&!this.grid.rowEditTabs.length&&(e&&i.rowIndex===this.activeNode.row&&i.visibleColumnIndex===this.activeNode.column?i.visibleColumnIndex=this.grid.lastEditableColumnIndex:e||i.rowIndex!==this.activeNode.row||i.visibleColumnIndex!==this.activeNode.column?i.rowIndex=this.activeNode.row:i.visibleColumnIndex=this.grid.firstEditableColumnIndex),this.navigateInBody(i.rowIndex,i.visibleColumnIndex,(e=>{e.target.activate(t),this.grid.cdr.detectChanges()}))}navigateInBody(e,t,i=null){!this.isValidPosition(e,t)||this.isActiveNode(e,t)||this.grid.navigateTo(e,t,i)}emitKeyDown(e,t,i){let n=this.grid.summariesRowList.toArray().concat(this.grid.rowList.toArray()).find((e=>e.index===t));if(!n)return;let r={targetType:e,event:i,cancel:!1,target:"groupRow"===e?n:"dataCell"===e?n.cells?.find((e=>e.visibleColumnIndex===this.activeNode.column)):n.summaryCells?.find((e=>e.visibleColumnIndex===this.activeNode.column))};return this.grid.gridKeydown.emit(r),r.cancel&&"dataCell"===e?(this.grid.selectionService.clear(),this.grid.selectionService.keyboardState.active=!0,r.cancel):void 0}isColumnPinned(e,t){return!t.getScroll().clientWidth||this.grid.getColumnByVisibleIndex(e)?.pinned}findFirstDataRowIndex(){return this.grid.dataView.findIndex((e=>!this.grid.isGroupByRecord(e)&&!this.grid.isDetailRecord(e)&&!e.summaries))}findLastDataRowIndex(){if(this.grid.totalItemCount)return this.grid.totalItemCount-1;let e=this.grid.dataView.length;for(;e--;)if(this.isDataRow(e))return e}getRowElementByIndex(e){if(this.grid.hasDetails){let t=this.grid.nativeElement.querySelector(`[detail="true"][data-rowindex="${e}"]`);if(t)return t}return this.grid.rowList.toArray().concat(this.grid.summariesRowList.toArray()).find((t=>t.index===e))?.nativeElement}isValidPosition(e,t){let i=this.grid.totalItemCount??this.grid.dataView.length;return!(e<0||t<0||i-1<e||this.lastColumnIndex<t||this.activeNode.column!==t&&!this.isDataRow(e,!0))}performHeaderKeyCombination(e,t,i,n,r,s){let o=this.grid.sortingExpressions.find((t=>t.fieldName===e.field))?.dir;if(n&&t.includes("up")&&e.sortable&&!e.columnGroup)return o=o===gb.Asc?gb.None:gb.Asc,void this.grid.sort({fieldName:e.field,dir:o,ignoreCase:!1});if(n&&t.includes("down")&&e.sortable&&!e.columnGroup)return o=o===gb.Desc?gb.None:gb.Desc,void this.grid.sort({fieldName:e.field,dir:o,ignoreCase:!1});if(i&&r&&this.isToggleKey(t)&&!e.columnGroup&&e.groupable)return o=o||gb.Asc,t.includes("right")?this.grid.groupBy({fieldName:e.field,dir:o,ignoreCase:e.sortingIgnoreCase,strategy:e.sortStrategy,groupingComparer:e.groupingComparer}):this.grid.clearGrouping(e.field),void(this.activeNode.column=t.includes("right")&&this.grid.hideGroupedColumns&&e.visibleIndex===this.lastColumnIndex?this.lastColumnIndex-1:this.activeNode.column);if(r&&(qS.has(t)||YS.has(t)))this.handleMCHExpandCollapse(t,e);else if(-1!==[" ","spacebar","space"].indexOf(t)&&this.handleColumnSelection(e,s),r&&("l"===t||""===t)&&this.grid.allowAdvancedFiltering&&this.grid.openAdvancedFilteringDialog(),n&&i&&"l"===t&&this.grid.allowFiltering&&!e.columnGroup&&e.filterable)if(this.grid.filterMode===Nb){let t=this.grid.headerGroups.find((e=>e.active)).nativeElement;this.grid.filteringService.toggleFilterDropdown(t,e)}else this.performHorizontalScrollToCell(e.visibleIndex),this.grid.filteringService.filteredColumn=e,this.grid.filteringService.isFilterRowVisible=!0}firstVisibleNode(e){let t=void 0!==this.lastActiveNode.column?this.lastActiveNode.column:this.grid.visibleColumns.sort(((e,t)=>e.visibleIndex-t.visibleIndex)).find((e=>this.isColumnFullyVisible(e.visibleIndex)))?.visibleIndex,i=this.grid.visibleColumns.find((e=>!e.columnLayout&&e.visibleIndex===t));return{row:(e||this.grid.rowList.find((e=>!this.shouldPerformVerticalScroll(e.index,t)))?.index)??0,column:i?.visibleIndex??0,level:i?.level??0,mchCache:i?{level:i.level,visibleIndex:i.visibleIndex}:{},layout:i&&i.columnLayoutChild?{rowStart:i.rowStart,colStart:i.colStart,rowEnd:i.rowEnd,colEnd:i.colEnd,columnVisibleIndex:i.visibleIndex}:null}}handleMCHeaderNav(e,t){let i={visibleIndex:this.activeNode.mchCache.visibleIndex,level:this.activeNode.mchCache.level},n=this.currentActiveColumn,r=Math.max(...this.grid.visibleColumns.filter((e=>e.level<=this.activeNode.level)).map((e=>e.visibleIndex))),s=n;if((e.includes("left")||"home"===e)&&this.activeNode.column>0){let n=t||"home"===e?0:this.activeNode.column-1;s=this.getNextColumnMCH(n),i.visibleIndex=s.visibleIndex}if((e.includes("right")||"end"===e)&&n.visibleIndex<r){let r=n.children?Math.max(...n.allChildren.map((e=>e.visibleIndex)))+1:n.visibleIndex+1;s=t||"end"===e?this.getNextColumnMCH(this.lastColumnIndex):this.getNextColumnMCH(r),i.visibleIndex=s.visibleIndex}!t&&e.includes("up")&&this.activeNode.level>0&&(s=n.parent,i.level=s.level),!t&&e.includes("down")&&n.children&&(s=n.children.find((e=>e.visibleIndex===i.visibleIndex))||n.children.toArray().sort(((e,t)=>t.visibleIndex-e.visibleIndex)).filter((e=>e.visibleIndex<i.visibleIndex))[0],i.level=s.level),this.setActiveNode({row:this.activeNode.row,column:s.visibleIndex,level:s.level,mchCache:i}),this.performHorizontalScrollToCell(s.visibleIndex)}handleMCHExpandCollapse(e,t){!t.children||!t.collapsible||(!t.expanded&&qS.has(e)?t.expanded=!0:t.expanded&&YS.has(e)&&(t.expanded=!1))}handleColumnSelection(e,t){if(!e.selectable||this.grid.columnSelection===$b)return;let i=this.grid.columnSelection===Wb,n=e.children?e.allChildren.filter((e=>!e.hidden&&e.selectable&&!e.columnGroup)).map((e=>e.field)):[e.field];e.selected?this.grid.selectionService.deselectColumns(n,t):this.grid.selectionService.selectColumns(n,i,!1,t)}getNextColumnMCH(e){let t=this.grid.getColumnByVisibleIndex(e),i=t.parent;for(;i&&t.level>this.activeNode.mchCache.level;)t=t.parent,i=t.parent;return t}get currentActiveColumn(){return this.grid.visibleColumns.find((e=>e.visibleIndex===this.activeNode.column&&e.level===this.activeNode.level))}isActiveNode(e,t){return!!this.activeNode&&this.activeNode.row===e&&this.activeNode.column===t}isToggleKey(e){return YS.has(e)||qS.has(e)}isAddKey(e){return XS.has(e)}},t=e;return e.fac=function(t){return new(t||e)(pn($S))},e.prov=ji({token:e,factory:e.fac}),t})(),VK=(()=>{let e=class{constructor(){this.rootSummaryID="igxGridRootSummary",this.summaryHeight=0,this.maxSummariesLenght=0,this.groupingExpressions=[],this.retriggerRootPipe=0,this.deleteOperation=!1,this.summaryCacheMap=new Map}recalculateSummaries(){this.resetSummaryHeight(),this.grid.notifyChanges(!0)}clearSummaryCache(e){if(this.summaryCacheMap.size){if(!e)return this.summaryCacheMap.clear(),void(this.grid&&this.grid.rootSummariesEnabled&&this.retriggerRootPipe++);if(e.data){let t=this.grid.primaryKey?e.data[this.grid.primaryKey]:e.data;this.removeSummaries(t)}if(void 0!==e.rowID&&null!==e.rowID){let t=e.cellID?this.grid.columns.find((t=>t.index===e.cellID.columnID)).field:void 0;if(t&&this.grid.rowEditable)return;let i=this.grid.groupingExpressions&&-1!==this.grid.groupingExpressions.map((e=>e.fieldName)).indexOf(t);t&&i&&(t=void 0),this.removeSummaries(e.rowID,t)}}}removeSummaries(e,t){if(this.deleteSummaryCache(this.rootSummaryID,t),1!==this.summaryCacheMap.size||!this.summaryCacheMap.has(this.rootSummaryID))if(this.isTreeGrid){if(this.grid.transactions.enabled&&this.deleteOperation)return this.deleteOperation=!1,void this.summaryCacheMap.clear();this.removeAllTreeGridSummaries(e,t)}else this.isHierarchicalGrid?this.grid.transactions.enabled&&this.deleteOperation&&(this.deleteOperation=!1,this.summaryCacheMap.clear()):this.getSummaryID(e,this.grid.groupingExpressions).forEach((e=>{this.deleteSummaryCache(e,t)}))}removeSummariesCachePerColumn(e){this.summaryCacheMap.forEach((t=>{t.get(e)&&t.delete(e)})),this.grid.rootSummariesEnabled&&this.retriggerRootPipe++}calcMaxSummaryHeight(){if(this.summaryHeight)return this.summaryHeight;if(!this.grid.data)return this.summaryHeight=0;let e=0;return this.grid.columns.filter((e=>e.hasSummary&&!e.hidden)).forEach((t=>{let i=t.summaries.operate([],[],t.field).length;i&&e<i&&(e=i)})),this.maxSummariesLenght=e,this.summaryHeight=e*this.grid.defaultSummaryHeight,this.summaryHeight}calculateSummaries(e,t,i){let n=this.summaryCacheMap.get(e);return n||(n=new Map,this.summaryCacheMap.set(e,n)),!this.hasSummarizedColumns||!t||this.grid.columns.filter((e=>e.hasSummary)).forEach((e=>{if(!n.get(e.field)){let r=e.summaries.operate(t.map((t=>tb(t,e.field))),t,e.field,i,this.grid.locale,e.pipeArgs);n.set(e.field,r)}})),n}resetSummaryHeight(){this.summaryHeight=0,this.grid.summaryPipeTrigger++,this.grid.rootSummariesEnabled&&(this.retriggerRootPipe++,Promise.resolve().then((()=>this.grid.notifyChanges(!0))))}updateSummaryCache(e){if(0!==this.summaryCacheMap.size&&this.hasSummarizedColumns){if(0===this.groupingExpressions.length)return void(this.groupingExpressions=e.expressions.map((e=>e.fieldName)));if(0===e.length)return this.groupingExpressions=[],void this.clearSummaryCache();this.compareGroupingExpressions(this.groupingExpressions,e),this.groupingExpressions=e.expressions.map((e=>e.fieldName))}}get hasSummarizedColumns(){return this.grid.columns.filter((e=>e.hasSummary&&!e.hidden)).length>0}deleteSummaryCache(e,t){if(this.summaryCacheMap.get(e)){let i=t&&this.grid.filteringExpressionsTree&&-1!==this.grid.filteringExpressionsTree.filteringOperands.map((e=>e.fieldName)).indexOf(t);t&&this.summaryCacheMap.get(e).get(t)&&!i?this.summaryCacheMap.get(e).delete(t):this.summaryCacheMap.delete(e),e===this.rootSummaryID&&this.grid.rootSummariesEnabled&&this.retriggerRootPipe++}}getSummaryID(e,t){if(0===t.length)return[];let i=[],n=this.grid.data;this.grid.transactions.enabled&&(n=Ib.mergeTransactions(MS(this.grid.data),this.grid.transactions.getAggregatedChanges(!0),this.grid.primaryKey,this.grid.dataCloneStrategy));let r=this.grid.primaryKey?n.find((t=>t[this.grid.primaryKey]===e)):e,s="{ ";return t.forEach((e=>{s+=`'${e.fieldName}': '${r[e.fieldName]}'`,i.push(s.concat(" }")),s+=", "})),i}removeAllTreeGridSummaries(e,t){let i=this.grid.records.get(e);if(i)for(i=i.children?i:i.parent;i;)e=i.key,this.deleteSummaryCache(e,t),i=i.parent}compareGroupingExpressions(e,t){let i=t.expressions.map((e=>e.fieldName)),n=t.ungroupedColumns;if(e.length<=i.length){let t=i.slice(0,e.length).toString();e.toString()!==t&&this.clearSummaryCache()}else{if(e.slice(0,i.length).toString()!==i.toString())return void this.clearSummaryCache();n.map((e=>e.field)).forEach((e=>{this.summaryCacheMap.forEach(((t,i)=>{-1!==i.indexOf(e)&&this.summaryCacheMap.delete(i)}))}))}}get isTreeGrid(){return/^ig.-tree-grid$/.test(this.grid.nativeElement.tagName.toLowerCase())}get isHierarchicalGrid(){return/^ig.-hierarchical-grid$/.test(this.grid.nativeElement.tagName.toLowerCase())}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac}),t})(),NK=["loadingOverlay"],LK=["igxLoadingOverlayOutlet"],HK=["emptyFilteredGrid"],BK=["defaultEmptyGrid"],GK=["defaultLoadingGrid"],zK=["scrollContainer"],$K=["verticalScrollContainer"],WK=["verticalScrollHolder"],jK=["scr"],KK=["headSelectorBaseTemplate"],UK=["footer"],qK=["tbody"],YK=["pinContainer"],XK=["tfoot"],ZK=["igxRowEditingOverlayOutlet"],QK=["dragIndicatorIconBase"],JK=["rowEditingOverlay"],eU=["igxFilteringOverlayOutlet"],tU=["sink"],iU=["defaultExpandedTemplate"],nU=["defaultCollapsedTemplate"],rU=["defaultESFHeaderIcon"],sU=["defaultRowEditTemplate"],oU=["summaryRow"],aU=["row"],lU=["pinnedRow"],dU=-1,cU=class extends tI{set summaryRowHeight(e){this._summaryRowHeight=0|e,this.summaryService.summaryHeight=e,this._init||this.reflow()}get summaryRowHeight(){return this.hasSummarizedColumns&&this.rootSummariesEnabled?this._summaryRowHeight||this.summaryService.calcMaxSummaryHeight():0}get hasColumnsToAutosize(){return this._columns.some((e=>"fit-content"===e.width))}get dataCloneStrategy(){return this._dataCloneStrategy}set dataCloneStrategy(e){e&&(this._dataCloneStrategy=e,this._transactions.cloneStrategy=e)}get excelStyleFilteringComponent(){return this.excelStyleFilteringComponents?.first}get headerGroups(){return this.theadRow.groups}get actionStrip(){return this.internalActionStrip?this.internalActionStrip:this.actionStripComponents?.first}set actionStrip(e){this.internalActionStrip=e}get dragGhostCustomTemplate(){return this._dragGhostCustomTemplate||this.dragGhostCustomTemplates?.first}set dragGhostCustomTemplate(e){this._dragGhostCustomTemplate=e}get headerContainer(){return this.theadRow?.headerForOf}get headerSelectorContainer(){return this.theadRow?.headerSelectorContainer}get headerDragContainer(){return this.theadRow?.headerDragContainer}get headerGroupContainer(){return this.theadRow?.headerGroupContainer}get filteringRow(){return this.theadRow?.filterRow}get rowEditTextTemplate(){return this._rowEditTextTemplate||this.rowEditTextDirectives?.first}set rowEditTextTemplate(e){this._rowEditTextTemplate=e}get rowAddTextTemplate(){return this._rowAddTextTemplate||this.rowAddText}set rowAddTextTemplate(e){this._rowAddTextTemplate=e}get rowEditActionsTemplate(){return this._rowEditActionsTemplate||this.rowEditActionsDirectives?.first}set rowEditActionsTemplate(e){this._rowEditActionsTemplate=e}get rowExpandedIndicatorTemplate(){return this._rowExpandedIndicatorTemplate||this.rowExpandedIndicatorDirectiveTemplate}set rowExpandedIndicatorTemplate(e){this._rowExpandedIndicatorTemplate=e}get rowCollapsedIndicatorTemplate(){return this._rowCollapsedIndicatorTemplate||this.rowCollapsedIndicatorDirectiveTemplate}set rowCollapsedIndicatorTemplate(e){this._rowCollapsedIndicatorTemplate=e}get headerExpandedIndicatorTemplate(){return this._headerExpandIndicatorTemplate||this.headerExpandedIndicatorDirectiveTemplate}set headerExpandedIndicatorTemplate(e){this._headerExpandIndicatorTemplate=e}get headerCollapsedIndicatorTemplate(){return this._headerCollapseIndicatorTemplate||this.headerCollapsedIndicatorDirectiveTemplate}set headerCollapsedIndicatorTemplate(e){this._headerCollapseIndicatorTemplate=e}get excelStyleHeaderIconTemplate(){return this._excelStyleHeaderIconTemplate||this.excelStyleHeaderIconDirectiveTemplate}set excelStyleHeaderIconTemplate(e){this._excelStyleHeaderIconTemplate=e}get sortAscendingHeaderIconTemplate(){return this._sortAscendingHeaderIconTemplate}set sortAscendingHeaderIconTemplate(e){this._sortAscendingHeaderIconTemplate=e}get sortDescendingHeaderIconTemplate(){return this._sortDescendingHeaderIconTemplate}set sortDescendingHeaderIconTemplate(e){this._sortDescendingHeaderIconTemplate=e}get sortHeaderIconTemplate(){return this._sortHeaderIconTemplate}set sortHeaderIconTemplate(e){this._sortHeaderIconTemplate=e}get hostClass(){return this.getComponentDensityClass("igx-grid")}set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings||(this._resourceStrings=fI.GridResStrings),this._resourceStrings}get filteringLogic(){return this._filteringExpressionsTree.operator}set filteringLogic(e){this._filteringExpressionsTree.operator=e}get filteringExpressionsTree(){return this._filteringExpressionsTree}set filteringExpressionsTree(e){if(e&&e instanceof kb){let t=e;for(let e=0;e<t.filteringOperands.length;e++)if(!(t.filteringOperands[e]instanceof kb)){let i=new kb(Rb.And,t.filteringOperands[e].fieldName);i.filteringOperands.push(t.filteringOperands[e]),t.filteringOperands[e]=i}e.type=Ab.Regular,this._filteringExpressionsTree=e,this.filteringPipeTrigger++,this.filteringExpressionsTreeChange.emit(this._filteringExpressionsTree),this.filteringService.isFilteringExpressionsTreeEmpty(this._filteringExpressionsTree)&&this.filteringService.isFilteringExpressionsTreeEmpty(this._advancedFilteringExpressionsTree)&&(this._filteredData=null),this.filteringService.refreshExpressions(),this.selectionService.clearHeaderCBState(),this.summaryService.clearSummaryCache(),this.notifyChanges()}}get advancedFilteringExpressionsTree(){return this._advancedFilteringExpressionsTree}set advancedFilteringExpressionsTree(e){e&&e instanceof kb?(e.type=Ab.Advanced,this._advancedFilteringExpressionsTree=e,this.filteringPipeTrigger++):this._advancedFilteringExpressionsTree=null,this.advancedFilteringExpressionsTreeChange.emit(this._advancedFilteringExpressionsTree),this.filteringService.isFilteringExpressionsTreeEmpty(this._filteringExpressionsTree)&&this.filteringService.isFilteringExpressionsTreeEmpty(this._advancedFilteringExpressionsTree)&&(this._filteredData=null),this.selectionService.clearHeaderCBState(),this.summaryService.clearSummaryCache(),this.notifyChanges(),requestAnimationFrame((()=>this.filteringDone.emit(this._advancedFilteringExpressionsTree)))}get locale(){return this._locale}set locale(e){e!==this._locale&&(this._locale=e,this._currencyPositionLeft=void 0,this.summaryService.clearSummaryCache(),this.pipeTrigger++,this.notifyChanges(),this.localeChange.next())}get pagingMode(){return this._pagingMode}set pagingMode(e){this._pagingMode=e,this.pipeTrigger++,this.notifyChanges(!0)}get page(){return this.paginator?.page||0}set page(e){this.paginator&&(this.paginator.page=e)}get perPage(){return this.paginator?.perPage||15}set perPage(e){this.paginator&&(this.paginator.perPage=e)}get hideRowSelectors(){return this._hideRowSelectors}set hideRowSelectors(e){this._hideRowSelectors=e,this.notifyChanges(!0)}get rowDraggable(){return this._rowDrag&&this.hasVisibleColumns}set rowDraggable(e){this._rowDrag=e,this.notifyChanges(!0)}get rowEditable(){return this._rowEditable}set rowEditable(e){this._init||this.refreshGridState(),this._rowEditable=e,this.notifyChanges()}get height(){return this._height}set height(e){this._height!==e&&(this._height=e,this.nativeElement.style.height=e,this.notifyChanges(!0))}get hostWidth(){return this._width||this._hostWidth}get width(){return this._width}set width(e){this._width!==e&&(this._width=e,this.nativeElement.style.width=e,this.notifyChanges(!0))}get headerWidth(){return parseInt(this.width,10)-17}get rowHeight(){return this._rowHeight?this._rowHeight:this.defaultRowHeight}set rowHeight(e){"number"!=typeof e&&(e=parseInt(e,10)),this._rowHeight=e}get columnWidth(){return this._columnWidth}set columnWidth(e){this._columnWidth=e,this.columnWidthSetByUser=!0,this.notifyChanges(!0)}set emptyGridMessage(e){this._emptyGridMessage=e}get emptyGridMessage(){return this._emptyGridMessage||this.resourceStrings.igx_grid_emptyGrid_message}set isLoading(e){this._isLoading!==e&&(this._isLoading=e,this.data&&this.evaluateLoadingState()),Promise.resolve().then((()=>{this.notifyChanges()}))}get isLoading(){return this._isLoading}set emptyFilteredGridMessage(e){this._emptyFilteredGridMessage=e}get emptyFilteredGridMessage(){return this._emptyFilteredGridMessage||this.resourceStrings.igx_grid_emptyFilteredGrid_message}get pinning(){return this._pinning}set pinning(e){e!==this._pinning&&this.resetCaches(),this._pinning=e}get allowFiltering(){return this._allowFiltering}set allowFiltering(e){this._allowFiltering!==e&&(this._allowFiltering=e,this.filteringService.registerSVGIcons(),this._init||this.calcGridHeadRow(),this.filteringService.isFilterRowVisible=!1,this.filteringService.filteredColumn=null,this.notifyChanges(!0))}get allowAdvancedFiltering(){return this._allowAdvancedFiltering}set allowAdvancedFiltering(e){this._allowAdvancedFiltering!==e&&(this._allowAdvancedFiltering=e,this.filteringService.registerSVGIcons(),this._init||this.notifyChanges(!0))}get filterMode(){return this._filterMode}set filterMode(e){switch(e){case Nb:case Vb:this._filterMode=e}this.filteringService.isFilterRowVisible&&this.filteringRow.close(),this.notifyChanges(!0)}get summaryPosition(){return this._summaryPosition}set summaryPosition(e){this._summaryPosition=e,this.notifyChanges()}get summaryCalculationMode(){return this._summaryCalculationMode}set summaryCalculationMode(e){this._summaryCalculationMode=e,this._init||(this.crudService.endEdit(!1),this.summaryService.resetSummaryHeight(),this.notifyChanges(!0))}get showSummaryOnCollapse(){return this._showSummaryOnCollapse}set showSummaryOnCollapse(e){this._showSummaryOnCollapse=e,this.notifyChanges()}get filterStrategy(){return this._filterStrategy}set filterStrategy(e){this._filterStrategy=e}get sortStrategy(){return this._sortingStrategy}set sortStrategy(e){this._sortingStrategy=e}set sortingOptions(e){this.clearSort(),this._sortingOptions=Object.assign(this._sortingOptions,e)}get sortingOptions(){return this._sortingOptions}set selectedRows(e){this.selectRows(e||[],!0)}get selectedRows(){return this.selectionService.getSelectedRows()}get headerGroupsList(){return this.theadRow.groups}get headerCellList(){return this.headerGroupsList.map((e=>e.header)).filter((e=>e))}get filterCellList(){return this.headerGroupsList.map((e=>e.filter)).filter((e=>e))}get summariesRowList(){let e=new Wu;if(!this._summaryRowList)return e;let t=this._summaryRowList.filter((e=>null!==e.element.nativeElement.parentElement));return e.reset(t),e}get rowList(){let e=new Wu;if(!this._rowList)return e;let t=this._rowList.filter((e=>null!==e.element.nativeElement.parentElement)).sort(((e,t)=>e.index-t.index));return e.reset(t),e}get dataRowList(){let e=new Wu;if(!this._dataRowList)return e;let t=this._dataRowList.filter((e=>null!==e.element.nativeElement.parentElement)).sort(((e,t)=>e.index-t.index));return e.reset(t),e}get headSelectorTemplate(){return this._headSelectorTemplate||this.headSelectorsTemplates?.first}set headSelectorTemplate(e){this._headSelectorTemplate=e}get isPinningToStart(){return this.pinning.columns!==Yb.End}get isRowPinningToTop(){return this.pinning.rows!==Xb.Bottom}get rowSelectorTemplate(){return this._rowSelectorTemplate||this.rowSelectorsTemplates?.first}set rowSelectorTemplate(e){this._rowSelectorTemplate=e}get rowOutletDirective(){return this.rowEditingOutletDirective}get parentRowOutletDirective(){return this.outlet}get rowEditCustom(){return this.rowEditCustomDirectives&&this.rowEditCustomDirectives.first?this.rowEditCustomDirectives.first:null}get rowEditContainer(){return this.rowEditCustom?this.rowEditCustom:this.defaultRowEditTemplate}get dragIndicatorIconTemplate(){return this._customDragIndicatorIconTemplate||this.dragIndicatorIconTemplates?.first}set dragIndicatorIconTemplate(e){this._customDragIndicatorIconTemplate=e}get firstEditableColumnIndex(){let e=this.visibleColumns.filter((e=>e.editable)).map((e=>e.visibleIndex)).sort(((e,t)=>e-t));return e.length?e[0]:null}get lastEditableColumnIndex(){let e=this.visibleColumns.filter((e=>e.editable)).map((e=>e.visibleIndex)).sort(((e,t)=>e>t?-1:1));return e.length?e[0]:null}get rowEditTabs(){return this.rowEditTabsCUSTOM.length?this.rowEditTabsCUSTOM:this.rowEditTabsDEFAULT}get activeDescendant(){let e=this.navigation.activeNode;return e&&Object.keys(e).length?e.row<0?`${this.id}_${e.row}_${e.mchCache.level}_${e.column}`:`${this.id}_${e.row}_${e.column}`:this.id}get bannerClass(){let e=this.rowEditPositioningStrategy.isTop?"igx-banner__border-top":"igx-banner__border-bottom";return`${this.getComponentDensityClass("igx-banner")} ${e}`}get sortingExpressions(){return this._sortingExpressions}set sortingExpressions(e){this._sortingExpressions=MS(e),this.sortingExpressionsChange.emit(this._sortingExpressions),this.notifyChanges()}get maxLevelHeaderDepth(){return null===this._maxLevelHeaderDepth&&(this._maxLevelHeaderDepth=this.hasColumnLayouts?this._columns.reduce(((e,t)=>Math.max(e,t.rowStart)),0):this._columns.reduce(((e,t)=>Math.max(e,t.level)),0)),this._maxLevelHeaderDepth}get hiddenColumnsCount(){return this._columns.filter((e=>!1===e.columnGroup&&!0===e.hidden)).length}get pinnedColumnsCount(){return this.pinnedColumns.filter((e=>!e.columnLayout)).length}get batchEditing(){return this._batchEditing}set batchEditing(e){e!==this._batchEditing&&(delete this._transactions,this._batchEditing=e,this.switchTransactionService(e),this.subscribeToTransactions())}get transactions(){return this._diTransactions&&!this.batchEditing?this._diTransactions:this._transactions}get currentRowState(){return this._currentRowState}get currencyPositionLeft(){if(void 0!==this._currencyPositionLeft)return this._currencyPositionLeft;let e=Pp(this.locale,bp.Currency).split(","),t=e.indexOf(e.find((e=>e.includes(""))));return this._currencyPositionLeft=t<1}get cellSelection(){return this._cellSelectionMode}set cellSelection(e){this._cellSelectionMode=e,this.selectionService.clear(!0),this.notifyChanges()}get rowSelection(){return this._rowSelectionMode}set rowSelection(e){this._rowSelectionMode=e,this._init||(this.selectionService.clearAllSelectedRows(),this.notifyChanges(!0))}get columnSelection(){return this._columnSelectionMode}set columnSelection(e){this._columnSelectionMode=e,this.selectionService.clearAllSelectedColumns(),this.notifyChanges(!0)}set pagingState(e){this._pagingState=e,this.paginator&&!this._init&&(this.paginator.totalRecords=e.metadata.countRecords)}get pagingState(){return this._pagingState}get paginator(){return this.paginationComponents?.first}get scrollSize(){return this.verticalScrollContainer.getScrollNativeSize()}get minColumnWidth(){return 136}get filteredData(){return this._filteredData}get filteredSortedData(){return this._filteredSortedData}get rowChangesCount(){if(!this.crudService.row)return 0;let e=t=>{let i=0;return Object.keys(t).forEach((n=>BS(t[n])?i+=e(t[n]):i++)),i};if(this.transactions.getState(this.crudService.row.id)?.type===hb.ADD)return this._columns.filter((e=>e.field)).length;let t=this.transactions.getAggregatedValue(this.crudService.row.id,!1);return t?e(t):0}get dataWithAddedInTransactionRows(){let e=MS(this.gridAPI.get_all_data());return this.transactions.enabled&&e.push(...this.transactions.getAggregatedChanges(!0).filter((e=>e.type===hb.ADD)).map((e=>e.newValue))),this.crudService.row&&this.crudService.row.getClassName()===mk.name&&e.splice(this.crudService.row.index,0,this.crudService.row.data),e}get dataLength(){return this.transactions.enabled?this.dataWithAddedInTransactionRows.length:this.gridAPI.get_all_data().length}get template(){return this.isLoading&&(this.hasZeroResultFilter||this.hasNoData)?this.loadingGridTemplate?this.loadingGridTemplate:this.loadingGridDefaultTemplate:this.hasZeroResultFilter?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyFilteredGridTemplate:this.hasNoData?this.emptyGridTemplate?this.emptyGridTemplate:this.emptyGridDefaultTemplate:void 0}get hasZeroResultFilter(){return this.filteredData&&0===this.filteredData.length}get hasNoData(){return!this.data||0===this.dataLength}get shouldOverlayLoading(){return this.isLoading&&!this.hasNoData&&!this.hasZeroResultFilter}get isMultiRowSelectionEnabled(){return this.rowSelection===jb||this.rowSelection===Kb}get isRowSelectable(){return this.rowSelection!==$b}get isCellSelectable(){return this.cellSelection!==$b}get columnInDrag(){return this.gridAPI.cms.column}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,y,v,x,_,w){super(v),this.validation=e,this.selectionService=t,this.colResizingService=i,this.gridAPI=n,this.transactionFactory=r,this.elementRef=s,this.zone=o,this.document=a,this.cdr=l,this.differs=d,this.viewRef=c,this.appRef=h,this.injector=u,this.envInjector=g,this.navigation=p,this.filteringService=m,this.overlayService=f,this.summaryService=y,this._displayDensityOptions=v,this.localeId=x,this.platform=_,this._diTransactions=w,this.snackbarDisplayTime=6e3,this.autoGenerate=!1,this.autoGenerateExclude=[],this.moving=!1,this.clipboardOptions={enabled:!0,copyHeaders:!0,copyFormatters:!0,separator:"\t"},this.filteringExpressionsTreeChange=new zu,this.advancedFilteringExpressionsTreeChange=new zu,this.gridScroll=new zu,this.rowStyles=null,this.cellClick=new zu,this.formGroupCreated=new zu,this.validationStatusChange=new zu,this.selected=new zu,this.rowSelectionChanging=new zu,this.columnSelectionChanging=new zu,this.columnPin=new zu,this.columnPinned=new zu,this.cellEditEnter=new zu,this.cellEditExit=new zu,this.cellEdit=new zu,this.cellEditDone=new zu,this.rowEditEnter=new zu,this.rowEdit=new zu,this.rowEditDone=new zu,this.rowEditExit=new zu,this.columnInit=new zu,this.columnsAutogenerated=new zu,this.sorting=new zu,this.sortingDone=new zu,this.filtering=new zu,this.filteringDone=new zu,this.rowAdded=new zu,this.rowDeleted=new zu,this.rowDelete=new zu,this.rowAdd=new zu,this.columnResized=new zu,this.contextMenu=new zu,this.doubleClick=new zu,this.columnVisibilityChanging=new zu,this.columnVisibilityChanged=new zu,this.columnMovingStart=new zu,this.columnMoving=new zu,this.columnMovingEnd=new zu,this.gridKeydown=new zu,this.rowDragStart=new zu,this.rowDragEnd=new zu,this.gridCopy=new zu,this.expansionStatesChange=new zu,this.rowToggle=new zu,this.rowPinning=new zu,this.rowPinned=new zu,this.activeNodeChange=new zu,this.sortingExpressionsChange=new zu,this.toolbarExporting=new zu,this.rangeSelected=new zu,this.rendered=new zu,this.localeChange=new zu,this.dataChanging=new zu,this.dataChanged=new zu,this.columnList=new Wu,this.tmpOutlets=new Wu,this.rowExpandedIndicatorDirectiveTemplate=null,this.rowCollapsedIndicatorDirectiveTemplate=null,this.headerExpandedIndicatorDirectiveTemplate=null,this.headerCollapsedIndicatorDirectiveTemplate=null,this.excelStyleHeaderIconDirectiveTemplate=null,this.sortAscendingHeaderIconDirectiveTemplate=null,this.sortDescendingHeaderIconDirectiveTemplate=null,this.sortHeaderIconDirectiveTemplate=null,this.tabindex=0,this.hostRole="grid",this.validationTrigger="change",this.rowDragging=!1,this.dragRowID=null,this.snackbarActionText=this.resourceStrings.igx_grid_snackbar_addrow_actiontext,this.calcHeight=0,this.disableTransitions=!1,this.lastSearchInfo={searchText:"",caseSensitive:!1,exactMatch:!1,activeMatchIndex:0,matchInfoCache:[]},this.columnWidthSetByUser=!1,this.rendered$=this.rendered.asObservable().pipe(function(e,t,i){let n;return n=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:i},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:i,scheduler:n}){let r,s,o=0,a=!1,l=!1;return function(d){let c;o++,!r||a?(a=!1,r=new pt(e,t,n),c=r.subscribe(this),s=d.subscribe({next(e){r.next(e)},error(e){a=!0,r.error(e)},complete(){l=!0,s=void 0,r.complete()}}),l&&(s=void 0)):c=r.subscribe(this),this.add((()=>{o--,c.unsubscribe(),c=void 0,s&&!l&&i&&0===o&&(s.unsubscribe(),s=void 0,r=void 0)}))}}(n))}({bufferSize:1,refCount:!0})),this.resizeNotify=new We,this.rowAddedNotifier=new We,this.rowDeletedNotifier=new We,this.pipeTriggerNotifier=new We,this._destroyed=!1,this._totalRecords=-1,this.columnsWithNoSetWidths=null,this.pipeTrigger=0,this.filteringPipeTrigger=0,this.summaryPipeTrigger=0,this.groupablePipeTrigger=0,this.EMPTY_DATA=[],this.isPivot=!1,this.destroy$=new We,this._pagingMode=Zb.Local,this._hideRowSelectors=!1,this._rowDrag=!1,this._columns=[],this._columnConfig=[],this._pinnedColumns=[],this._unpinnedColumns=[],this._filteringExpressionsTree=new kb(Rb.And),this._sortingExpressions=[],this._maxLevelHeaderDepth=null,this._columnHiding=!1,this._columnPinning=!1,this._pinnedRecordIDs=[],this._allowFiltering=!1,this._allowAdvancedFiltering=!1,this._filterMode=Vb,this._defaultTargetRecordNumber=10,this._expansionStates=new Map,this._defaultExpandState=!1,this._headerFeaturesWidth=NaN,this._init=!0,this._cdrRequestRepaint=!1,this._batchEditing=!1,this._sortingOptions={mode:"multiple"},this._filterStrategy=new Pb,this._autoGeneratedCols=[],this._dataView=[],this._rowEditable=!1,this._filteredSortedData=null,this._filteredData=null,this._cdrRequests=!1,this._emptyGridMessage=null,this._emptyFilteredGridMessage=null,this._isLoading=!1,this.overlayIDs=[],this._pinning={columns:Yb.Start},this._advancedFilteringPositionSettings={verticalDirection:SE.Middle,horizontalDirection:CE.Center,horizontalStartPoint:CE.Center,verticalStartPoint:SE.Middle},this._advancedFilteringOverlaySettings={closeOnOutsideClick:!1,modal:!1,positionStrategy:new AE(this._advancedFilteringPositionSettings)},this._height="100%",this._width="100%",this._horizontalForOfs=[],this._multiRowLayoutRowSize=1,this._totalWidth=NaN,this._pinnedVisible=[],this._unpinnedVisible=[],this._pinnedWidth=NaN,this._unpinnedWidth=NaN,this._visibleColumns=[],this._columnGroups=!1,this._summaryPosition=Hb,this._summaryCalculationMode=zb,this._showSummaryOnCollapse=!1,this._summaryRowHeight=0,this._cellSelectionMode=jb,this._rowSelectionMode=$b,this._selectRowOnClick=!0,this._columnSelectionMode=$b,this.rowEditPositioningStrategy=new Pj({horizontalDirection:CE.Right,verticalDirection:SE.Bottom,horizontalStartPoint:CE.Left,verticalStartPoint:SE.Bottom,closeAnimation:null}),this.rowEditSettings={scrollStrategy:new HE,modal:!1,closeOnOutsideClick:!1,outlet:this.rowOutletDirective,positionStrategy:this.rowEditPositioningStrategy},this.transactionChange$=new We,this._rendered=!1,this.DRAG_SCROLL_DELTA=10,this._dataCloneStrategy=new bb,this._autoSize=!1,this._sortHeaderIconTemplate=null,this._sortAscendingHeaderIconTemplate=null,this._sortDescendingHeaderIconTemplate=null,this.preventContainerScroll=e=>{0!==e.target.scrollTop&&(this.verticalScrollContainer.addScrollTop(e.target.scrollTop),e.target.scrollTop=0),0!==e.target.scrollLeft&&(this.headerContainer.scrollPosition+=e.target.scrollLeft,e.target.scrollLeft=0)},this.locale=this.locale||this.localeId,this._transactions=this.transactionFactory.create("None"),this._transactions.cloneStrategy=this.dataCloneStrategy,this.cdr.detach()}hideActionStrip(){this.actionStrip?.hide()}get headerFeaturesWidth(){return this._headerFeaturesWidth}isDetailRecord(e){return!1}isGroupByRecord(e){return!1}isGhostRecord(e){return void 0!==e.ghostRecord}isAddRowRecord(e){return void 0!==e.addRow}getDataViewIndex(e,t){return t&&!this.isRowPinningToTop?e+=this.unpinnedDataView.length:!t&&this.isRowPinningToTop&&(e+=this.pinnedDataView.length),e}get hasDetails(){return!1}get virtualizationState(){return this.verticalScrollContainer.state}hideOverlays(){this.overlayIDs.forEach((e=>{let t=this.overlayService.getOverlayById(e);t?.visible&&!t.closeAnimationPlayer?.hasStarted()&&(this.overlayService.hide(e),this.nativeElement.focus())}))}isRecordPinnedByViewIndex(e){return this.hasPinnedRecords&&this.isRowPinningToTop&&e<this.pinnedDataView.length||!this.isRowPinningToTop&&e>=this.unpinnedDataView.length}isRecordPinnedByIndex(e){return this.hasPinnedRecords&&this.isRowPinningToTop&&e<this._filteredSortedPinnedData.length||!this.isRowPinningToTop&&e>=this._filteredSortedUnpinnedData.length}isRecordPinned(e){return-1!==this.getInitialPinnedIndex(e)}getInitialPinnedIndex(e){let t=this.gridAPI.get_row_id(e);return this._pinnedRecordIDs.indexOf(t)}get hasPinnedRecords(){return this._pinnedRecordIDs.length>0}get pinnedRecordsCount(){return this._pinnedRecordIDs.length}get crudService(){return this.gridAPI.crudService}_setupServices(){this.gridAPI.grid=this,this.crudService.grid=this,this.selectionService.grid=this,this.validation.grid=this,this.navigation.grid=this,this.filteringService.grid=this,this.summaryService.grid=this}_setupListeners(){let e=yi(this.destroy$);Lt(this.nativeElement,"focusout").pipe(Wt((()=>!!this.navigation.activeNode)),e).subscribe((e=>{!this.crudService.cell&&this.navigation.activeNode&&(e.target===this.tbody.nativeElement&&this.navigation.activeNode.row>=0&&this.navigation.activeNode.row<this.dataView.length||e.target===this.theadRow.nativeElement&&-1===this.navigation.activeNode.row||e.target===this.tfoot.nativeElement&&this.navigation.activeNode.row===this.dataView.length)&&!(this.rowEditable&&this.crudService.rowEditingBlocked&&this.crudService.rowInEditMode)&&(this.navigation.lastActiveNode=this.navigation.activeNode,this.navigation.activeNode={},this.notifyChanges())})),this.rowAddedNotifier.pipe(e).subscribe((e=>this.refreshGridState(e))),this.rowDeletedNotifier.pipe(e).subscribe((e=>{this.summaryService.deleteOperation=!0,this.summaryService.clearSummaryCache(e)})),this.subscribeToTransactions(),this.resizeNotify.pipe(Wt((()=>!this._init)),Ti(0,yt,{leading:!0,trailing:!0}),e).subscribe((()=>{this.zone.run((()=>{this.nativeElement?.isConnected&&this.notifyChanges(!0)}))})),this.pipeTriggerNotifier.pipe(yi(this.destroy$)).subscribe((()=>this.pipeTrigger++)),this.columnMovingEnd.pipe(e).subscribe((()=>this.crudService.endEdit(!1))),this.overlayService.opening.pipe(e).subscribe((e=>{if(this._advancedFilteringOverlayId===e.id){let t=e.componentRef.instance;t&&t.initialize(this,this.overlayService,e.id)}})),this.overlayService.opened.pipe(e).subscribe((e=>{let t=this.overlayService.getOverlayById(e.id)?.settings;if(this._advancedFilteringOverlayId!==e.id)this.rowEditingOverlay?.overlayId!==e.id&&t?.outlet===this.outlet&&-1===this.overlayIDs.indexOf(e.id)&&this.overlayIDs.push(e.id);else{let t=e.componentRef.instance;t&&(t.lastActiveNode=this.navigation.activeNode,t.queryBuilder.setAddButtonFocus())}})),this.overlayService.closed.pipe(Wt((()=>!this._init)),e).subscribe((e=>{if(this._advancedFilteringOverlayId===e.id)return this.overlayService.detach(this._advancedFilteringOverlayId),void(this._advancedFilteringOverlayId=null);let t=this.overlayIDs.indexOf(e.id);-1!==t&&this.overlayIDs.splice(t,1)})),this.verticalScrollContainer.dataChanging.pipe(Wt((()=>!this._init)),e).subscribe((e=>{this.isPercentHeight&&(!this.calcHeight||this.calcHeight===this.getDataBasedBodyHeight()||this.calcHeight===this.renderedRowHeight*this._defaultTargetRecordNumber)&&(this.calculateGridHeight(),e.containerSize=this.calcHeight),this.evaluateLoadingState()})),this.verticalScrollContainer.scrollbarVisibilityChanged.pipe(Wt((()=>!this._init)),e).subscribe((()=>{this.notifyChanges(!0),this.cdr.detectChanges()})),this.verticalScrollContainer.contentSizeChange.pipe(Wt((()=>!this._init)),Ti(30),e).subscribe((()=>{this.notifyChanges(!0)})),this.densityChanged.pipe(e).subscribe((()=>{this._autoSize=this.isPercentHeight&&this.calcHeight!==this.getDataBasedBodyHeight(),this.crudService.endEdit(!1),0===this._summaryRowHeight&&(this.summaryService.summaryHeight=0),this.notifyChanges(!0)}))}ngOnInit(){super.ngOnInit(),this._setupServices(),this._setupListeners(),this.rowListDiffer=this.differs.find([]).create(null),this.columnListDiffer=this.differs.find([]).create(((e,t)=>t.field)),this.calcWidth=this.width&&-1===this.width.indexOf("%")?parseInt(this.width,10):0,this.shouldGenerate=this.autoGenerate}resetColumnsCaches(){this._columns.forEach((e=>e.resetCaches()))}generateRowID(){let e=this._columns.find((e=>e.field===this.primaryKey));return"string"===(this.data.length?this.resolveDataTypes(this.data[0][this.primaryKey]):e?e.dataType:"string")?TK():dU--}resetForOfCache(){let e=this.dataRowList.first;e&&(this._cdrRequests&&e.virtDirRow.cdr.detectChanges(),e.virtDirRow.assumeMaster())}setFilteredData(e,t){if(this.hasPinnedRecords&&t){this._filteredPinnedData=e||[];let t=this._filteredUnpinnedData||[],i=[...this._filteredPinnedData,...t];this._filteredData=i.length>0?i:this._filteredUnpinnedData}else this.hasPinnedRecords&&!t?this._filteredUnpinnedData=e:this._filteredData=e}resetColumnCollections(){this.hasColumnLayouts&&this._columns.filter((e=>e.columnLayout)).forEach((e=>e.populateVisibleIndexes())),this._visibleColumns.length=0,this._pinnedVisible.length=0,this._unpinnedVisible.length=0}resetCachedWidths(){this._unpinnedWidth=NaN,this._pinnedWidth=NaN,this._totalWidth=NaN}resetCaches(e=!0){e&&(this._headerFeaturesWidth=NaN),this.resetColumnsCaches(),this.resetColumnCollections(),this.resetForOfCache(),this.resetCachedWidths(),this.hasVisibleColumns=void 0,this._columnGroups=this._columns.some((e=>e.columnGroup))}ngAfterContentInit(){this.sortHeaderIconDirectiveTemplate&&(this.sortHeaderIconTemplate=this.sortHeaderIconDirectiveTemplate),this.sortAscendingHeaderIconDirectiveTemplate&&(this.sortAscendingHeaderIconTemplate=this.sortAscendingHeaderIconDirectiveTemplate),this.sortDescendingHeaderIconDirectiveTemplate&&(this.sortDescendingHeaderIconTemplate=this.sortDescendingHeaderIconDirectiveTemplate),this.setupColumns(),this.toolbar.changes.pipe(Wt((()=>!this._init)),yi(this.destroy$)).subscribe((()=>this.notifyChanges(!0))),this.setUpPaginator(),this.paginationComponents.changes.pipe(yi(this.destroy$)).subscribe((()=>{this.setUpPaginator()})),this.actionStrip&&(this.actionStrip.menuOverlaySettings.outlet=this.outlet)}dataRebinding(e){this.dataChanging.emit(e)}dataRebound(e){this.selectionService.clearHeaderCBState(),this.dataChanged.emit(e)}createFilterDropdown(e,t){if(t.outlet=this.outlet,this.excelStyleFilteringComponent){this.excelStyleFilteringComponent.initialize(e,this.overlayService);let i=this.overlayService.attach(this.excelStyleFilteringComponent.element,t);return this.excelStyleFilteringComponent.overlayComponentId=i,{id:i,ref:void 0}}let i=this.createComponentInstance(gG);i.instance.initialize(e,this.overlayService);let n=this.overlayService.attach(i.instance.element,t);return i.instance.overlayComponentId=n,{ref:i,id:n}}createComponentInstance(e){let t=yp(e,{environmentInjector:this.envInjector,elementInjector:this.injector});return this.appRef.attachView(t.hostView),t}setUpPaginator(){this.paginator?(this._rendered&&(this.pipeTrigger++,this.cdr.markForCheck()),this.paginator.pageChange.pipe(_i((()=>!!this.paginator)),Wt((()=>!this._init))).subscribe((()=>{this.selectionService.clear(!0),this.crudService.endEdit(!1),this.pipeTrigger++,this.navigateTo(0),this.notifyChanges()})),this.paginator.perPageChange.pipe(_i((()=>!!this.paginator)),Wt((()=>!this._init))).subscribe((()=>{this.selectionService.clear(!0),this.page=0,this.crudService.endEdit(!1),this.notifyChanges()}))):this.markForCheck()}setFilteredSortedData(e,t){e=e||[],this.pinnedRecordsCount>0?t?(this._filteredSortedPinnedData=e,this.pinnedRecords=e,this._filteredSortedData=this.isRowPinningToTop?[...this._filteredSortedPinnedData,...this._filteredSortedUnpinnedData]:[...this._filteredSortedUnpinnedData,...this._filteredSortedPinnedData],this.refreshSearch(!0,!1)):this._filteredSortedUnpinnedData=e:(this._filteredSortedData=e,this.refreshSearch(!0,!1)),this.buildDataView(e)}resetHorizontalVirtualization(){let e=e=>this.isDefined(e.nativeElement.parentElement);this._horizontalForOfs=[...this._dataRowList.filter(e).map((e=>e.virtDirRow)),...this._summaryRowList.filter(e).map((e=>e.virtDirRow))]}_setupRowObservers(){let e=e=>this.isDefined(e.nativeElement.parentElement),t=function(...e){return Ne(e)}(St((t=>t.filter(e).map((e=>e.virtDirRow))))),i=t(this._dataRowList.changes),n=t(this._summaryRowList.changes);i.pipe(yi(this.destroy$)).subscribe((()=>{this.resetHorizontalVirtualization()})),n.pipe(yi(this.destroy$)).subscribe((()=>{this.resetHorizontalVirtualization()})),this.resetHorizontalVirtualization()}_zoneBegoneListeners(){this.zone.runOutsideAngular((()=>{this.verticalScrollContainer.getScroll().addEventListener("scroll",this.verticalScrollHandler.bind(this)),this.headerContainer?.getScroll().addEventListener("scroll",this.horizontalScrollHandler.bind(this)),this.hasColumnsToAutosize&&this.headerContainer?.dataChanged.pipe(yi(this.destroy$)).subscribe((()=>{this.cdr.detectChanges(),this.zone.onStable.pipe(ci()).subscribe((()=>{this.autoSizeColumnsInView()}))})),Lt(window,"resize").pipe(yi(this.destroy$)).subscribe((()=>this.resizeNotify.next())),JS(this.nativeElement).pipe(yi(this.destroy$)).subscribe((()=>this.resizeNotify.next()))}))}ngAfterViewInit(){this.initPinning(),this.calculateGridSizes(),this._init=!1,this.cdr.reattach(),this._setupRowObservers(),this._zoneBegoneListeners(),this.verticalScrollContainer.displayContainer.addEventListener("scroll",this.preventContainerScroll.bind(this)),this._pinnedRowList.changes.pipe(yi(this.destroy$)).subscribe((e=>{this.onPinnedRowsChanged(e)})),this.addRowSnackbar?.clicked.subscribe((()=>{let e=this.filteredSortedData[this.lastAddedRowIndex];this.scrollTo(e,0),this.addRowSnackbar.close()})),this.rendered$.pipe(yi(this.destroy$)).subscribe((()=>{this.paginator&&(this.paginator.totalRecords=this.totalRecords?this.totalRecords:this.paginator.totalRecords,this.paginator.overlaySettings={outlet:this.outlet}),this.hasColumnsToAutosize&&this.autoSizeColumnsInView(),this._rendered=!0})),Promise.resolve().then((()=>this.rendered.next(!0)))}notifyChanges(e=!1){this._cdrRequests=!0,this._cdrRequestRepaint=e,this.cdr.markForCheck()}ngDoCheck(){if(super.ngDoCheck(),!this._init){if(this._cdrRequestRepaint)return this.resetNotifyChanges(),this.calculateGridSizes(),void this.refreshSearch(!0);this._cdrRequests&&(this.resetNotifyChanges(),this.cdr.detectChanges())}}getDragGhostCustomTemplate(){return this.dragGhostCustomTemplate}ngOnDestroy(){this.tmpOutlets.forEach((e=>{e.cleanCache()})),this.destroy$.next(!0),this.destroy$.complete(),this.transactionChange$.next(),this.transactionChange$.complete(),this._destroyed=!0,this._advancedFilteringOverlayId&&(this.overlayService.detach(this._advancedFilteringOverlayId),delete this._advancedFilteringOverlayId),this.overlayIDs.forEach((e=>{let t=this.overlayService.getOverlayById(e);t&&!t.detached&&this.overlayService.detach(e)})),this.zone.runOutsideAngular((()=>{this.verticalScrollContainer?.getScroll()?.removeEventListener("scroll",this.verticalScrollHandler),this.headerContainer?.getScroll()?.removeEventListener("scroll",this.horizontalScrollHandler),this.verticalScrollContainer?.displayContainer?.removeEventListener("scroll",this.preventContainerScroll)}))}toggleColumnVisibility(e){let t=e.column?this._columns.find((t=>t===e.column)):void 0;t&&t.toggleVisibility(e.newValue)}get expansionStates(){return this._expansionStates}set expansionStates(e){this._expansionStates=new Map(e),this.expansionStatesChange.emit(this._expansionStates),this.notifyChanges(!0),this.gridAPI.grid&&this.cdr.detectChanges()}expandAll(){this._defaultExpandState=!0,this.expansionStates=new Map}collapseAll(){this._defaultExpandState=!1,this.expansionStates=new Map}expandRow(e){this.gridAPI.set_row_expansion_state(e,!0)}collapseRow(e){this.gridAPI.set_row_expansion_state(e,!1)}toggleRow(e){let t=this.gridAPI.get_rec_by_id(e),i=this.gridAPI.get_row_expansion_state(t);this.gridAPI.set_row_expansion_state(e,!i)}getDefaultExpandState(e){return this._defaultExpandState}get nativeElement(){return this.elementRef.nativeElement}get outlet(){return this.resolveOutlet()}set outlet(e){this._userOutletDirective=e}get defaultRowHeight(){switch(this.displayDensity){case QE:return 40;case JE:return 32;default:return 50}}get defaultSummaryHeight(){switch(this.displayDensity){case QE:return 30;case JE:return 24;default:return 36}}get defaultHeaderGroupMinWidth(){switch(this.displayDensity){case QE:return 32;case JE:return 24;default:return 48}}get pinnedWidth(){return isNaN(this._pinnedWidth)?(this._pinnedWidth=this.getPinnedWidth(),this._pinnedWidth):this._pinnedWidth}get unpinnedWidth(){return isNaN(this._unpinnedWidth)?(this._unpinnedWidth=this.getUnpinnedWidth(),this._unpinnedWidth):this._unpinnedWidth}get isHorizontalScrollHidden(){let e=this.unpinnedWidth-this.totalWidth;return null===this.width||e>=0}getHeaderCellWidth(e){let t=this.document.createRange(),i=this.platform.getNodeSizeViaRange(t,e,e.parentElement),n=this.document.defaultView.getComputedStyle(e),r=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderRightWidth),s=this.document.defaultView.getComputedStyle(e.parentElement),o=parseFloat(s.borderRightWidth)+parseFloat(s.borderLeftWidth);return{width:Math.ceil(i),padding:Math.ceil(r+o)}}featureColumnsWidth(e){if(Number.isNaN(this._headerFeaturesWidth)){let t=this.headerSelectorContainer?.nativeElement?.getBoundingClientRect?this.headerSelectorContainer.nativeElement.getBoundingClientRect().width:0,i=this.rowDraggable&&this.headerDragContainer?.nativeElement?.getBoundingClientRect?this.headerDragContainer.nativeElement.getBoundingClientRect().width:0,n=this.headerGroupContainer?.nativeElement?.getBoundingClientRect?this.headerGroupContainer.nativeElement.getBoundingClientRect().width:0,r=e?.nativeElement?.getBoundingClientRect?e.nativeElement.getBoundingClientRect().width:0;this._headerFeaturesWidth=t+i+n+r}return this._headerFeaturesWidth}get summariesMargin(){return this.featureColumnsWidth()}get columns(){return this._columns||[]}set columns(e){this._columnConfig=e,this._rendered&&(this.configToColumns(e),this.onColumnsChanged(this.columnList))}get pinnedColumns(){return this._pinnedVisible.length||(this._pinnedVisible=this._pinnedColumns.filter((e=>!e.hidden))),this._pinnedVisible}get pinnedRows(){return this._pinnedRowList.toArray().sort(((e,t)=>e.index-t.index))}get unpinnedColumns(){return this._unpinnedVisible.length||(this._unpinnedVisible=this._unpinnedColumns.filter((e=>!e.hidden))),this._unpinnedVisible}getHeaderGroupWidth(e){return this.hasColumnLayouts?"":`${Math.max(parseFloat(e.calcWidth),this.defaultHeaderGroupMinWidth)}px`}getColumnByName(e){return this._columns.find((t=>t.field===e))}getColumnByVisibleIndex(e){return this.visibleColumns.find((t=>!t.columnGroup&&!t.columnLayout&&t.visibleIndex===e))}recalculateAutoSizes(){this._columns.forEach((e=>e.autoSize=void 0)),this.resetCaches(),this.zone.onStable.pipe(ci()).subscribe((()=>{this.cdr.detectChanges(),this.autoSizeColumnsInView()}))}get visibleColumns(){return this._visibleColumns.length||(this._visibleColumns=this._columns.filter((e=>!e.hidden))),this._visibleColumns}get totalRecords(){return this._totalRecords>=0?this._totalRecords:this.pagingState?.metadata.countRecords}set totalRecords(e){e>=0&&(this.paginator&&(this.paginator.totalRecords=e),this._totalRecords=e,this.pipeTrigger++,this.notifyChanges())}get totalWidth(){if(!isNaN(this._totalWidth))return this._totalWidth;let e=this.visibleColumns.filter((e=>0===e.level&&!e.pinned)),t=0,i=0;for(;i<e.length;i++)t+=parseInt(e[i].calcWidth,10)||0;return this._totalWidth=t,t}get showRowSelectors(){return this.isRowSelectable&&this.hasVisibleColumns&&!this.hideRowSelectors}get showAddButton(){return this.rowEditable&&0===this.dataView.length&&this._columns.length>0}get showDragIcons(){return this.rowDraggable&&this._columns.length>this.hiddenColumnsCount}_getDataViewIndex(e){let t=e;return(e<0||e>=this.dataView.length)&&1===this.pagingMode&&0!==this.page?t=e-this.perPage*this.page:this.gridAPI.grid.verticalScrollContainer.isRemote&&(t=e-this.gridAPI.grid.virtualizationState.startIndex),t}getDataIndex(e){let t=e;return this.gridAPI.grid.verticalScrollContainer.isRemote&&(t=e+this.gridAPI.grid.virtualizationState.startIndex),t}moveColumn(e,t,i=mM.AfterDropTarget){let n={source:e,target:t,cancel:!1};if(this.columnMovingEnd.emit(n),!n.cancel&&e!==t&&e.level===t.level&&e.topLevelParent===t.topLevelParent){if(e.level&&this._moveChildColumns(e.parent,e,t,i),t.pinned&&!e.pinned){let n=this._pinnedColumns.indexOf(t),r=i===mM.AfterDropTarget?n+1:n;e.pin(r)}if(!t.pinned&&e.pinned){let n=this._unpinnedColumns.indexOf(t),r=i===mM.AfterDropTarget?n+1:n;e.unpin(r)}this._moveColumns(e,t,i),this._columnsReordered(e)}}markForCheck(){this.pipeTrigger++,this.cdr.detectChanges()}addRow(e){this.crudService.endEdit(!0),this.gridAPI.addRowToData(e),this.pipeTrigger++,this.rowAddedNotifier.next({data:e,owner:this,primaryKey:e[this.primaryKey]}),this.notifyChanges()}deleteRow(e){if(void 0!==this.primaryKey&&null!==this.primaryKey)return this.deleteRowById(e)}deleteRowById(e){let t={rowID:e,primaryKey:e,cancel:!1,rowData:this.getRowData(e),oldValue:null,owner:this};if(this.rowDelete.emit(t),t.cancel)return;let i=this.gridAPI.deleteRowById(e);if(null!=i){let e={data:i,owner:this,primaryKey:i[this.primaryKey]};this.rowDeleted.emit(e)}return i}updateCell(e,t,i){if(this.isDefined(this.primaryKey)){let n=this._columns.find((e=>e.field===i));if(n){let i=this.gridAPI.getRowData(t),r=this.gridAPI.get_row_index_in_data(t);if(r<0)return;let s={rowID:t,columnID:n.index,rowIndex:r},o=new fk(s,r,n,i[n.field],e,i,this);this.validation.getFormControl(o.id.rowID,o.column.field).setValue(e),this.gridAPI.update_cell(o),this.cdr.detectChanges()}}}updateRow(e,t){if(this.isDefined(this.primaryKey)){let i=this.crudService.cell;i&&i.id.rowID===t&&this.crudService.endCellEdit();let n=new pk(t,-1,this.gridAPI.getRowData(t),this);this.gridAPI.update_row(n,e),this.notifyChanges()}}getRowData(e){if(!this.primaryKey)return e;let t=this.gridAPI.get_all_data(this.transactions.enabled),i=this.gridAPI.get_row_index_in_data(e);return i<0?{}:t[i]}sort(e){let t=MS(this.sortingExpressions);if(e instanceof Array)for(let i of e)this.gridAPI.prepare_sorting_expression([t],i);else"single"===this._sortingOptions.mode&&this._columns.forEach((t=>{t.field!==e.fieldName&&this.clearSort(t.field)})),this.gridAPI.prepare_sorting_expression([t],e);let i={owner:this,sortingExpressions:t,cancel:!1};this.sorting.emit(i),!i.cancel&&(this.crudService.endEdit(!1),e instanceof Array?this.gridAPI.sort_multiple(e):this.gridAPI.sort(e),requestAnimationFrame((()=>this.sortingDone.emit(e))))}filter(e,t,i,n){this.filteringService.filter(e,t,i,n)}filterGlobal(e,t,i){this.filteringService.filterGlobal(e,t,i)}enableSummaries(...e){1===e.length&&Array.isArray(e[0])?this._multipleSummaries(e[0],!0):this._summaries(e[0],!0,e[1])}disableSummaries(...e){1===e.length&&Array.isArray(e[0])?this._disableMultipleSummaries(e[0]):this._summaries(e[0],!1)}clearFilter(e){this.filteringService.clearFilter(e)}clearSort(e){e?this.gridAPI.get_column_by_name(e)&&this.gridAPI.clear_sort(e):this.sortingExpressions=[]}refreshGridState(e){this.crudService.endEdit(!0),this.selectionService.clearHeaderCBState(),this.summaryService.clearSummaryCache(),this.summaryPipeTrigger++,this.cdr.detectChanges()}pinColumn(e,t){return(e instanceof xM?e:this.getColumnByName(e)).pin(t)}unpinColumn(e,t){return(e instanceof xM?e:this.getColumnByName(e)).unpin(t)}pinRow(e,t,i){if(-1!==this._pinnedRecordIDs.indexOf(e))return!1;let n=this.gridAPI.get_pin_row_event_args(e,t,i,!0);if(this.rowPinning.emit(n),n.cancel)return;this.crudService.endEdit(!1);let r="number"==typeof n.insertAtIndex?n.insertAtIndex:this._pinnedRecordIDs.length;return this._pinnedRecordIDs.splice(r,0,e),this.pipeTrigger++,this.gridAPI.grid&&(this.cdr.detectChanges(),this.rowPinned.emit(n)),!0}unpinRow(e,t){let i=this._pinnedRecordIDs.indexOf(e);if(-1===i)return!1;let n=this.gridAPI.get_pin_row_event_args(e,null,t,!1);return this.rowPinning.emit(n),n.cancel?void 0:(this.crudService.endEdit(!1),this._pinnedRecordIDs.splice(i,1),this.pipeTrigger++,this.gridAPI.grid&&(this.cdr.detectChanges(),this.rowPinned.emit(n)),!0)}get pinnedRowHeight(){let e=this.pinContainer?this.pinContainer.nativeElement.offsetHeight:0;return this.hasPinnedRecords?e:0}get totalHeight(){return this.calcHeight?this.calcHeight+this.pinnedRowHeight:this.calcHeight}reflow(){this.calculateGridSizes()}findNext(e,t,i){return this.find(e,1,t,i)}findPrev(e,t,i){return this.find(e,-1,t,i)}refreshSearch(e,t=!0){if(this.lastSearchInfo.searchText){if(this.rebuildMatchCache(),e){let e=uA.highlightGroupsMap.get(this.id);this.lastSearchInfo.matchInfoCache.forEach(((t,i)=>{t.column===e.column&&t.row===e.row&&t.index===e.index&&eb(t.metadata,e.metadata)&&(this.lastSearchInfo.activeMatchIndex=i)}))}return this.find(this.lastSearchInfo.searchText,0,this.lastSearchInfo.caseSensitive,this.lastSearchInfo.exactMatch,!1,t)}return 0}clearSearch(){this.lastSearchInfo={searchText:"",caseSensitive:!1,exactMatch:!1,activeMatchIndex:0,matchInfoCache:[]},this.rowList.forEach((e=>{e.cells&&e.cells.forEach((e=>{e.clearHighlight()}))}))}get hasEditableColumns(){return this._columns.some((e=>e.editable))}get hasSummarizedColumns(){return this._columns.filter((e=>e.hasSummary&&!e.hidden)).length>0}get rootSummariesEnabled(){return this.summaryCalculationMode!==Gb}get hasVisibleColumns(){return void 0===this._hasVisibleColumns?!!this._columns&&this._columns.some((e=>!e.hidden)):this._hasVisibleColumns}set hasVisibleColumns(e){this._hasVisibleColumns=e}get hasMovableColumns(){return this.moving}get hasColumnGroups(){return this._columnGroups}get hasColumnLayouts(){return!!this._columns.some((e=>e.columnLayout))}get multiRowLayoutRowSize(){return this._multiRowLayoutRowSize}get rowBasedHeight(){return this.dataLength*this.rowHeight}get isPercentWidth(){return this.width&&-1!==this.width.indexOf("%")}get isPercentHeight(){return this._height&&-1!==this._height.indexOf("%")}get defaultTargetBodyHeight(){let e=this.dataLength;return this.renderedRowHeight*Math.min(this._defaultTargetRecordNumber,this.paginator?Math.min(e,this.paginator.perPage):e)}get renderedRowHeight(){return this.rowHeight+1}get outerWidth(){return this.hasVerticalScroll()?this.calcWidth+this.scrollSize:this.calcWidth}getVisibleContentHeight(){let e=this.theadRow.nativeElement.clientHeight+this.tbody.nativeElement.clientHeight;return this.hasSummarizedColumns&&(e+=this.tfoot.nativeElement.clientHeight),e}getPossibleColumnWidth(e=null){let t;t=null!==e?e:this.calcWidth||parseInt(this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue("width"),10),t-=this.featureColumnsWidth();let i=this.visibleColumns.filter((e=>!e.columnGroup)),n=[],r=this.visibleColumns.filter((e=>e.columnGroup)).map((e=>e.getInitialChildColumnSizes(e.children))),s=r.reduce(((e,t)=>e+t.length),0);r.forEach((e=>n=n.concat(e)));let o=this.hasColumnLayouts?n.filter((e=>e.widthSetByUser)):i.filter((e=>e.widthSetByUser&&"fit-content"!==e.width)),a=this.hasColumnLayouts?s-o.length:i.length-o.length,l=o.reduce(((e,i)=>{let n=i.width,r=parseInt(n,10);return isNaN(r)&&(r=136),e+(n&&"string"==typeof n&&-1!==n.indexOf("%")?r/100*t:r)}),0);return l||a?Math.floor(Number.isFinite(l)?Math.max((t-l)/a,this.minColumnWidth):Math.max(t/a,this.minColumnWidth))+"px":"0px"}hasVerticalScroll(){if(this._init)return!1;let e=!!this.verticalScrollContainer&&this.verticalScrollContainer.isScrollable();return!!(this.calcWidth&&this.dataView&&this.dataView.length>0&&e)}getPinnedWidth(e=!1){let t=e?this._pinnedColumns:this.pinnedColumns,i=0;for(let e of t)0===e.level&&(i+=parseInt(e.calcWidth,10));return this.isPinningToStart&&(i+=this.featureColumnsWidth()),i}isColumnGrouped(e){return!1}onHeaderSelectorClick(e){this.isMultiRowSelectionEnabled&&(this.selectionService.areAllRowSelected()?this.selectionService.clearRowSelection(e):this.selectionService.selectAllRows(e))}get headSelectorBaseAriaLabel(){return this._filteringExpressionsTree.filteringOperands.length>0?this.selectionService.areAllRowSelected()?"Deselect all filtered":"Select all filtered":this.selectionService.areAllRowSelected()?"Deselect all":"Select all"}get totalRowsCountAfterFilter(){return this.data?this.selectionService.allData.length:0}get pinnedDataView(){return this.pinnedRecords?this.pinnedRecords:[]}get unpinnedDataView(){return this.unpinnedRecords?this.unpinnedRecords:this.verticalScrollContainer?.igxForOf||[]}get dataView(){return this._dataView}get selectRowOnClick(){return this._selectRowOnClick}set selectRowOnClick(e){this._selectRowOnClick=e}selectRows(e,t){this.selectionService.selectRowsWithNoEvent(e,t),this.notifyChanges()}deselectRows(e){this.selectionService.deselectRowsWithNoEvent(e),this.notifyChanges()}selectAllRows(e=!0){let t=e&&this.filteredData?this.filteredData:this.gridAPI.get_all_data(!0),i=this.selectionService.getRowIDs(t).filter((e=>!this.gridAPI.row_deleted_transaction(e)));this.selectRows(i)}deselectAllRows(e=!0){e&&this.filteredData&&this.filteredData.length>0?this.deselectRows(this.selectionService.getRowIDs(this.filteredData)):(this.selectionService.clearAllSelectedRows(),this.notifyChanges())}clearCellSelection(){this.selectionService.clear(!0),this.notifyChanges()}dragScroll(e){let t=this.headerContainer.getScroll(),i=this.verticalScrollContainer.getScroll(),{left:n,top:r}=e;t.scrollLeft+=n*this.DRAG_SCROLL_DELTA,i.scrollTop+=r*this.DRAG_SCROLL_DELTA}isDefined(e){return null!=e}selectRange(e){this.isDefined(e)?(e instanceof Array?e.forEach((e=>this.setSelection(e))):this.setSelection(e),this.notifyChanges()):this.clearCellSelection()}columnToVisibleIndex(e){let t=this.visibleColumns;return"number"==typeof e?e:t.find((t=>t.field===e)).visibleIndex}setSelection(e){let t={row:e.rowStart,column:this.columnToVisibleIndex(e.columnStart)},i={row:e.rowEnd,column:this.columnToVisibleIndex(e.columnEnd)};this.selectionService.pointerState.node=t,this.selectionService.selectRange(i,this.selectionService.pointerState),this.selectionService.addRangeMeta(i,this.selectionService.pointerState),this.selectionService.initPointerState()}getSelectedRanges(){return this.selectionService.ranges}getSelectedData(e=!1,t=!1){let i=this.filteredSortedData;return this.extractDataFromSelection(i,e,t)}selectedColumns(){return this.selectionService.getSelectedColumns().map((e=>this.getColumnByName(e))).filter((e=>e))}selectColumns(e,t){let i=[];0===e.length||"string"==typeof e[0]?i=e:e.forEach((e=>{if(e.columnGroup){let t=e.allChildren.filter((e=>!e.columnGroup)).map((e=>e.field));i=[...i,...t]}else i.push(e.field)})),this.selectionService.selectColumnsWithNoEvent(i,t),this.notifyChanges()}deselectColumns(e){let t=[];0===e.length||"string"==typeof e[0]?t=e:e.forEach((e=>{if(e.columnGroup){let i=e.allChildren.filter((e=>!e.columnGroup)).map((e=>e.field));t=[...t,...i]}else t.push(e.field)})),this.selectionService.deselectColumnsWithNoEvent(t),this.notifyChanges()}deselectAllColumns(){this.selectionService.clearAllSelectedColumns(),this.notifyChanges()}selectAllColumns(){this.selectColumns(this._columns.filter((e=>!e.columnGroup)))}getSelectedColumnsData(e=!1,t=!1){let i=this.filteredSortedData?this.filteredSortedData:this.data;return this.extractDataFromColumnsSelection(i,e,t)}combineSelectedCellAndColumnData(e,t=!1,i=!1){let n=this.filteredSortedData;return this.extractDataFromSelection(n,t,i,e)}copyHandler(e){let t=e.composedPath().map((e=>e.tagName?.toLowerCase()));if(t.includes("igx-grid-filtering-row")||t.includes("igx-grid-filtering-cell"))return;let i,n=this.gridAPI.grid.selectedColumns(),r=this.getSelectedColumnsData(this.clipboardOptions.copyFormatters,this.clipboardOptions.copyHeaders);"copy"===e.type&&(i=this.getSelectedData(this.clipboardOptions.copyFormatters,this.clipboardOptions.copyHeaders));let s,o=[];if("KeyC"===e.code&&(e.ctrlKey||e.metaKey)&&"igx-grid-thead__wrapper"===e.currentTarget.className)i.length?0===r.length?s=this.prepareCopyData(e,i):(o=this.combineSelectedCellAndColumnData(r,this.clipboardOptions.copyFormatters,this.clipboardOptions.copyHeaders),s=this.prepareCopyData(e,o[0],o[1])):(o=r,s=this.prepareCopyData(e,o)),navigator.clipboard.writeText(s).then().catch((e=>console.error(e)));else{if(!this.clipboardOptions.enabled||this.crudService.cellInEditMode||"keydown"===e.type)return;n.length?(o=this.combineSelectedCellAndColumnData(r,this.clipboardOptions.copyFormatters,this.clipboardOptions.copyHeaders),s=this.prepareCopyData(e,o[0],o[1])):(o=i,s=this.prepareCopyData(e,o)),e.clipboardData.setData("text/plain",s)}}prepareCopyData(e,t,i){let n={data:t,cancel:!1};if(this.gridCopy.emit(n),n.cancel)return;let r=new dD(n.data,this.clipboardOptions.separator),s=i?r.prepareData(i):r.prepareData();return this.clipboardOptions.copyHeaders||(s=s.substring(s.indexOf("\n")+1)),t&&t.length>0&&1===Object.values(t[0]).length&&(s=s.slice(0,-2)),e.preventDefault(),e.stopPropagation(),s}showSnackbarFor(e){this.addRowSnackbar.actionText=-1===e?"":this.snackbarActionText,this.lastAddedRowIndex=e,this.addRowSnackbar.open()}navigateTo(e,t=-1,i=null){let n=this.totalItemCount??this.dataView.length-1;if(e<0||e>n||-1!==t&&-1===this._columns.map((e=>e.visibleIndex)).indexOf(t))return;this.dataView.slice(e,e+1).find((e=>e.expression||e.childGridsData))&&(t=-1);let r=this.navigation.shouldPerformVerticalScroll(e,t),s=this.navigation.shouldPerformHorizontalScroll(t,e);r?this.navigation.performVerticalScrollToCell(e,t,(()=>{s?this.navigation.performHorizontalScrollToCell(t,(()=>this.executeCallback(e,t,i))):this.executeCallback(e,t,i)})):s?this.navigation.performHorizontalScrollToCell(t,(()=>{r?this.navigation.performVerticalScrollToCell(e,t,(()=>this.executeCallback(e,t,i))):this.executeCallback(e,t,i)})):this.executeCallback(e,t,i)}getNextCell(e,t,i=null){let n=this._columns.filter((e=>!e.columnGroup&&e.visibleIndex>=0)),r=this._getDataViewIndex(e);if(!this.isValidPosition(r,t))return{rowIndex:e,visibleColumnIndex:t};let s=i?n.filter((e=>i(e))).map((e=>e.visibleIndex)).sort(((e,t)=>e-t)):n.map((e=>e.visibleIndex)).sort(((e,t)=>e-t)),o=s.find((e=>e>t));if(this.dataView.slice(r,r+1).find((e=>!(e.expression||e.summaries||e.childGridsData||e.detailsData)))&&void 0!==o)return{rowIndex:e,visibleColumnIndex:o};{let i=this.getNextDataRowIndex(e);return 0===s.length||i===e?{rowIndex:e,visibleColumnIndex:t}:{rowIndex:i,visibleColumnIndex:s[0]}}}getPreviousCell(e,t,i=null){let n=this._columns.filter((e=>!e.columnGroup&&e.visibleIndex>=0)),r=this._getDataViewIndex(e);if(!this.isValidPosition(r,t))return{rowIndex:e,visibleColumnIndex:t};let s=i?n.filter((e=>i(e))).map((e=>e.visibleIndex)).sort(((e,t)=>t-e)):n.map((e=>e.visibleIndex)).sort(((e,t)=>t-e)),o=s.find((e=>e<t));if(this.dataView.slice(r,r+1).find((e=>!(e.expression||e.summaries||e.childGridsData||e.detailsData)))&&void 0!==o)return{rowIndex:e,visibleColumnIndex:o};{let i=this.getNextDataRowIndex(e,!0);return 0===s.length||i===e?{rowIndex:e,visibleColumnIndex:t}:{rowIndex:i,visibleColumnIndex:s[0]}}}endRowEditTabStop(e=!0,t){if(this.crudService.endEdit(e,t))return!0;let i=this.gridAPI.grid.navigation.activeNode;i&&-1!==i.row&&this.tbody.nativeElement.focus()}trackColumnChanges(e,t){return t.field+t._calcWidth}isExpandedGroup(e){}openRowOverlay(e){this.configureRowEditingOverlay(e,this.rowList.length<=2),this.rowEditingOverlay.open(this.rowEditSettings),this.rowEditingOverlay.element.addEventListener("wheel",this.rowEditingWheelHandler.bind(this))}closeRowEditingOverlay(){this.rowEditingOverlay.element.removeEventListener("wheel",this.rowEditingWheelHandler),this.rowEditPositioningStrategy.isTopInitialPosition=null,this.rowEditingOverlay.close(),this.rowEditingOverlay.element.parentElement.style.display=""}toggleRowEditingOverlay(e){this.rowEditingOverlay.element.style.display=e?"block":"none"}repositionRowEditingOverlay(e){if(e&&!this.rowEditingOverlay.collapsed){let t=this.rowEditingOverlay.element.parentElement.style;e?(t.display="",this.configureRowEditingOverlay(e.key),this.rowEditingOverlay.reposition()):t.display="none"}}cachedViewLoaded(e){if(this.hasHorizontalScroll()){let t=e.context.templateID.type,i=e.context.index;e.view.detectChanges(),this.zone.onStable.pipe(ci()).subscribe((()=>{let e="dataRow"===t?this.gridAPI.get_row_by_index(i):null,n="summaryRow"===t?this.summariesRowList.find((e=>e.dataRowIndex===i)):null;e&&e instanceof Gk?this._restoreVirtState(e):n&&this._restoreVirtState(n)}))}}openAdvancedFilteringDialog(e){let t=e||this._advancedFilteringOverlaySettings;this._advancedFilteringOverlayId||(this._advancedFilteringOverlaySettings.target=this.rootGrid?this.rootGrid.nativeElement:this.nativeElement,this._advancedFilteringOverlaySettings.outlet=this.outlet,this._advancedFilteringOverlayId=this.overlayService.attach(fN,this.viewRef,t),this.overlayService.show(this._advancedFilteringOverlayId))}closeAdvancedFilteringDialog(e){if(this._advancedFilteringOverlayId){let t=this.overlayService.getOverlayById(this._advancedFilteringOverlayId).componentRef.instance;e&&t.applyChanges(),t.closeDialog()}}getEmptyRecordObjectFor(e){let t=y({},e?.data);Object.keys(t).forEach((e=>t[e]=void 0));let i=this.generateRowID();return t[this.primaryKey]=i,{rowID:i,data:t,recordRef:t}}hasHorizontalScroll(){return this.totalWidth-this.unpinnedWidth>0}isSummaryRow(e){return e&&e.summaries&&e.summaries instanceof Map}triggerPipes(){this.pipeTrigger++,this.cdr.detectChanges()}rowEditingWheelHandler(e){e.deltaY>0?this.verticalScrollContainer.scrollNext():this.verticalScrollContainer.scrollPrev()}getUnpinnedIndexById(e){return this.unpinnedRecords.findIndex((t=>t[this.primaryKey]===e))}endEdit(e=!0,t){this.crudService.endEdit(e,t)}beginAddRowById(e,t){let i=e;if(null==e){if(t)return void console.warn("The record cannot be added as a child to an unspecified record.");i=null}else if(i=this.gridAPI.get_rec_index_by_id(e,this.dataView),-1===i)return void console.warn("No row with the specified ID was found.");this._addRowForIndex(i,t)}_addRowForIndex(e,t){if(this.dataView.length)if(e>=0&&e<this.dataView.length){if((e<this.virtualizationState.startIndex||e>=this.virtualizationState.startIndex+this.virtualizationState.chunkSize)&&!this.isRecordPinnedByViewIndex(e))return this.verticalScrollContainer.chunkLoad.pipe(ci(),yi(this.destroy$)).subscribe((()=>{this.beginAddRowForIndex(e,t)})),this.navigateTo(e),void this.notifyChanges(!0);this.beginAddRowForIndex(e,t)}else console.warn("The row with the specified PK or index is outside of the current data view.");else this.beginAddRowForIndex(e,t)}beginAddRowByIndex(e){return 0===e?this.beginAddRowById(null):this._addRowForIndex(e-1)}preventHeaderScroll(e){0!==e.target.scrollLeft&&(this.navigation.forOfDir().getScroll().scrollLeft=e.target.scrollLeft,e.target.scrollLeft=0)}beginAddRowForIndex(e,t=!1){let i=null==e?null:this.rowList.find((t=>t.index===e));void 0!==i?this.crudService.enterAddRowMode(i,t):console.warn("No row with the specified PK or index was found.")}switchTransactionService(e){this._transactions=e?this.transactionFactory.create("Base"):this.transactionFactory.create("None"),this.dataCloneStrategy&&(this._transactions.cloneStrategy=this.dataCloneStrategy)}subscribeToTransactions(){this.transactionChange$.next(),this.transactions.onStateUpdate.pipe(yi($t(this.destroy$,this.transactionChange$))).subscribe(this.transactionStatusUpdate.bind(this))}transactionStatusUpdate(e){let t=[];if(e.origin===ub.REDO?t=e.actions?e.actions.filter((e=>e.transaction.type===hb.DELETE)):[]:e.origin===ub.UNDO&&(t=e.actions?e.actions.filter((e=>e.transaction.type===hb.ADD)):[]),t.length>0)for(let e of t)this.selectionService.isRowSelected(e.transaction.id)&&this.selectionService.deselectRow(e.transaction.id);(e.origin===ub.REDO||e.origin===ub.UNDO)&&e.actions.forEach((e=>{if(e.transaction.type===hb.UPDATE){let t=this.transactions.getAggregatedValue(e.transaction.id,!0);this.validation.update(e.transaction.id,t??e.recordRef)}else if(e.transaction.type===hb.DELETE||e.transaction.type===hb.ADD){let t=this.transactions.getAggregatedValue(e.transaction.id,!0);t?(this.validation.create(e.transaction.id,t??e.recordRef),this.validation.update(e.transaction.id,t??e.recordRef),this.validation.markAsTouched(e.transaction.id)):this.validation.clear(e.transaction.id)}})),this.selectionService.clearHeaderCBState(),this.summaryService.clearSummaryCache(),this.pipeTrigger++,this.notifyChanges()}writeToData(e,t){NS(this.gridAPI.get_all_data()[e],t)}_restoreVirtState(e){let t=e.virtDirRow,i=t.getScroll().scrollLeft;i!==-parseInt(t.dc.instance._viewContainer.element.nativeElement.style.left,10)+t.getColumnScrollLeft(t.state.startIndex)&&(t.onHScroll(i),t.cdr.detectChanges())}changeRowEditingOverlayStateOnScroll(e){!this.rowEditable||!this.rowEditingOverlay||this.rowEditingOverlay.collapsed||(e?this.repositionRowEditingOverlay(e):this.toggleRowEditingOverlay(!1))}evaluateLoadingState(){if(this.shouldOverlayLoading){let e={outlet:this.loadingOutlet,closeOnOutsideClick:!1,positionStrategy:new PE};this.loadingOverlay.open(e)}else this.loadingOverlay.close()}calculateGridWidth(){let e;if(this.isPercentWidth){let t=this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue("width");e=-1===t.indexOf("%")?parseInt(t,10):null}else e=parseInt(this.width,10);!e&&this.nativeElement&&(e=this.nativeElement.offsetWidth),(null===this.width||!e)&&(e=this.getColumnWidthSum()),this.hasVerticalScroll()&&null!==this.width&&(e-=this.scrollSize),(Number.isFinite(e)||null===e)&&e!==this.calcWidth&&(this.calcWidth=e),this._derivePossibleWidth()}_derivePossibleWidth(){this.columnWidthSetByUser||(this._columnWidth=null!==this.width?this.getPossibleColumnWidth():this.minColumnWidth+"px"),this._columns.forEach((e=>{if(this.hasColumnLayouts&&parseInt(this._columnWidth,10)){let t=parseInt(this._columnWidth,10)*(e.colEnd?e.colEnd-e.colStart:1);e.defaultWidth=t+"px"}else e.defaultWidth=this.getExtremumBasedColWidth(e),e.resetCaches()})),this.resetCachedWidths()}getExtremumBasedColWidth(e){let t=this._columnWidth;t&&"string"!=typeof t&&(t=String(t));let i=-1===t.indexOf("%")?e.minWidthPx:e.minWidthPercent,n=-1===t.indexOf("%")?e.maxWidthPx:e.maxWidthPercent;return e.hidden||(i>parseFloat(t)?t=String(e.minWidth):n<parseFloat(t)&&(t=String(e.maxWidth)),-1===t.indexOf("%")&&-1===t.indexOf("px")&&(t+="px")),t}resetNotifyChanges(){this._cdrRequestRepaint=!1,this._cdrRequests=!1}resolveOutlet(){return this._userOutletDirective?this._userOutletDirective:this._outletDirective}_moveColumns(e,t,i){let n=this._pinnedColumns.concat(this._unpinnedColumns);this._reorderColumns(e,t,i,n);let r=this._resetColumnList(n);this.updateColumns(r)}updateColumns(e){this._pinnedColumns=e.filter((e=>e.pinned)),this._unpinnedColumns=e.filter((e=>!e.pinned)),this._columns=e,this.resetCaches()}_resetColumnList(e){e||(e=this._columns);let t=[];return e.filter((e=>0===e.level)).forEach((e=>{t.push(e),e.columnGroup&&(t=t.concat(e.allChildren))})),t}_reorderColumns(e,t,i,n,r=!1){let s=n.indexOf(e),o=r?1:e.allChildren.length+1;n.splice(s,o);let a=n.indexOf(t);i===mM.AfterDropTarget&&(a++,!r&&t.columnGroup&&(a+=t.allChildren.length)),n.splice(a,0,e)}_moveChildColumns(e,t,i,n){let r=e.children.toArray();this._reorderColumns(t,i,n,r,!0),e.children.reset(r)}setupColumns(){this.autoGenerate?this.autogenerateColumns():this._columns=this.getColumnList(),!this.columnList.length&&this._columnConfig.length&&this.configToColumns(this._columnConfig),this.initColumns(this._columns,(e=>this.columnInit.emit(e))),this.columnListDiffer.diff(this.columnList),this.columnList.changes.pipe(yi(this.destroy$)).subscribe((e=>{this.onColumnsChanged(e)}))}getColumnList(){return this.columnList.toArray()}deleteRowFromData(e,t){if(-1!==t)if(this.transactions.enabled){let i={id:e,type:hb.DELETE,newValue:null};this.transactions.add(i,this.data[t])}else this.data.splice(t,1);else{let t=this.transactions.getState(e);this.transactions.add({id:e,type:hb.DELETE,newValue:null},t&&t.recordRef)}}getDataBasedBodyHeight(){return!this.data||this.data.length<this._defaultTargetRecordNumber?0:this.defaultTargetBodyHeight}onPinnedRowsChanged(e){this.rowListDiffer.diff(e)&&this.notifyChanges(!0)}onColumnsChanged(e){let t=this.columnListDiffer.diff(e);if(this.autoGenerate&&0===this._columns.length&&this._autoGeneratedCols.length>0)this.updateColumns(this._autoGeneratedCols);else if(t){let e=!1,i=!1;t.forEachAddedItem((t=>{e=!0,t.item.pinned?this._pinnedColumns.push(t.item):this._unpinnedColumns.push(t.item)})),this.initColumns(this.columnList.toArray(),(e=>this.columnInit.emit(e))),t.forEachRemovedItem((e=>{e.item instanceof CM||(this.gridAPI.clear_groupby(e.item.field),this.filteringService.clear_filter(e.item.field),this.filteringService.isFilterRowVisible&&this.filteringService.filteredColumn&&this.filteringService.filteredColumn.field===e.item.field&&this.filteringRow.close(),this.gridAPI.clear_sort(e.item.field),this.selectionService.deselectColumnsWithNoEvent([e.item.field])),i=!0})),this.resetCaches(),(e||i)&&(this.summaryService.clearSummaryCache(),this.groupablePipeTrigger++,Promise.resolve().then((()=>{this.notifyChanges(!0)})))}}calculateGridSizes(e=!0){this.resetCaches(e),this.cdr.detectChanges();let t=this.hasVerticalScroll();this.calculateGridWidth(),this.resetCaches(e),this.cdr.detectChanges(),this.calculateGridHeight(),this.rowEditable&&this.repositionRowEditingOverlay(this.crudService.rowInEditMode),this.filteringService.isFilterRowVisible&&this.filteringRow.resetChipsArea(),this.cdr.detectChanges(),t!==this.hasVerticalScroll()&&(this.calculateGridWidth(),this.cdr.detectChanges()),this.zone.isStable?this.zone.run((()=>{this._applyWidthHostBinding(),this.cdr.detectChanges()})):this.zone.onStable.pipe(ci()).subscribe((()=>{this.zone.run((()=>{this._applyWidthHostBinding()}))})),this.resetCaches(e),this.hasColumnsToAutosize&&(this.cdr.detectChanges(),this.zone.onStable.pipe(ci()).subscribe((()=>{this.autoSizeColumnsInView()})))}calcGridHeadRow(){if(this.maxLevelHeaderDepth){this._baseFontSize=parseFloat(getComputedStyle(this.document.documentElement).getPropertyValue("font-size"));let e=this._allowFiltering&&this._filterMode===Vb,t=(this.maxLevelHeaderDepth+1+(e?1:0))*this.defaultRowHeight/this._baseFontSize;this.theadRow.nativeElement.style.minHeight=`${t}rem`}}calculateGridHeight(){this.calcGridHeadRow(),this.calcHeight=this._calculateGridBodyHeight(),this.pinnedRowHeight&&this.calcHeight&&(this.calcHeight-=this.pinnedRowHeight)}getGroupAreaHeight(){return 0}getComputedHeight(e){return e.offsetHeight?parseFloat(this.document.defaultView.getComputedStyle(e).getPropertyValue("height")):0}getFooterHeight(){return this.summaryRowHeight||this.getComputedHeight(this.tfoot.nativeElement)}getTheadRowHeight(){let e=this.getComputedHeight(this.theadRow.nativeElement)||0;return!this.allowFiltering||this.allowFiltering&&this.filterMode!==Vb?e-this.getFilterCellHeight():e}getToolbarHeight(){let e=0;return this.toolbar.first&&(e=this.getComputedHeight(this.toolbar.first.nativeElement)),e}getPagingFooterHeight(){let e=0;if(this.footer){let t=this.getComputedHeight(this.footer.nativeElement);e=this.footer.nativeElement.firstElementChild?t:0}return e}getFilterCellHeight(){let e=0!==this.headerGroupsList.length?this.headerGroupsList[0].nativeElement:null,t=e?e.querySelector("igx-grid-filtering-cell"):null;return t?t.offsetHeight:0}_calculateGridBodyHeight(){if(!this._height)return null;let e=this.getTheadRowHeight(),t=this.getFooterHeight(),i=this.getToolbarHeight()+e+t+this.getPagingFooterHeight()+this.getGroupAreaHeight()+this.getComputedHeight(this.scr.nativeElement),n=0;if(this.isPercentHeight){let e=this.document.defaultView.getComputedStyle(this.nativeElement).getPropertyValue("height");if(this._shouldAutoSize(i)||-1!==e.indexOf("%")){let e=this.getDataBasedBodyHeight();return e>0?e:null}n=parseFloat(e)}else n=parseInt(this._height,10);let r=Math.abs(n-i);if(0===Math.round(r)||isNaN(n)){let e=this.defaultTargetBodyHeight;return e>0?e:null}return r}checkContainerSizeChange(){let e=this.nativeElement.parentElement||this.nativeElement.getRootNode().host,t=e.offsetHeight;this.nativeElement.style.display="none";let i=e.offsetHeight;return this.nativeElement.style.display="",t!==i}_shouldAutoSize(e){this.tbody.nativeElement.style.display="none";let t=this.nativeElement.parentElement||this.nativeElement.getRootNode().host,i=!t||0===t.clientHeight||t.clientHeight===e;return(!this.platform.isChromium&&!this.platform.isFirefox||this._autoSize)&&(this._autoSize=!1,i=this.checkContainerSizeChange()),this.tbody.nativeElement.style.display="",i}getUnpinnedWidth(e=!1){let t=this.isPercentWidth?this.calcWidth:parseInt(this.width,10)||parseInt(this.hostWidth,10)||this.calcWidth;return this.hasVerticalScroll()&&!this.isPercentWidth&&(t-=this.scrollSize),this.isPinningToStart||(t-=this.featureColumnsWidth()),t-this.getPinnedWidth(e)}_summaries(e,t,i){let n=this.gridAPI.get_column_by_name(e);n&&(n.hasSummary=t,i&&(this.rootSummariesEnabled&&this.summaryService.retriggerRootPipe++,n.summaries=i))}_multipleSummaries(e,t){e.forEach((e=>{this._summaries(e.fieldName,t,e.customSummary)}))}_disableMultipleSummaries(e){e.forEach((e=>{let t=e&&e.fieldName?e.fieldName:e;this._summaries(t,!1)}))}resolveDataTypes(e){return"number"==typeof e?Eb.Number:"boolean"==typeof e?Eb.Boolean:"object"==typeof e&&e instanceof Date?Eb.Date:"string"==typeof e&&/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(e)?Eb.Image:Eb.String}autogenerateColumns(){let e=this.gridAPI.get_data(),t=this.generateDataFields(e),i=[];t.forEach((t=>{let n=yp(xM,{environmentInjector:this.envInjector,elementInjector:this.injector});n.instance.field=t,n.instance.dataType=this.resolveDataTypes(e[0][t]),n.changeDetectorRef.detectChanges(),i.push(n.instance)})),this._autoGeneratedCols=i,this.updateColumns(i),e&&e.length>0&&(this.shouldGenerate=!1),this.columnsAutogenerated.emit({columns:this._autoGeneratedCols})}generateDataFields(e){return Object.keys(e&&0!==e.length?e[0]:[]).filter((e=>!this.autoGenerateExclude.includes(e)))}initColumns(e,t=null){this._columnGroups=e.some((e=>e.columnGroup)),this.hasColumnLayouts&&e.forEach((e=>{if(e.columnLayout){let t=e.children?e.children.reduce(((e,t)=>Math.max(t.rowStart+t.gridRowSpan-1,e)),1):1;this._multiRowLayoutRowSize=Math.max(t,this._multiRowLayoutRowSize)}})),this.hasColumnLayouts&&this.hasColumnGroups&&(e=e.filter((e=>e.columnLayout||e.columnLayoutChild))),this._maxLevelHeaderDepth=null,e.forEach((e=>{e.defaultWidth=this.columnWidthSetByUser?this._columnWidth:e.defaultWidth?e.defaultWidth:"",t&&t(e)})),this.updateColumns(e),this.hasColumnLayouts&&e.forEach((e=>{e.populateVisibleIndexes()}))}reinitPinStates(){this._pinnedColumns=this._columns.filter((e=>e.pinned)).sort(((e,t)=>this._pinnedColumns.indexOf(e)-this._pinnedColumns.indexOf(t))),this._unpinnedColumns=this.hasColumnGroups?this._columns.filter((e=>!e.pinned)):this._columns.filter((e=>!e.pinned)).sort(((e,t)=>this._unpinnedColumns.indexOf(e)-this._unpinnedColumns.indexOf(t)))}extractDataFromSelection(e,t=!1,i=!1,n){let r,s={},o=[],a=[],l=new Map,d=[],c=this.selectionService.activeElement;if(/^ig.-hierarchical-grid$/.test(this.nativeElement.tagName.toLowerCase())){let e=[];for(let[t,i]of this.expansionStates.entries())if(i){let i=this.gridAPI.get_rec_index_by_id(t,this.dataView);e.push(i)}if(this.selectionService.selection.size>0){if(e.length>0)for(let[t,i]of this.selectionService.selection.entries()){let n=t,r=0;e.forEach((e=>{n>Number(e)&&r++})),l.set(n-r,i)}}else if(c){let t=0;e.length>0&&(e.forEach((e=>{c.row>Number(e)&&t++})),c.row-=t)}}let h,u=this.totalItemCount??0,g=u&&u>this.dataView.length;h=/^ig.-hierarchical-grid$/.test(this.nativeElement.tagName.toLowerCase())&&l.size>0?g?Array.from(l):Array.from(l).filter((t=>t[0]<e.length)):g?Array.from(this.selectionService.selection):Array.from(this.selectionService.selection).filter((t=>t[0]<e.length)),this.cellSelection===Wb&&c&&h.push([c.row,(new Set).add(c.column)]),this.cellSelection===$b&&c&&h.push([c.row,(new Set).add(c.column)]),n&&(o=n);for(let[l,d]of h){if(l=this.paginator&&this.pagingMode===Zb.Local&&e===this.filteredSortedData?l+this.perPage*this.page:l,l=g?l-this.virtualizationState.startIndex:l,!e[l]||void 0!==e[l].detailsData)continue;let c=Array.from(d);for(let o of c)r=this.getSelectableColumnsAt(o),r.forEach((r=>{if(r){let o=!this.isPivot&&i&&r.header||r.field,a=e[l].ghostRecord?e[l].recordRef:e[l],d=this.isPivot?a.aggregationValues.get(r.field):tb(a,r.field);s[o]=t&&r.formatter?r.formatter(d,a):d,n&&(s[o]||(s[o]=""),s[o]=s[o].toString().concat("recordRow-"+l))}}));if(Object.keys(s).length)if(n){a.length||(a=Object.keys(n[0]));for(let[e,t]of Object.entries(s)){a.includes(e)||a.push(e);let i=t,n=+i.split("recordRow-")[1];i=i.split("recordRow-")[0],s[e]=i;let r=Object.assign(o[n],s);o[n]=r}}else o.push(s);s={}}return a.length?(d.push(o),d.push(a),d):o}getSelectableColumnsAt(e){if(this.hasColumnLayouts){let t=this.visibleColumns.filter((e=>e.columnLayout)).sort(((e,t)=>e.visibleIndex-t.visibleIndex))[e];return t?t.children.toArray():[]}return[this.visibleColumns.filter((e=>!e.columnGroup)).sort(((e,t)=>e.visibleIndex-t.visibleIndex))[e]]}autoSizeColumnsInView(){if(!this.hasColumnsToAutosize)return;let e=this.headerContainer.state,t=!1,i=this.headerContainer.igxGridForOf.slice(e.startIndex,e.startIndex+e.chunkSize).flatMap((e=>e.columnGroup?e.allChildren:e)),n=this.pinnedColumns.concat(i);for(let e of n)if(!e.autoSize&&e.headerCell){let i=[];if(e._cells.length!==this.rowList.length&&this.rowList.forEach((e=>e.cdr.detectChanges())),this._dataRowList.map((t=>t.cells.find((t=>t.column===e)))).forEach((e=>i.push(e?.nativeElement?.offsetWidth||0))),0===Math.max(...i))continue;let n=this.headerCellList.find((t=>t.column===e));i.push(n.nativeElement.offsetWidth);let r=Math.ceil(Math.max(...i))+1;e.maxWidth&&r>e.maxWidthPx?r=e.maxWidthPx:r<e.minWidthPx&&(r=e.minWidthPx),e.autoSize=r,e.resetCaches(),t=!0}t&&(this.resetCachedWidths(),this.cdr.detectChanges())}extractDataFromColumnsSelection(e,t=!1,i=!1){let n={},r=[],s=this.selectedColumns();if(0===s.length)return[];for(let o of e)s.forEach((e=>{let r=i&&e.header||e.field;n[r]=t&&e.formatter?e.formatter(o[e.field],o):o[e.field]})),Object.keys(n).length&&r.push(n),n={};return r}initPinning(){let e=[],t=[];this.calculateGridWidth(),this.resetCaches(),this._pinnedColumns.forEach((e=>{e.parent&&(e.parent.pinned=!0),e.columnGroup&&e.children.forEach((e=>e.pinned=!0))}));for(let i of this._columns)i.pinned&&!i.parent?e.push(i):i.pinned&&i.parent?i.topLevelParent.pinned?e.push(i):(i.pinned=!1,t.push(i)):t.push(i);this._pinnedColumns=e,this._unpinnedColumns=t,this.notifyChanges()}scrollTo(e,t,i=this._filteredSortedUnpinnedData){let n=!1;if(this.paginator&&"number"!=typeof e){let t=i.indexOf(e),r=Math.floor(t/this.perPage);this.page!==r&&(n=!0,this.page=r)}n?this.verticalScrollContainer.dataChanged.pipe(ci()).subscribe((()=>{this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.unpinnedDataView.indexOf(e))})):this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.unpinnedDataView.indexOf(e)),this.scrollToHorizontally(t)}scrollToHorizontally(e){let t="number"==typeof e?e:this.getColumnByName(e).visibleIndex,i=this.rowList.find((e=>!!e.virtDirRow)),n=i?i.virtDirRow:null;this.isPinningToStart&&this.pinnedColumns.length?t>=this.pinnedColumns.length&&(t-=this.pinnedColumns.length,this.scrollDirective(n,t)):this.scrollDirective(n,t)}scrollDirective(e,t){e&&e.scrollTo(t)}getColumnWidthSum(){let e=0;return(this.hasColumnLayouts?this.visibleColumns.filter((e=>e.columnLayout)):this.visibleColumns.filter((e=>!e.columnGroup))).forEach((t=>{e+=parseInt(t.calcWidth||t.defaultWidth,10)||this.minColumnWidth})),e?(this.cdr.detectChanges(),e+=this.featureColumnsWidth(),e):null}configToColumns(e){let t=[];e.forEach((e=>{var i;if(e instanceof xM)i=e;else{let t=yp(xM,{environmentInjector:this.envInjector,elementInjector:this.injector});for(let i in e)t.instance[i]=e[i];t.changeDetectorRef.detectChanges(),i=t.instance}t.push(i)})),this.columnList.reset(t)}_columnsReordered(e){this.notifyChanges(),this.resetColumnCollections(),e.resetCaches()}buildDataView(e){this._dataView=this.isRowPinningToTop?[...this.pinnedDataView,...this.unpinnedDataView]:[...this.unpinnedDataView,...this.pinnedDataView]}_applyWidthHostBinding(){let e=this._width;if(null===e){let t=this.calcWidth;this.hasVerticalScroll()&&(t+=this.scrollSize),e=t+"px",this.resetCaches()}this._hostWidth=e,this.cdr.markForCheck()}verticalScrollHandler(e){this.verticalScrollContainer.onScroll(e),this.disableTransitions=!0,this.zone.run((()=>{this.zone.onStable.pipe(ci()).subscribe((()=>{this.verticalScrollContainer.chunkLoad.emit(this.verticalScrollContainer.state),this.rowEditable&&this.changeRowEditingOverlayStateOnScroll(this.crudService.rowInEditMode)}))})),this.disableTransitions=!1,this.hideOverlays(),this.actionStrip?.hide(),this.actionStrip&&(this.actionStrip.context=null);let t={direction:"vertical",event:e,scrollPosition:this.verticalScrollContainer.scrollPosition};this.gridScroll.emit(t)}horizontalScrollHandler(e){let t=e.target.scrollLeft;this.headerContainer.onHScroll(t),this._horizontalForOfs.forEach((e=>e.onHScroll(t))),this.cdr.markForCheck(),this.zone.run((()=>{this.zone.onStable.pipe(ci()).subscribe((()=>{this.parentVirtDir.chunkLoad.emit(this.headerContainer.state),requestAnimationFrame((()=>{this.autoSizeColumnsInView()}))}))})),this.navigation.isColumnFullyVisible(this.navigation.lastColumnIndex)||this.hideOverlays();let i={direction:"horizontal",event:e,scrollPosition:this.headerContainer.scrollPosition};this.gridScroll.emit(i)}executeCallback(e,t=-1,i=null){if(!i)return;let n=this.summariesRowList.filter((e=>0!==e.index)).concat(this.rowList.toArray()).find((t=>t.index===e));if(!n){this.totalItemCount&&this.verticalScrollContainer.dataChanged.pipe(ci()).subscribe((()=>{this.cdr.detectChanges(),n=this.summariesRowList.filter((e=>0!==e.index)).concat(this.rowList.toArray()).find((t=>t.index===e));let r=this.getNavigationArguments(n,t);i(r)}));let r=this._getDataViewIndex(e);return void(this.dataView[r].detailsData&&(this.navigation.setActiveNode({row:e}),this.cdr.detectChanges()))}let r=this.getNavigationArguments(n,t);i(r)}getNavigationArguments(e,t){let i,n;switch(e.nativeElement.tagName.toLowerCase()){case"igx-grid-groupby-row":i="groupRow",n=e;break;case"igx-grid-summary-row":i="summaryCell",n=-1!==t?e.summaryCells.find((e=>e.visibleColumnIndex===t)):e.summaryCells.first;break;case"igx-child-grid-row":i="hierarchicalRow",n=e;break;default:i="dataCell",n=-1!==t?e.cells.find((e=>e.visibleColumnIndex===t)):e.cells.first}return{targetType:i,target:n}}getNextDataRowIndex(e,t=!1){let i=this._getDataViewIndex(e);if(e<0||0===e&&t||i>=this.dataView.length-1&&!t)return e;let n=t?this.findPrevEditableDataRowIndex(e):this.dataView.findIndex(((e,t)=>t>i&&this.isEditableDataRecordAtIndex(t))),r=this.getDataIndex(n);return-1!==r?r:e}findPrevEditableDataRowIndex(e){let t=this.dataView.length,i=this._getDataViewIndex(e);for(;t--;)if(t<i&&this.isEditableDataRecordAtIndex(t))return t;return-1}isEditableDataRecordAtIndex(e){let t=this.dataView[e];return!(t.expression||t.summaries||t.childGridsData||t.detailsData||this.isGhostRecordAtIndex(e))}isGhostRecordAtIndex(e){let t=this.isRecordPinned(this.dataView[e]),i=this.isRecordPinnedByViewIndex(e);return t&&!i}isValidPosition(e,t){let i=this.summariesRowList.filter((e=>0!==e.index)).concat(this.rowList.toArray()).length,n=this._columns.filter((e=>!e.columnGroup&&e.visibleIndex>=0&&!e.hidden)).length;return!(i<1||n<1)&&e>-1&&e<this.dataView.length&&t>-1&&t<=Math.max(...this.visibleColumns.map((e=>e.visibleIndex)))}find(e,t,i,n,r,s=!0){if(!this.rowList)return 0;if(s&&this.crudService.endEdit(!1),!e)return this.clearSearch(),0;let o=!!i,a=!!n,l=!1;if(this.lastSearchInfo.searchText!==e||this.lastSearchInfo.caseSensitive!==o||this.lastSearchInfo.exactMatch!==a?(this.lastSearchInfo={searchText:e,activeMatchIndex:0,caseSensitive:o,exactMatch:a,matchInfoCache:[]},l=!0):this.lastSearchInfo.activeMatchIndex+=t,l&&(this.rowList.forEach((t=>{t.cells&&t.cells.forEach((t=>{t.highlightText(e,o,a)}))})),this.rebuildMatchCache()),this.lastSearchInfo.activeMatchIndex>=this.lastSearchInfo.matchInfoCache.length?this.lastSearchInfo.activeMatchIndex=0:this.lastSearchInfo.activeMatchIndex<0&&(this.lastSearchInfo.activeMatchIndex=this.lastSearchInfo.matchInfoCache.length-1),this.lastSearchInfo.matchInfoCache.length){let e=this.lastSearchInfo.matchInfoCache[this.lastSearchInfo.activeMatchIndex];this.lastSearchInfo=y({},this.lastSearchInfo),!1!==r&&this.scrollTo(e.row,e.column),uA.setActiveHighlight(this.id,{column:e.column,row:e.row,index:e.index,metadata:e.metadata})}else uA.clearActiveHighlight(this.id);return this.lastSearchInfo.matchInfoCache.length}rebuildMatchCache(){this.lastSearchInfo.matchInfoCache=[];let e=this.lastSearchInfo.caseSensitive,t=this.lastSearchInfo.exactMatch,i=e?this.lastSearchInfo.searchText:this.lastSearchInfo.searchText.toLowerCase(),n=this.filteredSortedData,r=this.visibleColumns.filter((e=>!e.columnGroup)).sort(((e,t)=>e.visibleIndex-t.visibleIndex));n.forEach(((n,s)=>{r.forEach((r=>{let o=this.getColumnByName(r.field).pipeArgs,a=r.formatter?r.formatter(tb(n,r.field),n):"number"===r.dataType?vm(tb(n,r.field),this.locale,o.digitsInfo):"date"===r.dataType?ab(tb(n,r.field),o.format,this.locale,o.timezone):tb(n,r.field);if(null!=a&&r.searchable){let o=e?String(a):String(a).toLowerCase();if(t){if(o===i){let e=new Map;e.set("pinned",this.isRecordPinnedByIndex(s)),this.lastSearchInfo.matchInfoCache.push({row:n,column:r.field,index:0,metadata:e})}}else{let e=0,t=o.indexOf(i);for(;-1!==t;){let a=new Map;a.set("pinned",this.isRecordPinnedByIndex(s)),this.lastSearchInfo.matchInfoCache.push({row:n,column:r.field,index:e++,metadata:a}),o=o.substring(t+i.length),t=o.indexOf(i)}}}}))}))}configureRowEditingOverlay(e,t=!1){let i=this.rowEditSettings,n=this.overlayService.getOverlayById(this.rowEditingOverlay.overlayId);n&&(i=n.settings),i.outlet=t?this.parentRowOutletDirective:this.rowOutletDirective,this.rowEditPositioningStrategy.settings.container=this.tbody.nativeElement;let r=-1!==this._pinnedRecordIDs.indexOf(e)?this.pinnedRows.find((t=>t.key===e)):this.gridAPI.get_row_by_key(e);r&&(i.target=r.element.nativeElement,this.toggleRowEditingOverlay(!0))}},hU=cU;cU.fac=function(e){return new(e||cU)(Rd(PK),Rd(Lk),Rd(HG),Rd(Ck),Rd(WE),Rd(ld),Rd(Ig),Rd(Cp),Rd(Jg),Rd(hp),Rd(Xu),Rd(qg),Rd(kd),Rd($l),Rd(MK),Rd(tz),Rd(LE),Rd(VK),Rd(eI,8),Rd(Sg),Rd($S),Rd(FK,8))},cU.dir=er({type:cU,contentQueries:function(e,t,i){if(1&e&&(mg(i,OB,7,OB),mg(i,xG,5,ju),mg(i,IG,5,ju),mg(i,TG,5,ju),mg(i,AG,5,ju),mg(i,kG,5,ju),mg(i,RG,5,ju),mg(i,FG,5,ju),mg(i,PG,5,ju),mg(i,OG,5,ju),mg(i,gG,4,gG),mg(i,xM,5,xM),mg(i,Zk,4),mg(i,DW,4,ju),mg(i,SW,4,ju),mg(i,CW,4,ju),mg(i,yG,4,ju),mg(i,vG,4,ju),mg(i,_G,4,ju),mg(i,wW,4,ju),mg(i,wG,5),mg(i,Qj,4),mg(i,zP,4)),2&e){let e;gg(e=fg())&&(t.excelStyleLoadingValuesTemplateDirective=e.first),gg(e=fg())&&(t.rowAddText=e.first),gg(e=fg())&&(t.rowExpandedIndicatorDirectiveTemplate=e.first),gg(e=fg())&&(t.rowCollapsedIndicatorDirectiveTemplate=e.first),gg(e=fg())&&(t.headerExpandedIndicatorDirectiveTemplate=e.first),gg(e=fg())&&(t.headerCollapsedIndicatorDirectiveTemplate=e.first),gg(e=fg())&&(t.excelStyleHeaderIconDirectiveTemplate=e.first),gg(e=fg())&&(t.sortAscendingHeaderIconDirectiveTemplate=e.first),gg(e=fg())&&(t.sortDescendingHeaderIconDirectiveTemplate=e.first),gg(e=fg())&&(t.sortHeaderIconDirectiveTemplate=e.first),gg(e=fg())&&(t.excelStyleFilteringComponents=e),gg(e=fg())&&(t.columnList=e),gg(e=fg())&&(t.actionStripComponents=e),gg(e=fg())&&(t.headSelectorsTemplates=e),gg(e=fg())&&(t.rowSelectorsTemplates=e),gg(e=fg())&&(t.dragGhostCustomTemplates=e),gg(e=fg())&&(t.rowEditCustomDirectives=e),gg(e=fg())&&(t.rowEditTextDirectives=e),gg(e=fg())&&(t.rowEditActionsDirectives=e),gg(e=fg())&&(t.dragIndicatorIconTemplates=e),gg(e=fg())&&(t.rowEditTabsCUSTOM=e),gg(e=fg())&&(t.toolbar=e),gg(e=fg())&&(t.paginationComponents=e)}},viewQuery:function(e,t){if(1&e&&(pg(SK,5),pg(yK,5),pg(NK,7,fA),pg(LK,7,vA),pg(HK,7,ju),pg(BK,7,ju),pg(GK,7,ju),pg(zK,7,tA),pg($K,7,tA),pg(WK,7,tA),pg(jK,7,ld),pg(KK,7,ju),pg(UK,5,ld),pg(vW,7),pg(OK,5),pg(qK,7),pg(YK,5,ld),pg(XK,7),pg(ZK,7,vA),pg(QK,7,ju),pg(JK,5,fA),pg(eU,7,vA),pg(tU,7,Xu),pg(iU,7,ju),pg(nU,7,ju),pg(rU,7,ju),pg(sU,7,ju),pg(pA,5,pA),pg(wG,5),pg(oU,5,mK),pg(aU,5),pg(lU,5),pg(Gk,5,Gk)),2&e){let e;gg(e=fg())&&(t.addRowSnackbar=e.first),gg(e=fg())&&(t.resizeLine=e.first),gg(e=fg())&&(t.loadingOverlay=e.first),gg(e=fg())&&(t.loadingOutlet=e.first),gg(e=fg())&&(t.emptyFilteredGridTemplate=e.first),gg(e=fg())&&(t.emptyGridDefaultTemplate=e.first),gg(e=fg())&&(t.loadingGridDefaultTemplate=e.first),gg(e=fg())&&(t.parentVirtDir=e.first),gg(e=fg())&&(t.verticalScrollContainer=e.first),gg(e=fg())&&(t.verticalScroll=e.first),gg(e=fg())&&(t.scr=e.first),gg(e=fg())&&(t.headerSelectorBaseTemplate=e.first),gg(e=fg())&&(t.footer=e.first),gg(e=fg())&&(t.theadRow=e.first),gg(e=fg())&&(t.groupArea=e.first),gg(e=fg())&&(t.tbody=e.first),gg(e=fg())&&(t.pinContainer=e.first),gg(e=fg())&&(t.tfoot=e.first),gg(e=fg())&&(t.rowEditingOutletDirective=e.first),gg(e=fg())&&(t.dragIndicatorIconBase=e.first),gg(e=fg())&&(t.rowEditingOverlay=e.first),gg(e=fg())&&(t._outletDirective=e.first),gg(e=fg())&&(t.anchor=e.first),gg(e=fg())&&(t.defaultExpandedTemplate=e.first),gg(e=fg())&&(t.defaultCollapsedTemplate=e.first),gg(e=fg())&&(t.defaultESFHeaderIconTemplate=e.first),gg(e=fg())&&(t.defaultRowEditTemplate=e.first),gg(e=fg())&&(t.tmpOutlets=e),gg(e=fg())&&(t.rowEditTabsDEFAULT=e),gg(e=fg())&&(t._summaryRowList=e),gg(e=fg())&&(t._rowList=e),gg(e=fg())&&(t._pinnedRowList=e),gg(e=fg())&&(t._dataRowList=e)}},hostVars:8,hostBindings:function(e,t){1&e&&oh("mouseleave",(function(){return t.hideActionStrip()})),2&e&&(Gc("tabindex",t.tabindex)("role",t.hostRole),kh(t.hostClass),Th("height",t.height)("width",t.hostWidth))},inputs:{snackbarDisplayTime:"snackbarDisplayTime",autoGenerate:"autoGenerate",autoGenerateExclude:"autoGenerateExclude",moving:"moving",emptyGridTemplate:"emptyGridTemplate",addRowEmptyTemplate:"addRowEmptyTemplate",loadingGridTemplate:"loadingGridTemplate",summaryRowHeight:"summaryRowHeight",dataCloneStrategy:"dataCloneStrategy",clipboardOptions:"clipboardOptions",rowClasses:"rowClasses",rowStyles:"rowStyles",primaryKey:"primaryKey",uniqueColumnValuesStrategy:"uniqueColumnValuesStrategy",dragGhostCustomTemplate:"dragGhostCustomTemplate",rowEditTextTemplate:"rowEditTextTemplate",rowAddTextTemplate:"rowAddTextTemplate",rowEditActionsTemplate:"rowEditActionsTemplate",rowExpandedIndicatorTemplate:"rowExpandedIndicatorTemplate",rowCollapsedIndicatorTemplate:"rowCollapsedIndicatorTemplate",headerExpandedIndicatorTemplate:"headerExpandedIndicatorTemplate",headerCollapsedIndicatorTemplate:"headerCollapsedIndicatorTemplate",excelStyleHeaderIconTemplate:"excelStyleHeaderIconTemplate",sortAscendingHeaderIconTemplate:"sortAscendingHeaderIconTemplate",sortDescendingHeaderIconTemplate:"sortDescendingHeaderIconTemplate",sortHeaderIconTemplate:"sortHeaderIconTemplate",resourceStrings:"resourceStrings",filteringLogic:"filteringLogic",filteringExpressionsTree:"filteringExpressionsTree",advancedFilteringExpressionsTree:"advancedFilteringExpressionsTree",locale:"locale",pagingMode:"pagingMode",hideRowSelectors:"hideRowSelectors",rowDraggable:"rowDraggable",validationTrigger:"validationTrigger",rowEditable:"rowEditable",height:"height",width:"width",rowHeight:"rowHeight",columnWidth:"columnWidth",emptyGridMessage:"emptyGridMessage",isLoading:"isLoading",emptyFilteredGridMessage:"emptyFilteredGridMessage",pinning:"pinning",allowFiltering:"allowFiltering",allowAdvancedFiltering:"allowAdvancedFiltering",filterMode:"filterMode",summaryPosition:"summaryPosition",summaryCalculationMode:"summaryCalculationMode",showSummaryOnCollapse:"showSummaryOnCollapse",filterStrategy:"filterStrategy",sortStrategy:"sortStrategy",sortingOptions:"sortingOptions",selectedRows:"selectedRows",headSelectorTemplate:"headSelectorTemplate",rowSelectorTemplate:"rowSelectorTemplate",dragIndicatorIconTemplate:"dragIndicatorIconTemplate",sortingExpressions:"sortingExpressions",batchEditing:"batchEditing",cellSelection:"cellSelection",rowSelection:"rowSelection",columnSelection:"columnSelection",expansionStates:"expansionStates",outlet:"outlet",columns:"columns",totalRecords:"totalRecords",selectRowOnClick:"selectRowOnClick"},outputs:{filteringExpressionsTreeChange:"filteringExpressionsTreeChange",advancedFilteringExpressionsTreeChange:"advancedFilteringExpressionsTreeChange",gridScroll:"gridScroll",cellClick:"cellClick",formGroupCreated:"formGroupCreated",validationStatusChange:"validationStatusChange",selected:"selected",rowSelectionChanging:"rowSelectionChanging",columnSelectionChanging:"columnSelectionChanging",columnPin:"columnPin",columnPinned:"columnPinned",cellEditEnter:"cellEditEnter",cellEditExit:"cellEditExit",cellEdit:"cellEdit",cellEditDone:"cellEditDone",rowEditEnter:"rowEditEnter",rowEdit:"rowEdit",rowEditDone:"rowEditDone",rowEditExit:"rowEditExit",columnInit:"columnInit",columnsAutogenerated:"columnsAutogenerated",sorting:"sorting",sortingDone:"sortingDone",filtering:"filtering",filteringDone:"filteringDone",rowAdded:"rowAdded",rowDeleted:"rowDeleted",rowDelete:"rowDelete",rowAdd:"rowAdd",columnResized:"columnResized",contextMenu:"contextMenu",doubleClick:"doubleClick",columnVisibilityChanging:"columnVisibilityChanging",columnVisibilityChanged:"columnVisibilityChanged",columnMovingStart:"columnMovingStart",columnMoving:"columnMoving",columnMovingEnd:"columnMovingEnd",gridKeydown:"gridKeydown",rowDragStart:"rowDragStart",rowDragEnd:"rowDragEnd",gridCopy:"gridCopy",expansionStatesChange:"expansionStatesChange",rowToggle:"rowToggle",rowPinning:"rowPinning",rowPinned:"rowPinned",activeNodeChange:"activeNodeChange",sortingExpressionsChange:"sortingExpressionsChange",toolbarExporting:"toolbarExporting",rangeSelected:"rangeSelected",rendered:"rendered",localeChange:"localeChange",dataChanging:"dataChanging",dataChanged:"dataChanged"},features:[Tc]}),_F([rM()],hU.prototype,"primaryKey",void 0),_F([rM()],hU.prototype,"filteringLogic",null),_F([rM()],hU.prototype,"filteringExpressionsTree",null),_F([rM()],hU.prototype,"advancedFilteringExpressionsTree",null),_F([rM()],hU.prototype,"hideRowSelectors",null),_F([rM()],hU.prototype,"rowEditable",null),_F([rM()],hU.prototype,"height",null),_F([rM()],hU.prototype,"width",null),_F([rM()],hU.prototype,"rowHeight",null),_F([rM()],hU.prototype,"columnWidth",null),_F([rM()],hU.prototype,"isLoading",null),_F([rM()],hU.prototype,"sortingExpressions",null),_F([rM()],hU.prototype,"cellSelection",null),_F([rM()],hU.prototype,"rowSelection",null),_F([rM()],hU.prototype,"columnSelection",null),_F([rM()],hU.prototype,"selectRowOnClick",null);var uU=(()=>{let e=class{constructor(e,t){this.crudService=e,this.cms=t,this.destroyMap=new Map}get_column_by_name(e){return this.grid.columns.find((t=>t.field===e))}get_summary_data(){let e=this.grid,t=e.filteredData;return t&&e.hasPinnedRecords&&(t=e._filteredUnpinnedData),t||(e.transactions.enabled?(t=Ib.mergeTransactions(MS(e.data),e.transactions.getAggregatedChanges(!0),e.primaryKey,e.dataCloneStrategy),e.transactions.getTransactionLog().filter((e=>e.type===hb.DELETE)).map((e=>e.id)).forEach((i=>{let n=(e.primaryKey?t.map((t=>t[e.primaryKey])):t).indexOf(i);-1!==n&&t.splice(n,1)}))):t=e.data),t}getRowData(e){let t=this.get_all_data(this.grid.transactions.enabled);return t[this.get_row_index_in_data(e,t)]}get_row_index_in_data(e,t){let i=this.grid;if(!i)return-1;let n=t??this.get_all_data(i.transactions.enabled);return i.primaryKey?n.findIndex((t=>t.recordRef?t.recordRef[i.primaryKey]===e:t[i.primaryKey]===e)):n.indexOf(e)}get_row_by_key(e){if(!this.grid)return null;let t=this.grid.primaryKey;return null!=t?this.grid.dataRowList.find((i=>i.data[t]===e)):this.grid.dataRowList.find((t=>t.data===e))}get_row_by_index(e){return this.grid.rowList.find((t=>t.index===e))}get_rec_id_by_index(e,t){if(t=t||this.grid.data,e>=0&&e<t.length){let i=t[e];return this.grid.primaryKey?i[this.grid.primaryKey]:i}return null}get_cell_by_key(e,t){let i=this.get_row_by_key(e);if(i&&i.cells)return i.cells.find((e=>e.column.field===t))}get_cell_by_index(e,t){let i=this.get_row_by_index(e),n=i&&i.cells;return n&&"number"==typeof t?i.cells.find((e=>e.column.index===t)):n&&"string"==typeof t?i.cells.find((e=>e.column.field===t)):void 0}get_cell_by_visible_index(e,t){let i=this.get_row_by_index(e);if(i&&i.cells)return i.cells.find((e=>e.visibleColumnIndex===t))}update_cell(e){if(!e)return;let t=e.createEditEventArgs(!0);this.grid.summaryService.clearSummaryCache(t);let i=this.getRowData(e.id.rowID),n=((e,t)=>{let i,n={},r=e?.split(".")??[],s=r.shift();return n[s]=t,i=n,r.forEach((e=>{i[s]={},i=i[s],i[e]=t,s=e})),n})(e.column.field,t.newValue);if(this.updateData(this.grid,e.id.rowID,i,e.rowData,n),this.grid.crudService.row||this.grid.validation.update(e.id.rowID,n),this.grid.primaryKey===e.column.field){if(this.grid.pinnedRecords.length>0){let i=this.grid.pinnedRecords.indexOf(e.rowData);if(-1!==i){let n=e.value,r=this.grid.getRowByIndex(e.rowIndex);this.unpin_row(n,r),this.pin_row(t.newValue,i,r)}}this.grid.selectionService.isRowSelected(e.id.rowID)&&(this.grid.selectionService.deselectRow(e.id.rowID),this.grid.selectionService.selectRowById(t.newValue)),this.grid.hasSummarizedColumns&&this.grid.summaryService.removeSummaries(e.id.rowID)}return(!this.grid.rowEditable||!this.crudService.row||this.crudService.row.id!==e.id.rowID||!this.grid.transactions.enabled)&&(this.grid.summaryService.clearSummaryCache(t),this.grid.pipeTrigger++),t}update_row(e,t,i){let n=this.grid,r=n.selectionService.isRowSelected(e.id),s=this.crudService.row,o=this.get_all_data(n.transactions.enabled),a=this.get_row_index_in_data(e.id,o),l=n.hasSummarizedColumns;this.crudService.updateRowEditData(e,t);let d=e.createEditEventArgs(!0,i);if(-1===a)return d;if(s){let e=n.transactions.getState(d.rowID,!0);if(n.transactions.endPending(!1),!e)return d}if(!d.newValue)return d;l&&n.summaryService.removeSummaries(d.rowID),this.updateData(n,e.id,o[a],d.oldValue,d.newValue),this.grid.validation.update(e.id,d.newValue);let c=n.primaryKey?d.newValue[n.primaryKey]:d.newValue;return r&&(n.selectionService.deselectRow(e.id),n.selectionService.selectRowById(c)),e.id=c,l&&n.summaryService.removeSummaries(c),n.pipeTrigger++,d}sort(e){e.dir===gb.None&&this.remove_grouping_expression(e.fieldName);let t=MS(this.grid.sortingExpressions);this.prepare_sorting_expression([t],e),this.grid.sortingExpressions=t}sort_decoupled(e){e.dir===gb.None&&this.remove_grouping_expression(e.fieldName);let t=MS(this.grid.groupingExpressions);this.prepare_grouping_expression([t],e),this.grid.groupingExpressions=t}sort_multiple(e){let t=MS(this.grid.sortingExpressions);for(let i of e)i.dir===gb.None&&this.remove_grouping_expression(i.fieldName),this.prepare_sorting_expression([t],i);this.grid.sortingExpressions=t}sort_groupBy_multiple(e){let t=MS(this.grid.groupingExpressions);for(let i of e)i.dir===gb.None&&this.remove_grouping_expression(i.fieldName),this.prepare_grouping_expression([t],i)}clear_sort(e){let t=this.grid.sortingExpressions,i=t.findIndex((t=>t.fieldName===e));i>-1&&(t.splice(i,1),this.grid.sortingExpressions=t)}clear_groupby(e){}should_apply_number_style(e){return e.dataType===Eb.Number}get_data(){let e=this.grid;return e.data?e.data:[]}get_all_data(e=!1){let t=this.grid,i=t&&t.data?t.data:[];return i=e?t.dataWithAddedInTransactionRows:i,i}get_filtered_data(){return this.grid.filteredData}addRowToData(e,t){let i=this.grid,n=i.primaryKey?e[i.primaryKey]:e;if(i.transactions.enabled){let t={id:n,type:hb.ADD,newValue:e};i.transactions.add(t)}else i.data.push(e);i.validation.markAsTouched(n),i.validation.update(n,e)}deleteRowFromData(e,t){let i=this.grid;if(-1!==t)if(i.transactions.enabled){let n={id:e,type:hb.DELETE,newValue:null};i.transactions.add(n,i.data[t])}else i.data.splice(t,1);else{let t=i.transactions.getState(e);i.transactions.add({id:e,type:hb.DELETE,newValue:null},t&&t.recordRef)}i.validation.clear(e)}deleteRowById(e){let t,i=this.grid,n=this.get_all_data();t=i.primaryKey?n.map((e=>e[i.primaryKey])).indexOf(e):n.indexOf(e);let r=i.transactions.getState(e),s=r&&r.type!==hb.DELETE;if(-1===t&&!s)return;this.crudService.endEdit(!0);let o=n[t],a=o?o[i.primaryKey]:void 0;i.rowDeletedNotifier.next({data:o,owner:i,primaryKey:a}),this.deleteRowFromData(e,t),i.selectionService.isRowSelected(e)?i.selectionService.deselectRowsWithNoEvent([e]):i.selectionService.clearHeaderCBState(),i.pipeTrigger++,i.notifyChanges();let l=i.transactions.enabled?i.dataWithAddedInTransactionRows:n;return i.refreshSearch(),l.length%i.perPage==0&&l.length/i.perPage-1<i.page&&0!==i.page&&i.page--,o}get_row_id(e){return this.grid.primaryKey?e[this.grid.primaryKey]:e}row_deleted_transaction(e){let t=this.grid;if(!t||!t.transactions.enabled)return!1;let i=t.transactions.getState(e);return!!i&&i.type===hb.DELETE}get_row_expansion_state(e){let t=this.grid,i=t.expansionStates,n=t.primaryKey?e[t.primaryKey]:e,r=i.get(n);return void 0!==r?r:t.getDefaultExpandState(e)}set_row_expansion_state(e,t,i){let n=this.grid,r=n.expansionStates;if(!this.allow_expansion_state_change(e,t))return;let s={rowID:e,expanded:t,event:i,cancel:!1};n.rowToggle.emit(s),!s.cancel&&(r.set(e,t),n.expansionStates=r)}get_rec_by_id(e){return this.grid.primaryKey?this.getRowData(e):e}get_rec_index_by_id(e,t){return t=t||this.grid.data,this.grid.primaryKey?t.findIndex((t=>t[this.grid.primaryKey]===e)):-1}allow_expansion_state_change(e,t){return this.grid.expansionStates.get(e)!==t}prepare_sorting_expression(e,t){if(t.dir===gb.None)return void e.forEach((e=>{e.splice(e.findIndex((e=>e.fieldName===t.fieldName)),1)}));let i=e[0];for(let t=1;t<e.length;t++)i.length<e[t].length&&(i=e[t]);let n=i.find((e=>e.fieldName===t.fieldName));e.forEach((e=>{let i=e.find((e=>e.fieldName===t.fieldName));i||n?!i&&n?(e.push(n),Object.assign(n,t)):Object.assign(i,t):e.push(t)}))}prepare_grouping_expression(e,t){if(t.dir===gb.None)return void e.forEach((e=>{e.splice(e.findIndex((e=>e.fieldName===t.fieldName)),1)}));let i=e[0];for(let t=1;t<e.length;t++)i.length<e[t].length&&(i=e[t]);let n=i.find((e=>e.fieldName===t.fieldName));e.forEach((e=>{let i=e.find((e=>e.fieldName===t.fieldName));i||n?!i&&n?(e.push(n),Object.assign(n,t)):Object.assign(i,t):e.push(t)}))}remove_grouping_expression(e){}filterDataByExpressions(e){let t=this.get_all_data();if(e.filteringOperands.length){let i={expressionsTree:e,strategy:this.grid.filterStrategy};t=Ob.filter(MS(t),i,this.grid)}return t}sortDataByExpressions(e,t){return Ib.sort(MS(e),t,this.grid.sortStrategy,this.grid)}pin_row(e,t,i){let n=this.grid;if(-1!==n._pinnedRecordIDs.indexOf(e))return;let r=this.get_pin_row_event_args(e,t,i,!0);if(n.rowPinning.emit(r),r.cancel)return;let s="number"==typeof r.insertAtIndex?r.insertAtIndex:n._pinnedRecordIDs.length;n._pinnedRecordIDs.splice(s,0,e)}unpin_row(e,t){let i=this.grid,n=i._pinnedRecordIDs.indexOf(e);if(-1===n)return;let r=this.get_pin_row_event_args(e,null,t,!1);i.rowPinning.emit(r),!r.cancel&&i._pinnedRecordIDs.splice(n,1)}get_pin_row_event_args(e,t,i,n){let r={isPinned:!!n,rowID:e,row:i,cancel:!1};return"number"==typeof t&&(r.insertAtIndex=t<=this.grid.pinnedRecords.length?t:this.grid.pinnedRecords.length),r}updateData(e,t,i,n,r){if(e.transactions.enabled){let i={id:t,type:hb.UPDATE,newValue:r};e.transactions.add(i,n)}else NS(i,r)}update_row_in_array(e,t,i){this.grid.data[i]=e}getSortStrategyPerColumn(e){return this.get_column_by_name(e)?this.get_column_by_name(e).sortStrategy:void 0}},t=e;return e.fac=function(t){return new(t||e)(pn(_k),pn(fM))},e.prov=ji({token:e,factory:e.fac}),t})(),gU=(()=>{let e=class extends uU{groupBy(e){let t=MS(this.grid.groupingExpressions);this.prepare_grouping_expression([t],e),this.grid.groupingExpressions=t,this.arrange_sorting_expressions()}groupBy_multiple(e){let t=MS(this.grid.groupingExpressions);for(let i of e)this.prepare_grouping_expression([t],i);this.grid.groupingExpressions=t,this.arrange_sorting_expressions()}clear_groupby(e){let t=MS(this.grid.groupingExpressions);if(e){let i="string"==typeof e?[e]:e,n=t.filter((e=>i.indexOf(e.fieldName)<0));this.grid.groupingExpressions=n,i.forEach((e=>{let i=t.findIndex((t=>t.fieldName===e)),n=this.grid.groupingExpansionState,r=n.filter((e=>e.hierarchy&&e.hierarchy.length<=i));r.length!==n.length&&(this.grid.groupingExpansionState=r)}))}else this.grid.groupingExpressions=[],this.grid.groupingExpansionState=[]}groupBy_get_expanded_for_group(e){let t=this.grid.groupingExpansionState,i=Ib.getHierarchy(e);return t.find((t=>Ib.isHierarchyMatch(t.hierarchy||[{fieldName:e.expression.fieldName,value:e.value}],i,this.grid.groupingExpressions)))}groupBy_is_row_in_group(e,t){let i=this.grid,n=!1;return e.records.forEach((e=>{(i.primaryKey?e[i.primaryKey]===t:e===t)&&(n=!0)})),n}groupBy_toggle_group(e){let t=this.grid;t.gridAPI.crudService.cellInEditMode&&this.crudService.endEdit(!1);let i=t.groupingExpansionState,n=this.groupBy_get_expanded_for_group(e);n?n.expanded=!n.expanded:i.push({expanded:!t.groupsExpanded,hierarchy:Ib.getHierarchy(e)}),this.grid.groupingExpansionState=[...i],t.rowEditable&&t.repositionRowEditingOverlay(t.gridAPI.crudService.rowInEditMode)}set_grouprow_expansion_state(e,t){this.grid.isExpandedGroup(e)!==t&&this.groupBy_toggle_group(e)}groupBy_fully_expand_group(e){let t=this.groupBy_get_expanded_for_group(e);(t?t.expanded:this.grid.groupsExpanded)||this.groupBy_toggle_group(e),e.groupParent&&this.groupBy_fully_expand_group(e.groupParent)}groupBy_select_all_rows_in_group(e,t){this.grid.selectionService.selectRowsWithNoEvent(this.grid.primaryKey?e.records.map((e=>e[this.grid.primaryKey])):e.records,t)}groupBy_deselect_all_rows_in_group(e){this.grid.selectionService.deselectRowsWithNoEvent(this.grid.primaryKey?e.records.map((e=>e[this.grid.primaryKey])):e.records)}arrange_sorting_expressions(){let e=this.grid.groupingExpressions,t=MS(this.grid.sortingExpressions);for(let i of e){let e=t.findIndex((e=>e.fieldName===i.fieldName));e>-1&&t.splice(e,1)}this.grid.sortingExpressions=t}get_groupBy_record_id(e){let t="{ ",i=Ib.getHierarchy(e);for(let e=0;e<i.length;e++){let n=i[e];t+=`'${n.fieldName}': '${n.value}'`,e<i.length-1&&(t+=", ")}return t+=" }",t}remove_grouping_expression(e){let t=this.grid.groupingExpressions,i=t.findIndex((t=>t.fieldName===e));-1!==i&&t.splice(i,1)}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.prov=ji({token:e,factory:e.fac}),t})(),pU=["groupContent"],mU=["defaultGroupByExpandedTemplate"],fU=["defaultGroupByCollapsedTemplate"];function yU(e,t){1&e&&(Jc(0),Yc(1,"div",10)(2,"igx-icon"),$h(3,"drag_indicator"),Xc()(),eh()),2&e&&(Ed(2),Th("visibility","hidden"))}function vU(e,t){}function xU(e,t){1&e&&Wc(0,vU,0,0,"ng-template",null,12,_g)}var _U=function(e,t,i){return{selectedCount:e,totalCount:t,groupRow:i}},wU=function(e){return{$implicit:e}};function CU(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"div",11),oh("pointerdown",(function(e){return e.preventDefault()}))("click",(function(t){return Is(e),Ts(dh().onGroupSelectorClick(t))})),Wc(2,xU,2,0,null,3),Xc(),eh()}if(2&e){let e=dh(),t=Kc(16);Ed(2),Uc("ngTemplateOutlet",e.grid.groupByRowSelectorTemplate?e.grid.groupByRowSelectorTemplate:t)("ngTemplateOutletContext",xu(6,wU,wu(2,_U,e.selectedRowsInTheGroup.length,e.groupRow.records.length,e.groupRow)))}}function SU(e,t){1&e&&th(0)}function bU(e,t){1&e&&th(0)}function DU(e,t){1&e&&(Yc(0,"igx-icon"),$h(1,"expand_more"),Xc())}function EU(e,t){1&e&&(Yc(0,"igx-icon"),$h(1,"chevron_right"),Xc())}var IU=function(e,t,i,n,r){return[e,t,i,n,r]};function TU(e,t){if(1&e&&(Yc(0,"div",13)(1,"igx-icon",14),$h(2,"group_work"),Xc(),Yc(3,"span",15),$h(4),Xc(),Yc(5,"span",16),$h(6),Pu(7,"columnFormatter"),Pu(8,"number"),Pu(9,"date"),Pu(10,"currency"),Pu(11,"percent"),Xc(),Zc(12,"igx-badge",17),Xc()),2&e){let e=dh();Ed(4),Kh(" ",e.groupRow.column&&e.groupRow.column.header?e.groupRow.column.header:e.groupRow.expression?e.groupRow.expression.fieldName:"",": "),Ed(2),jh(e.formatter?Lu(7,3,e.groupRow.value,e.formatter,e.groupRow.records[0],null):"number"===e.dataType?Nu(8,8,e.groupRow.value,e.groupRow.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.dataType||"time"===e.dataType||"dateTime"===e.dataType?Lu(9,12,e.groupRow.value,e.groupRow.column.pipeArgs.format,e.groupRow.column.pipeArgs.timezone,e.grid.locale):"currency"===e.dataType?Hu(10,17,Su(27,IU,e.groupRow.value,e.currencyCode,e.groupRow.column.pipeArgs.display,e.groupRow.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.dataType?Nu(11,23,e.groupRow.value,e.groupRow.column.pipeArgs.digitsInfo,e.grid.locale):e.groupRow.value),Ed(6),Uc("value",e.groupRow.records?e.groupRow.records.length:0)}}function AU(e,t){if(1&e&&(Yc(0,"div",18),Zc(1,"igx-checkbox",19,20),Xc()),2&e){let e=dh();Ed(1),Uc("tabindex",-1)("readonly",!0)("checked",e.areAllRowsInTheGroupSelected)("disableRipple",!0)("indeterminate",e.groupByRowCheckboxIndeterminateState)("disabled","single"===e.grid.rowSelection)("aria-label",e.groupByRowSelectorBaseAriaLabel)}}var kU=(()=>{let e=class{get focused(){return this.isActive()}get currencyCode(){return this.groupRow.column.pipeArgs.currencyCode?this.groupRow.column.pipeArgs.currencyCode:Mp(this.grid.locale)}constructor(e,t,i,n,r){this.grid=e,this.gridSelection=t,this.element=i,this.cdr=n,this.filteringService=r,this.isFocused=!1,this.destroy$=new We,this.defaultCssClass="igx-grid__group-row",this.paddingIndentationCssClass="igx-grid__group-row--padding-level",this.gridSelection.selectedRowsChange.pipe(yi(this.destroy$)).subscribe((()=>{this.cdr.markForCheck()}))}activate(){this.grid.navigation.setActiveNode({row:this.index})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}get expanded(){return this.grid.isExpandedGroup(this.groupRow)}get describedBy(){let e=void 0!==this.groupRow.expression?this.groupRow.expression.fieldName:"";return this.gridID+"_"+e}get dataRowIndex(){return this.index}get nativeElement(){return this.element.nativeElement}get attrCellID(){return`${this.gridID}_${this.index}`}get styleClasses(){return`${this.defaultCssClass} ${this.paddingIndentationCssClass}-`+this.groupRow.level+(this.isActive()?` ${this.defaultCssClass}--active`:"")}isActive(){return!!this.grid.navigation.activeNode&&this.grid.navigation.activeNode.row===this.index}getRowID(e){return this.grid.primaryKey?e[this.grid.primaryKey]:e}onGroupSelectorClick(e){this.grid.isMultiRowSelectionEnabled&&(e.stopPropagation(),this.areAllRowsInTheGroupSelected?this.gridSelection.deselectRows(this.groupRow.records.map((e=>this.getRowID(e)))):this.gridSelection.selectRows(this.groupRow.records.map((e=>this.getRowID(e)))))}toggle(){this.grid.toggleGroup(this.groupRow)}get iconTemplate(){return this.expanded?this.grid.rowExpandedIndicatorTemplate||this.defaultGroupByExpandedTemplate:this.grid.rowCollapsedIndicatorTemplate||this.defaultGroupByCollapsedTemplate}get selectionNode(){return{row:this.index,column:this.gridSelection.activeElement?this.gridSelection.activeElement.column:0}}get dataType(){let e=this.groupRow.column;return e&&e.dataType||Eb.String}get formatter(){let e=this.groupRow.column;return e&&e.formatter||null}get areAllRowsInTheGroupSelected(){return this.groupRow.records.every((e=>this.gridSelection.isRowSelected(this.getRowID(e))))}get selectedRowsInTheGroup(){let e=new Set(this.gridSelection.filteredSelectedRowIds);return this.groupRow.records.filter((t=>e.has(this.getRowID(t))))}get groupByRowCheckboxIndeterminateState(){return this.selectedRowsInTheGroup.length>0&&!this.areAllRowsInTheGroupSelected}get groupByRowSelectorBaseAriaLabel(){return(this.areAllRowsInTheGroupSelected?this.grid.resourceStrings.igx_grid_groupByArea_deselect_message:this.grid.resourceStrings.igx_grid_groupByArea_select_message).replace("{0}",this.groupRow.expression.fieldName).replace("{1}",this.groupRow.value)}get showRowSelectors(){return this.grid.rowSelection!==$b&&!this.hideGroupRowSelectors}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk),Rd(Lk),Rd(ld),Rd(Jg),Rd(tz))},e.cmp=Yn({type:e,selectors:[["igx-grid-groupby-row"]],viewQuery:function(e,t){if(1&e&&(pg(pU,7),pg(mU,7,ju),pg(fU,7,ju)),2&e){let e;gg(e=fg())&&(t.groupContent=e.first),gg(e=fg())&&(t.defaultGroupByExpandedTemplate=e.first),gg(e=fg())&&(t.defaultGroupByCollapsedTemplate=e.first)}},hostVars:6,hostBindings:function(e,t){1&e&&oh("pointerdown",(function(){return t.activate()})),2&e&&(Gc("aria-expanded",t.expanded)("aria-describedby",t.describedBy)("data-rowIndex",t.dataRowIndex)("id",t.attrCellID),kh(t.styleClasses))},inputs:{hideGroupRowSelectors:"hideGroupRowSelectors",rowDraggable:"rowDraggable",index:"index",gridID:"gridID",groupRow:"groupRow",isFocused:"isFocused"},standalone:!0,features:[yu],decls:17,vars:10,consts:[["defaultGroupRow",""],[4,"ngIf"],[1,"igx-grid__grouping-indicator",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"igx-grid__group-content"],["groupContent",""],["defaultGroupByExpandedTemplate",""],["defaultGroupByCollapsedTemplate",""],["defaultGroupByTemplate",""],["groupByRowSelectorBaseTemplate",""],[1,"igx-grid__drag-indicator","igx-grid__tr-action"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",2,"background","none",3,"pointerdown","click"],["groupByRowSelector",""],[1,"igx-group-label"],[1,"igx-group-label__icon"],[1,"igx-group-label__column-name"],[1,"igx-group-label__text"],[1,"igx-group-label__count-badge",3,"value"],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","disableRipple","indeterminate","disabled","aria-label"],["groupByRowCheckbox",""]],template:function(e,t){if(1&e&&(Jc(0,null,0),Wc(2,yU,4,2,"ng-container",1),Wc(3,CU,3,8,"ng-container",1),Yc(4,"div",2),oh("click",(function(){return t.toggle()})),Wc(5,SU,1,0,"ng-container",3),Xc(),Yc(6,"div",4,5),Wc(8,bU,1,0,"ng-container",3),Xc(),Wc(9,DU,2,0,"ng-template",null,6,_g),Wc(11,EU,2,0,"ng-template",null,7,_g),Wc(13,TU,13,33,"ng-template",null,8,_g),Wc(15,AU,3,7,"ng-template",null,9,_g),eh()),2&e){let e=Kc(14);Ed(2),Uc("ngIf",t.rowDraggable),Ed(1),Uc("ngIf",t.showRowSelectors),Ed(2),Uc("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",xu(6,wU,t)),Ed(3),Uc("ngTemplateOutlet",t.grid.groupRowTemplate?t.grid.groupRowTemplate:e)("ngTemplateOutletContext",xu(8,wU,t.groupRow))}},dependencies:[Em,Pm,Wm,$m,jm,Km,FI,eO,gk,G$],encapsulation:2,changeDetection:0}),t})(),RU=(()=>{let e=class extends MK{isValidPosition(e,t){return!(e<0||t<0||this.grid.dataView.length-1<e||Math.max(...this.grid.visibleColumns.map((e=>e.visibleIndex)))<t||this.activeNode.column!==t&&!this.isDataRow(e,!0))}shouldPerformVerticalScroll(e,t){if(!super.shouldPerformVerticalScroll(e,t))return!1;if(!this.isDataRow(e)||t<0)return super.shouldPerformVerticalScroll(e,t);let i=super.getRowElementByIndex(e),n=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,r=this.getVerticalScrollPositions(e,t);return!i||i.offsetTop+r.topOffset<Math.abs(this.containerTopOffset)||n&&n<r.rowBottom-Math.ceil(this.scrollTop)}isColumnFullyVisible(e){let t=this.grid.getColumnByVisibleIndex(e);if(this.isParentColumnFullyVisible(t?.parent)||super.isColumnPinned(e,this.forOfDir()))return!0;let i=this.getChildColumnScrollPositions(e),n=i.rightScroll-i.leftScroll;return this.displayContainerWidth<n&&this.displayContainerScrollLeft===i.leftScroll||this.displayContainerWidth>=i.rightScroll-this.displayContainerScrollLeft&&this.displayContainerScrollLeft<=i.leftScroll}getVerticalScrollPositions(e,t){let i=this.grid.getColumnByVisibleIndex(t),n=i.rowEnd&&i.rowEnd-i.rowStart?i.rowEnd-i.rowStart:1,r=this.grid.defaultRowHeight*(i.rowStart-1),s=this.grid.verticalScrollContainer.sizesCache[e]+r;return{topOffset:r,rowTop:s,rowBottom:s+this.grid.defaultRowHeight*n}}performHorizontalScrollToCell(e,t){if(!this.shouldPerformHorizontalScroll(e))return;let i=this.getChildColumnScrollPositions(e),n=i.rightScroll-this.displayContainerScrollLeft,r=!(this.displayContainerScrollLeft<=i.leftScroll)&&this.displayContainerWidth>=n?i.leftScroll:i.rightScroll-this.displayContainerWidth;this.forOfDir().getScroll().scrollLeft=r,this.grid.parentVirtDir.chunkLoad.pipe(ci()).subscribe((()=>{t&&t()}))}performVerticalScrollToCell(e,t,i){let n=this.parentByChildIndex(t||0)?.children;if(!super.isDataRow(e)||n&&n.length<2||t<0)return super.performVerticalScrollToCell(e,t,i);let r=this.grid.calcHeight?Math.ceil(this.grid.calcHeight):0,s=this.getVerticalScrollPositions(e,t),o=super.getRowElementByIndex(e);this.scrollTop>s.rowTop&&(!o||o.offsetTop+s.topOffset<Math.abs(this.containerTopOffset))?0===s.topOffset?this.grid.verticalScrollContainer.scrollTo(e):this.grid.verticalScrollContainer.scrollPosition=s.rowTop:this.grid.verticalScrollContainer.addScrollTop(Math.abs(s.rowBottom-this.scrollTop-r)),this.grid.verticalScrollContainer.chunkLoad.pipe(ci()).subscribe((()=>{i&&i()}))}getNextHorizontalCellPosition(e=!1){let t=this.parentByChildIndex(this.activeNode.column);if(!this.hasNextHorizontalPosition(e,t))return{row:this.activeNode.row,column:this.activeNode.column};let i=(e?t.children.filter((e=>e.rowStart<=this.activeNode.layout.rowStart)).sort(((e,t)=>t.visibleIndex-e.visibleIndex)):t.children.filter((e=>e.rowStart<=this.activeNode.layout.rowStart))).find((t=>e?t.visibleIndex<this.activeNode.column&&this.rowEnd(t)>this.activeNode.layout.rowStart:t.visibleIndex>this.activeNode.column&&t.colStart>this.activeNode.layout.colStart));if(!i||e&&1===this.activeNode.layout.colStart){let n=e?t.visibleIndex-1:t.visibleIndex+1,r=this.grid.columns.find((e=>e.columnLayout&&e.visibleIndex===n)).children;i=e?r.toArray().reverse().find((e=>e.rowStart<=this.activeNode.layout.rowStart)):r.find((e=>this.rowEnd(e)>this.activeNode.layout.rowStart&&1===e.colStart))}return{row:this.activeNode.row,column:i.visibleIndex}}getNextVerticalPosition(e=!1){if(this.activeNode.column=this.activeNode.column||0,!this.hasNextVerticalPosition(e))return{row:this.activeNode.row,column:this.activeNode.column};let t=this.grid.getColumnByVisibleIndex(this.activeNode.column).rowStart,i=!this.isDataRow(this.activeNode.row)||(e?1===t:t===this.lastRowStartPerBlock()),n=e?this.activeNode.row-1:this.activeNode.row+1;if(i&&!this.isDataRow(n))return{row:n,column:this.activeNode.column};let r=this.parentByChildIndex(this.activeNode.column).children,s=e?this.getPreviousRowIndex(r,i):this.getNextRowIndex(r,i);return{row:i?n:this.activeNode.row,column:s.visibleIndex}}headerNavigation(e){let t=e.key.toLowerCase();if(!QS.has(t))return;e.preventDefault(),this.activeNode.layout||(this.activeNode.layout=this.layout(this.activeNode.column||0));let i=e.altKey,n=e.ctrlKey;if(this.performHeaderKeyCombination(this.grid.getColumnByVisibleIndex(this.activeNode.column),t,e.shiftKey,n,i,e),n||i||!t.includes("down")&&!t.includes("up"))this.horizontalNav(e,t,-1,"headerCell");else{let e=this.parentByChildIndex(this.activeNode.column).children,i=t.includes("down")?this.getNextRowIndex(e,!1):this.getPreviousRowIndex(e,!1);if(!i)return;this.activeNode.column=i.visibleIndex;let n=this.layout(this.activeNode.column),r=v(y({},this.activeNode.layout),{rowStart:n.rowStart,rowEnd:n.rowEnd});this.setActiveNode({row:this.activeNode.row,layout:r})}}layout(e){let t=this.grid.getColumnByVisibleIndex(e);return{colStart:t.colStart,rowStart:t.rowStart,colEnd:t.colEnd,rowEnd:t.rowEnd,columnVisibleIndex:t.visibleIndex}}getNextPosition(e,t,i,n,r,s){switch(this.activeNode.layout||(this.activeNode.layout=this.layout(this.activeNode.column||0)),i){case"tab":case" ":case"spacebar":case"space":case"escape":case"esc":case"enter":case"f2":super.getNextPosition(e,t,i,n,r,s);break;case"end":e=r?this.findLastDataRowIndex():this.activeNode.row,t=r?this.lastColIndexPerMRLBlock(this.lastIndexPerRow):this.lastIndexPerRow;break;case"home":e=r?this.findFirstDataRowIndex():this.activeNode.row,t=r?0:this.firstIndexPerRow;break;case"arrowleft":case"left":t=r?this.firstIndexPerRow:this.getNextHorizontalCellPosition(!0).column;break;case"arrowright":case"right":t=r?this.lastIndexPerRow:this.getNextHorizontalCellPosition().column;break;case"arrowup":case"up":let o=this.getNextVerticalPosition(!0);t=r?this.activeNode.column:o.column,e=r?this.findFirstDataRowIndex():o.row;break;case"arrowdown":case"down":let a=this.getNextVerticalPosition();t=r?this.activeNode.column:a.column,e=r?this.findLastDataRowIndex():a.row;break;default:return}let o=this.layout(t),a=i.includes("up")||i.includes("down")?{rowStart:o.rowStart}:{colStart:o.colStart};return Object.assign(this.activeNode.layout,a,{rowEnd:o.rowEnd}),r&&("home"===i||"end"===i)&&(this.activeNode.layout=o),{rowIndex:e,colIndex:t}}horizontalNav(e,t,i,n){let r=e.ctrlKey;if(!jS.has(t)||e.altKey)return;this.activeNode.row=i;let s={column:this.activeNode.column,mchCache:{level:this.activeNode.level,visibleIndex:this.activeNode.column}};if((t.includes("left")||"home"===t)&&this.activeNode.column>0&&(s.column=r||"home"===t?this.firstIndexPerRow:this.getNextHorizontalCellPosition(!0).column),(t.includes("right")||"end"===t)&&this.activeNode.column!==this.lastIndexPerRow&&(s.column=r||"end"===t?this.lastIndexPerRow:this.getNextHorizontalCellPosition().column),"headerCell"===n){let e=this.grid.getColumnByVisibleIndex(s.column);s.mchCache.level=e.level,s.mchCache.visibleIndex=e.visibleIndex}let o=this.layout(s.column),a=v(y({},this.activeNode.layout),{colStart:o.colStart,rowEnd:o.rowEnd});this.setActiveNode({row:this.activeNode.row,column:s.column,layout:a,mchCache:s.mchCache}),this.performHorizontalScrollToCell(s.column)}isParentColumnFullyVisible(e){if(!this.forOfDir().getScroll().clientWidth||e?.pinned)return!0;let t=this.forOfDir().igxForOf.indexOf(e);return this.displayContainerWidth>=this.forOfDir().getColumnScrollLeft(t+1)-this.displayContainerScrollLeft&&this.displayContainerScrollLeft<=this.forOfDir().getColumnScrollLeft(t)}getChildColumnScrollPositions(e){let t=this.grid.getColumnByVisibleIndex(e),i=this.forOfDir().igxForOf.indexOf(t.parent),n=this.forOfDir().getColumnScrollLeft(i),r=this.forOfDir().getColumnScrollLeft(i+1);return t.parent.children.forEach((e=>{e.rowStart>=t.rowStart&&e.visibleIndex<t.visibleIndex&&(n+=parseInt(e.width,10)),e.rowStart<=t.rowStart&&e.visibleIndex>t.visibleIndex&&(r-=parseInt(e.width,10))})),{leftScroll:n,rightScroll:r}}getNextRowIndex(e,t){let i=t?1:this.rowEnd(this.grid.getColumnByVisibleIndex(this.activeNode.column)),n=e.filter((e=>e.rowStart===i));return n.find((e=>e.colStart===this.activeNode.layout.colStart))||n.sort(((e,t)=>t.visibleIndex-e.visibleIndex)).find((e=>e.colStart<=this.activeNode.layout.colStart))}getPreviousRowIndex(e,t){let i=t?Math.max(...e.map((e=>this.rowEnd(e)))):this.grid.getColumnByVisibleIndex(this.activeNode.column).rowStart,n=e.filter((e=>this.rowEnd(e)===i));return n.find((e=>e.colStart===this.activeNode.layout.colStart))||n.sort(((e,t)=>t.visibleIndex-e.visibleIndex)).find((e=>e.colStart<=this.activeNode.layout.colStart))}get lastIndexPerRow(){let e=this.grid.visibleColumns.find((e=>e.visibleIndex===this.lastLayoutIndex&&e.columnLayout)).children.toArray().reverse();return(e.find((e=>e.rowStart===this.activeNode.layout.rowStart))||e.find((e=>e.rowStart<=this.activeNode.layout.rowStart))).visibleIndex}get firstIndexPerRow(){let e=this.grid.visibleColumns.find((e=>0===e.visibleIndex&&e.columnLayout)).children;return(e.find((e=>e.rowStart===this.activeNode.layout.rowStart))||e.find((e=>e.rowStart<=this.activeNode.layout.rowStart))).visibleIndex}get lastLayoutIndex(){return Math.max(...this.grid.visibleColumns.filter((e=>e.columnLayout)).map((e=>e.visibleIndex)))}get scrollTop(){return Math.abs(this.grid.verticalScrollContainer.getScroll().scrollTop)}lastColIndexPerMRLBlock(e=this.activeNode.column){return this.parentByChildIndex(e).children.last.visibleIndex}lastRowStartPerBlock(e=this.activeNode.column){return Math.max(...this.parentByChildIndex(e).children.map((e=>e.rowStart)))}rowEnd(e){return e.rowEnd&&e.rowEnd-e.rowStart?e.rowStart+e.rowEnd-e.rowStart:e.rowStart+1}parentByChildIndex(e){return this.grid.getColumnByVisibleIndex(e)?.parent}hasNextHorizontalPosition(e=!1,t){return!(e&&0===t.visibleIndex&&1===this.activeNode.layout.colStart||!e&&t.visibleIndex===this.lastLayoutIndex&&this.activeNode.column===this.lastIndexPerRow)}hasNextVerticalPosition(e=!1){return!(e&&0===this.activeNode.row&&(!this.isDataRow(this.activeNode.row)||1===this.activeNode.layout.rowStart)||!e&&this.activeNode.row>=this.grid.dataView.length-1&&this.activeNode.column===this.lastColIndexPerMRLBlock())}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.prov=ji({token:e,factory:e.fac}),t})(),OU=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n){return t?this.addDetailRows(e,i):e}addDetailRows(e,t){let i=[];return e.forEach((e=>{if(i.push(e),!this.grid.isGroupByRecord(e)&&!this.grid.isSummaryRow(e)&&this.grid.gridAPI.get_row_expansion_state(e)){let t={detailsData:e};i.push(t)}})),i}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"gridDetails",type:e,pure:!0,standalone:!0}),t})(),FU=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o,a){return e.data&&t&&i!==Bb?this.addSummaryRows(r,e,n,s):e.data}addSummaryRows(e,t,i,n){let r=[],s=new Map,o=this.grid.summaryService.calcMaxSummaryHeight();if(t.metadata.length&&!this.grid.isGroupByRecord(t.data[0])&&this.grid.isGroupByRecord(t.metadata[0])&&i===Hb){let e=[];for(e.push(t.metadata[0]);e[e.length-1].groupParent;)e.push(e[e.length-1].groupParent);e.reverse(),e.forEach((e=>e.skip=!0)),t.data.splice(0,0,...e)}for(let e of t.data){let t,a=!1,l=null;if(this.grid.isGroupByRecord(e)?(a=!!e.skip,e.skip=null,l=e,t=this.grid.gridAPI.get_groupBy_record_id(l)):t=this.grid.gridAPI.get_row_id(e),a||r.push(e),i===Hb&&n&&l&&!this.grid.isExpandedGroup(l)){let e=this.removeDeletedRecord(this.grid,l.records.slice()),i={summaries:this.grid.summaryService.calculateSummaries(t,e),max:o};r.push(i)}if(i===Hb&&s.has(t)){let e=s.get(t);for(let t of e){let e=this.grid.gridAPI.get_groupBy_record_id(t),i=this.removeDeletedRecord(this.grid,t.records.slice()),n={summaries:this.grid.summaryService.calculateSummaries(e,i,t),max:o};r.push(n)}}let d=!n&&l&&!this.grid.isExpandedGroup(l);if(null!==l&&!d)if(i===Lb){let e=this.removeDeletedRecord(this.grid,l.records.slice()),i={summaries:this.grid.summaryService.calculateSummaries(t,e,l),max:o};r.push(i)}else if(i===Hb){let e,t=l;for(;t.groups&&t.groups.length>0&&this.grid.isExpandedGroup(t);)t=t.groups[t.groups.length-1];e=this.grid.isExpandedGroup(t)?this.grid.gridAPI.get_row_id(t.records[t.records.length-1]):this.grid.gridAPI.get_groupBy_record_id(t);let i=s.get(e);i||(i=[],s.set(e,i)),i.unshift(l)}}return r}removeDeletedRecord(e,t){return e.transactions.enabled&&e.transactions.getTransactionLog().filter((e=>"delete"===e.type)).map((e=>e.id)).forEach((i=>{let n=(e.primaryKey?t.map((t=>t[e.primaryKey])):t).indexOf(i);-1!==n&&t.splice(n,1)})),t}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"gridSummary",type:e,pure:!0,standalone:!0}),t})(),PU=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o){let a,l=i.concat(t);return a=l.length?Ib.sort(MS(e),l,n,this.grid):e,this.grid.setFilteredSortedData(a,o),a}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"gridSort",type:e,pure:!0,standalone:!0}),t})(),MU=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o,a){let l={expressions:[],expansion:[],defaultExpanded:r};l.expressions=this.grid.groupingExpressions;let d,c={data:[],metadata:[]};return l.expressions.length?(l.expansion=this.grid.groupingExpansionState,l.defaultExpanded=this.grid.groupsExpanded,d=Ib.group(MS(e),l,n,this.grid,o,c)):(o.splice(0,o.length),d={data:e,metadata:e}),this.grid.groupingFlatResult=d.data,this.grid.groupingResult=c.data,this.grid.groupingMetadata=c.metadata,d}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"gridGroupBy",type:e,pure:!0,standalone:!0}),t})(),VU=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i=0,n=15,r){if(!t||this.grid.pagingMode!==Zb.Local)return e;let s={index:i,recordsPerPage:n},o=this.grid._totalRecords>=0?this.grid._totalRecords:e.data?.length;Ib.correctPagingState(s,o);let a={data:Ib.page(MS(e.data),s,o),metadata:Ib.page(MS(e.metadata),s,o)};return this.grid.page!==s.index&&(this.grid.page=s.index),this.grid.pagingState=s,a}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"gridPaging",type:e,pure:!0,standalone:!0}),t})(),NU=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o,a){let l={expressionsTree:t,strategy:i,advancedExpressionsTree:n};if(kb.empty(l.expressionsTree)&&kb.empty(l.advancedExpressionsTree))return e;let d=Ob.filter(MS(e),l,this.grid);return this.grid.setFilteredData(d,a),d}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"gridFiltering",type:e,pure:!0,standalone:!0}),t})(),LU=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t=0){let i=this.grid.summaryService;return i.calculateSummaries(i.rootSummaryID,this.grid.gridAPI.get_summary_data())}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"igxGridSummaryDataPipe",type:e,pure:!0,standalone:!0}),t})(),HU=["errorIcon"],BU=["defaultError"],GU=["defaultCell"],zU=["defaultPinnedIndicator"],$U=["inlineEditor"],WU=["addRowCell"],jU=["error"];function KU(e,t){if(1&e&&(Yc(0,"igx-chip",8),$h(1),Xc()),2&e){let e=dh(2);Uc("disabled",!0)("displayDensity","compact"),Ed(1),jh(e.grid.resourceStrings.igx_grid_pinned_row_indicator)}}function UU(e,t){1&e&&Wc(0,KU,2,3,"igx-chip",7),2&e&&Uc("ngIf",dh().displayPinnedChip)}var qU=function(e,t,i,n,r){return[e,t,i,n,r]};function YU(e,t){if(1&e&&(Yc(0,"div",12),Pu(1,"columnFormatter"),Pu(2,"number"),Pu(3,"date"),Pu(4,"currency"),Pu(5,"percent"),$h(6),Pu(7,"columnFormatter"),Pu(8,"number"),Pu(9,"date"),Pu(10,"currency"),Pu(11,"percent"),Xc()),2&e){let e=dh(2);Uc("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?Lu(1,9,e.value,e.formatter,e.rowData,e.columnData):"number"===e.column.dataType?Nu(2,14,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?Lu(3,18,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?Hu(4,23,Su(57,qU,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Nu(5,29,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Ed(6),jh(e.formatter?Lu(7,33,e.value,e.formatter,e.rowData,e.columnData):"number"===e.column.dataType?Nu(8,38,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?Lu(9,42,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?Hu(10,47,Su(63,qU,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Nu(11,53,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)}}var XU=function(e,t){return{"igx-icon--success":e,"igx-icon--error":t}};function ZU(e,t){if(1&e&&(Yc(0,"igx-icon",13),$h(1),Xc()),2&e){let e=dh(2);Uc("ngClass",_u(2,XU,e.value,!e.value)),Ed(1),jh(e.value?"check":"close")}}function QU(e,t){if(1&e&&(Zc(0,"img",14),Pu(1,"igxCellImageAlt")),2&e){let e=dh(2);Uc("src",e.value,Sl)("alt",Mu(1,2,e.value))}}function JU(e,t){if(1&e&&(Wc(0,YU,12,69,"div",9),Wc(1,ZU,2,5,"igx-icon",10),Wc(2,QU,2,4,"img",11)),2&e){let e=dh();Uc("ngIf","boolean"!==e.column.dataType&&"image"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter),Ed(1),Uc("ngIf","boolean"===e.column.dataType&&!e.formatter),Ed(1),Uc("ngIf","image"===e.column.dataType)}}function eq(e,t){if(1&e&&(Yc(0,"div",12),Pu(1,"columnFormatter"),Pu(2,"number"),Pu(3,"date"),Pu(4,"currency"),Pu(5,"percent"),$h(6),Xc()),2&e){let e=dh(2);Uc("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?Nu(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?Nu(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?Lu(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?Hu(4,22,Su(32,qU,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Nu(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Ed(6),jh(e.isEmptyAddRowCell?e.column.header||e.column.field:e.value)}}function tq(e,t){if(1&e&&Wc(0,eq,7,38,"div",15),2&e){let e=dh();Uc("ngIf","boolean"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter)}}function iq(e,t){if(1&e){let e=nh();Jc(0,17),Yc(1,"igx-input-group",18)(2,"input",19),oh("compositionstart",(function(){return Is(e),Ts(dh(2).grid.crudService.isInCompositionMode=!0)}))("compositionend",(function(){return Is(e),Ts(dh(2).grid.crudService.isInCompositionMode=!1)})),Xc()(),eh()}if(2&e){let e=dh(2);Uc("formGroup",e.formGroup),Ed(2),Uc("igxFocus",!0)("igxTextSelection",!0)("formControl",e.formControl),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function nq(e,t){if(1&e&&(Jc(0),Yc(1,"igx-input-group",20),Zc(2,"input",21),Xc(),eh()),2&e){let e=dh(2);Ed(1),Uc("formGroup",e.formGroup),Ed(1),Uc("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function rq(e,t){if(1&e&&(Jc(0,17),Zc(1,"igx-checkbox",22),eh()),2&e){let e=dh(2);Uc("formGroup",e.formGroup),Ed(1),Uc("checked",e.editValue)("igxFocus",!0)("disableRipple",!0)("formControl",e.formControl)}}function sq(e,t){if(1&e){let e=nh();Jc(0,17),Yc(1,"igx-date-picker",23),oh("valueChange",(function(t){return Is(e),Ts(dh(2).editValue=t)})),Xc(),eh()}if(2&e){let e=dh(2);Uc("formGroup",e.formGroup),Ed(1),Th("width",100,"%"),Uc("outlet",e.grid.outlet)("locale",e.grid.locale)("weekStart",e.column.pipeArgs.weekStart)("value",e.editValue)("igxFocus",!0)("formControl",e.formControl)}}function oq(e,t){if(1&e){let e=nh();Jc(0,17),Yc(1,"igx-time-picker",24),oh("valueChange",(function(t){return Is(e),Ts(dh(2).editValue=t)})),Xc(),eh()}if(2&e){let e=dh(2);Uc("formGroup",e.formGroup),Ed(1),Th("width",100,"%"),Uc("outlet",e.grid.outlet)("locale",e.grid.locale)("inputFormat",e.column.defaultTimeFormat)("value",e.editValue)("igxFocus",!0)("formControl",e.formControl)}}function aq(e,t){if(1&e&&(Jc(0),Yc(1,"igx-input-group",17),Zc(2,"input",25),Xc(),eh()),2&e){let e=dh(2);Ed(1),Uc("formGroup",e.formGroup),Ed(1),Uc("formControl",e.formControl)("igxDateTimeEditor",e.column.defaultDateTimeFormat)("igxFocus",!0),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function lq(e,t){if(1&e&&(Yc(0,"igx-prefix"),$h(1),Xc()),2&e){let e=dh(3);Ed(1),jh(e.currencyCodeSymbol)}}function dq(e,t){if(1&e&&(Yc(0,"igx-suffix"),$h(1),Xc()),2&e){let e=dh(3);Ed(1),jh(e.currencyCodeSymbol)}}function cq(e,t){if(1&e&&(Jc(0),Yc(1,"igx-input-group",20),Wc(2,lq,2,1,"igx-prefix",5),Zc(3,"input",21),Wc(4,dq,2,1,"igx-suffix",5),Xc(),eh()),2&e){let e=dh(2);Ed(1),Uc("formGroup",e.formGroup),Ed(1),Uc("ngIf",e.grid.currencyPositionLeft),Ed(1),Uc("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Ed(1),Uc("ngIf",!e.grid.currencyPositionLeft)}}function hq(e,t){if(1&e&&(Jc(0),Yc(1,"igx-input-group",20),Zc(2,"input",21),Yc(3,"igx-suffix"),$h(4),Pu(5,"percent"),Xc()(),eh()),2&e){let e=dh(2);Ed(1),Uc("formGroup",e.formGroup),Ed(1),Uc("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Ed(2),Kh(" ",Nu(5,8,e.editValue,e.column.pipeArgs.digitsInfo,e.grid.locale)," ")}}function uq(e,t){if(1&e&&(Wc(0,iq,3,6,"ng-container",16),Wc(1,nq,3,7,"ng-container",5),Wc(2,rq,2,5,"ng-container",16),Wc(3,sq,2,9,"ng-container",16),Wc(4,oq,2,9,"ng-container",16),Wc(5,aq,3,6,"ng-container",5),Wc(6,cq,5,9,"ng-container",5),Wc(7,hq,6,12,"ng-container",5)),2&e){let e=dh();Uc("ngIf","string"===e.column.dataType||"image"===e.column.dataType),Ed(1),Uc("ngIf","number"===e.column.dataType),Ed(1),Uc("ngIf","boolean"===e.column.dataType),Ed(1),Uc("ngIf","date"===e.column.dataType),Ed(1),Uc("ngIf","time"===e.column.dataType),Ed(1),Uc("ngIf","dateTime"===e.column.dataType),Ed(1),Uc("ngIf","currency"===e.column.dataType),Ed(1),Uc("ngIf","percent"===e.column.dataType)}}function gq(e,t){1&e&&th(0)}function pq(e,t){1&e&&th(0)}function mq(e,t){1&e&&th(0)}function fq(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"igx-icon",26,27),oh("mouseover",(function(){return Is(e),Ts(dh().errorShowing=!0)}))("mouseout",(function(){return Is(e),Ts(dh().errorShowing=!1)})),$h(3,"error"),Xc(),Yc(4,"div",28,29)(7,"div"),Wc(8,mq,1,0,"ng-container",4),Xc()(),eh()}if(2&e){let e=Kc(6),t=dh(),i=Kc(12);Ed(1),Uc("igxTooltipTarget",e)("igxToggleOutlet",t.grid.outlet),Ed(3),Uc("id",t.ariaErrorMessage),Ed(3),Th("width","max-content"),Ed(1),Uc("ngTemplateOutlet",t.cellValidationErrorTemplate||i)("ngTemplateOutletContext",t.context)}}function yq(e,t){if(1&e&&(Yc(0,"div"),$h(1),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",e.grid.resourceStrings.igx_grid_required_validation_error," ")}}function vq(e,t){if(1&e&&(Yc(0,"div"),$h(1),Pu(2,"igxStringReplace"),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",Nu(2,1,e.grid.resourceStrings.igx_grid_min_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.minlength.requiredLength)," ")}}function xq(e,t){if(1&e&&(Yc(0,"div"),$h(1),Pu(2,"igxStringReplace"),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",Nu(2,1,e.grid.resourceStrings.igx_grid_max_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.maxlength.requiredLength)," ")}}function _q(e,t){if(1&e&&(Yc(0,"div"),$h(1),Pu(2,"igxStringReplace"),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",Nu(2,1,e.grid.resourceStrings.igx_grid_min_validation_error,"{0}",e.formGroup.get(e.column.field).errors.min.min)," ")}}function wq(e,t){if(1&e&&(Yc(0,"div"),$h(1),Pu(2,"igxStringReplace"),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",Nu(2,1,e.grid.resourceStrings.igx_grid_max_validation_error,"{0}",e.formGroup.get(e.column.field).errors.max.max)," ")}}function Cq(e,t){if(1&e&&(Yc(0,"div"),$h(1),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",e.grid.resourceStrings.igx_grid_email_validation_error," ")}}function Sq(e,t){if(1&e&&(Yc(0,"div"),$h(1),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",e.grid.resourceStrings.igx_grid_pattern_validation_error," ")}}function bq(e,t){if(1&e&&(Wc(0,yq,2,1,"div",5),Wc(1,vq,3,5,"div",5),Wc(2,xq,3,5,"div",5),Wc(3,_q,3,5,"div",5),Wc(4,wq,3,5,"div",5),Wc(5,Cq,2,1,"div",5),Wc(6,Sq,2,1,"div",5)),2&e){let e=dh();Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.required),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.minlength),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.maxlength),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.min),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.max),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.email),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.pattern)}}var Dq=(()=>{let e=class{get isEmptyAddRowCell(){return this.intRow.addRowUI&&(void 0===this.value||null===this.value)}get formGroup(){return this.grid.validation.getFormGroup(this.intRow.key)}get row(){return this.grid.createRow(this.intRow.index)}get context(){let e=()=>this.getCellType(!0),t={$implicit:this.value,additionalTemplateContext:this.column.additionalTemplateContext,get cell(){return e()}};return this.editMode&&(t.formControl=this.formControl),this.isInvalid&&(t.defaultErrorTemplate=this.defaultErrorTemplate),t}get template(){return this.editMode&&this.formGroup?this.column.inlineEditorTemplate||this.inlineEditorTemplate:this.cellTemplate?this.cellTemplate:this.grid.rowEditable&&this.intRow.addRowUI?this.addRowCellTemplate:this.defaultCellTemplate}get pinnedIndicatorTemplate(){return this.pinnedIndicator?this.pinnedIndicator:this.defaultPinnedIndicator}get gridID(){return this.intRow.gridID}get rowIndex(){return this.intRow.index}get columnIndex(){return this.column.index}get visibleColumnIndex(){return this.column.columnLayoutChild?this.column.visibleIndex:this._vIndex}set visibleColumnIndex(e){this._vIndex=e}get cellID(){let e=this.grid.primaryKey;return{rowID:e?this.rowData[e]:this.rowData,columnID:this.columnIndex,rowIndex:this.rowIndex}}get attrCellID(){return`${this.intRow.gridID}_${this.rowIndex}_${this.visibleColumnIndex}`}get title(){if(this.editMode||this.cellTemplate||this.errorShowing)return"";if(this.formatter)return this.formatter(this.value,this.rowData,this.columnData);let e=this.column.pipeArgs,t=this.grid.locale;switch(this.column.dataType){case Eb.Percent:return ym(this.value,t,e.digitsInfo);case Eb.Currency:return lb(this.value,this.currencyCode,e.display,e.digitsInfo,t);case Eb.Date:case Eb.DateTime:case Eb.Time:return ab(this.value,e.format,t,e.timezone)}return this.value}get booleanClass(){return"boolean"===this.column.dataType&&this.value}get nativeElement(){return this.element.nativeElement}get cellSelectionMode(){return this._cellSelection}set cellSelectionMode(e){this._cellSelection!==e&&(this.zone.runOutsideAngular((()=>{e===jb?this.addPointerListeners(e):this.removePointerListeners(this._cellSelection)})),this._cellSelection=e)}set lastSearchInfo(e){this._lastSearchInfo=e,this.highlightText(this._lastSearchInfo.searchText,this._lastSearchInfo.caseSensitive,this._lastSearchInfo.exactMatch)}get readonly(){return!this.editable}get ariaDescribeBy(){let e=(this.gridID+"_"+this.column.field).replace(".","_");return this.isInvalid&&(e+=" "+this.ariaErrorMessage),e}get ariaErrorMessage(){return this.grid.id+"_"+this.column.field+"_"+this.intRow.index+"_error"}get isInvalid(){let e=this.formGroup?.get(this.column?.field)?.invalid&&this.formGroup?.get(this.column?.field)?.touched;return!this.intRow.deleted&&e}get isValidAfterEdit(){let e=this.formGroup?.get(this.column?.field);return this.editMode&&e&&!e.invalid&&e.dirty}get formControl(){return this.grid.validation.getFormControl(this.intRow.key,this.column.field)}get gridRowSpan(){return this.column.gridRowSpan}get gridColumnSpan(){return this.column.gridColumnSpan}get rowEnd(){return this.column.rowEnd}get colEnd(){return this.column.colEnd}get rowStart(){return this.column.rowStart}get colStart(){return this.column.colStart}get ariaSelected(){return this.selected||this.column.selected||this.intRow.selected}get selected(){return this.selectionService.selected(this.selectionNode)}set selected(e){let t=this.selectionNode;e?this.selectionService.add(t):this.selectionService.remove(t),this.grid.notifyChanges()}get columnSelected(){return this.selectionService.isColumnSelected(this.column.field)}set editValue(e){this.grid.crudService.cellInEditMode&&(this.grid.crudService.cell.editValue=e)}get editValue(){if(this.grid.crudService.cellInEditMode)return this.grid.crudService.cell.editValue}get editable(){return this.column.editable&&!this.intRow.disabled}set highlight(e){this._highlight=e,this._highlight&&this.grid.lastSearchInfo.searchText&&(this._highlight.highlight(this.grid.lastSearchInfo.searchText,this.grid.lastSearchInfo.caseSensitive,this.grid.lastSearchInfo.exactMatch),this._highlight.activateIfNecessary())}get highlight(){return this._highlight}get selectionNode(){return{row:this.rowIndex,column:this.column.columnLayoutChild?this.column.parent.visibleIndex:this.visibleColumnIndex,layout:this.column.columnLayoutChild?{rowStart:this.column.rowStart,colStart:this.column.colStart,rowEnd:this.column.rowEnd,colEnd:this.column.colEnd,columnVisibleIndex:this.visibleColumnIndex}:null}}get step(){let e=this.column.pipeArgs.digitsInfo;if(!e)return 1;let t=+e.substr(e.indexOf(".")+1,1);return 1/Math.pow(10,t)}get currencyCode(){return this.column.pipeArgs.currencyCode?this.column.pipeArgs.currencyCode:Mp(this.grid.locale)}get currencyCodeSymbol(){return Hp(this.currencyCode,"wide",this.grid.locale)}constructor(e,t,i,n,r,s,o,a){this.selectionService=e,this.grid=t,this.overlayService=i,this.cdr=n,this.element=r,this.zone=s,this.touchManager=o,this.platformUtil=a,this._destroy$=new We,this.lastPinned=!1,this.firstPinned=!1,this.editMode=!1,this.role="gridcell",this.width="",this.active=!1,this.displayPinnedChip=!1,this.highlightClass="igx-highlight",this.activeHighlightClass="igx-highlight__active",this._cellSelection=jb,this._vIndex=-1,this.onDoubleClick=e=>{"doubletap"===e.type&&e.preventDefault(),this.editable&&!this.editMode&&!this.intRow.deleted&&!this.grid.crudService.rowEditingBlocked&&this.grid.crudService.enterEditMode(this,e),this.grid.doubleClick.emit({cell:this.getCellType(),event:e})},this.errorShowing=!1,this.pointerdown=e=>{if(this.cellSelectionMode===jb){if(!this.platformUtil.isLeftClick(e))return e.preventDefault(),this.grid.navigation.setActiveNode({rowIndex:this.rowIndex,colIndex:this.visibleColumnIndex}),this.selectionService.addKeyboardRange(),this.selectionService.initKeyboardState(),this.selectionService.primaryButton=!1,void(this.selected||this.grid.crudService.updateCell(!0,e));this.selectionService.primaryButton=!0,this.selectionService.pointerDown(this.selectionNode,e.shiftKey,e.ctrlKey),this.activate(e)}else this.activate(e)},this.pointerenter=e=>{(!/^ig.-hierarchical-grid$/.test(this.grid.nativeElement.tagName.toLowerCase())||this.grid.navigation?.activeNode?.gridID&&this.grid.navigation.activeNode.gridID===this.gridID)&&this.selectionService.pointerEnter(this.selectionNode,e)&&this.grid.cdr.detectChanges()},this.focusout=()=>{this.closeErrorTooltip()},this.pointerup=e=>{let t=/^ig.-hierarchical-grid$/.test(this.grid.nativeElement.tagName.toLowerCase());!this.platformUtil.isLeftClick(e)||t&&(!this.grid.navigation?.activeNode?.gridID||this.grid.navigation.activeNode.gridID!==this.gridID)||this.selectionService.pointerUp(this.selectionNode,this.grid.rangeSelected)&&this.grid.cdr.detectChanges()}}onClick(e){this.grid.cellClick.emit({cell:this.getCellType(),event:e})}onContextMenu(e){this.grid.contextMenu.emit({cell:this.getCellType(),event:e})}ngOnInit(){this.zone.runOutsideAngular((()=>{this.nativeElement.addEventListener("pointerdown",this.pointerdown),this.addPointerListeners(this.cellSelectionMode)})),this.platformUtil.isIOS&&this.touchManager.addEventListener(this.nativeElement,"doubletap",this.onDoubleClick,{cssProps:{}})}ngAfterViewInit(){this.errorTooltip.changes.pipe(yi(this._destroy$)).subscribe((()=>{this.errorTooltip.length>0&&this.active&&(this.cdr.detectChanges(),this.openErrorTooltip())}))}openErrorTooltip(){this.errorTooltip.first.open({target:this.errorIcon.el.nativeElement,closeOnOutsideClick:!0,excludeFromOutsideClick:[this.nativeElement],closeOnEscape:!1,outlet:this.grid.outlet,modal:!1,positionStrategy:new RE({horizontalStartPoint:CE.Center,horizontalDirection:CE.Center})})}ngOnDestroy(){this.zone.runOutsideAngular((()=>{this.nativeElement.removeEventListener("pointerdown",this.pointerdown),this.removePointerListeners(this.cellSelectionMode)})),this.touchManager.destroy(),this._destroy$.next(),this._destroy$.complete()}ngOnChanges(e){e.editMode&&e.editMode.currentValue&&this.formControl&&(this.formControl.valueChanges.pipe(_i((()=>this.editMode))).subscribe((()=>this.formControl.markAsTouched())),this.formControl.statusChanges.pipe(_i((()=>this.editMode))).subscribe((e=>{if("INVALID"===e&&this.errorTooltip.length>0){this.cdr.detectChanges();let e=this.errorTooltip.first;this.resizeAndRepositionOverlayById(e.overlayId,this.errorTooltip.first.element.offsetWidth)}}))),e.value&&!e.value.firstChange&&this.highlight&&(this.highlight.lastSearchInfo.searchedText=this.grid.lastSearchInfo.searchText,this.highlight.lastSearchInfo.caseSensitive=this.grid.lastSearchInfo.caseSensitive,this.highlight.lastSearchInfo.exactMatch=this.grid.lastSearchInfo.exactMatch)}resizeAndRepositionOverlayById(e,t){let i=this.overlayService.getOverlayById(e);i&&(i.initialSize.width=t,i.elementRef.nativeElement.parentElement.style.width=t+"px",this.overlayService.reposition(e))}setEditMode(e){this.intRow.deleted||(this.editable&&e?(this.grid.crudService.cellInEditMode&&(this.grid.gridAPI.update_cell(this.grid.crudService.cell),this.grid.crudService.endCellEdit()),this.grid.crudService.enterEditMode(this)):this.grid.crudService.endCellEdit(),this.grid.notifyChanges())}update(e){if(this.intRow.deleted)return;let t=this.grid.crudService.cell;t||(t=this.grid.crudService.createCell(this)),t.editValue=e,this.grid.gridAPI.update_cell(t),this.grid.crudService.endCellEdit(),this.cdr.markForCheck()}closeErrorTooltip(){let e=this.errorTooltip.first;e&&e.close()}activate(e){let t=this.selectionNode,i=!this.selectionService.isActiveNode(t);if(this.selectionService.primaryButton){let n=this.selectionService.activeElement;if(this.cellSelectionMode===Wb&&e?.ctrlKey&&this.selected?(this.selectionService.activeElement=null,i=!0):this.selectionService.activeElement=t,this._updateCRUDStatus(e))return void(this.selectionService.activeElement=n);let r=this.selectionService.activeElement,s=r?this.grid.gridAPI.get_row_by_index(r.row):null;if(this.grid.crudService.rowEditingBlocked&&s&&this.intRow.key!==s.key)return}else this.selectionService.activeElement=null,this.grid.crudService.cellInEditMode&&!this.editMode&&this.grid.crudService.updateCell(!0,e);this.grid.navigation.setActiveNode({row:this.rowIndex,column:this.visibleColumnIndex});let n=e&&e.target&&e.target===this.errorIcon?.el.nativeElement;this.isInvalid&&!n&&(this.cdr.detectChanges(),this.openErrorTooltip(),this.grid.activeNodeChange.pipe(ci()).subscribe((()=>{this.closeErrorTooltip()}))),this.selectionService.primaryButton=!0,this.cellSelectionMode===jb&&this.selectionService.activeElement&&(this.selectionService.isInMap(this.selectionService.activeElement)&&e?.ctrlKey&&!e?.shiftKey?(this.selectionService.remove(this.selectionService.activeElement),i=!0):(this.selectionService.add(this.selectionService.activeElement,!1),this.selectionService.keyboardStateOnFocus(t,this.grid.rangeSelected,this.nativeElement))),this.grid.isCellSelectable&&i&&this.zone.run((()=>this.grid.selected.emit({cell:this.getCellType(),event:e})))}highlightText(e,t,i){return this.highlight&&this.column.searchable?this.highlight.highlight(e,t,i):0}clearHighlight(){this.highlight&&this.column.searchable&&this.highlight.clearHighlight()}calculateSizeToFit(e){return this.platformUtil.getNodeSizeViaRange(e,this.nativeElement)}get searchMetadata(){let e=new Map;return e.set("pinned",this.grid.isRecordPinnedByViewIndex(this.intRow.index)),e}_updateCRUDStatus(e){if(this.editMode)return;let t,i=this.grid.crudService,n=this.grid.crudService.cell,r=!(!i.row&&!i.cell);if(this.editable&&r&&!this.intRow.deleted){if(n){if(t=this.grid.crudService.updateCell(!1,e),this.grid.sortingExpressions.length&&this.grid.sortingExpressions.indexOf(n.column.field)&&this.grid.cdr.detectChanges(),t&&t.cancel)return!0;i.exitCellEdit(e)}return this.grid.tbody.nativeElement.focus({preventScroll:!0}),this.grid.notifyChanges(),i.enterEditMode(this,e),!1}n&&i.sameRow(this.cellID.rowID)?this.grid.crudService.updateCell(!0,e):r&&!i.sameRow(this.cellID.rowID)&&this.grid.crudService.endEdit(!0,e)}addPointerListeners(e){e===jb&&(this.nativeElement.addEventListener("pointerenter",this.pointerenter),this.nativeElement.addEventListener("pointerup",this.pointerup),this.nativeElement.addEventListener("focusout",this.focusout))}removePointerListeners(e){e===jb&&(this.nativeElement.removeEventListener("pointerenter",this.pointerenter),this.nativeElement.removeEventListener("pointerup",this.pointerup),this.nativeElement.removeEventListener("focusout",this.focusout))}getCellType(e){let t=e?this.grid.createRow(this.intRow.index,this.intRow.data):this.intRow.index;return new yM(this.grid,t,this.column.field)}},t=e;return e.fac=function(t){return new(t||e)(Rd(Lk),Rd(wk),Rd(LE),Rd(Jg),Rd(ld),Rd(Ig),Rd(MM),Rd($S))},e.cmp=Yn({type:e,selectors:[["igx-grid-cell"]],viewQuery:function(e,t){if(1&e&&(pg(HU,5,FI),pg(BU,7,ju),pg(GU,7,ju),pg(zU,7,ju),pg($U,7,ju),pg(WU,7,ju),pg(uA,5,uA),pg(jU,5,_A)),2&e){let e;gg(e=fg())&&(t.errorIcon=e.first),gg(e=fg())&&(t.defaultErrorTemplate=e.first),gg(e=fg())&&(t.defaultCellTemplate=e.first),gg(e=fg())&&(t.defaultPinnedIndicator=e.first),gg(e=fg())&&(t.inlineEditorTemplate=e.first),gg(e=fg())&&(t.addRowCellTemplate=e.first),gg(e=fg())&&(t.highlight=e.first),gg(e=fg())&&(t.errorTooltip=e)}},hostVars:31,hostBindings:function(e,t){1&e&&oh("dblclick",(function(e){return t.onDoubleClick(e)}))("click",(function(e){return t.onClick(e)}))("contextmenu",(function(e){return t.onContextMenu(e)})),2&e&&(Gc("data-rowIndex",t.rowIndex)("data-visibleIndex",t.visibleColumnIndex)("id",t.attrCellID)("title",t.title)("role",t.role)("aria-readonly",t.readonly)("aria-describedby",t.ariaDescribeBy)("aria-invalid",t.isInvalid)("aria-selected",t.ariaSelected),Ah("igx-grid__td--new",t.isEmptyAddRowCell)("igx-grid__td--bool-true",t.booleanClass)("igx-grid__td--pinned-last",t.lastPinned)("igx-grid__td--pinned-first",t.firstPinned)("igx-grid__td--editing",t.editMode)("igx-grid__td--invalid",t.isInvalid)("igx-grid__td--valid",t.isValidAfterEdit)("igx-grid__td--active",t.active)("igx-grid__td--selected",t.selected)("igx-grid__td--column-selected",t.columnSelected)("igx-grid__td--row-pinned-first",t.displayPinnedChip))},inputs:{column:"column",intRow:"intRow",row:"row",rowData:"rowData",columnData:"columnData",cellTemplate:"cellTemplate",cellValidationErrorTemplate:"cellValidationErrorTemplate",pinnedIndicator:"pinnedIndicator",value:"value",formatter:"formatter",visibleColumnIndex:"visibleColumnIndex",cellSelectionMode:"cellSelectionMode",lastSearchInfo:"lastSearchInfo",lastPinned:"lastPinned",firstPinned:"firstPinned",editMode:"editMode",width:"width",active:"active",displayPinnedChip:"displayPinnedChip"},standalone:!0,features:[cu([MM]),ns,yu],decls:13,vars:5,consts:[["defaultPinnedIndicator",""],["defaultCell",""],["addRowCell",""],["inlineEditor",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["defaultError",""],["class","igx-grid__td--pinned-chip",3,"disabled","displayDensity",4,"ngIf"],[1,"igx-grid__td--pinned-chip",3,"disabled","displayDensity"],["igxTextHighlight","","class","igx-grid__td-text","style","pointer-events: none;",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"src","alt",4,"ngIf"],["igxTextHighlight","",1,"igx-grid__td-text",2,"pointer-events","none",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata"],[3,"ngClass"],[3,"src","alt"],["igxTextHighlight","","class","igx-grid__td-text","style","pointer-events: none",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata",4,"ngIf"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["displayDensity","compact"],["igxInput","",3,"igxFocus","igxTextSelection","formControl","compositionstart","compositionend"],["displayDensity","compact",3,"formGroup"],["igxInput","","type","number",3,"igxFocus","igxTextSelection","step","formControl"],[3,"checked","igxFocus","disableRipple","formControl"],["mode","dropdown",3,"outlet","locale","weekStart","value","igxFocus","formControl","valueChange"],["mode","dropdown",3,"outlet","locale","inputFormat","value","igxFocus","formControl","valueChange"],["type","text","igxInput","",3,"formControl","igxDateTimeEditor","igxFocus"],[3,"igxTooltipTarget","igxToggleOutlet","mouseover","mouseout"],["errorIcon",""],["igxTooltip","",3,"id"],["error","","tooltipRef","tooltip"]],template:function(e,t){1&e&&(Wc(0,UU,1,1,"ng-template",null,0,_g),Wc(2,JU,3,3,"ng-template",null,1,_g),Wc(4,tq,1,1,"ng-template",null,2,_g),Wc(6,uq,8,8,"ng-template",null,3,_g),Wc(8,gq,1,0,"ng-container",4),Wc(9,pq,1,0,"ng-container",4),Wc(10,fq,9,7,"ng-container",5),Wc(11,bq,7,7,"ng-template",null,6,_g)),2&e&&(Ed(8),Uc("ngTemplateOutlet",t.pinnedIndicatorTemplate)("ngTemplateOutletContext",t.context),Ed(1),Uc("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context),Ed(1),Uc("ngIf",t.isInvalid))},dependencies:[Em,Sm,Pm,Wm,jm,Km,$m,Ow,Zx,ow,O_,F_,cw,uw,WF,uA,FI,kT,cI,HT,gA,gk,pP,mV,IA,gI,pI,CA,_A,A$,H$,G$],encapsulation:2,changeDetection:0}),t})(),Eq=["indicator"],Iq=["indentationDiv"],Tq=["defaultExpandedTemplate"],Aq=["defaultCollapsedTemplate"];function kq(e,t){if(1&e&&(Yc(0,"igx-chip",10),$h(1),Xc()),2&e){let e=dh(2);Uc("disabled",!0)("displayDensity","compact"),Ed(1),jh(e.grid.resourceStrings.igx_grid_pinned_row_indicator)}}function Rq(e,t){1&e&&Wc(0,kq,2,3,"igx-chip",9),2&e&&Uc("ngIf",dh().displayPinnedChip)}var Oq=function(e,t,i,n,r){return[e,t,i,n,r]};function Fq(e,t){if(1&e&&(Yc(0,"div",14),Pu(1,"columnFormatter"),Pu(2,"number"),Pu(3,"date"),Pu(4,"currency"),Pu(5,"percent"),$h(6),Pu(7,"columnFormatter"),Pu(8,"number"),Pu(9,"date"),Pu(10,"currency"),Pu(11,"percent"),Xc()),2&e){let e=dh(2);Uc("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?Nu(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?Nu(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?Lu(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?Hu(4,22,Su(55,Oq,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Nu(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Ed(6),jh(e.formatter?Nu(7,32,e.value,e.formatter,e.rowData):"number"===e.column.dataType?Nu(8,36,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?Lu(9,40,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?Hu(10,45,Su(61,Oq,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Nu(11,51,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)}}var Pq=function(e,t){return{"igx-icon--success":e,"igx-icon--error":t}};function Mq(e,t){if(1&e&&(Yc(0,"igx-icon",15),$h(1),Xc()),2&e){let e=dh(2);Uc("ngClass",_u(2,Pq,e.value,!e.value)),Ed(1),jh(e.value?"check":"close")}}function Vq(e,t){if(1&e&&(Zc(0,"img",16),Pu(1,"igxCellImageAlt")),2&e){let e=dh(2);Uc("src",e.value,Sl)("alt",Mu(1,2,e.value))}}function Nq(e,t){if(1&e&&(Wc(0,Fq,12,67,"div",11),Wc(1,Mq,2,5,"igx-icon",12),Wc(2,Vq,2,4,"img",13)),2&e){let e=dh();Uc("ngIf","boolean"!==e.column.dataType&&"image"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter),Ed(1),Uc("ngIf","boolean"===e.column.dataType&&!e.formatter),Ed(1),Uc("ngIf","image"===e.column.dataType)}}function Lq(e,t){if(1&e&&(Yc(0,"div",14),Pu(1,"columnFormatter"),Pu(2,"number"),Pu(3,"date"),Pu(4,"currency"),Pu(5,"percent"),$h(6),Xc()),2&e){let e=dh(2);Uc("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?Nu(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?Nu(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?Lu(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?Hu(4,22,Su(32,Oq,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Nu(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Ed(6),jh(e.value?e.value:e.column.header||e.column.field)}}function Hq(e,t){if(1&e&&Wc(0,Lq,7,38,"div",11),2&e){let e=dh();Uc("ngIf","boolean"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter)}}function Bq(e,t){if(1&e){let e=nh();Jc(0,18),Yc(1,"igx-input-group",19)(2,"input",20),oh("compositionstart",(function(){return Is(e),Ts(dh(2).grid.crudService.isInCompositionMode=!0)}))("compositionend",(function(){return Is(e),Ts(dh(2).grid.crudService.isInCompositionMode=!1)})),Xc()(),eh()}if(2&e){let e=dh(2);Uc("formGroup",e.formGroup),Ed(2),Uc("igxFocus",!0)("formControl",e.formControl),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function Gq(e,t){if(1&e&&(Jc(0),Yc(1,"igx-input-group",21),Zc(2,"input",22),Xc(),eh()),2&e){let e=dh(2);Ed(1),Uc("formGroup",e.formGroup),Ed(1),Uc("igxFocus",!0)("step",e.step)("formControl",e.formControl),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function zq(e,t){if(1&e&&(Jc(0,18),Zc(1,"igx-checkbox",23),eh()),2&e){let e=dh(2);Uc("formGroup",e.formGroup),Ed(1),Uc("checked",e.editValue)("igxFocus",!0)("disableRipple",!0)("formControl",e.formControl)}}function $q(e,t){if(1&e){let e=nh();Jc(0,18),Yc(1,"igx-date-picker",24),oh("valueChange",(function(t){return Is(e),Ts(dh(2).editValue=t)})),Xc(),eh()}if(2&e){let e=dh(2);Uc("formGroup",e.formGroup),Ed(1),Th("width",100,"%"),Uc("outlet",e.grid.outlet)("locale",e.grid.locale)("weekStart",e.column.pipeArgs.weekStart)("value",e.editValue)("igxFocus",!0)("formControl",e.formControl)}}function Wq(e,t){if(1&e){let e=nh();Jc(0,18),Yc(1,"igx-time-picker",25),oh("valueChange",(function(t){return Is(e),Ts(dh(2).editValue=t)})),Xc(),eh()}if(2&e){let e=dh(2);Uc("formGroup",e.formGroup),Ed(1),Th("width",100,"%"),Uc("outlet",e.grid.outlet)("locale",e.grid.locale)("inputFormat",e.column.defaultTimeFormat)("value",e.editValue)("igxFocus",!0)("formControl",e.formControl)}}function jq(e,t){if(1&e&&(Jc(0),Yc(1,"igx-input-group",18),Zc(2,"input",26),Xc(),eh()),2&e){let e=dh(2);Ed(1),Uc("formGroup",e.formGroup),Ed(1),Uc("formControl",e.formControl)("igxDateTimeEditor",e.column.defaultDateTimeFormat)("igxFocus",!0),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function Kq(e,t){if(1&e&&(Yc(0,"igx-prefix"),$h(1),Xc()),2&e){let e=dh(3);Ed(1),jh(e.currencyCodeSymbol)}}function Uq(e,t){if(1&e&&(Yc(0,"igx-suffix"),$h(1),Xc()),2&e){let e=dh(3);Ed(1),jh(e.currencyCodeSymbol)}}function qq(e,t){if(1&e&&(Jc(0),Yc(1,"igx-input-group",21),Wc(2,Kq,2,1,"igx-prefix",4),Zc(3,"input",22),Wc(4,Uq,2,1,"igx-suffix",4),Xc(),eh()),2&e){let e=dh(2);Ed(1),Uc("formGroup",e.formGroup),Ed(1),Uc("ngIf",e.grid.currencyPositionLeft),Ed(1),Uc("igxFocus",!0)("step",e.step)("formControl",e.formControl),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Ed(1),Uc("ngIf",!e.grid.currencyPositionLeft)}}function Yq(e,t){if(1&e&&(Jc(0),Yc(1,"igx-input-group",21),Zc(2,"input",22),Yc(3,"igx-suffix"),$h(4),Pu(5,"percent"),Xc()(),eh()),2&e){let e=dh(2);Ed(1),Uc("formGroup",e.formGroup),Ed(1),Uc("igxFocus",!0)("step",e.step)("formControl",e.formControl),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Ed(2),Kh(" ",Nu(5,7,e.editValue,e.column.pipeArgs.digitsInfo,e.grid.locale)," ")}}function Xq(e,t){if(1&e&&(Wc(0,Bq,3,5,"ng-container",17),Wc(1,Gq,3,6,"ng-container",4),Wc(2,zq,2,5,"ng-container",17),Wc(3,$q,2,9,"ng-container",17),Wc(4,Wq,2,9,"ng-container",17),Wc(5,jq,3,6,"ng-container",4),Wc(6,qq,5,8,"ng-container",4),Wc(7,Yq,6,11,"ng-container",4)),2&e){let e=dh();Uc("ngIf","string"===e.column.dataType||"image"===e.column.dataType),Ed(1),Uc("ngIf","number"===e.column.dataType),Ed(1),Uc("ngIf","boolean"===e.column.dataType),Ed(1),Uc("ngIf","date"===e.column.dataType),Ed(1),Uc("ngIf","time"===e.column.dataType),Ed(1),Uc("ngIf","dateTime"===e.column.dataType),Ed(1),Uc("ngIf","currency"===e.column.dataType),Ed(1),Uc("ngIf","percent"===e.column.dataType)}}function Zq(e,t){1&e&&th(0)}var Qq=function(e){return{$implicit:e}};function Jq(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"div",27,28),oh("click",(function(t){return Is(e),Ts(dh().toggle(t))}))("focus",(function(){return Is(e),Ts(dh().onIndicatorFocus())})),Wc(3,Zq,1,0,"ng-container",5),Xc(),eh()}if(2&e){let e=dh();Ed(3),Uc("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",xu(2,Qq,e.row))}}function eY(e,t){1&e&&th(0)}function tY(e,t){1&e&&th(0)}function iY(e,t){1&e&&th(0)}function nY(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"igx-icon",29,30),oh("mouseover",(function(){return Is(e),Ts(dh().errorShowing=!0)}))("mouseout",(function(){return Is(e),Ts(dh().errorShowing=!1)})),$h(3,"error"),Xc(),Yc(4,"div",31,32)(7,"div"),Wc(8,iY,1,0,"ng-container",5),Xc()(),eh()}if(2&e){let e=Kc(6),t=dh(),i=Kc(17);Ed(1),Uc("igxTooltipTarget",e)("igxToggleOutlet",t.grid.outlet),Ed(3),Uc("id",t.ariaErrorMessage),Ed(3),Th("width","max-content"),Ed(1),Uc("ngTemplateOutlet",t.cellValidationErrorTemplate||i)("ngTemplateOutletContext",t.context)}}function rY(e,t){1&e&&(Yc(0,"igx-icon"),$h(1,"expand_more"),Xc())}function sY(e,t){1&e&&(Yc(0,"igx-icon"),$h(1,"chevron_right"),Xc())}function oY(e,t){if(1&e&&(Yc(0,"div"),$h(1),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",e.grid.resourceStrings.igx_grid_required_validation_error," ")}}function aY(e,t){if(1&e&&(Yc(0,"div"),$h(1),Pu(2,"igxStringReplace"),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",Nu(2,1,e.grid.resourceStrings.igx_grid_min_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.minlength.requiredLength)," ")}}function lY(e,t){if(1&e&&(Yc(0,"div"),$h(1),Pu(2,"igxStringReplace"),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",Nu(2,1,e.grid.resourceStrings.igx_grid_max_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.maxlength.requiredLength)," ")}}function dY(e,t){if(1&e&&(Yc(0,"div"),$h(1),Pu(2,"igxStringReplace"),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",Nu(2,1,e.grid.resourceStrings.igx_grid_min_validation_error,"{0}",e.formGroup.get(e.column.field).errors.min.min)," ")}}function cY(e,t){if(1&e&&(Yc(0,"div"),$h(1),Pu(2,"igxStringReplace"),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",Nu(2,1,e.grid.resourceStrings.igx_grid_max_validation_error,"{0}",e.formGroup.get(e.column.field).errors.max.max)," ")}}function hY(e,t){if(1&e&&(Yc(0,"div"),$h(1),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",e.grid.resourceStrings.igx_grid_email_validation_error," ")}}function uY(e,t){if(1&e&&(Yc(0,"div"),$h(1),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",e.grid.resourceStrings.igx_grid_pattern_validation_error," ")}}function gY(e,t){if(1&e&&(Wc(0,oY,2,1,"div",4),Wc(1,aY,3,5,"div",4),Wc(2,lY,3,5,"div",4),Wc(3,dY,3,5,"div",4),Wc(4,cY,3,5,"div",4),Wc(5,hY,2,1,"div",4),Wc(6,uY,2,1,"div",4)),2&e){let e=dh();Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.required),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.minlength),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.maxlength),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.min),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.max),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.email),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.pattern)}}var pY=(()=>{let e=class extends Dq{constructor(e,t,i,n,r,s,o,a,l){super(e,t,i,n,r,s,o,l),this.document=a,this.expanded=!1}toggle(e){e.stopPropagation();let t=this.grid.gridAPI.get_row_expansion_state(this.intRow.data);this.grid.gridAPI.set_row_expansion_state(this.intRow.key,!t,e)}onIndicatorFocus(){this.grid.gridAPI.update_cell(this.grid.crudService.cell)}calculateSizeToFit(e){let t=0;if(this.indentationDiv){let e=this.document.defaultView.getComputedStyle(this.indentationDiv.nativeElement);t=parseFloat(e.paddingLeft)}return this.platformUtil.getNodeSizeViaRange(e,this.nativeElement)+t}get iconTemplate(){return this.expanded?this.grid.rowExpandedIndicatorTemplate||this.defaultExpandedTemplate:this.grid.rowCollapsedIndicatorTemplate||this.defaultCollapsedTemplate}get showExpanderIndicator(){let e=this.intRow.pinned&&this.intRow.disabled;return!this.editMode&&(!this.intRow.pinned||e)}},t=e;return e.fac=function(t){return new(t||e)(Rd(Lk),Rd(wk),Rd(LE),Rd(Jg),Rd(ld),Rd(Ig),Rd(MM),Rd(Cp),Rd($S))},e.cmp=Yn({type:e,selectors:[["igx-expandable-grid-cell"]],viewQuery:function(e,t){if(1&e&&(pg(Eq,5,ld),pg(Iq,5,ld),pg(Tq,7,ju),pg(Aq,7,ju)),2&e){let e;gg(e=fg())&&(t.indicator=e.first),gg(e=fg())&&(t.indentationDiv=e.first),gg(e=fg())&&(t.defaultExpandedTemplate=e.first),gg(e=fg())&&(t.defaultCollapsedTemplate=e.first)}},inputs:{expanded:"expanded"},standalone:!0,features:[cu([MM]),Tc,yu],decls:18,vars:6,consts:[["defaultPinnedIndicator",""],["defaultCell",""],["addRowCell",""],["inlineEditor",""],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultExpandedTemplate",""],["defaultCollapsedTemplate",""],["defaultError",""],["class","igx-grid__td--pinned-chip",3,"disabled","displayDensity",4,"ngIf"],[1,"igx-grid__td--pinned-chip",3,"disabled","displayDensity"],["igxTextHighlight","","class","igx-grid__td-text","style","pointer-events: none",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"src","alt",4,"ngIf"],["igxTextHighlight","",1,"igx-grid__td-text",2,"pointer-events","none",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata"],[3,"ngClass"],[3,"src","alt"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["displayDensity","compact"],["igxInput","",3,"igxFocus","formControl","compositionstart","compositionend"],["displayDensity","compact",3,"formGroup"],["igxInput","","type","number",3,"igxFocus","step","formControl"],[3,"checked","igxFocus","disableRipple","formControl"],["mode","dropdown",3,"outlet","locale","weekStart","value","igxFocus","formControl","valueChange"],["mode","dropdown",3,"outlet","locale","inputFormat","value","igxFocus","formControl","valueChange"],["type","text","igxInput","",3,"formControl","igxDateTimeEditor","igxFocus"],[1,"igx-grid__tree-grouping-indicator",3,"click","focus"],["indicator",""],[3,"igxTooltipTarget","igxToggleOutlet","mouseover","mouseout"],["errorIcon",""],["igxTooltip","",3,"id"],["error","","tooltipRef","tooltip"]],template:function(e,t){1&e&&(Wc(0,Rq,1,1,"ng-template",null,0,_g),Wc(2,Nq,3,3,"ng-template",null,1,_g),Wc(4,Hq,1,1,"ng-template",null,2,_g),Wc(6,Xq,8,8,"ng-template",null,3,_g),Wc(8,Jq,4,4,"ng-container",4),Wc(9,eY,1,0,"ng-container",5),Wc(10,tY,1,0,"ng-container",5),Wc(11,nY,9,7,"ng-container",4),Wc(12,rY,2,0,"ng-template",null,6,_g),Wc(14,sY,2,0,"ng-template",null,7,_g),Wc(16,gY,7,7,"ng-template",null,8,_g)),2&e&&(Ed(8),Uc("ngIf",t.showExpanderIndicator),Ed(1),Uc("ngTemplateOutlet",t.pinnedIndicatorTemplate)("ngTemplateOutletContext",t.context),Ed(1),Uc("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context),Ed(1),Uc("ngIf",t.isInvalid))},dependencies:[Em,WF,uA,FI,Sm,Rw,Zx,ow,O_,F_,Ow,cw,uw,kT,cI,HT,gk,pP,mV,IA,gI,pI,Pm,CA,_A,A$,H$,G$,Wm,jm,Km,$m],encapsulation:2,changeDetection:0}),t})();function mY(e,t){1&e&&th(0)}function fY(e,t){1&e&&th(0)}function yY(e,t){if(1&e){let e=nh();Yc(0,"div",9),oh("animationend",(function(){return Is(e),Ts(dh().animationEndHandler())})),Wc(1,fY,1,0,"ng-container",0),Xc()}if(2&e){let e=dh(),t=Kc(4);Ah("igx-grid__tr--add-animate",e.triggerAddAnimationClass),Ed(1),Uc("ngTemplateOutlet",t)}}function vY(e,t){1&e&&th(0)}function xY(e,t){if(1&e&&(Jc(0),Yc(1,"div",11),oh("click",(function(e){return e.stopPropagation()})),Wc(2,vY,1,0,"ng-container",0),Xc(),eh()),2&e){let e=dh(2);Ed(1),kh(e.resolveDragIndicatorClasses),Uc("igxRowDrag",e)("ghostTemplate",e.grid.getDragGhostCustomTemplate()),Ed(1),Uc("ngTemplateOutlet",e.grid.dragIndicatorIconTemplate?e.grid.dragIndicatorIconTemplate:e.grid.dragIndicatorIconBase)}}function _Y(e,t){}function wY(e,t){1&e&&Wc(0,_Y,0,0,"ng-template")}var CY=function(e,t,i,n){return{index:e,rowID:t,key:i,selected:n}},SY=function(e){return{$implicit:e}};function bY(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"div",12),oh("pointerdown",(function(e){return e.preventDefault()}))("click",(function(t){return Is(e),Ts(dh(2).onRowSelectorClick(t))})),Wc(2,wY,1,0,null,13),Xc(),eh()}if(2&e){let e=dh(2),t=Kc(8);Ed(2),Uc("ngTemplateOutlet",e.grid.rowSelectorTemplate?e.grid.rowSelectorTemplate:t)("ngTemplateOutletContext",xu(7,SY,Cu(2,CY,e.viewIndex,e.key,e.key,e.selected)))}}function DY(e,t){if(1&e&&(Jc(0),Yc(1,"div",14),oh("pointerdown",(function(e){return e.preventDefault()}))("click",(function(e){return e.stopPropagation()})),Xc(),eh()),2&e){let e=dh(2);Ed(1),qh("igx-grid__row-indentation igx-grid__row-indentation--level-",e.grid.groupingExpressions.length,"")}}function EY(e,t){1&e&&th(0)}function IY(e,t){if(1&e&&Wc(0,EY,1,0,"ng-container",13),2&e){let e=t.$implicit,i=dh(4),n=Kc(12),r=Kc(10);Uc("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?n:r)("ngTemplateOutletContext",i.getContext(e,i))}}function TY(e,t){if(1&e&&(Jc(0),Wc(1,IY,1,2,"ng-template",17),Pu(2,"igxNotGrouped"),eh()),2&e){let e=dh(3);Ed(1),Uc("ngForOf",Mu(2,1,e.pinnedColumns))}}function AY(e,t){1&e&&th(0)}function kY(e,t){if(1&e&&Wc(0,AY,1,0,"ng-container",13),2&e){let e=t.$implicit,i=dh(3),n=Kc(12),r=Kc(10);Uc("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?n:r)("ngTemplateOutletContext",i.getContext(e,i))}}function RY(e,t){1&e&&th(0)}function OY(e,t){if(1&e&&Wc(0,RY,1,0,"ng-container",13),2&e){let e=t.$implicit,i=dh(4),n=Kc(12),r=Kc(10);Uc("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?n:r)("ngTemplateOutletContext",i.getContext(e,i))}}function FY(e,t){if(1&e&&(Jc(0),Wc(1,OY,1,2,"ng-template",17),Pu(2,"igxNotGrouped"),eh()),2&e){let e=dh(3);Ed(1),Uc("ngForOf",Mu(2,1,e.pinnedColumns))}}function PY(e,t){if(1&e&&(Jc(0),Wc(1,TY,3,3,"ng-container",10),Wc(2,kY,1,2,"ng-template",15,16,_g),Pu(4,"igxNotGrouped"),Wc(5,FY,3,3,"ng-container",10),eh()),2&e){let e=dh(2);Ed(1),Uc("ngIf",e.pinnedColumns.length>0&&e.grid.isPinningToStart),Ed(1),Uc("igxGridForOf",Mu(4,8,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForSizePropName","calcPixelWidth")("igxForTrackBy",e.grid.trackColumnChanges),Ed(3),Uc("ngIf",e.pinnedColumns.length>0&&!e.grid.isPinningToStart)}}function MY(e,t){1&e&&th(0)}function VY(e,t){if(1&e&&(Jc(0),Wc(1,MY,1,0,"ng-container",13),eh()),2&e){let e=dh(3),t=Kc(6);Ed(1),Uc("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getContextMRL(e.pinnedColumns,e))}}function NY(e,t){1&e&&th(0)}function LY(e,t){if(1&e&&Wc(0,NY,1,0,"ng-container",13),2&e){let e=t.$implicit,i=dh(4),n=Kc(16),r=Kc(14);Uc("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?n:r)("ngTemplateOutletContext",i.getContext(e,i))}}var HY=function(e,t){return{"grid-template-rows":e,"grid-template-columns":t}};function BY(e,t){if(1&e&&(Yc(0,"div",18),Wc(1,LY,1,2,"ng-template",17),Xc()),2&e){let e=t.$implicit;Uc("ngStyle",_u(2,HY,e.getGridTemplate(!0),e.getGridTemplate(!1))),Ed(1),Uc("ngForOf",e.children)}}function GY(e,t){1&e&&th(0)}function zY(e,t){if(1&e&&(Jc(0),Wc(1,GY,1,0,"ng-container",13),eh()),2&e){let e=dh(3),t=Kc(6);Ed(1),Uc("ngTemplateOutlet",t)("ngTemplateOutletContext",e.getContextMRL(e.pinnedColumns,e))}}function $Y(e,t){if(1&e&&(Jc(0),Wc(1,VY,2,2,"ng-container",10),Wc(2,BY,2,5,"ng-template",15,16,_g),Pu(4,"igxTopLevel"),Wc(5,zY,2,2,"ng-container",10),eh()),2&e){let e=dh(2);Ed(1),Uc("ngIf",e.pinnedColumns.length>0&&e.grid.isPinningToStart),Ed(1),Uc("igxGridForOf",Mu(4,8,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForSizePropName","calcPixelWidth")("igxForTrackBy",e.grid.trackColumnChanges),Ed(3),Uc("ngIf",e.pinnedColumns.length>0&&!e.grid.isPinningToStart)}}function WY(e,t){if(1&e&&(Wc(0,xY,3,5,"ng-container",10),Wc(1,bY,3,9,"ng-container",10),Wc(2,DY,2,3,"ng-container",10),Wc(3,PY,6,10,"ng-container",10),Wc(4,$Y,6,10,"ng-container",10)),2&e){let e=dh();Uc("ngIf",e.rowDraggable),Ed(1),Uc("ngIf",e.showRowSelectors),Ed(1),Uc("ngIf",e.grid.groupingExpressions.length>0),Ed(1),Uc("ngIf",!e.grid.hasColumnLayouts),Ed(1),Uc("ngIf",e.grid.hasColumnLayouts)}}function jY(e,t){1&e&&th(0)}function KY(e,t){if(1&e&&Wc(0,jY,1,0,"ng-container",13),2&e){let e=t.$implicit,i=dh(3),n=Kc(16),r=Kc(14);Uc("ngTemplateOutlet",0===e.visibleIndex&&i.grid.hasDetails?n:r)("ngTemplateOutletContext",i.getContext(e,i))}}var UY=function(e,t,i){return{"grid-template-rows":e,"grid-template-columns":t,"z-index":i}};function qY(e,t){if(1&e&&(Yc(0,"div",18),Wc(1,KY,1,2,"ng-template",17),Xc()),2&e){let e=t.$implicit;Th("left",dh(2).mrlRightPinnedOffset),Ah("igx-grid__td--pinned-last",e.hasLastPinnedChildColumn)("igx-grid__td--pinned-first",e.hasFirstPinnedChildColumn),Uc("ngStyle",wu(8,UY,e.getGridTemplate(!0),e.getGridTemplate(!1),e.pinned?1:null)),Ed(1),Uc("ngForOf",e.children)}}function YY(e,t){1&e&&(Wc(0,qY,2,12,"div",19),Pu(1,"igxTopLevel")),2&e&&Uc("ngForOf",Mu(1,1,t.$implicit))}function XY(e,t){if(1&e&&(Yc(0,"div",20),Zc(1,"igx-checkbox",21),Xc()),2&e){let e=dh();Ed(1),Uc("tabindex",-1)("checked",e.selected)("readonly",!0)("disabled",e.deleted)("disableRipple",!0)("disableTransitions",e.grid.disableTransitions)("aria-label",e.rowCheckboxAriaLabel)}}var ZY=function(e,t,i,n,r,s,o){return[e,t,i,n,r,s,o]},QY=function(e,t,i,n,r,s){return[e,t,i,n,r,s]},JY=function(e,t,i,n,r){return[e,t,i,n,r]};function eX(e,t){if(1&e&&(Yc(0,"igx-grid-cell",22,23),Pu(2,"transactionState"),Pu(3,"igxCellStyleClasses"),Pu(4,"igxCellStyles"),Pu(5,"dataMapper"),Xc()),2&e){let e=t.$implicit,i=dh();Th("min-height",i.cellHeight,"px")("min-width",e.width)("max-width",e.width)("flex-basis",e.width)("left",e.rightPinnedOffset),Ah("igx-grid__td--edited",Hu(2,38,Du(66,ZY,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--pinned",e.pinned)("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)("igx-grid__td--bool","boolean"===e.dataType)("igx-grid__td--image","image"===e.dataType),Uc("ngClass",Hu(3,46,bu(74,QY,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",Hu(4,53,bu(81,QY,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("lastPinned",e.columnLayoutChild?null:e.isLastPinned)("firstPinned",e.columnLayoutChild?null:e.isFirstPinned)("rowData",i.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",Hu(5,60,Su(88,JY,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("active",i.isCellActive(e.visibleIndex))("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function tX(e,t){if(1&e&&(Yc(0,"igx-expandable-grid-cell",24,23),Pu(2,"transactionState"),Pu(3,"igxCellStyleClasses"),Pu(4,"igxCellStyles"),Pu(5,"dataMapper"),Xc()),2&e){let e=t.$implicit,i=dh();Th("min-height",i.cellHeight,"px")("min-width",e.width)("max-width",e.width)("flex-basis",e.width),Ah("igx-grid__td--pinned",e.pinned)("igx-grid__td--edited",Hu(2,32,Du(60,ZY,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--number",("number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)&&0!==e.visibleIndex),Uc("ngClass",Hu(3,40,bu(68,QY,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",Hu(4,47,bu(75,QY,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("expanded",i.expanded)("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("lastPinned",e.columnLayoutChild?null:e.isLastPinned)("rowData",i.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",Hu(5,54,Su(82,JY,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("active",i.isCellActive(e.visibleIndex))("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function iX(e,t){if(1&e&&(Yc(0,"igx-grid-cell",25,23),Pu(2,"transactionState"),Pu(3,"igxCellStyleClasses"),Pu(4,"igxCellStyles"),Pu(5,"dataMapper"),Xc()),2&e){let e=t.$implicit,i=dh();Th("grid-row-end",e.rowEnd)("grid-column-end",e.colEnd)("grid-row-start",e.rowStart)("grid-column-start",e.colStart)("min-height",i.cellHeight,"px"),Ah("igx-grid__td--edited",Hu(2,33,Du(61,ZY,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--pinned",e.pinned)("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType),Uc("ngClass",Hu(3,41,bu(69,QY,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",Hu(4,48,bu(76,QY,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("lastPinned",e.columnLayoutChild?null:e.isLastPinned)("firstPinned",e.columnLayoutChild?null:e.isFirstPinned)("formatter",e.formatter)("intRow",i)("rowData",i.data)("visibleColumnIndex",e.visibleIndex)("value",Hu(5,55,Su(83,JY,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("active",i.isCellActive(e.visibleIndex))("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function nX(e,t){if(1&e&&(Yc(0,"igx-expandable-grid-cell",26,23),Pu(2,"transactionState"),Pu(3,"igxCellStyleClasses"),Pu(4,"igxCellStyles"),Pu(5,"dataMapper"),Xc()),2&e){let e=t.$implicit,i=dh();Th("grid-row-end",e.rowEnd)("grid-column-end",e.colEnd)("grid-row-start",e.rowStart)("grid-column-start",e.colStart)("min-height",i.cellHeight,"px"),Ah("igx-grid__td--edited",Hu(2,33,Du(61,ZY,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--pinned",e.pinned)("igx-grid__td--number",("number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)&&0!==e.visibleIndex),Uc("ngClass",Hu(3,41,bu(69,QY,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",Hu(4,48,bu(76,QY,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("expanded",i.expanded)("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("lastPinned",e.columnLayoutChild?null:e.isLastPinned)("formatter",e.formatter)("intRow",i)("rowData",i.data)("visibleColumnIndex",e.visibleIndex)("value",Hu(5,55,Su(83,JY,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("active",i.isCellActive(e.visibleIndex))("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}var rX=(()=>{let e=class extends Gk{getContext(e,t){return{$implicit:e,row:t}}get mrlRightPinnedOffset(){return this.grid.isPinningToStart?null:-this.grid.pinnedWidth-this.grid.headerFeaturesWidth+"px"}getContextMRL(e,t){return{$implicit:e,row:t}}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.cmp=Yn({type:e,selectors:[["igx-grid-row"]],standalone:!0,features:[cu([{provide:Gk,useExisting:Ni((()=>e))}]),Tc,yu],decls:17,vars:1,consts:[[4,"ngTemplateOutlet"],["addTemp",""],["defaultTemp",""],["mrlPinnedTemplate",""],["rowSelectorBaseTemplate",""],["cellTemplate",""],["expandableCellTemplate",""],["mrlCellTemplate",""],["mrlExpandableCellTemplate",""],[1,"igx-grid__tr--inner",3,"animationend"],[4,"ngIf"],[3,"igxRowDrag","ghostTemplate","click"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"pointerdown","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"pointerdown","click"],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForScrollOrientation","igxForContainerSize","igxForSizePropName","igxForTrackBy"],["igxDirRef",""],["ngFor","",3,"ngForOf"],[1,"igx-grid__mrl-block",3,"ngStyle"],["class","igx-grid__mrl-block",3,"igx-grid__td--pinned-last","igx-grid__td--pinned-first","left","ngStyle",4,"ngFor","ngForOf"],[1,"igx-grid__cbx-padding"],[3,"tabindex","checked","readonly","disabled","disableRipple","disableTransitions","aria-label"],[1,"igx-grid__td","igx-grid__td--fw",3,"ngClass","ngStyle","editMode","column","formatter","intRow","lastPinned","firstPinned","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],["cell",""],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--tree-cell",3,"ngClass","ngStyle","expanded","editMode","column","formatter","intRow","lastPinned","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__td","igx-grid__td--fw",3,"ngClass","ngStyle","editMode","column","lastPinned","firstPinned","formatter","intRow","rowData","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--tree-cell",3,"ngClass","ngStyle","expanded","editMode","column","lastPinned","formatter","intRow","rowData","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"]],template:function(e,t){if(1&e&&(Wc(0,mY,1,0,"ng-container",0),Wc(1,yY,2,3,"ng-template",null,1,_g),Wc(3,WY,5,5,"ng-template",null,2,_g),Wc(5,YY,2,3,"ng-template",null,3,_g),Wc(7,XY,2,7,"ng-template",null,4,_g),Wc(9,eX,6,94,"ng-template",null,5,_g),Wc(11,tX,6,88,"ng-template",null,6,_g),Wc(13,iX,6,89,"ng-template",null,7,_g),Wc(15,nX,6,89,"ng-template",null,8,_g)),2&e){let e=Kc(2),i=Kc(4);Uc("ngTemplateOutlet",t.addRowUI?e:i)}},dependencies:[Pm,Em,_W,bm,tA,Fm,gk,Dq,Sm,pY,O$,F$,T$,I$,L$,B$],encapsulation:2,changeDetection:0}),t})(),sX=((sX=sX||{})[sX.NONE=0]="NONE",sX[sX.LEFT=1]="LEFT",sX[sX.TOP=2]="TOP",sX[sX.RIGHT=3]="RIGHT",sX[sX.BOTTOM=4]="BOTTOM",sX[sX.TOPLEFT=5]="TOPLEFT",sX[sX.TOPRIGHT=6]="TOPRIGHT",sX[sX.BOTTOMLEFT=7]="BOTTOMLEFT",sX[sX.BOTTOMRIGHT=8]="BOTTOMRIGHT",sX),oX=(()=>{let e=class{get activeDrag(){return this._activeDrag}set activeDrag(e){e!==this._activeDrag&&(this.unsubscribe(),this._activeDrag=e)}get nativeElement(){return this.ref.nativeElement}constructor(e,t){this.ref=e,this.zone=t,this.dragStop=new zu,this.dragScroll=new zu,this.end$=new We,this.lastDirection=sX.NONE,this.startDragSelection=e=>{if(!this.activeDrag)return;let t=e.clientX,i=e.clientY,{direction:n,delta:r}=this._measureDimensions(t,i);n!==this.lastDirection&&(this.unsubscribe(),this._sub=this._interval$.subscribe((()=>this.dragScroll.emit(r))),this.lastDirection=n)},this.stopDragSelection=()=>{this.activeDrag&&(this.dragStop.emit(!1),this.unsubscribe(),this.lastDirection=sX.NONE)},this._interval$=Gt(0,yt).pipe(yi(this.end$),Wt((()=>this.activeDrag)))}ngOnInit(){this.zone.runOutsideAngular((()=>{this.nativeElement.addEventListener("pointerover",this.startDragSelection),this.nativeElement.addEventListener("pointerleave",this.stopDragSelection)}))}ngOnDestroy(){this.zone.runOutsideAngular((()=>{this.nativeElement.removeEventListener("pointerover",this.startDragSelection),this.nativeElement.removeEventListener("pointerleave",this.stopDragSelection)})),this.unsubscribe(),this.end$.complete()}_measureDimensions(e,t){let i,n={left:0,top:0},{left:r,top:s,width:o,height:a}=this.nativeElement.getBoundingClientRect(),l=.15,d=Math.trunc(e-r),c=Math.trunc(t-s),h=d<=o*l,u=d>=o*(1-l),g=c<=a*l,p=c>=a*(1-l);return g&&h?(i=sX.TOPLEFT,n={left:-1,top:-1}):g&&u?(i=sX.TOPRIGHT,n={left:1,top:-1}):p&&h?(i=sX.BOTTOMLEFT,n={left:-1,top:1}):p&&u?(i=sX.BOTTOMRIGHT,n={top:1,left:1}):g?(i=sX.TOP,n.top=-1):p?(i=sX.BOTTOM,n.top=1):h?(i=sX.LEFT,n.left=-1):u?(i=sX.RIGHT,n.left=1):i=sX.NONE,{direction:i,delta:n}}unsubscribe(){this._sub&&this._sub.unsubscribe()}},t=e;return e.fac=function(t){return new(t||e)(Rd(ld),Rd(Ig))},e.dir=er({type:e,selectors:[["","igxGridDragSelect",""]],inputs:{activeDrag:["igxGridDragSelect","activeDrag"]},outputs:{dragStop:"dragStop",dragScroll:"dragScroll"},standalone:!0}),t})(),aX=["record_template"],lX=["detail_template_container"],dX=["group_template"],cX=["summary_template"];function hX(e,t){if(1&e&&(Jc(0),Zc(1,"igx-grid-group-by-area",64,65),eh()),2&e){let e=dh();Ed(1),Th("flex-basis",e.outerWidth,"px"),Uc("grid",e)("expressions",e.groupingExpressions)("sortingExpressions",e.sortingExpressions)("density",e.displayDensity)("dropAreaTemplate",e.dropAreaTemplate)("dropAreaMessage",e.dropAreaMessage)}}function uX(e,t){1&e&&Zc(0,"span",66),2&e&&(Uc("igxColumnMovingDrop",dh().headerContainer),Gc("droppable",!0))}function gX(e,t){if(1&e&&Zc(0,"span",67),2&e){let e=dh();Th("left",e.pinnedWidth,"px"),Uc("igxColumnMovingDrop",e.headerContainer),Gc("droppable",!0)}}function pX(e,t){1&e&&th(0)}function mX(e,t){1&e&&th(0)}function fX(e,t){if(1&e&&(Jc(0),Wc(1,mX,1,0,"ng-container",72),eh()),2&e){let e=t.$implicit,i=t.index,n=dh(4),r=Kc(28);Ed(1),Uc("ngTemplateOutlet",r)("ngTemplateOutletContext",n.getContext(e,i,!0))}}var yX=function(e,t){return{"igx-grid__tr--pinned-bottom":e,"igx-grid__tr--pinned-top":t}};function vX(e,t){if(1&e&&(Yc(0,"div",69,70),Wc(2,fX,2,2,"ng-container",71),Xc()),2&e){let e=dh().ngIf,t=dh(2);Th("width",t.calcWidth,"px"),Uc("ngClass",_u(4,yX,!t.isRowPinningToTop,t.isRowPinningToTop)),Ed(2),Uc("ngForOf",e)}}function xX(e,t){if(1&e&&(Jc(0),Wc(1,vX,3,7,"div",68),eh()),2&e){let e=t.ngIf;Ed(1),Uc("ngIf",e.length>0)}}var _X=function(e,t,i,n,r,s,o){return[e,t,i,n,r,s,o,!0]},wX=function(e,t,i,n,r,s){return[e,t,i,n,r,s,!0]};function CX(e,t){if(1&e&&(Wc(0,xX,2,1,"ng-container",0),Pu(1,"gridSort"),Pu(2,"gridFiltering"),Pu(3,"gridRowPinning"),Pu(4,"gridAddRow"),Pu(5,"visibleColumns"),Pu(6,"gridTransaction")),2&e){let e=dh();Uc("ngIf",Hu(1,1,bu(42,wX,Hu(2,9,Du(34,_X,Lu(3,18,Nu(4,23,Vu(5,27,Nu(6,30,e.data,e.id,e.pipeTrigger),e.hasVisibleColumns),!0,e.pipeTrigger),e.id,!0,e.pipeTrigger),e.filteringExpressionsTree,e.filterStrategy,e.advancedFilteringExpressionsTree,e.id,e.pipeTrigger,e.filteringPipeTrigger)),e.sortingExpressions,e.groupingExpressions,e.sortStrategy,e.id,e.pipeTrigger)))}}function SX(e,t){}function bX(e,t){if(1&e){let e=nh();Wc(0,SX,0,0,"ng-template",73),oh("cachedViewLoaded",(function(t){return Is(e),Ts(dh().cachedViewLoaded(t))}))("viewCreated",(function(t){return Is(e),Ts(dh().viewCreatedHandler(t))}))("viewMoved",(function(t){return Is(e),Ts(dh().viewMovedHandler(t))}))}if(2&e){let e=t.$implicit,i=t.index,n=dh();Uc("igxTemplateOutlet",n.getRowTemplate(e))("igxTemplateOutletContext",n.getContext(e,i))}}function DX(e,t){1&e&&th(0)}var EX=function(e,t,i,n,r,s,o,a,l,d,c){return[e,t,i,n,r,s,o,a,l,!1,d,c]};function IX(e,t){if(1&e&&(Zc(0,"igx-grid-row",74,75),Pu(2,"igxGridRowClasses"),Pu(3,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=t.disabled,r=Kc(1),s=dh();Uc("gridID",s.id)("index",e)("data",i)("disabled",n)("ngClass",Hu(2,6,Iu(24,EX,[s.rowClasses,r,r.inEditMode,r.selected,r.dirty,r.deleted,r.dragging,e,s.hasColumnLayouts,i,s.pipeTrigger])))("ngStyle",Lu(3,19,s.rowStyles,i,e,s.pipeTrigger))}}function TX(e,t){if(1&e&&(Zc(0,"igx-grid-row",76,77),Pu(3,"igxGridRowClasses"),Pu(4,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=Kc(1),r=dh();Uc("gridID",r.id)("index",e)("data",i)("ngClass",Hu(3,5,Iu(23,EX,[r.rowClasses,n,n.inEditMode,n.selected,n.dirty,n.deleted,n.dragging,e,r.hasColumnLayouts,i,r.pipeTrigger])))("ngStyle",Lu(4,18,r.rowStyles,i,e,r.pipeTrigger))}}function AX(e,t){if(1&e&&Zc(0,"igx-grid-groupby-row",78,75),2&e){let e=t.index,i=t.$implicit,n=dh();Uc("gridID",n.id)("index",e)("groupRow",i)("hideGroupRowSelectors",n.hideRowSelectors)("rowDraggable",n.rowDraggable)}}function kX(e,t){if(1&e&&Zc(0,"igx-grid-summary-row",79,80),2&e){let e=t.index,i=t.$implicit;Uc("gridID",dh().id)("summaries",i.summaries)("index",e)}}function RX(e,t){if(1&e&&(Jc(0),Zc(1,"div"),eh()),2&e){let e=dh(2);Ed(1),qh("igx-grid__row-indentation igx-grid__row-indentation--level-",e.groupingExpressions.length,"")}}function OX(e,t){}var FX=function(e){return{"igx-grid__tr-container":!0,"igx-grid__tr-container--active":e}};function PX(e,t){if(1&e){let e=nh();Yc(0,"div",81,82),oh("pointerdown",(function(){let t=Is(e).index,i=Kc(1);return Ts(dh().detailsViewFocused(i,t))})),Yc(2,"div",83),Wc(3,RX,2,3,"ng-container",0),Wc(4,OX,0,0,"ng-template",84),Xc()()}if(2&e){let e=t.index,i=t.$implicit,n=dh();mh("id","",n.id,"_",e,""),Uc("ngClass",xu(7,FX,n.isDetailActive(e))),Gc("data-rowindex",e),Ed(3),Uc("ngIf",n.groupingExpressions.length>0),Ed(1),Uc("ngTemplateOutlet",n.detailTemplate)("ngTemplateOutletContext",n.getDetailsContext(i,e))}}function MX(e,t){1&e&&th(0)}function VX(e,t){1&e&&Zc(0,"igx-circular-bar",85),2&e&&Uc("indeterminate",!0)}function NX(e,t){1&e&&Zc(0,"span",86),2&e&&(Uc("igxColumnMovingDrop",dh().headerContainer),Gc("droppable",!0))}function LX(e,t){}function HX(e,t){if(1&e&&(Zc(0,"igx-grid-summary-row",87,80),Pu(2,"igxGridSummaryDataPipe")),2&e){let e=dh();Th("width",e.calcWidth,"px")("height",e.summaryRowHeight,"px"),Uc("gridID",e.id)("summaries",Vu(2,7,e.id,e.summaryService.retriggerRootPipe))("index",e.dataView.length)}}function BX(e,t){}function GX(e,t){1&e&&th(0)}function zX(e,t){if(1&e&&(Yc(0,"span"),Wc(1,GX,1,0,"ng-container",7),Xc()),2&e){let e=dh(2),t=Kc(78);Ed(1),Uc("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function $X(e,t){if(1&e&&(Yc(0,"span",88)(1,"span"),$h(2),Xc(),Wc(3,zX,2,1,"span",0),Xc()),2&e){let e=dh();Ed(2),jh(e.emptyFilteredGridMessage),Ed(1),Uc("ngIf",e.showAddButton)}}function WX(e,t){1&e&&th(0)}function jX(e,t){if(1&e&&(Yc(0,"span"),Wc(1,WX,1,0,"ng-container",7),Xc()),2&e){let e=dh(2),t=Kc(78);Ed(1),Uc("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function KX(e,t){if(1&e&&(Yc(0,"span",88)(1,"span"),$h(2),Xc(),Wc(3,jX,2,1,"span",0),Xc()),2&e){let e=dh();Ed(2),jh(e.emptyGridMessage),Ed(1),Uc("ngIf",e.showAddButton)}}function UX(e,t){if(1&e){let e=nh();Yc(0,"button",89),oh("click",(function(t){return Is(e),Ts(dh().crudService.enterAddRowMode(null,!1,t))})),$h(1),Xc()}if(2&e){let e=dh();Ed(1),Kh(" ",e.resourceStrings.igx_grid_add_row_label," ")}}function qX(e,t){1&e&&(Yc(0,"div",90),Zc(1,"igx-circular-bar",85),Xc()),2&e&&(Ed(1),Uc("indeterminate",!0))}var YX=function(e){return{"igx-grid__group-expand-btn--push":e}};function XX(e,t){if(1&e&&(Yc(0,"igx-icon",91),$h(1,"unfold_less"),Xc()),2&e){let e=dh();Uc("ngClass",xu(1,YX,e.filteringService.isFilterRowVisible))}}function ZX(e,t){if(1&e&&(Yc(0,"igx-icon",91),$h(1,"unfold_more"),Xc()),2&e){let e=dh();Uc("ngClass",xu(1,YX,e.filteringService.isFilterRowVisible))}}function QX(e,t){1&e&&th(0)}var JX=function(e,t){return{rowChangesCount:e,endEdit:t}};function eZ(e,t){if(1&e&&(Yc(0,"div",19,92)(2,"div",93),Wc(3,QX,1,0,"ng-container",72),Xc()()),2&e){let e=dh();Ed(2),Uc("className",e.bannerClass),Ed(1),Uc("ngTemplateOutlet",e.rowEditContainer)("ngTemplateOutletContext",_u(3,JX,e.rowChangesCount,e.endEdit.bind(e)))}}function tZ(e,t){if(1&e&&$h(0),2&e){let e=dh();Uh(" You have ",e.rowChangesCount," changes in this row and ",e.hiddenColumnsCount," hidden columns\n")}}function iZ(e,t){if(1&e){let e=nh();Yc(0,"button",94),oh("click",(function(t){return Is(e),Ts(dh().endRowEditTabStop(!1,t))})),$h(1),Xc(),Yc(2,"button",94),oh("click",(function(t){return Is(e),Ts(dh().endRowEditTabStop(!0,t))})),$h(3),Xc()}if(2&e){let e=dh();Ed(1),jh(e.resourceStrings.igx_grid_row_edit_btn_cancel),Ed(2),jh(e.resourceStrings.igx_grid_row_edit_btn_done)}}function nZ(e,t){1&e&&th(0)}function rZ(e,t){1&e&&th(0)}var sZ=function(e){return{$implicit:e}};function oZ(e,t){if(1&e&&(Yc(0,"div",95)(1,"span",96),Wc(2,nZ,1,0,"ng-container",72),Xc()(),Yc(3,"div",97)(4,"div",98),Wc(5,rZ,1,0,"ng-container",72),Xc()()),2&e){let e=dh(),t=Kc(87),i=Kc(89);Ed(2),Uc("ngTemplateOutlet","IgxAddRow"===(null==e.crudService.row?null:e.crudService.row.getClassName())?e.rowAddTextTemplate:e.rowEditTextTemplate?e.rowEditTextTemplate:t)("ngTemplateOutletContext",xu(4,sZ,"IgxAddRow"!==(null==e.crudService.row?null:e.crudService.row.getClassName())?e.rowChangesCount:null)),Ed(3),Uc("ngTemplateOutlet",e.rowEditActionsTemplate?e.rowEditActionsTemplate:i)("ngTemplateOutletContext",xu(6,sZ,e.endEdit.bind(e)))}}function aZ(e,t){1&e&&(Yc(0,"igx-icon"),$h(1,"drag_indicator"),Xc())}function lZ(e,t){1&e&&Zc(0,"igx-grid-column-resizer")}var dZ=[[["igx-grid-state"],["igc-grid-state"]],[["igx-grid-toolbar"],["igc-grid-toolbar"]],[["igx-grid-footer"],["igc-grid-footer"]],[["igx-paginator"],["igc-paginator"]],[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"],["igx-column-layout"],["igc-column-layout"],["igx-action-strip"],["igc-action-strip"]]],cZ=function(e,t,i,n,r,s,o){return[e,t,i,n,r,s,o]},hZ=function(e,t,i,n,r,s){return[e,t,i,n,r,s]},uZ=function(e,t,i,n,r,s,o,a){return[e,t,i,n,r,s,o,a]},gZ=function(e,t,i,n,r){return[e,t,i,n,r]},pZ=function(){return[]},mZ=["igx-grid-state,igc-grid-state","igx-grid-toolbar,igc-grid-toolbar","igx-grid-footer,igc-grid-footer","igx-paginator,igc-paginator","igx-column,igc-column,igx-column-group,igc-column-group,igx-column-layout,igc-column-layout,igx-action-strip,igc-action-strip"],fZ=0,yZ=(()=>{let e=class extends hU{constructor(){super(...arguments),this.dataPreLoad=new zu,this.groupingExpressionsChange=new zu,this.groupingExpansionStateChange=new zu,this.groupingDone=new zu,this.groupsExpanded=!0,this.role="grid",this.id="igx-grid-"+fZ++,this._groupsRecords=[],this._groupingExpressions=[],this._groupingExpandState=[],this._hideGroupedColumns=!1,this._dropAreaMessage=null,this._showGroupArea=!0,this.childDetailTemplates=new Map}get detailTemplate(){return this._detailTemplate}set detailTemplate(e){this._detailTemplate=e}get groupsRecords(){return this._groupsRecords}get data(){return this._data}set data(e){let t=(!this._data||0===this._data.length)&&e&&e.length>0;this._data=e||[],this.summaryService.clearSummaryCache(),this._init||this.validation.updateAll(this._data),this.shouldGenerate&&this.setupColumns(),this.cdr.markForCheck(),this.isPercentHeight&&this.notifyChanges(!0),t&&this._columns.some((e=>"auto"===e._width))&&this.recalculateAutoSizes()}set totalItemCount(e){this.verticalScrollContainer.totalItemCount=e}get totalItemCount(){return this.verticalScrollContainer.totalItemCount}get _gridAPI(){return this.gridAPI}get groupingExpressions(){return this._groupingExpressions}set groupingExpressions(e){if(this.groupingExpressions===e)return;if(e&&e.length>10)throw Error("Maximum amount of grouped columns is 10.");let t=this.groupingExpressions,i=e;if(this._groupingExpressions=MS(e),this.groupingExpressionsChange.emit(this._groupingExpressions),this._gridAPI.grid&&(this._applyGrouping(),this.notifyChanges()),!this._init&&JSON.stringify(t)!==JSON.stringify(i)&&this._columns){let e=[],n=[];i.filter((e=>!t.some((t=>e.fieldName===t.fieldName)))).forEach((t=>{e.push(this.getColumnByName(t.fieldName))}),this),t.filter((e=>!i.some((t=>e.fieldName===t.fieldName)))).forEach((e=>{n.push(this.getColumnByName(e.fieldName))}),this),this.notifyChanges();let r={expressions:i,groupedColumns:e,ungroupedColumns:n};this.groupingDone.emit(r)}}get groupingExpansionState(){return this._groupingExpandState}set groupingExpansionState(e){e!==this._groupingExpandState&&this.groupingExpansionStateChange.emit(e),this._groupingExpandState=e,this.gridAPI.grid&&this.cdr.detectChanges()}get hideGroupedColumns(){return this._hideGroupedColumns}set hideGroupedColumns(e){this.groupingDiffer=e?this.differs.find(this.groupingExpressions).create():null,this._columns&&this.groupingExpressions&&this._setGroupColsVisibility(e),this._hideGroupedColumns=e}get groupStrategy(){return this._groupStrategy}set groupStrategy(e){this._groupStrategy=e}set dropAreaMessage(e){this._dropAreaMessage=e,this.notifyChanges()}get dropAreaMessage(){return this._dropAreaMessage||this.resourceStrings.igx_grid_groupByArea_message}get groupsRowList(){let e=new Wu;if(!this._groupsRowList)return e;let t=this._groupsRowList.filter((e=>null!==e.element.nativeElement.parentElement)).sort(((e,t)=>e.index-t.index));return e.reset(t),e}get groupByRowSelectorTemplate(){return this._groupByRowSelectorTemplate||this.groupByRowSelectorsTemplates?.first}set groupByRowSelectorTemplate(e){this._groupByRowSelectorTemplate=e}getDetailsContext(e,t){return{$implicit:e,index:t}}detailsViewFocused(e,t){this.navigation.setActiveNode({row:t})}get hasDetails(){return!!this.detailTemplate}getRowTemplate(e){return this.isGroupByRecord(e)?this.defaultGroupTemplate:this.isSummaryRow(e)?this.summaryTemplate:this.hasDetails&&this.isDetailRecord(e)?this.detailTemplateContainer:this.recordTemplate}isDetailRecord(e){return e&&void 0!==e.detailsData}isDetailActive(e){return!!this.navigation.activeNode&&this.navigation.activeNode.row===e}get groupRowTemplate(){return this._groupRowTemplate}set groupRowTemplate(e){this._groupRowTemplate=e,this.notifyChanges()}groupBy(e){this.checkIfNoColumnField(e)||(this.crudService.endEdit(!1),e instanceof Array?this._gridAPI.groupBy_multiple(e):this._gridAPI.groupBy(e),this.notifyChanges(!0))}clearGrouping(e){this._gridAPI.clear_groupby(e),this.calculateGridSizes(),this.notifyChanges(!0)}isExpandedGroup(e){let t=this._getStateForGroupRow(e);return t?t.expanded:this.groupsExpanded}toggleGroup(e){this._toggleGroup(e),this.notifyChanges()}selectRowsInGroup(e,t){this._gridAPI.groupBy_select_all_rows_in_group(e,t),this.notifyChanges()}deselectRowsInGroup(e){this._gridAPI.groupBy_deselect_all_rows_in_group(e),this.notifyChanges()}fullyExpandGroup(e){this._fullyExpandGroup(e),this.notifyChanges()}isGroupByRecord(e){return e&&e?.records&&e.records?.length&&e.expression&&e.expression?.fieldName}toggleAllGroupRows(){this.groupingExpansionState=[],this.groupsExpanded=!this.groupsExpanded,this.notifyChanges()}get hasGroupableColumns(){return this._columns.some((e=>e.groupable&&!e.columnGroup))}get showGroupArea(){return this._showGroupArea}set showGroupArea(e){this._showGroupArea=e,this.notifyChanges(!0)}isColumnGrouped(e){return!!this.groupingExpressions.find((t=>t.fieldName===e))}getContext(e,t,i){if(this.isDetailRecord(e)){let t=this.childDetailTemplates.get(e.detailsData),i=this.primaryKey?e.detailsData[this.primaryKey]:e.detailsData;if(t){let n=t.view,r=t.owner;return{$implicit:e.detailsData,moveView:n,owner:r,index:this.dataView.indexOf(e),templateID:{type:"detailRow",id:i}}}return{$implicit:e.detailsData,templateID:{type:"detailRow",id:i},index:this.dataView.indexOf(e)}}return{$implicit:this.isGhostRecord(e)?e.recordRef:e,index:this.getDataViewIndex(t,i),templateID:{type:this.isGroupByRecord(e)?"groupRow":this.isSummaryRow(e)?"summaryRow":"dataRow",id:null},disabled:this.isGhostRecord(e)}}viewCreatedHandler(e){"detailRow"===e.context.templateID.type&&this.childDetailTemplates.set(e.context.$implicit,e)}viewMovedHandler(e){if("detailRow"===e.context.templateID.type){let t=e.context.$implicit;this.childDetailTemplates.get(t).owner=e.owner}}get iconTemplate(){return this.groupsExpanded?this.headerExpandedIndicatorTemplate||this.defaultExpandedTemplate:this.headerCollapsedIndicatorTemplate||this.defaultCollapsedTemplate}ngAfterContentInit(){super.ngAfterContentInit(),this.allowFiltering&&this.hasColumnLayouts&&(this.filterMode=Nb),this.groupTemplate&&(this._groupRowTemplate=this.groupTemplate.template),this.detailTemplateDirective&&(this._detailTemplate=this.detailTemplateDirective),this.hideGroupedColumns&&this._columns&&this.groupingExpressions&&this._setGroupColsVisibility(this.hideGroupedColumns),this._setupNavigationService()}ngAfterViewInit(){super.ngAfterViewInit(),this.verticalScrollContainer.beforeViewDestroyed.pipe(yi(this.destroy$)).subscribe((e=>{let t=e.context.$implicit;if(this.isDetailRecord(t)){let e=this.childDetailTemplates.get(t.detailsData);e&&e.owner._viewContainerRef.detach(0)}})),this.sortingExpressionsChange.pipe(yi(this.destroy$)).subscribe((e=>{!this.groupingExpressions||!this.groupingExpressions.length||e.forEach((e=>{let t=e.fieldName,i=this.groupingExpressions.find((e=>e.fieldName===t));i&&(i.dir=e.dir)}))}))}ngOnInit(){super.ngOnInit(),this.trackChanges=(e,t)=>void 0!==t?.detailsData?t.detailsData:t,this.groupingDone.pipe(yi(this.destroy$)).subscribe((e=>{this.crudService.endEdit(!1),this.summaryService.updateSummaryCache(e),this._headerFeaturesWidth=NaN}))}ngDoCheck(){if(this.groupingDiffer&&this._columns&&!this.hasColumnLayouts){let e=this.groupingDiffer.diff(this.groupingExpressions);e&&this._columns.length>0&&(e.forEachAddedItem((e=>{let t=this.getColumnByName(e.item.fieldName);t&&(t.hidden=!0)})),e.forEachRemovedItem((e=>{this.getColumnByName(e.item.fieldName).hidden=!1})))}super.ngDoCheck()}dataLoading(e){this.dataPreLoad.emit(e)}getSelectedData(e=!1,t=!1){if(this.groupingExpressions.length||this.hasDetails){let i=[],n=e=>{e.expression||e.summaries||this.isDetailRecord(e)?i.push(null):i.push(e)};return this.dataView.forEach(n),this.extractDataFromSelection(i,e,t)}return super.getSelectedData(e,t)}getRowByIndex(e){let t;if(!(e<0))return(this.dataView.length>=this.virtualizationState.startIndex+this.virtualizationState.chunkSize||!(e<this.virtualizationState.startIndex)&&!(e>this.virtualizationState.startIndex+this.virtualizationState.chunkSize))&&(t=this.createRow(e)),1===this.pagingMode&&0!==this.page&&(t.index=e+this.perPage*this.page),t}getRowByKey(e){let t=this.filteredSortedData?this.primaryKey?this.filteredSortedData.find((t=>t[this.primaryKey]===e)):this.filteredSortedData.find((t=>t===e)):void 0,i=this.dataView.indexOf(t);if(!(i<0||i>this.dataView.length))return new C$(this,i,t)}allRows(){return this.dataView.map(((e,t)=>(1===this.pagingMode&&0!==this.page?t+=this.perPage*this.page:t=this.dataRowList.first.index+t,this.createRow(t))))}dataRows(){return this.allRows().filter((e=>e instanceof C$))}get selectedCells(){return this.dataRows().map((e=>e.cells.filter((e=>e.selected)))).reduce(((e,t)=>e.concat(t)),[])}getCellByColumn(e,t){let i=this.getRowByIndex(e),n=this._columns.find((e=>e.field===t));if(i&&i instanceof C$&&!i.data?.detailsData&&n)return 1===this.pagingMode&&0!==this.page&&(i.index=e+this.perPage*this.page),new yM(this,i.index,t)}getCellByKey(e,t){let i=this.getRowByKey(e),n=this._columns.find((e=>e.field===t));if(i&&n)return new yM(this,i.index,t)}pinRow(e,t){let i=this.getRowByKey(e);return super.pinRow(e,t,i)}unpinRow(e){let t=this.getRowByKey(e);return super.unpinRow(e,t)}createRow(e,t){let i,n=this._getDataViewIndex(e),r=t??this.dataView[n];return r&&this.isGroupByRecord(r)&&(i=new D$(this,e,r)),r&&this.isSummaryRow(r)&&(i=new E$(this,e,r.summaries,Qb.Grid)),!i&&r&&(i=new C$(this,e,r)),i}get defaultTargetBodyHeight(){let e=this.totalItemCount||this.dataLength;return this.renderedRowHeight*Math.min(this._defaultTargetRecordNumber,this.paginator?Math.min(e,this.perPage):e)}getGroupAreaHeight(){return this.groupArea?this.getComputedHeight(this.groupArea.nativeElement):0}scrollTo(e,t){if(this.groupingExpressions&&this.groupingExpressions.length&&"number"!=typeof e){let t=this.groupingResult.indexOf(e),i=this.groupingMetadata[t];i&&this._fullyExpandGroup(i)}super.scrollTo(e,t,this.groupingFlatResult)}_getStateForGroupRow(e){return this._gridAPI.groupBy_get_expanded_for_group(e)}_toggleGroup(e){this._gridAPI.groupBy_toggle_group(e)}_fullyExpandGroup(e){this._gridAPI.groupBy_fully_expand_group(e)}_applyGrouping(){this._gridAPI.sort_groupBy_multiple(this._groupingExpressions)}_setupNavigationService(){this.hasColumnLayouts&&(this.navigation=new RU(this.platform),this.navigation.grid=this)}checkIfNoColumnField(e){if(e instanceof Array){for(let t of e)if(!t.fieldName)return!0;return!1}return!e.fieldName}_setGroupColsVisibility(e){this._columns.length>0&&!this.hasColumnLayouts&&this.groupingExpressions.forEach((t=>{this.getColumnByName(t.fieldName).hidden=e}))}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.cmp=Yn({type:e,selectors:[["igx-grid"]],contentQueries:function(e,t,i){if(1&e&&(mg(i,EG,5,ju),mg(i,DG,5,DG),mg(i,bW,4,ju)),2&e){let e;gg(e=fg())&&(t.detailTemplateDirective=e.first),gg(e=fg())&&(t.groupTemplate=e.first),gg(e=fg())&&(t.groupByRowSelectorsTemplates=e)}},viewQuery:function(e,t){if(1&e&&(pg(aX,7,ju),pg(lX,7,ju),pg(dX,7,ju),pg(cX,7,ju),pg(kU,5,kU)),2&e){let e;gg(e=fg())&&(t.recordTemplate=e.first),gg(e=fg())&&(t.detailTemplateContainer=e.first),gg(e=fg())&&(t.defaultGroupTemplate=e.first),gg(e=fg())&&(t.summaryTemplate=e.first),gg(e=fg())&&(t._groupsRowList=e)}},hostVars:2,hostBindings:function(e,t){2&e&&Gc("role",t.role)("id",t.id)},inputs:{groupsExpanded:"groupsExpanded",dropAreaTemplate:"dropAreaTemplate",detailTemplate:"detailTemplate",id:"id",data:"data",totalItemCount:"totalItemCount",groupingExpressions:"groupingExpressions",groupingExpansionState:"groupingExpansionState",hideGroupedColumns:"hideGroupedColumns",groupStrategy:"groupStrategy",dropAreaMessage:"dropAreaMessage",groupByRowSelectorTemplate:"groupByRowSelectorTemplate",groupRowTemplate:"groupRowTemplate",showGroupArea:"showGroupArea"},outputs:{dataPreLoad:"dataPreLoad",groupingExpressionsChange:"groupingExpressionsChange",groupingExpansionStateChange:"groupingExpansionStateChange",groupingDone:"groupingDone"},standalone:!0,features:[cu([_k,MK,VK,Lk,PK,{provide:Ck,useClass:gU},{provide:wk,useExisting:e},tz,HG,YT,XT]),Tc,yu],ngContentSelectors:mZ,decls:100,vars:170,consts:[[4,"ngIf"],["tabindex","0",1,"igx-grid-thead",3,"grid","hasMRL","density","activeDescendant","width","pinnedColumnCollection","unpinnedColumnCollection","keydown.meta.c","keydown.control.c","copy","keydown","scroll","focus"],["igxGridBody","","role","rowgroup",1,"igx-grid__tbody",3,"keydown.control.c","copy"],["tabindex","0",1,"igx-grid__tbody-content",3,"igxGridDragSelect","keydown","focus","dragStop","scroll","dragScroll"],["tbody",""],["id","left","class","igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop",4,"ngIf"],["id","left","class","igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop","left",4,"ngIf"],[4,"ngTemplateOutlet"],["pinnedRecordsTemplate",""],["igxGridFor","",3,"igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","igxForTrackBy","chunkPreload","dataChanging","dataChanged"],["verticalScrollContainer",""],["record_template",""],["pinned_record_template",""],["group_template",""],["summary_template",""],["detail_template_container",""],["igxOverlayOutlet","",1,"igx-grid__row-editing-outlet"],["igxRowEditingOverlayOutlet",""],["text","Trial version of Ignite UI for Blazor"],["igxToggle",""],["loadingOverlay",""],[3,"indeterminate",4,"ngIf"],["id","right","class","igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop",4,"ngIf"],[1,"igx-grid__tbody-scrollbar",3,"hidden","pointerdown"],[1,"igx-grid__tbody-scrollbar-start"],[1,"igx-grid__tbody-scrollbar-main"],["igxGridFor","",3,"igxGridForOf"],["verticalScrollHolder",""],[1,"igx-grid__tbody-scrollbar-end"],[1,"igx-grid__addrow-snackbar"],[3,"outlet","actionText","displayTime"],["addRowSnackbar",""],["igxOverlayOutlet",""],["igxBodyOverlayOutlet","overlay-outlet"],["igxOverlayOutlet","",1,"igx-grid__loading-outlet"],["igxLoadingOverlayOutlet",""],["role","rowgroup",1,"igx-grid__tfoot"],["tfoot",""],["tabindex","0",3,"focus","keydown"],["role","row","class","igx-grid__summaries",3,"width","height","gridID","summaries","index",4,"ngIf"],[1,"igx-grid__tfoot-thumb",3,"hidden"],[1,"igx-grid__scroll",3,"hidden","pointerdown"],["scr",""],[1,"igx-grid__scroll-start"],[1,"igx-grid__scroll-main"],["scrollContainer",""],[1,"igx-grid__scroll-end",3,"hidden"],[1,"igx-grid__footer"],["footer",""],["emptyFilteredGrid",""],["defaultEmptyGrid",""],["defaultAddRowEmptyTemplate",""],["defaultLoadingGrid",""],["defaultExpandedTemplate",""],["defaultCollapsedTemplate",""],["igxToggle","",4,"ngIf"],["defaultRowEditText",""],["defaultRowEditActions",""],["defaultRowEditTemplate",""],["dragIndicatorIconBase",""],["igxOverlayOutlet","",1,"igx-grid__outlet"],["igxFilteringOverlayOutlet",""],[2,"display","none"],["sink",""],[3,"grid","expressions","sortingExpressions","density","dropAreaTemplate","dropAreaMessage"],["groupArea",""],["id","left",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],["class","igx-grid__tr--pinned",3,"ngClass","width",4,"ngIf"],[1,"igx-grid__tr--pinned",3,"ngClass"],["pinContainer",""],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"igxTemplateOutlet","igxTemplateOutletContext","cachedViewLoaded","viewCreated","viewMoved"],[3,"gridID","index","data","disabled","ngClass","ngStyle"],["row",""],[3,"gridID","index","data","ngClass","ngStyle"],["row","","pinnedRow",""],[3,"gridID","index","groupRow","hideGroupRowSelectors","rowDraggable"],["role","row",1,"igx-grid__summaries--body",3,"gridID","summaries","index"],["summaryRow",""],["detail","true",2,"overflow","auto","width","100%",3,"id","ngClass","pointerdown"],["detailsContainer",""],[1,"igx-grid__hierarchical-indent",2,"display","flex"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"indeterminate"],["id","right",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],["role","row",1,"igx-grid__summaries",3,"gridID","summaries","index"],["role","cell",1,"igx-grid__tbody-message"],["igxButton","raised","igxRipple","",3,"click"],[1,"igx-grid__loading"],["role","button",1,"igx-grid__group-expand-btn",3,"ngClass"],["rowEditingOverlay",""],[3,"className"],["igxButton","","igxRowEditTabStop","","type","button",3,"click"],[1,"igx-banner__message"],[1,"igx-banner__text"],[1,"igx-banner__actions"],[1,"igx-banner__row"]],template:function(e,t){if(1&e&&(hh(dZ),uh(0),uh(1,1),Wc(2,hX,3,8,"ng-container",0),Yc(3,"igx-grid-header-row",1),oh("keydown.meta.c",(function(e){return t.copyHandler(e)}))("keydown.control.c",(function(e){return t.copyHandler(e)}))("copy",(function(e){return t.copyHandler(e)}))("keydown",(function(e){return t.navigation.headerNavigation(e)}))("scroll",(function(e){return t.preventHeaderScroll(e)}))("focus",(function(){return t.navigation.focusFirstCell()})),Xc(),Yc(4,"div",2),oh("keydown.control.c",(function(e){return t.copyHandler(e)}))("copy",(function(e){return t.copyHandler(e)})),Yc(5,"div",3,4),oh("keydown",(function(e){return t.navigation.handleNavigation(e)}))("focus",(function(e){return t.navigation.focusTbody(e)}))("dragStop",(function(e){return t.selectionService.dragMode=e}))("scroll",(function(e){return t.preventContainerScroll(e)}))("dragScroll",(function(e){return t.dragScroll(e)})),Wc(7,uX,1,2,"span",5),Wc(8,gX,1,4,"span",6),Wc(9,pX,1,0,"ng-container",7),Wc(10,CX,7,49,"ng-template",null,8,_g),Wc(12,bX,1,2,"ng-template",9,10,_g),Pu(14,"gridRowPinning"),Pu(15,"gridAddRow"),Pu(16,"gridDetails"),Pu(17,"gridSummary"),Pu(18,"gridPaging"),Pu(19,"gridGroupBy"),Pu(20,"gridSort"),Pu(21,"gridFiltering"),Pu(22,"visibleColumns"),Pu(23,"gridTransaction"),oh("chunkPreload",(function(e){return t.dataLoading(e)}))("dataChanging",(function(e){return t.dataRebinding(e)}))("dataChanged",(function(e){return t.dataRebound(e)})),Wc(24,DX,1,0,"ng-container",7),Wc(25,IX,4,36,"ng-template",null,11,_g),Wc(27,TX,5,35,"ng-template",null,12,_g),Wc(29,AX,2,5,"ng-template",null,13,_g),Wc(31,kX,2,3,"ng-template",null,14,_g),Wc(33,PX,5,9,"ng-template",null,15,_g),Wc(35,MX,1,0,"ng-container",7),Zc(36,"div",16,17)(38,"igc-trial-watermark",18),Xc(),Yc(39,"div",19,20),Wc(41,VX,1,1,"igx-circular-bar",21),Xc(),Wc(42,NX,1,2,"span",22),Yc(43,"div",23),oh("pointerdown",(function(e){return e.preventDefault()})),Zc(44,"div",24),Yc(45,"div",25),Wc(46,LX,0,0,"ng-template",26,27,_g),Xc(),Zc(48,"div",28),Xc(),Yc(49,"div",29)(50,"igx-snackbar",30,31),$h(52),Xc()(),Zc(53,"div",32,33)(55,"div",34,35),Xc(),Yc(57,"div",36,37)(59,"div",38),oh("focus",(function(){return t.navigation.focusFirstCell(!1)}))("keydown",(function(e){return t.navigation.summaryNav(e)})),Wc(60,HX,3,10,"igx-grid-summary-row",39),Zc(61,"div",40),Xc()(),Yc(62,"div",41,42),oh("pointerdown",(function(e){return e.preventDefault()})),Zc(64,"div",43),Yc(65,"div",44),Wc(66,BX,0,0,"ng-template",26,45,_g),Xc(),Zc(68,"div",46),Xc(),Yc(69,"div",47,48),uh(71,2),uh(72,3),Xc(),Wc(73,$X,4,2,"ng-template",null,49,_g),Wc(75,KX,4,2,"ng-template",null,50,_g),Wc(77,UX,2,1,"ng-template",null,51,_g),Wc(79,qX,2,1,"ng-template",null,52,_g),Wc(81,XX,2,3,"ng-template",null,53,_g),Wc(83,ZX,2,3,"ng-template",null,54,_g),Wc(85,eZ,4,6,"div",55),Wc(86,tZ,1,2,"ng-template",null,56,_g),Wc(88,iZ,4,2,"ng-template",null,57,_g),Wc(90,oZ,6,8,"ng-template",null,58,_g),Wc(92,aZ,2,0,"ng-template",null,59,_g),Wc(94,lZ,1,0,"igx-grid-column-resizer",0),Zc(95,"div",60,61),Yc(97,"div",62,63),uh(99,4),Xc()),2&e){let e=Kc(11),i=Kc(54);Ed(2),Uc("ngIf",t.showGroupArea&&(t.groupingExpressions.length>0||t.hasGroupableColumns)),Ed(1),Uc("grid",t)("hasMRL",t.hasColumnLayouts)("density",t.displayDensity)("activeDescendant",t.activeDescendant)("width",t.calcWidth)("pinnedColumnCollection",t.pinnedColumns)("unpinnedColumnCollection",t.unpinnedColumns),Ed(2),Th("height",t.totalHeight,"px")("width",t.calcWidth||null,"px"),Uc("igxGridDragSelect",t.selectionService.dragMode),Gc("role",t.dataView.length?null:"row")("aria-activedescendant",t.activeDescendant),Ed(2),Uc("ngIf",t.moving&&t.columnInDrag&&t.pinnedColumns.length<=0),Ed(1),Uc("ngIf",t.moving&&t.columnInDrag&&t.pinnedColumns.length>0),Ed(1),Uc("ngTemplateOutlet",t.hasPinnedRecords&&t.isRowPinningToTop?e:null),Ed(3),Uc("igxGridForOf",Lu(14,70,Nu(15,75,Lu(16,79,Hu(17,84,Eu(160,uZ,Hu(18,93,Su(154,gZ,Hu(19,99,Eu(145,uZ,Hu(20,108,bu(138,hZ,Hu(21,115,Du(130,cZ,Vu(22,123,Nu(23,126,t.data,t.id,t.pipeTrigger),t.hasVisibleColumns),t.filteringExpressionsTree,t.filterStrategy,t.advancedFilteringExpressionsTree,t.id,t.pipeTrigger,t.filteringPipeTrigger)),t.sortingExpressions,t.groupingExpressions,t.sortStrategy,t.id,t.pipeTrigger)),t.groupingExpressions,t.groupingExpansionState,t.groupStrategy,t.groupsExpanded,t.id,t.groupsRecords,t.pipeTrigger)),!!t.paginator,t.page,t.perPage,t.pipeTrigger)),t.hasSummarizedColumns,t.summaryCalculationMode,t.summaryPosition,t.id,t.showSummaryOnCollapse,t.pipeTrigger,t.summaryPipeTrigger)),t.hasDetails,t.expansionStates,t.pipeTrigger),!1,t.pipeTrigger),t.id,!1,t.pipeTrigger))("igxForScrollOrientation","vertical")("igxForScrollContainer",t.verticalScroll)("igxForContainerSize",t.calcHeight)("igxForItemSize",t.hasColumnLayouts?t.rowHeight*t.multiRowLayoutRowSize+1:t.renderedRowHeight)("igxForTrackBy",t.trackChanges),Ed(12),Uc("ngTemplateOutlet",t.hasPinnedRecords&&!t.isRowPinningToTop?e:null),Ed(11),Uc("ngTemplateOutlet",t.template),Ed(6),Uc("ngIf",t.shouldOverlayLoading),Ed(1),Uc("ngIf",t.moving&&t.columnInDrag),Ed(1),Th("width",t.scrollSize,"px"),Uc("hidden",!t.hasVerticalScroll()),Ed(1),Th("height",t.isRowPinningToTop?t.pinnedRowHeight:0,"px"),Ed(1),Th("height",t.calcHeight,"px"),Ed(1),Uc("igxGridForOf",vu(169,pZ)),Ed(2),Th("height",t.isRowPinningToTop?0:t.pinnedRowHeight,"px"),Ed(2),Uc("outlet",i)("actionText",t.resourceStrings.igx_grid_snackbar_addrow_actiontext)("displayTime",t.snackbarDisplayTime),Ed(2),jh(t.resourceStrings.igx_grid_snackbar_addrow_label),Ed(5),Th("height",t.summaryRowHeight,"px"),Ed(2),Gc("aria-activedescendant",t.activeDescendant),Ed(1),Uc("ngIf",t.hasSummarizedColumns&&t.rootSummariesEnabled),Ed(1),Th("height",t.summaryRowHeight,"px")("width",t.scrollSize,"px"),Uc("hidden",!t.hasVerticalScroll()),Ed(1),Th("height",t.scrollSize,"px"),Uc("hidden",t.isHorizontalScrollHidden),Ed(2),Th("width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px")("min-width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px"),Ed(1),Th("width",t.unpinnedWidth,"px"),Ed(1),Uc("igxGridForOf",t.EMPTY_DATA),Ed(2),Th("float","right")("width",t.pinnedWidth,"px")("min-width",t.pinnedWidth,"px"),Uc("hidden",0===t.pinnedWidth||t.isPinningToStart),Ed(17),Uc("ngIf",t.rowEditable),Ed(9),Uc("ngIf",t.colResizingService.showResizer)}},dependencies:[Em,Sm,bm,Fm,Pm,OK,vW,Fj,oX,vz,tA,pA,rX,kU,mK,vA,fA,TL,SK,CI,lA,FI,wG,yK,P$,M$,N$,z$,k$,R$,LU,MU,VU,PU,NU,FU,OU],encapsulation:2,changeDetection:0}),t})(),vZ=["esf"],xZ=["filterAreaHidden"],_Z=["filterIcon"],wZ=["dropdownChips"],CZ=["pivotFilterContainer"],SZ=["notifyChip"],bZ=["headerVirtualContainer"];function DZ(e,t){if(1&e){let e=nh();Yc(0,"span",38),oh("dropped",(function(t){Is(e),dh();let i=Kc(3);return Ts(dh().onDimDrop(t,i,2))})),$h(1),Xc()}if(2&e){let e=dh(2);Ed(1),jh(e.grid.resourceStrings.igx_grid_pivot_empty_filter_drop_area)}}function EZ(e,t){if(1&e&&(Jc(0),Zc(1,"span",39),eh()),2&e){dh(2);let e=Kc(3),t=dh();Ed(1),Th("visibility","hidden")("height",t.getAreaHeight(e),"px")}}var IZ=function(){return{pivotArea:"filter"}};function TZ(e,t){if(1&e){let e=nh();Jc(0),Zc(1,"span",39),Yc(2,"igx-chip",40),oh("remove",(function(t){return Is(e),Ts(dh(2).filterRemoved(t))}))("dragOver",(function(t){return Is(e),Ts(dh(2).onDimDragOver(t,2))}))("dragLeave",(function(t){return Is(e),Ts(dh(2).onDimDragLeave(t))}))("dragDrop",(function(t){Is(e),dh();let i=Kc(3);return Ts(dh().onDimDrop(t,i,2))}))("moveStart",(function(t){Is(e),dh();let i=Kc(3);return Ts(dh().onDimDragStart(t,i))}))("moveEnd",(function(){return Is(e),Ts(dh(2).onDimDragEnd())})),Yc(3,"igx-icon",41),oh("pointerdown",(function(t){return Is(e),Ts(dh(2).onFilteringIconPointerDown(t))}))("click",(function(t){let i=Is(e).$implicit;return Ts(dh(2).onFilteringIconClick(t,i))})),$h(4,"filter_list"),Xc(),$h(5),Xc(),Wc(6,EZ,2,4,"ng-container",13),eh()}if(2&e){let e=t.$implicit,i=t.last;dh();let n=Kc(3),r=dh();Ed(1),Th("visibility","hidden")("height",r.getAreaHeight(n),"px"),Ed(1),Uc("id",e.memberName)("draggable",!0)("displayDensity",r.grid.displayDensity)("data",vu(11,IZ))("removable",!0),Ed(3),Kh(" ",e.memberName," "),Ed(1),Uc("ngIf",i)}}function AZ(e,t){if(1&e){let e=nh();Yc(0,"div",42)(1,"igx-icon",43,44),oh("pointerdown",(function(t){return Is(e),Ts(dh(2).onFilteringIconPointerDown(t))}))("click",(function(t){return Is(e),Ts(dh(2).onFiltersAreaDropdownClick(t))})),$h(3,"filter_list"),Xc(),Zc(4,"igx-badge",45),Xc()}if(2&e){let e=dh(2);Ed(4),gh("value",e.filterDropdownDimensions.size)}}function kZ(e,t){if(1&e){let e=nh();Yc(0,"div",30,31),oh("igxDragLeave",(function(t){Is(e);let i=Kc(3);return Ts(dh().onAreaDragLeave(t,i))}))("dropped",(function(t){Is(e);let i=Kc(3);return Ts(dh().onDimDrop(t,i,2))}))("pointerdown",(function(e){return e.preventDefault()})),Yc(2,"igx-chips-area",11,32),Wc(4,DZ,2,1,"span",33),Wc(5,TZ,7,12,"ng-container",34),Yc(6,"igx-chip",35,36),oh("dragDrop",(function(t){Is(e);let i=Kc(3);return Ts(dh().onDimDrop(t,i,2))})),$h(8),Xc()(),Wc(9,AZ,5,1,"div",37),Xc()}if(2&e){let e=dh();Th("min-width",e.grid.pivotRowWidths-1,"px")("max-width",e.grid.pivotRowWidths-1,"px"),Ed(4),Uc("ngIf",0===e.grid.filterDimensions.length),Ed(1),Uc("ngForOf",e.filterAreaDimensions),Ed(1),Uc("hidden",!0)("displayDensity",e.grid.displayDensity),Ed(2),Kh(" ",e.grid.resourceStrings.igx_grid_pivot_filter_drop_chip," "),Ed(1),Uc("ngIf",e.isFiltersButton&&0!==e.grid.filterDimensions.length)}}function RZ(e,t){if(1&e){let e=nh();Yc(0,"span",38),oh("dropped",(function(t){Is(e),dh();let i=Kc(3);return Ts(dh().onDimDrop(t,i,1))})),$h(1),Xc()}if(2&e){let e=dh(2);Ed(1),Kh(" ",e.grid.resourceStrings.igx_grid_pivot_empty_column_drop_area,"")}}function OZ(e,t){if(1&e&&(Yc(0,"igx-icon",52),$h(1),Xc()),2&e){let e=dh().$implicit;Ed(1),Kh(" ",e.sortDirection<2?"arrow_upward":"arrow_downward","")}}function FZ(e,t){if(1&e&&(Jc(0),Zc(1,"span",39),eh()),2&e){dh(2);let e=Kc(3),t=dh();Ed(1),Th("visibility","hidden")("height",t.getAreaHeight(e),"px")}}var PZ=function(){return{pivotArea:"column"}};function MZ(e,t){if(1&e){let e=nh();Jc(0),Zc(1,"span",39),Yc(2,"igx-chip",49),oh("remove",(function(t){return Is(e),Ts(dh(2).columnRemoved(t))}))("dragOver",(function(t){return Is(e),Ts(dh(2).onDimDragOver(t,1))}))("dragLeave",(function(t){return Is(e),Ts(dh(2).onDimDragLeave(t))}))("dragDrop",(function(t){Is(e),dh();let i=Kc(3);return Ts(dh().onDimDrop(t,i,1))}))("moveStart",(function(t){Is(e),dh();let i=Kc(3);return Ts(dh().onDimDragStart(t,i))}))("moveEnd",(function(){return Is(e),Ts(dh(2).onDimDragEnd())}))("click",(function(t){let i=Is(e).$implicit;return Ts(dh(2).onChipSort(t,i))})),Yc(3,"igx-icon",50),$h(4,"view_column"),Xc(),Yc(5,"igx-icon",41),oh("pointerdown",(function(t){return Is(e),Ts(dh(2).onFilteringIconPointerDown(t))}))("click",(function(t){let i=Is(e).$implicit;return Ts(dh(2).onFilteringIconClick(t,i))})),$h(6,"filter_list"),Xc(),$h(7),Wc(8,OZ,2,1,"igx-icon",51),Xc(),Wc(9,FZ,2,4,"ng-container",13),eh()}if(2&e){let e=t.$implicit,i=t.last;dh();let n=Kc(3),r=dh();Ed(1),Th("visibility","hidden")("height",r.getAreaHeight(n),"px"),Ed(1),Uc("draggable",!0)("id",e.memberName)("displayDensity",r.grid.displayDensity)("data",vu(12,PZ))("removable",!0),Ed(5),Kh(" ",e.memberName," "),Ed(1),Uc("ngIf",e.sortDirection),Ed(1),Uc("ngIf",i)}}function VZ(e,t){if(1&e){let e=nh();Yc(0,"div",46,47),oh("dropped",(function(t){Is(e);let i=Kc(3);return Ts(dh().onDimDrop(t,i,1))}))("igxDragLeave",(function(t){Is(e);let i=Kc(3);return Ts(dh().onAreaDragLeave(t,i))})),Yc(2,"igx-chips-area",11,48),Wc(4,RZ,2,1,"span",33),Wc(5,MZ,10,13,"ng-container",34),Yc(6,"igx-chip",35,36),oh("dragDrop",(function(t){Is(e);let i=Kc(3);return Ts(dh().onDimDrop(t,i,1))})),$h(8),Xc()()()}if(2&e){let e=dh();Ed(4),Uc("ngIf",0===e.grid.columnDimensions.length),Ed(1),Uc("ngForOf",e.grid.columnDimensions),Ed(1),Uc("hidden",!0)("displayDensity",e.grid.displayDensity),Ed(2),Kh(" ",e.grid.resourceStrings.igx_grid_pivot_column_drop_chip," ")}}function NZ(e,t){if(1&e){let e=nh();Yc(0,"span",38),oh("dropped",(function(t){Is(e),dh();let i=Kc(3);return Ts(dh().onValueDrop(t,i))})),$h(1),Xc()}if(2&e){let e=dh(2);Ed(1),jh(e.grid.resourceStrings.igx_grid_pivot_empty_value_drop_area)}}function LZ(e,t){1&e&&th(0)}function HZ(e,t){if(1&e&&(Jc(0),Zc(1,"span",39),eh()),2&e){dh(2);let e=Kc(3),t=dh();Ed(1),Th("visibility","hidden")("height",t.getAreaHeight(e),"px")}}var BZ=function(){return{pivotArea:"value"}},GZ=function(e){return{$implicit:e}};function zZ(e,t){if(1&e){let e=nh();Jc(0),Zc(1,"span",39),Yc(2,"igx-chip",57,58),oh("remove",(function(t){return Is(e),Ts(dh(2).valueRemoved(t))}))("dragLeave",(function(t){return Is(e),Ts(dh(2).onDimDragLeave(t))}))("dragOver",(function(t){return Is(e),Ts(dh(2).onDimDragOver(t))}))("dragDrop",(function(t){Is(e),dh();let i=Kc(3);return Ts(dh().onValueDrop(t,i))})),Yc(4,"div",59),oh("click",(function(t){let i=Is(e).$implicit,n=Kc(3),r=dh(2),s=Kc(22);return Ts(r.onSummaryClick(t,i,s,n))}))("pointerdown",(function(e){return e.stopPropagation()})),Yc(5,"igx-icon"),$h(6,"functions"),Xc(),Yc(7,"igx-icon"),$h(8,"arrow_drop_down"),Xc()(),Wc(9,LZ,1,0,"ng-container",60),Xc(),Wc(10,HZ,2,4,"ng-container",13),eh()}if(2&e){let e=t.$implicit,i=t.last;dh();let n=Kc(3),r=dh(),s=Kc(22),o=Kc(38);Ed(1),Th("visibility","hidden")("height",r.getAreaHeight(n),"px"),Ed(1),Uc("draggable",!0)("id",e.displayName||e.member)("data",vu(13,BZ))("displayDensity",r.grid.displayDensity)("removable",!0),Ed(2),Uc("igxDropDownItemNavigation",s),Ed(5),Uc("ngTemplateOutlet",r.grid.valueChipTemplate?r.grid.valueChipTemplate:o)("ngTemplateOutletContext",xu(14,GZ,e)),Ed(1),Uc("ngIf",i)}}function $Z(e,t){if(1&e){let e=nh();Yc(0,"div",53,54),oh("pointerdown",(function(e){return e.preventDefault()}))("dropped",(function(t){Is(e);let i=Kc(3);return Ts(dh().onValueDrop(t,i))}))("igxDragLeave",(function(t){Is(e);let i=Kc(3);return Ts(dh().onAreaDragLeave(t,i))})),Yc(2,"igx-chips-area",11,55),Wc(4,NZ,2,1,"span",33),Wc(5,zZ,11,16,"ng-container",34),Yc(6,"igx-chip",35,56),oh("dragDrop",(function(t){Is(e);let i=Kc(3);return Ts(dh().onValueDrop(t,i))})),$h(8),Xc()()()}if(2&e){let e=dh();Ed(4),Uc("ngIf",0===e.grid.values.length),Ed(1),Uc("ngForOf",e.grid.values),Ed(1),Uc("hidden",!0)("displayDensity",e.grid.displayDensity),Ed(2),Kh(" ",e.grid.resourceStrings.igx_grid_pivot_value_drop_chip," ")}}function WZ(e,t){if(1&e){let e=nh();Yc(0,"span",38),oh("dropped",(function(t){Is(e);let i=dh(2),n=Kc(14);return Ts(i.onDimDrop(t,n,0))})),$h(1),Xc()}if(2&e){let e=dh(2);Ed(1),jh(e.grid.resourceStrings.igx_grid_pivot_empty_row_drop_area)}}function jZ(e,t){if(1&e&&(Yc(0,"igx-icon",52),$h(1),Xc()),2&e){let e=dh().$implicit;Ed(1),Kh(" ",e.sortDirection<2?"arrow_upward":"arrow_downward","")}}function KZ(e,t){if(1&e&&(Jc(0),Zc(1,"span",39),eh()),2&e){let e=dh(3),t=Kc(14);Ed(1),Th("visibility","hidden")("height",e.getAreaHeight(t),"px")}}var UZ=function(){return{pivotArea:"row"}};function qZ(e,t){if(1&e){let e=nh();Jc(0),Zc(1,"span",39),Yc(2,"igx-chip",61),oh("remove",(function(t){return Is(e),Ts(dh(2).rowRemoved(t))}))("dragLeave",(function(t){return Is(e),Ts(dh(2).onDimDragLeave(t))}))("dragDrop",(function(t){Is(e);let i=dh(2),n=Kc(14);return Ts(i.onDimDrop(t,n,0))}))("dragOver",(function(t){return Is(e),Ts(dh(2).onDimDragOver(t,0))}))("moveStart",(function(t){Is(e);let i=dh(2),n=Kc(14);return Ts(i.onDimDragStart(t,n))}))("moveEnd",(function(){return Is(e),Ts(dh(2).onDimDragEnd())}))("click",(function(t){let i=Is(e).$implicit;return Ts(dh(2).onChipSort(t,i))})),Yc(3,"igx-icon",50),$h(4,"table_rows"),Xc(),Yc(5,"igx-icon",41),oh("pointerdown",(function(t){return Is(e),Ts(dh(2).onFilteringIconPointerDown(t))}))("click",(function(t){let i=Is(e).$implicit;return Ts(dh(2).onFilteringIconClick(t,i))})),$h(6,"filter_list"),Xc(),$h(7),Wc(8,jZ,2,1,"igx-icon",51),Xc(),Wc(9,KZ,2,4,"ng-container",13),eh()}if(2&e){let e=t.$implicit,i=t.last,n=dh(2),r=Kc(14);Ed(1),Th("visibility","hidden")("height",n.getAreaHeight(r),"px"),Ed(1),Uc("draggable",!0)("id",e.memberName)("displayDensity",n.grid.displayDensity)("data",vu(12,UZ))("removable",!0),Ed(5),Kh(" ",e.memberName," "),Ed(1),Uc("ngIf",e.sortDirection),Ed(1),Uc("ngIf",i)}}function YZ(e,t){if(1&e){let e=nh();Jc(0),Wc(1,WZ,2,1,"span",33),Wc(2,qZ,10,13,"ng-container",34),Yc(3,"igx-chip",35,36),oh("dragDrop",(function(t){Is(e);let i=dh(),n=Kc(14);return Ts(i.onDimDrop(t,n,0))})),$h(5),Xc(),eh()}if(2&e){let e=dh();Ed(1),Uc("ngIf",0===e.grid.rowDimensions.length&&e.grid.showPivotConfigurationUI),Ed(1),Uc("ngForOf",e.grid.rowDimensions),Ed(1),Uc("hidden",!0)("displayDensity",e.grid.displayDensity),Ed(2),Kh(" ",e.grid.resourceStrings.igx_grid_pivot_row_drop_chip," ")}}function XZ(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"igx-grid-header-group",62),oh("pointerdown",(function(t){return Is(e),Ts(dh(2).grid.navigation.focusOutRowHeader(t))})),Pu(2,"igxHeaderGroupWidth"),Pu(3,"igxHeaderGroupWidth"),Pu(4,"igxHeaderGroupStyle"),Xc(),eh()}if(2&e){let e=t.$implicit,i=dh(2);Ed(1),Th("min-width",Nu(2,7,e.calcWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",Nu(3,11,e.calcWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL)),Uc("ngClass",e.headerGroupClasses)("ngStyle",Nu(4,15,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function ZZ(e,t){if(1&e&&(Jc(0),Wc(1,XZ,5,19,"ng-container",34),Pu(2,"igxTopLevel"),eh()),2&e){let e=dh();Ed(1),Uc("ngForOf",Mu(2,1,e.pinnedColumnCollection))}}function QZ(e,t){if(1&e&&(Yc(0,"igx-grid-header-group",66),Pu(1,"igxHeaderGroupWidth"),Pu(2,"igxHeaderGroupWidth"),Pu(3,"igxHeaderGroupStyle"),Xc()),2&e){let e=t.$implicit,i=dh().index,n=dh();Th("height",n.totalDepth>1?n.calcHeight(e,i):void 0,"px")("min-width",Nu(1,13,e.calcWidth,n.grid.defaultHeaderGroupMinWidth,n.hasMRL))("flex-basis",Nu(2,17,e.calcWidth,n.grid.defaultHeaderGroupMinWidth,n.hasMRL)),Ah("igx-grid__tr-pivot--columnDimensionLeaf",n.isDuplicateOfExistingParent(e,i))("igx-grid__tr-pivot--columnMultiRowSpan",n.isMultiRow(e,i)),Uc("ngClass",e.headerGroupClasses)("ngStyle",Nu(3,21,e.headerGroupStyles,e,n.grid.pipeTrigger))("column",e)}}function JZ(e,t){if(1&e&&(Yc(0,"div",63),Wc(1,QZ,4,25,"ng-template",64,65,_g),Xc()),2&e){let e=t.$implicit,i=dh();Th("height",i.totalDepth>1?i.grid.rowHeight:void 0,"px")("width",i.grid.unpinnedWidth,"px"),Ed(1),Uc("igxGridForOf",e)("igxGridForOfUniqueSizeCache",!0)("igxForScrollContainer",i.grid.parentVirtDir)("igxForContainerSize",i.grid.unpinnedWidth)("igxForTrackBy",i.grid.trackColumnChanges)("igxForSizePropName","calcPixelWidth")("igxForScrollOrientation","horizontal")}}function eQ(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"igx-grid-header-group",62),oh("pointerdown",(function(t){return Is(e),Ts(dh(2).grid.navigation.focusOutRowHeader(t))})),Pu(2,"igxHeaderGroupWidth"),Pu(3,"igxHeaderGroupWidth"),Pu(4,"igxHeaderGroupStyle"),Xc(),eh()}if(2&e){let e=t.$implicit,i=dh(2);Ed(1),Th("min-width",Nu(2,9,e.calcWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("flex-basis",Nu(3,13,e.calcWidth,i.grid.defaultHeaderGroupMinWidth,i.hasMRL))("left",e.rightPinnedOffset),Uc("ngClass",e.headerGroupClasses)("ngStyle",Nu(4,17,e.headerGroupStyles,e,i.grid.pipeTrigger))("column",e)}}function tQ(e,t){if(1&e&&(Jc(0),Wc(1,eQ,5,21,"ng-container",34),Pu(2,"igxTopLevel"),eh()),2&e){let e=dh();Ed(1),Uc("ngForOf",Mu(2,1,e.pinnedColumnCollection))}}function iQ(e,t){if(1&e&&(Yc(0,"igx-drop-down-item",67),$h(1),Xc()),2&e){let e=t.$implicit;Uc("selected",dh().isSelected(e))("value",e),Ed(1),Kh(" ",e.label," ")}}function nQ(e,t){if(1&e){let e=nh();Yc(0,"igx-chip",68),oh("remove",(function(t){return Is(e),Ts(dh().filterRemoved(t))}))("chipClick",(function(t){return Is(e),Ts(dh().onFiltersSelectionChanged(t))})),$h(1),Xc()}if(2&e){let e=t.$implicit,i=dh();Uc("id",e.memberName)("displayDensity",i.grid.displayDensity)("removable",!0)("selectable",!0)("selected",e===i.filterDropdownDimensions.values().next().value),Ed(1),Kh(" ",e.memberName," ")}}function rQ(e,t){if(1&e){let e=nh();Yc(0,"igx-chip",69),oh("remove",(function(t){return Is(e),Ts(dh().filterRemoved(t))})),Yc(1,"igx-icon",50),$h(2,"filter_list"),Xc(),$h(3),Xc()}if(2&e){let e=t.$implicit,i=dh();Uc("id",e.memberName)("draggable",!0)("displayDensity",i.grid.displayDensity)("removable",!0),Ed(3),Kh(" ",e.memberName," ")}}function sQ(e,t){if(1&e&&$h(0),2&e){let e=t.$implicit;Uh(" ",e.aggregate.key,"(",e.displayName||e.member,")\n")}}var oQ=(()=>{let e=class extends vW{get headerForOf(){return this.headerContainers.last}constructor(e,t,i,n){super(t,i),this.grid=e,this.renderer=n,this.aggregateList=[],this.filterDropdownDimensions=new Set,this.filterAreaDimensions=new Set,this._dropPos=mM.AfterDropTarget,this._subMenuPositionSettings={verticalStartPoint:SE.Bottom,closeAnimation:void 0},this._subMenuOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new RE(this._subMenuPositionSettings),scrollStrategy:new HE},this.columnDimensionsByLevel=[[]]}get isFiltersButton(){let e=0;if(this.filterDropdownDimensions.clear(),this.filterAreaDimensions.clear(),this.filterArea?.chipsList&&0!==this.filterArea.chipsList.length){let t=getComputedStyle(this.pivotFilterContainer.nativeElement),i=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);return e+=i+(this.filtersButton&&this.filterArea?.chipsList.length>1?this.filtersButton.el.nativeElement.getBoundingClientRect().width:0),this.filterArea.chipsList.forEach((t=>{let i=this.grid.filterDimensions.find((e=>e.memberName===t.id));if(i){let n=t.nativeElement.getBoundingClientRect().width+8;e+n<this.grid.pivotRowWidths?this.filterAreaDimensions.add(i):this.filterDropdownDimensions.add(i),e+=n}})),this.filterDropdownDimensions.size>0}return!1}get totalDepth(){let e=this.grid.columnDimensions;if(0===e.length)return 1;let t=e.map((e=>Nk.getDimensionDepth(e)+1)).reduce(((e,t)=>e+t));return this.grid.hasMultipleValues&&(t+=1),t}get maxContainerHeight(){return this.totalDepth*this.grid.renderedRowHeight}calcHeight(e,t){return!e.columnGroup&&e.level<this.totalDepth&&e.level===t?(this.totalDepth-e.level)*this.grid.rowHeight:this.grid.rowHeight}isDuplicateOfExistingParent(e,t){return-1!==(t>0?this.columnDimensionsByLevel[t-1]:[]).indexOf(e)}isMultiRow(e,t){return!e.columnGroup&&t!==this.totalDepth-1}populateColumnDimensionsByLevel(){let e=[];for(let t=0;t<this.totalDepth;t++)e[t]=[];let t=this.unpinnedColumnCollection;this.populateDimensionRecursively(t.filter((e=>0===e.level)),0,e),this.columnDimensionsByLevel=e}populateDimensionRecursively(e,t=0,i){e.forEach((e=>{if(i[t])if(i[t].push(e),e.columnGroup&&e.children.length>0){let n=e.children.toArray().filter((e=>!e.hidden));this.populateDimensionRecursively(n,t+1,i)}else if(t<this.totalDepth-1)for(let n=t+1;n<=this.totalDepth-1;n++)i[n].push(e)}))}ngOnChanges(e){e.unpinnedColumnCollection&&this.populateColumnDimensionsByLevel()}onDimDragStart(e,t){this.cdr.detectChanges();for(let e of this.notificationChips){let i=e.nativeElement.parentElement;-1===t.chipsList.toArray().indexOf(e)&&i.children.length>0&&"empty"!==i.children.item(0).id&&(e.nativeElement.hidden=!1,i.parentElement.scrollTo({left:e.nativeElement.offsetLeft}))}}onDimDragEnd(){for(let e of this.notificationChips)e.nativeElement.hidden=!0}getAreaHeight(e){let t=e.chipsList;return t&&t.length>0?t.first.nativeElement.offsetHeight:0}rowRemoved(e){let t=this.grid.pivotConfiguration.rows.find((t=>t.memberName===e.owner.id));this.grid.toggleDimension(t)}columnRemoved(e){let t=this.grid.pivotConfiguration.columns.find((t=>t.memberName===e.owner.id));this.grid.toggleDimension(t)}valueRemoved(e){let t=this.grid.pivotConfiguration.values.find((t=>t.member===e.owner.id||t.displayName===e.owner.id));this.grid.toggleValue(t)}filterRemoved(e){let t=this.grid.pivotConfiguration.filters.find((t=>t.memberName===e.owner.id));this.grid.toggleDimension(t),this.filterDropdownDimensions.size>0?this.onFiltersAreaDropdownClick({target:this.filtersButton.el.nativeElement},void 0,!1):this.grid.filteringService.hideESF()}onFiltersSelectionChanged(e){this.dropdownChips.chipsList.forEach((t=>{t.id!==e.owner.id&&(t.selected=!1)})),this.onFiltersAreaDropdownClick({target:this.filtersButton.el.nativeElement},this.grid.filterDimensions.find((t=>t.memberName===e.owner.id)),!1)}onFilteringIconPointerDown(e){e.stopPropagation(),e.preventDefault()}onFilteringIconClick(e,t){e.stopPropagation(),e.preventDefault();let i=t,n=this.grid.dimensionDataColumns.find((e=>e.field===i.memberName||e.field===i.member));this.grid.filteringService.toggleFilterDropdown(e.target,n)}onSummaryClick(e,t,i,n){this._subMenuOverlaySettings.target=e.currentTarget,this.updateDropDown(t,i,n)}onFiltersAreaDropdownClick(e,t,i=!0){let n=t||this.filterDropdownDimensions.values().next().value,r=this.grid.dimensionDataColumns.find((e=>e.field===n.memberName||e.field===n.member));i&&(this.dropdownChips.chipsList.forEach((e=>{e.selected=!1})),this.dropdownChips.chipsList.first.selected=!0),this.grid.filteringService.toggleFiltersESF(this.esf,e.target,r,i)}onAggregationChange(e){this.isSelected(e.newSelection.value)||(this.value.aggregate=e.newSelection.value,this.grid.pipeTrigger++)}isSelected(e){return this.value.aggregate.key===e.key}onChipSort(e,t){let i=t.sortDirection||gb.None,n=i+1>gb.Desc?gb.None:i+1;this.grid.sortDimension(t,n)}onDimDragOver(e,t){if(!e.dragChip||!e.dragChip.data?.pivotArea||(void 0!==t?this.grid.pivotConfiguration.values.find((t=>t.member===e.dragChip.id||t.displayName===e.dragChip.id)):!this.grid.pivotConfiguration.values.find((t=>t.member===e.dragChip.id||t.displayName===e.dragChip.id))))return;let i=e.owner.nativeElement.getBoundingClientRect().width/2;this._dropPos=e.originalEvent.offsetX>i?mM.AfterDropTarget:mM.BeforeDropTarget,this._dropPos===mM.AfterDropTarget?(e.owner.nativeElement.previousElementSibling.style.visibility="hidden",e.owner.nativeElement.nextElementSibling.style.visibility=""):(e.owner.nativeElement.nextElementSibling.style.visibility="hidden",e.owner.nativeElement.previousElementSibling.style.visibility="")}onDimDragLeave(e){e.owner.nativeElement.previousElementSibling.style.visibility="hidden",e.owner.nativeElement.nextElementSibling.style.visibility="hidden",this._dropPos=mM.AfterDropTarget}onAreaDragLeave(e,t){t.chipsList.toArray().filter((e=>-1===this.notificationChips.toArray().indexOf(e))).forEach((e=>{e.nativeElement.previousElementSibling&&(e.nativeElement.previousElementSibling.style.visibility="hidden"),e.nativeElement.nextElementSibling&&(e.nativeElement.nextElementSibling.style.visibility="hidden")}))}onValueDrop(e,t){if(!(e.dragChip&&e.dragChip.data?.pivotArea||e.dragData?.chip&&e.dragData.chip.data.pivotArea))return;let i=this.grid.pivotConfiguration.values,n=e.dragChip?.id||e.dragData?.chip.id,r=t.chipsList.toArray(),s=-1!==r.indexOf(e.owner)?r.indexOf(e.owner):r.length;s=this._dropPos===mM.AfterDropTarget?s+1:s;let o=i.find((e=>e.member===n||e.displayName===n));if(o){let t=r.indexOf(e.dragChip||e.dragData.chip);this.grid.moveValue(o,t>=s?s:s-1)}}onDimDrop(e,t,i){if(!(e.dragChip&&e.dragChip.data?.pivotArea||e.dragData?.chip&&e.dragData.chip.data.pivotArea))return;let n=e.dragChip?.id||e.dragData?.chip.id,r=this.grid.getDimensionsByType(i),s=void 0===t.chipsList.toArray().find((e=>e.id===n)),o=void 0!==e.owner.id,a=-1!==r.findIndex((t=>t.memberName===e.owner.id))?r.findIndex((t=>t.memberName===e.owner.id)):r.length,l=this._dropPos===mM.AfterDropTarget?a+1:a;if(s){let e=this.grid.allDimensions.find((e=>e&&e.memberName===n));if(!e)return;this.grid.moveDimension(e,i,l)}else if(o){let e=r.find((e=>e.memberName===n)),t=r.findIndex((e=>e.memberName===n));this.grid.moveDimension(e,i,t>a?l:l-1)}this.grid.pipeTrigger++,this.grid.dimensionsChange.emit({dimensions:r,dimensionCollectionType:i}),this.onDimDragEnd(),this.onAreaDragLeave(e,t)}updateDropDown(e,t,i){this.value=e,t.width=i.nativeElement.clientWidth+"px",this.aggregateList=Nk.getAggregateList(e,this.grid),this.cdr.detectChanges(),t.open(this._subMenuOverlaySettings)}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk),Rd(ld),Rd(Jg),Rd(hd))},e.cmp=Yn({type:e,selectors:[["igx-pivot-header-row"]],viewQuery:function(e,t){if(1&e&&(pg(vZ,5),pg(xZ,5),pg(_Z,5),pg(wZ,5),pg(CZ,5),pg(SZ,5),pg(bZ,5,tA)),2&e){let e;gg(e=fg())&&(t.esf=e.first),gg(e=fg())&&(t.filterArea=e.first),gg(e=fg())&&(t.filtersButton=e.first),gg(e=fg())&&(t.dropdownChips=e.first),gg(e=fg())&&(t.pivotFilterContainer=e.first),gg(e=fg())&&(t.notificationChips=e),gg(e=fg())&&(t.headerContainers=e)}},standalone:!0,features:[Tc,ns,yu],decls:39,vars:31,consts:[["role","row",1,"igx-grid-thead__wrapper","igx-grid-thead__wrapper--pivot"],["role","row",1,"igx-grid__tr"],[1,"igx-grid__tr-pivot--filter-container"],["class","igx-grid__tr-pivot igx-grid__tr-pivot--filter","igxDrop","",3,"min-width","max-width","igxDragLeave","dropped","pointerdown",4,"ngIf"],["igxDrop","",1,"igx-grid__tr-pivot--drop-row-area",3,"igxDragLeave","dropped"],[1,"igx-grid__tr-pivot-group"],["class","igx-grid__tr-pivot","igxDrop","",3,"dropped","igxDragLeave",4,"ngIf"],["class","igx-grid__tr-pivot","igxDrop","",3,"pointerdown","dropped","igxDragLeave",4,"ngIf"],["role","rowgroup",1,"igx-grid-thead__wrapper"],["igxDrop","",1,"igx-grid__tr-pivot","igx-grid__tr-pivot--row-area",3,"igxDragLeave","dropped","pointerdown"],["pivotContainer",""],["droppable","true"],["rowArea",""],[4,"ngIf"],[1,"igx-grid-thead--virtualizationWrapper"],["class","igx-grid-thead__group igx-grid-thead--virtualizationContainer",3,"height","width",4,"ngFor","ngForOf"],[1,"igx-grid-thead__thumb",3,"hidden"],[3,"selectionChanging"],["dropdown",""],[3,"selected","value",4,"ngFor","ngForOf"],[3,"hidden"],[3,"maxHeight","minHeight"],["esf",""],["igxExcelStyleColumnOperations",""],["dropdownChips",""],[3,"id","displayDensity","removable","selectable","selected","remove","chipClick",4,"ngFor","ngForOf"],[2,"visibility","hidden","position","absolute","top","-10000px"],["filterAreaHidden",""],[3,"id","draggable","displayDensity","removable","remove",4,"ngFor","ngForOf"],["valueChipDefaultTemplate",""],["igxDrop","",1,"igx-grid__tr-pivot","igx-grid__tr-pivot--filter",3,"igxDragLeave","dropped","pointerdown"],["pivotFilterContainer",""],["filterArea",""],["id","empty","igxDrop","","class","igx-grid__pivot-empty-chip-area",3,"dropped",4,"ngIf"],[4,"ngFor","ngForOf"],["igxDrop","",3,"hidden","displayDensity","dragDrop"],["notifyChip",""],["class","igx-grid__pivot-filter-toggle",4,"ngIf"],["id","empty","igxDrop","",1,"igx-grid__pivot-empty-chip-area",3,"dropped"],[1,"igx-grid__tr-pivot--chip_drop_indicator"],[3,"id","draggable","displayDensity","data","removable","remove","dragOver","dragLeave","dragDrop","moveStart","moveEnd"],["igxPrefix","",3,"pointerdown","click"],[1,"igx-grid__pivot-filter-toggle"],[3,"pointerdown","click"],["filterIcon",""],[3,"value"],["igxDrop","",1,"igx-grid__tr-pivot",3,"dropped","igxDragLeave"],["pivotColumnContainer",""],["colArea",""],[3,"draggable","id","displayDensity","data","removable","remove","dragOver","dragLeave","dragDrop","moveStart","moveEnd","click"],["igxPrefix",""],["igxSuffix","",4,"ngIf"],["igxSuffix",""],["igxDrop","",1,"igx-grid__tr-pivot",3,"pointerdown","dropped","igxDragLeave"],["pivotValueContainer",""],["valueArea",""],["notifyValueChip",""],[3,"draggable","id","data","displayDensity","removable","remove","dragLeave","dragOver","dragDrop"],["currChip",""],["igxPrefix","",1,"igx-grid__tr-pivot-toggle-icons",3,"igxDropDownItemNavigation","click","pointerdown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"draggable","id","displayDensity","data","removable","remove","dragLeave","dragDrop","dragOver","moveStart","moveEnd","click"],[3,"ngClass","ngStyle","column","pointerdown"],[1,"igx-grid-thead__group","igx-grid-thead--virtualizationContainer"],["igxGridFor","",3,"igxGridForOf","igxGridForOfUniqueSizeCache","igxForScrollContainer","igxForContainerSize","igxForTrackBy","igxForSizePropName","igxForScrollOrientation"],["headerVirtualContainer",""],[3,"ngClass","ngStyle","column"],[3,"selected","value"],[3,"id","displayDensity","removable","selectable","selected","remove","chipClick"],[3,"id","draggable","displayDensity","removable","remove"]],template:function(e,t){if(1&e){let e=nh();Yc(0,"div")(1,"div",0)(2,"div",1)(3,"div",2),Wc(4,kZ,10,10,"div",3),Yc(5,"div",4),oh("igxDragLeave",(function(i){Is(e);let n=Kc(14);return Ts(t.onAreaDragLeave(i,n))}))("dropped",(function(i){Is(e);let n=Kc(14);return Ts(t.onDimDrop(i,n,0))})),Xc()(),Yc(6,"div",5),Wc(7,VZ,9,5,"div",6),Wc(8,$Z,9,5,"div",7),Xc()()(),Yc(9,"div",8)(10,"div",1)(11,"div",9,10),oh("igxDragLeave",(function(i){Is(e);let n=Kc(14);return Ts(t.onAreaDragLeave(i,n))}))("dropped",(function(i){Is(e);let n=Kc(14);return Ts(t.onDimDrop(i,n,0))}))("pointerdown",(function(e){return e.preventDefault()})),Yc(13,"igx-chips-area",11,12),Wc(15,YZ,6,5,"ng-container",13),Xc()(),Wc(16,ZZ,3,3,"ng-container",13),Yc(17,"div",14),Wc(18,JZ,3,11,"div",15),Xc(),Wc(19,tQ,3,3,"ng-container",13),Xc()()(),Zc(20,"div",16),Yc(21,"igx-drop-down",17,18),oh("selectionChanging",(function(e){return t.onAggregationChange(e)})),Wc(23,iQ,2,3,"igx-drop-down-item",19),Xc(),Yc(24,"div",20)(25,"igx-grid-excel-style-filtering",21,22)(27,"div",23)(28,"igx-chips-area",null,24),Wc(30,nQ,2,6,"igx-chip",25),Xc()(),Yc(31,"igx-excel-style-filter-operations"),Zc(32,"igx-excel-style-search"),Xc()()(),Yc(33,"div",26)(34,"igx-chips-area",11,27),Wc(36,rQ,4,5,"igx-chip",28),Xc()(),Wc(37,sQ,1,2,"ng-template",null,29,_g)}2&e&&(Ed(1),Th("width",t.width,"px"),Ed(1),Th("width",t.width,"px"),Ed(2),Uc("ngIf",t.grid.showPivotConfigurationUI),Ed(3),Uc("ngIf",t.grid.showPivotConfigurationUI),Ed(1),Uc("ngIf",t.grid.showPivotConfigurationUI),Ed(1),Th("width",t.width,"px"),Ah("igx-grid__tr--mrl",t.hasMRL),Gc("aria-activedescendant",t.activeDescendant),Ed(1),Th("width",t.width,"px"),Ed(1),Th("width",t.grid.pivotRowWidths-1,"px"),Ed(4),Uc("ngIf",t.grid.showPivotConfigurationUI),Ed(1),Uc("ngIf",t.pinnedColumnCollection.length&&t.grid.isPinningToStart),Ed(1),Th("max-height",t.maxContainerHeight,"px"),Ed(1),Uc("ngForOf",t.columnDimensionsByLevel),Ed(1),Uc("ngIf",t.pinnedColumnCollection.length&&!t.grid.isPinningToStart),Ed(1),Th("width",t.grid.scrollSize,"px"),Uc("hidden",!t.grid.hasVerticalScroll()),Ed(3),Uc("ngForOf",t.aggregateList),Ed(1),Uc("hidden",!0),Ed(1),Uc("maxHeight",t.grid.excelStyleFilterMaxHeight)("minHeight",t.grid.excelStyleFilterMinHeight),Ed(5),Uc("ngForOf",t.filterDropdownDimensions),Ed(6),Uc("ngForOf",t.grid.filterDimensions))},dependencies:[Em,NT,KF,bm,WF,FI,gI,eO,pI,rI,Pm,Wz,Sm,Fm,tA,YA,jA,gG,hG,uG,FB,NG,LG,F$],encapsulation:2,changeDetection:0}),t})(),aQ=(()=>{let e=class{static instance(){return this._instance||(this._instance=new e)}process(e,t,i){return e}},t=e;return e._instance=null,t})(),lQ=(()=>{let e=class{static instance(){return this._instance||(this._instance=new e)}process(e,t,i,n,r=Mk){let s,o,a=[],l=MS(t,!0);if(Nk.assignLevels(l),0===l.length)return s=Nk.getFieldsHierarchy(e,[{memberName:"",enabled:!0}],Vk.Row,r,n),o=Nk.processHierarchy(s,r,0,!0),o;for(let t of l)o?Nk.processGroups(o,t,r,n):(s=Nk.getFieldsHierarchy(e,[t],Vk.Row,r,n),o=Nk.processHierarchy(s,r,0,!0),a.push(t));return o}},t=e;return e._instance=null,t})(),dQ=(()=>{let e=class{static instance(){return this._instance||(this._instance=new e)}process(e,t,i,n,r=Mk){return this.processHierarchy(e,t,i,r,n)}processHierarchy(e,t,i,n,r){let s=[];return e.forEach((e=>{this.groupColumns(e,t,i,n,r),s.push(e)})),s}groupColumns(e,t,i,n,r){let s=e.children;s&&s.size>0&&s.forEach((e=>{e&&e.forEach((e=>{this.groupColumns(e,t,i,n,r)}))})),this.applyAggregates(e,t,i,n,r)}applyAggregates(e,t,i,n,r){let s=this.getLeafs(e.records,n),o=Nk.getFieldsHierarchy(s,t,Vk.Column,n,r);Nk.applyAggregations(e,o,i,n)}getLeafs(e,t){let i=[];for(let n of e)n[t.records]?i=i.concat(this.getLeafs(n[t.records],t)):i.push(n);return i}},t=e;return e._instance=null,t})(),cQ=class extends Pb{constructor(e){super(),this.fields=e}getFieldValue(e,t,i=!1,n=!1,r){let s=r.allDimensions.filter((e=>e&&e.enabled)),o=Nk.flatten(s).find((e=>e.memberName===t));return o.childLevel?this._getDimensionValueHierarchy(o,e).map((e=>"["+e+"]")).join("."):Nk.extractValueFromDimension(o,e)}getFilterItems(e,t){let i=e.grid,n=i.allDimensions.filter((e=>e&&e.enabled)),r=e.grid.gridAPI.filterDataByExpressions(t),s=n.find((t=>t.memberName===e.field)),o=Nk.getFieldsHierarchy(r,[s],Vk.Column,i.pivotKeys,i.pivotValueCloneStrategy),a=i.pivotConfiguration.columnStrategy instanceof aQ||i.pivotConfiguration.rowStrategy instanceof aQ?[{value:""}]:this._getFilterItems(o,i.pivotKeys);return Promise.resolve(a)}_getFilterItems(e,t){let i=[];return e.forEach((e=>{let n=e.value,r=n.split(t.columnDimensionSeparator),s=r.length>1?r.map((e=>"["+e+"]")).join("."):n,o=r[r.length-1];i.push({value:s,label:o,children:this._getFilterItems(e.children,t)})})),i}_getDimensionValueHierarchy(e,t){let i=[],n=Nk.extractValueFromDimension(e,t);if(i.push(n),e.childLevel){let n=this._getDimensionValueHierarchy(e.childLevel,t);i=i.concat(n)}return i}},hQ=(()=>{let e=class extends MK{get lastRowDimensionsIndex(){return this.grid.rowDimensions.length-1}focusOutRowHeader(){this.isRowHeaderActive=!1}handleNavigation(e){if(this.isRowHeaderActive){let t=e.key.toLowerCase(),i=e.ctrlKey;if(!QS.has(t))return;e.preventDefault();let n={row:this.activeNode.row,column:this.activeNode.column,level:null,mchCache:null,layout:null};(t.includes("left")||"home"===t)&&this.activeNode.column>0&&(n.column=i||"home"===t?0:this.activeNode.column-1),(t.includes("right")||"end"===t)&&this.activeNode.column<this.lastRowDimensionsIndex&&(n.column=i||"end"===t?this.lastRowDimensionsIndex:this.activeNode.column+1);let r=this.grid.verticalRowDimScrollContainers.toArray()[n.column];if(t.includes("up")&&this.activeNode.row>0&&(n.row=i?0:this.activeNode.row-1),t.includes("down")&&this.activeNode.row<this.findLastDataRowIndex()&&(n.row=i?r.igxForOf.length-1:Math.min(this.activeNode.row+1,r.igxForOf.length-1)),t.includes("left")||t.includes("right")){let e=this.activeNode.row,t=this.grid.verticalRowDimScrollContainers.toArray()[this.activeNode.column].getScrollForIndex(e);n.row=this.activeNode.mchCache&&this.activeNode.mchCache.level===n.column?this.activeNode.mchCache.visibleIndex:r.getIndexAtScroll(t),n.mchCache={visibleIndex:this.activeNode.row,level:this.activeNode.column}}this.setActiveNode(n),r.isIndexOutsideView(n.row)&&r.scrollTo(n.row)}else super.handleNavigation(e)}focusTbody(e){this.activeNode&&null!==this.activeNode.row&&void 0!==this.activeNode.row?super.focusTbody(e):this.activeNode=this.lastActiveNode}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.prov=ji({token:e,factory:e.fac}),t})(),uQ=(()=>{let e=class extends HG{getColumnHeaderRenderedWidth(){return this.rowHeaderGroup.header.nativeElement.getBoundingClientRect().width}_handlePixelResize(e,t){let i=this.rowHeaderGroup.parent.rootDimension;if(!i)return;let n=parseFloat(t.width),r=t.minWidthPx,s=t.maxWidthPx,o=n;o=n+e<r?r:s&&n+e>s?s:n+e,this.rowHeaderGroup.grid.resizeRowDimensionPixels(i,o)}_handlePercentageResize(){}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.prov=ji({token:e,factory:e.fac}),t})(),gQ=(()=>{let e=class extends tz{clearFilter(e){this.clear_filter(e)}clear_filter(e){super.clear_filter(e);let t=this.grid,i=t.allDimensions,n=Nk.flatten(i).find((t=>t.memberName===e));n.filter=void 0,t.filteringPipeTrigger++,-1!==i.indexOf(n)&&t.setupColumns()}filter_internal(e,t,i,n){super.filter_internal(e,t,i,n);let r=this.grid,s=r.pivotConfiguration,o=Nk.flatten(s.rows.concat(s.columns).concat(s.filters).filter((e=>null!=e))),a=o.filter((e=>e&&e.enabled)).find((t=>t.memberName===e||t.member===e)),l=a.filter||new kb(Rb.And),d=l.findIndex(e);d>-1&&l.filteringOperands.splice(d,1),this.prepare_filtering_expression(l,e,t,i,n,d),a.filter=l,r.filteringPipeTrigger++,r.filterStrategy=r.filterStrategy??new cQ,-1!==o.indexOf(a)&&r.setupColumns()}toggleFiltersESF(e,t,i,n){let r=i.filteringExpressionsTree?"igx-excel-filter__icon--filtered":"igx-excel-filter__icon",s=t.querySelector(`.${r}`)||t,{id:o,ref:a}=this.grid.createFilterESF(e,i,v(y({},this._filterMenuOverlaySettings),{target:s}),n);this.filtersESFId=o,n&&(this._overlayService.opening.pipe(ci((e=>e.id===o)),yi(this.destroy$)).subscribe((()=>this.lastActiveNode=this.grid.navigation.activeNode)),this._overlayService.closed.pipe(ci((e=>e.id===o)),yi(this.destroy$)).subscribe((()=>{this._overlayService.detach(o),a?.destroy(),this.grid.navigation.activeNode=this.lastActiveNode,this.grid.theadRow.nativeElement.focus()})),this.grid.columnPinned.pipe(ci()).subscribe((()=>a?.destroy())),this._overlayService.show(o))}hideESF(){this._overlayService.hide(this.filtersESFId)}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.prov=ji({token:e,factory:e.fac}),t})();function pQ(e,t){if(1&e&&(Yc(0,"span",6),$h(1),Xc()),2&e){let e=dh();Uc("title",e.title),Ed(1),jh(e.column.header||e.column.field)}}function mQ(e,t){1&e&&(Yc(0,"igx-icon"),$h(1,"more_vert"),Xc())}function fQ(e,t){if(1&e&&(Yc(0,"igx-icon"),$h(1),Xc()),2&e){let e=dh();Ed(1),jh(e.sortDirection<2?"arrow_upward":"arrow_downward")}}function yQ(e,t){1&e&&th(0)}function vQ(e,t){1&e&&th(0)}var xQ=function(e){return{$implicit:e}};function _Q(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"div",8),oh("click",(function(t){return Is(e),Ts(dh(2).onSortingIconClick(t))}))("pointerdown",(function(e){return e.stopPropagation()})),Pu(2,"sortingIndex"),Wc(3,vQ,1,0,"ng-container",4),Xc(),eh()}if(2&e){let e=dh(2);Ed(1),Gc("data-sortIndex","single"===e.grid.sortingOptions.mode&&e.grid.sortingExpressions.length<=1?null:Vu(2,4,e.column.field,e.grid.sortingExpressions))("draggable",!1),Ed(2),Uc("ngTemplateOutlet",e.sortIconTemplate)("ngTemplateOutletContext",xu(7,xQ,e))}}function wQ(e,t){1&e&&th(0)}function CQ(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"div",9),oh("click",(function(t){return Is(e),Ts(dh(2).onFilteringIconClick(t))}))("pointerdown",(function(e){return e.stopPropagation()})),Wc(2,wQ,1,0,"ng-container",4),Xc(),eh()}if(2&e){let e=dh(2);Ed(1),Uc("ngClass",e.filterIconClassName),Ed(1),Uc("ngTemplateOutlet",e.esfIconTemplate)("ngTemplateOutletContext",xu(3,xQ,e))}}function SQ(e,t){if(1&e&&(Jc(0),Yc(1,"div",7),Wc(2,_Q,4,9,"ng-container",5),Wc(3,CQ,3,5,"ng-container",5),Xc(),eh()),2&e){let e=dh();Ed(2),Uc("ngIf",e.column.sortable&&!e.disabled),Ed(1),Uc("ngIf",e.grid.allowFiltering&&e.column.filterable&&"excelStyleFilter"===e.grid.filterMode)}}var bQ=function(e,t){return{$implicit:e,column:t}},DQ=(()=>{let e=class extends JG{constructor(e,t,i,n){super(e,t,i,n),this.colResizingService=t,this.refInstance=n}onClick(e){e.preventDefault()}get selectable(){return!1}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk),Rd(uQ),Rd(Jg),Rd(ld))},e.cmp=Yn({type:e,selectors:[["igx-pivot-row-dimension-header"]],hostBindings:function(e,t){1&e&&oh("click",(function(e){return t.onClick(e)}))},standalone:!0,features:[Tc,yu],decls:9,vars:6,consts:[["defaultColumn",""],["defaultESFHeaderIconTemplate",""],["defaultSortHeaderIconTemplate",""],[1,"igx-grid-th__title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"title"],[1,"igx-grid-th__icons"],[1,"sort-icon",3,"click","pointerdown"],[3,"ngClass","click","pointerdown"]],template:function(e,t){if(1&e&&(Wc(0,pQ,2,2,"ng-template",null,0,_g),Wc(2,mQ,2,0,"ng-template",null,1,_g),Wc(4,fQ,2,1,"ng-template",null,2,_g),Yc(6,"span",3),Wc(7,yQ,1,0,"ng-container",4),Xc(),Wc(8,SQ,4,2,"ng-container",5)),2&e){let e=Kc(1);Ed(7),Uc("ngTemplateOutlet",t.column.headerTemplate?t.column.headerTemplate:e)("ngTemplateOutletContext",_u(3,bQ,t.column,t.column)),Ed(1),Uc("ngIf",!t.column.columnGroup)}},dependencies:[FI,Pm,Em,Sm,VG],encapsulation:2,changeDetection:0}),t})(),EQ=(()=>{let e=class extends yz{set pivotColumn(e){this.column=e}get pivotColumn(){return this.column}constructor(e,t,i){super(e,t,i),this.colResizingService=i}onDoubleClick(){this._dblClick=!0,this.initResizeService(),this.rowHeaderGroup.grid.autoSizeRowDimension(this.rowHeaderGroup.parent.rootDimension)}initResizeService(e=null){super.initResizeService(e),this.colResizingService.rowHeaderGroup=this.rowHeaderGroup}},t=e;return e.fac=function(t){return new(t||e)(Rd(Ig),Rd(ld),Rd(uQ))},e.dir=er({type:e,selectors:[["","igxPivotResizeHandle",""]],inputs:{pivotColumn:["igxPivotResizeHandle","pivotColumn"],rowHeaderGroup:["igxPivotResizeHandleHeader","rowHeaderGroup"]},standalone:!0,features:[Tc]}),t})();function IQ(e,t){if(1&e&&(Yc(0,"span",3),$h(1),Xc()),2&e){let e=dh();Uc("title",e.title),Ed(1),jh(e.column.header)}}function TQ(e,t){if(1&e&&(Yc(0,"igx-icon"),$h(1),Xc()),2&e){let e=dh();Gc("draggable",!1),Ed(1),Kh(" ",e.column.expanded?"expand_more":"chevron_right"," ")}}function AQ(e,t){1&e&&Zc(0,"span",9)}function kQ(e,t){1&e&&Zc(0,"igx-grid-filtering-cell",10),2&e&&(Uc("column",dh(2).column),Gc("draggable",!1))}function RQ(e,t){if(1&e&&Zc(0,"span",11),2&e){let e=dh(2);Th("cursor",e.colResizingService.resizeCursor),Uc("igxPivotResizeHandle",e.column)("igxPivotResizeHandleHeader",e),Gc("draggable",!1)}}function OQ(e,t){1&e&&Zc(0,"span",12)}function FQ(e,t){if(1&e){let e=nh();Jc(0),Wc(1,AQ,1,0,"span",4),Yc(2,"igx-pivot-row-dimension-header",5),oh("pointerdown",(function(t){return Is(e),Ts(dh().pointerdown(t))})),Pu(3,"igxHeaderGroupStyle"),Xc(),Wc(4,kQ,1,2,"igx-grid-filtering-cell",6),Wc(5,RQ,1,5,"span",7),Wc(6,OQ,1,0,"span",8),eh()}if(2&e){let e=dh();Ed(1),Uc("ngIf",e.grid.hasMovableColumns),Ed(1),Uc("id",e.grid.id+"_"+e.column.field)("ngClass",e.column.headerClasses)("ngStyle",Nu(3,13,e.column.headerStyles,e.column,e.grid.pipeTrigger))("igxColumnMovingDrag",e.column)("ghostHost",e.grid.outlet.nativeElement)("igxColumnMovingDrop",e.column)("column",e.column)("density",e.grid.displayDensity),Gc("droppable",!0),Ed(2),Uc("ngIf",e.grid.allowFiltering&&"quickFilter"===e.grid.filterMode),Ed(1),Uc("ngIf",!e.column.columnGroup&&e.column.resizable),Ed(1),Uc("ngIf",e.grid.hasMovableColumns)}}var PQ=(()=>{let e=class extends Wz{constructor(e,t,i,n,r,s,o){super(e,t,i,n,r,s),this.cdRef=e,this.grid=t,this.elementRef=i,this.colResizingService=n,this.zone=o,this.userSelect="none"}get headerID(){return`${this.grid.id}_-2_${this.rowIndex}_${this.visibleIndex}`}get title(){return this.column.header}onClick(e){if("none"===this.grid.rowSelection)return;e?.stopPropagation();let t=this.parent.getRowDimensionKey(this.column);this.grid.selectionService.isRowSelected(t)?this.grid.selectionService.deselectRow(t,e):this.grid.selectionService.selectRowById(t,!0,e),this.zone.run((()=>{}))}get visibleIndex(){let e=this.column.field,t=this.grid.rowDimensions,i=this.findRootDimension(e);return t.indexOf(i)}get active(){let e=this.grid.navigation,t=e.activeNode;return!(!t||this.column.columnGroup)&&e.isRowHeaderActive&&t.row===this.rowIndex&&t.column===this.visibleIndex}get activeNode(){return this.grid.navigation.isRowHeaderActive=!0,{row:this.rowIndex,column:this.visibleIndex,level:null,mchCache:null,layout:null}}findRootDimension(e){let t,i=this.grid.rowDimensions,n=null;return i.forEach((i=>{t=i;do{t.memberName===e&&(n=i),t=t.childLevel}while(t)})),n}activate(){this.grid.navigation.isRowHeader=!0,this.grid.navigation.setActiveNode(this.activeNode)}pointerdown(e){this.activate()}onMouseDown(e){this.activate()}get selectable(){return!1}},t=e;return e.fac=function(t){return new(t||e)(Rd(Jg),Rd(wk),Rd(ld),Rd(uQ),Rd(tz),Rd($S),Rd(Ig))},e.cmp=Yn({type:e,selectors:[["igx-pivot-row-dimension-header-group"]],viewQuery:function(e,t){if(1&e&&pg(DQ,5),2&e){let e;gg(e=fg())&&(t.header=e.first)}},hostVars:6,hostBindings:function(e,t){1&e&&oh("click",(function(e){return t.onClick(e)})),2&e&&(Gc("id",t.headerID)("title",t.title),Th("user-select",t.userSelect),Ah("igx-grid-th--active",t.active))},inputs:{rowIndex:"rowIndex",parent:"parent"},standalone:!0,features:[Tc,yu],decls:5,vars:1,consts:[["defaultColumn",""],["defaultCollapseIndicator",""],[4,"ngIf"],[1,"igx-grid-th__group-title",3,"title"],["class","igx-grid-th__drop-indicator-left",4,"ngIf"],["role","columnheader",1,"igx-grid-th--fw",3,"id","ngClass","ngStyle","igxColumnMovingDrag","ghostHost","igxColumnMovingDrop","column","density","pointerdown"],[3,"column",4,"ngIf"],["class","igx-grid-th__resize-handle",3,"igxPivotResizeHandle","igxPivotResizeHandleHeader","cursor",4,"ngIf"],["class","igx-grid-th__drop-indicator-right",4,"ngIf"],[1,"igx-grid-th__drop-indicator-left"],[3,"column"],[1,"igx-grid-th__resize-handle",3,"igxPivotResizeHandle","igxPivotResizeHandleHeader"],[1,"igx-grid-th__drop-indicator-right"]],template:function(e,t){1&e&&(Wc(0,IQ,2,2,"ng-template",null,0,_g),Wc(2,TQ,2,2,"ng-template",null,1,_g),Wc(4,FQ,7,17,"ng-container",2)),2&e&&(Ed(4),Uc("ngIf",!t.column.columnGroup))},dependencies:[FI,Em,DQ,Sm,Fm,CG,vz,fz,EQ,LG],encapsulation:2,changeDetection:0}),t})(),MQ=["headerTemplate"],VQ=["headerDefaultTemplate"];function NQ(e,t){if(1&e){let e=nh();Yc(0,"div")(1,"igx-icon",5),oh("click",(function(t){return Is(e),Ts(dh().toggleRowDimension(t))})),$h(2),Xc(),$h(3),Xc()}if(2&e){let e=t.$implicit,i=dh();qh("igx-grid__tr--header igx-grid__row-indentation--level-",i.getLevel(),""),Ed(1),Gc("draggable",!1),Ed(1),Kh(" ",i.getExpandState()?"expand_more":"chevron_right",""),Ed(1),Kh(" ",e.header," ")}}function LQ(e,t){if(1&e&&(Yc(0,"div"),Zc(1,"igx-icon",6),$h(2),Xc()),2&e){let e=t.$implicit;qh("igx-grid__tr--header igx-grid__row-indentation--level-",dh().getLevel(),""),Ed(1),Gc("draggable",!1),Ed(1),Kh(" ",e.header," ")}}var HQ=(()=>{let e=class extends vW{constructor(e,t,i,n,r,s){super(t,r),this.grid=e,this.injector=i,this.envInjector=n,this.viewRef=s}get rowDimensionColumn(){return this.rowDimensionData?.column}ngOnChanges(e){e.rowData&&(this.rowDimensionData=null,this.viewRef.clear(),this.extractFromDimensions(),this.viewRef.clear()),e.width&&this.rowDimensionData&&(this.rowDimensionData.column.width=this.grid.rowDimensionWidthToPixels(this.rootDimension)+"px")}toggleRowDimension(e){this.grid.toggleRow(this.getRowDimensionKey()),e?.stopPropagation()}getRowDimensionKey(){let e=this.rowDimensionData;return Nk.getRecordKey(this.rowData,e.dimension)}getExpandState(){return this.grid.gridAPI.get_row_expansion_state(this.getRowDimensionKey())}getLevel(){return this.dimension.level}extractFromDimensions(){let e=this.extractFromDimension(this.dimension,this.rowData);this.rowDimensionData={column:e,dimension:this.dimension,prevDimensions:[]}}extractFromDimension(e,t){let i=e.memberName,n=t.dimensionValues.get(i);return this._createColComponent(i,n,e)}_createColComponent(e,t,i){let n=yp(xM,{environmentInjector:this.envInjector,elementInjector:this.injector});return n.instance.field=e,n.instance.header=t,n.instance.width=this.grid.rowDimensionWidthToPixels(this.rootDimension)+"px",n.instance.resizable=this.grid.rowDimensionResizing,n.instance._vIndex=this.grid.columns.length+this.rowIndex+this.rowIndex*this.grid.pivotConfiguration.rows.length,i.childLevel?n.instance.headerTemplate=this.headerTemplate:n.instance.headerTemplate=this.headerTemplateDefault,n.instance}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk),Rd(ld),Rd(kd),Rd($l),Rd(Jg),Rd(Xu))},e.cmp=Yn({type:e,selectors:[["igx-pivot-row-dimension-content"]],viewQuery:function(e,t){if(1&e&&(pg(MQ,7,ju),pg(VQ,7,ju),pg(PQ,5)),2&e){let e;gg(e=fg())&&(t.headerTemplate=e.first),gg(e=fg())&&(t.headerTemplateDefault=e.first),gg(e=fg())&&(t.headerGroups=e)}},inputs:{rowIndex:"rowIndex",dimension:"dimension",rootDimension:"rootDimension",rowData:"rowData"},standalone:!0,features:[Tc,ns,yu],decls:10,vars:27,consts:[["role","rowgroup",1,"igx-grid-thead__wrapper"],["role","row",1,"igx-grid__tr","igx-grid__tr-header-row"],[3,"ngClass","ngStyle","column","rowIndex","parent"],["headerTemplate",""],["headerDefaultTemplate",""],[3,"click"],[2,"flex-shrink","0"]],template:function(e,t){1&e&&(Yc(0,"div",0)(1,"div",1)(2,"igx-pivot-row-dimension-header-group",2),Pu(3,"igxHeaderGroupWidth"),Pu(4,"igxHeaderGroupWidth"),Pu(5,"igxHeaderGroupStyle"),Xc()()(),Wc(6,NQ,4,6,"ng-template",null,3,_g),Wc(8,LQ,3,5,"ng-template",null,4,_g)),2&e&&(Th("width",t.width,"px"),Ah("igx-grid__tr--mrl",t.hasMRL),Ed(1),Th("width",t.width,"px"),Ed(1),Th("min-width",Nu(3,15,t.grid.rowDimensionWidthToPixels(t.rootDimension),t.grid.defaultHeaderGroupMinWidth,t.hasMRL))("flex-basis",Nu(4,19,t.grid.rowDimensionWidthToPixels(t.rootDimension),t.grid.defaultHeaderGroupMinWidth,t.hasMRL)),Uc("ngClass",t.rowDimensionColumn.headerGroupClasses)("ngStyle",Nu(5,23,t.rowDimensionColumn.headerGroupStyles,t.rowDimensionColumn,t.grid.pipeTrigger))("column",t.rowDimensionColumn)("rowIndex",t.rowIndex)("parent",t))},dependencies:[PQ,Sm,Fm,FI,NG,LG],encapsulation:2,changeDetection:0}),t})(),BQ=(()=>{let e=class extends yK{constructor(e){super(e),this.colResizingService=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(uQ))},e.cmp=Yn({type:e,selectors:[["igx-pivot-grid-column-resizer"]],standalone:!0,features:[Tc,yu],decls:1,vars:7,consts:[["igxResizer","",1,"igx-grid-th__resize-line",3,"restrictHResizeMax","restrictHResizeMin","restrictResizerTop","resizeEnd"]],template:function(e,t){1&e&&(Yc(0,"div",0),oh("resizeEnd",(function(e){return t.colResizingService.resizeColumn(e)})),Xc()),2&e&&(Th("left",-99999,"px")("height",t.colResizingService.resizerHeight,"px"),Uc("restrictHResizeMax",t.colResizingService.restrictResizeMax)("restrictHResizeMin",t.colResizingService.restrictResizeMin)("restrictResizerTop",t.restrictResizerTop))},dependencies:[fK],encapsulation:2,changeDetection:0}),t})(),GQ=(()=>{let e=class extends pb{static instance(){return this._instance||(this._instance=new this)}sort(e,t,i,n,r,s,o,a){let l=i===gb.Desc?-1:1;return this.arraySort(e,((e,i)=>this.compareObjects(e,i,t,l,n,this.getFieldValue,s,o)))}getFieldValue(e,t,i=!1,n=!1){return e.aggregationValues.get(t)}},t=e;return e._instance=null,t})(),zQ=(()=>{let e=class extends pb{static instance(){return this._instance||(this._instance=new this)}sort(e,t,i,n,r,s,o,a){let l=t,d=a.allDimensions.filter((e=>e&&e.enabled));this.dimension=Nk.flatten(d).find((e=>e.memberName===l));let c=i===gb.Desc?-1:1;return this.arraySort(e,((e,t)=>this.compareObjects(e,t,l,c,n,this.getFieldValue,s,o)))}getFieldValue(e,t,i=!1,n=!1){let r=Nk.extractValueFromDimension(this.dimension,e)||e[0];if(this.dimension.dataType===Eb.Date||this.dimension.dataType===Eb.DateTime){let e=HS(r);r=n&&e?(new Date).setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()):e}return r}},t=e;return e._instance=null,t})(),$Q=class{static generateDimensionSortingExpressions(e){let t=[];return Nk.flatten(e).forEach((e=>{e.sortDirection?t.push({dir:e.sortDirection,fieldName:e.memberName,strategy:zQ.instance()}):t.push({dir:gb.None,fieldName:e.memberName,strategy:zQ.instance()})})),t}},WQ=(()=>{let e=class{constructor(e){this.template=e}static ngTemplateContextGuard(e,t){return!0}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxPivotValueChip",""]],standalone:!0}),t})(),jQ=(()=>{let e=class{constructor(){}transform(e,t,i,n,r,s){let o=t.pivotKeys||Mk,a=t.rows?.filter((e=>e.enabled))||[],l=t.columns?.filter((e=>e.enabled))||[],d=t.values?.filter((e=>e.enabled))||[];if(0===a.length&&0===l.length&&0===d.length)return[];let c=t.rowStrategy||lQ.instance(),h=MS(e,!0);return c.process(h,a,t.values,i,o)}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"pivotGridRow",type:e,pure:!0,standalone:!0}),t})(),KQ=(()=>{let e=class{transform(e,t,i,n){let r=!1;return e.length>0&&(r=!this.isPivotRecord(e[0])),r?this.processCollectionToPivotRecord(t,e):e}isPivotRecord(e){return!!e.aggregationValues}processCollectionToPivotRecord(e,t){let i=e.pivotKeys||Mk,n=e.rows.filter((e=>e.enabled)),r=Nk.flatten(n),s=[];for(let n of t){let t={dimensionValues:new Map,aggregationValues:new Map,children:new Map,dimensions:[]},o=Object.keys(n);for(let s of o){let o=r.find((e=>e.memberName===s));if(o)t.dimensions.push(o),t.dimensionValues.set(s,n[s]);else if(-1!==s.indexOf(i.rowDimensionSeparator+i.records)){let r=s.slice(0,s.indexOf(i.rowDimensionSeparator+i.records)),o=n[s],a=this.processCollectionToPivotRecord(e,o);t.children.set(r,a)}else t.aggregationValues.set(s,n[s])}let a=Nk.flatten(e.rows);t.dimensions.sort(((e,t)=>a.indexOf(e)-a.indexOf(t))),s.push(t)}return s}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"pivotGridAutoTransform",type:e,pure:!0,standalone:!0}),t})(),UQ=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s){let o=t.rows?.filter((e=>e.enabled))||[],a=e?MS(e,!0):[];for(let e of o)Nk.flattenGroups(a,e,i,n);let l=o.length>0?a.filter((e=>e.dimensions.length===o.length)):a;return this.grid&&this.grid.setFilteredSortedData(l,!1),l}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"pivotGridRowExpansion",type:e,pure:!0,standalone:!0}),t})(),qQ=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n){if(0===e.length||0===t.rows.length)return e;let r,s=e?MS(e,!0):[],o=[],a=t.rows?.filter((e=>e.enabled)),l=[],d=a.indexOf(i);for(let e of s){let t=e.dimensions[d],i=Nk.getRecordKey(e,t);if(l.length>0&&r!==i){let e=l.length>1?l.length*this.grid.renderedRowHeight:void 0;l[0].height=e,l[0].rowSpan=l.length,o.push(l[0]),l=[]}l.push(e),r=i}if(l.length>0){let e=l.length>1?l.length*this.grid.rowHeight+(l.length-1)+1:void 0;l[0].height=e,l[0].rowSpan=l.length,o.push(l[0])}return o}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"pivotGridCellMerging",type:e,pure:!0,standalone:!0}),t})(),YQ=(()=>{let e=class{transform(e,t,i,n,r,s){let o=t.pivotKeys||Mk,a=t.columns?.filter((e=>e.enabled))||[],l=t.values?.filter((e=>e.enabled))||[],d=t.columnStrategy||dQ.instance(),c=MS(e,!0);return d.process(c,a,l,i,o)}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"pivotGridColumn",type:e,pure:!0,standalone:!0}),t})(),XQ=(()=>{let e=class{constructor(e){this.gridAPI=e}transform(e,t,i,n,r,s){let o={expressionsTree:Nk.buildExpressionTree(t),strategy:i||new cQ,advancedExpressionsTree:n};return kb.empty(o.expressionsTree)&&kb.empty(o.advancedExpressionsTree)?e:Ob.filter(MS(e,!0),o,this.gridAPI.grid)}},t=e;return e.fac=function(t){return new(t||e)(Rd(uU,16))},e.pipe=tr({name:"pivotGridFilter",type:e,pure:!0,standalone:!0}),t})(),ZQ=(()=>{let e=class{transform(e,t,i,n){let r;if(t.length){for(let e of t)e.strategy=GQ.instance();r=Nk.sort(MS(e,!0),t,i)}else r=e;return r}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"pivotGridColumnSort",type:e,pure:!0,standalone:!0}),t})(),QQ=(()=>{let e=class{constructor(e){this.gridAPI=e}transform(e,t,i,n){let r,s=(t.rows||[]).filter((e=>e&&e.enabled)),o=$Q.generateDimensionSortingExpressions(s);return r=o.length?Ib.sort(MS(e,!0),o,i,this.gridAPI.grid):e,r}},t=e;return e.fac=function(t){return new(t||e)(Rd(uU,16))},e.pipe=tr({name:"pivotGridSort",type:e,pure:!0,standalone:!0}),t})(),JQ=(()=>{let e=class{transform(e,t,i){if(!e)return e;let n=e.slice(0);if(t&&t.length>0){let i=e=>{let n=e.member||e.memberName;return!!n&&(n.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>=0||(e.children?.some(i)??!1))};n=e.filter(i)}return n}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"filterPivotItems",type:e,pure:!0,standalone:!0}),t})(),eJ=(()=>{let e=class{transform(e,t,i,n,r,s){if(!e)return"";let o=[];for(let t of Object.keys(e)){let s=e[t];("function"==typeof s?s(i,n,tb(i,n.field),r):s)&&o.push(t)}return o.join(" ")}},t=e;return e.fac=function(t){return new(t||e)},e.pipe=tr({name:"igxPivotCellStyleClasses",type:e,pure:!0,standalone:!0}),t})(),tJ=function(e,t,i,n,r,s,o){return[e,t,i,n,r,s,o]},iJ=function(e,t,i,n,r,s){return[e,t,i,n,r,s]},nJ=function(e,t,i,n,r){return[e,t,i,n,r]};function rJ(e,t){if(1&e){let e=nh();Yc(0,"igx-grid-cell",3,4),oh("pointerdown",(function(t){return Is(e),Ts(dh().grid.navigation.focusOutRowHeader(t))})),Pu(2,"transactionState"),Pu(3,"igxPivotCellStyleClasses"),Pu(4,"igxCellStyles"),Pu(5,"dataMapper"),Xc()}if(2&e){let e=t.$implicit,i=dh();Th("min-height",i.cellHeight,"px")("min-width",e.width)("max-width",e.width)("flex-basis",e.width),Ah("igx-grid__td--edited",Hu(2,30,Du(58,tJ,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)("igx-grid__td--bool","boolean"===e.dataType),Uc("ngClass",Hu(3,38,bu(66,iJ,i.getCellClass(e),i.data[e.field],i.data,i.getColumnData(e),i.viewIndex,i.grid.pipeTrigger)))("ngStyle",Hu(4,45,bu(73,iJ,e.cellStyles,i.pivotAggregationData[e.field],i.pivotAggregationData,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("active",i.isCellActive(e.visibleIndex))("rowData",i.data)("columnData",i.getColumnData(e))("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",Hu(5,52,Su(80,nJ,i.pivotAggregationData[e.field],e.field,i.grid.pipeTrigger,i.pivotAggregationData[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function sJ(e,t){if(1&e&&(Yc(0,"div",5),Zc(1,"igx-checkbox",6),Xc()),2&e){let e=dh();Ed(1),Uc("tabindex",-1)("readonly",!0)("checked",e.selected)("disableRipple",!0)("disabled",e.deleted)("disableTransitions",e.grid.disableTransitions)("aria-label",e.rowCheckboxAriaLabel)}}var oJ=(()=>{let e=class extends Gk{get selected(){let e=!1;for(let t of this.data.dimensions){let i=Nk.getRecordKey(this.data,t);this.selectionService.isPivotRowSelected(i)&&(e=!0)}return e}constructor(e,t,i,n,r){super(e,t,i,n),this.grid=e,this.viewRef=r,this.disabled=!1}get viewIndex(){return this.index}get addRowUI(){return!1}get inEditMode(){return!1}set pinned(e){}get pinned(){return!1}delete(){}beginAddRow(){}update(e){}pin(){return!1}unpin(){return!1}get data(){return this._data}set data(e){this._data=e}get pivotAggregationData(){let e=this.data.aggregationValues,t={};return e.forEach(((e,i)=>{t[i]=e})),t}getCellClass(e){let t=this.grid.values;if(1===t.length)return t[0].styles;let i=e.field.split(this.grid.pivotKeys.columnDimensionSeparator),n=i[i.length-1];return t.find((e=>e.member===n))?.styles}isCellActive(e){let t=this.grid.navigation,i=t.activeNode;return!(!i||0===Object.keys(i).length)&&!t.isRowHeaderActive&&super.isCellActive(e)}getColumnData(e){let t,i=e.field.split(this.grid.pivotKeys.columnDimensionSeparator),n=new Map,r=Nk.flatten(this.grid.columnDimensions);for(let e of r)n.set(e.memberName,i.shift());return t=this.grid.hasMultipleValues?this.grid.values.find((e=>e.member===i.shift())):this.grid.values?this.grid.values[0]:void 0,{field:e.field,dimensions:this.grid.columnDimensions,dimensionValues:n,value:t}}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk),Rd(Lk),Rd(ld),Rd(Jg),Rd(Xu))},e.cmp=Yn({type:e,selectors:[["igx-pivot-row"]],hostVars:1,hostBindings:function(e,t){2&e&&Gc("aria-selected",t.selected)},inputs:{selected:"selected",data:"data"},standalone:!0,features:[cu([{provide:Gk,useExisting:Ni((()=>e))}]),Tc,yu],decls:5,vars:8,consts:[["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForSizePropName","igxForScrollOrientation","igxForContainerSize","igxForTrackBy"],["igxDirRef",""],["rowSelectorBaseTemplate",""],[1,"igx-grid__td","igx-grid__td--fw",3,"ngClass","ngStyle","editMode","column","formatter","intRow","active","rowData","columnData","width","visibleColumnIndex","value","cellTemplate","lastSearchInfo","cellSelectionMode","displayPinnedChip","pointerdown"],["cell",""],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","disableRipple","disabled","disableTransitions","aria-label"]],template:function(e,t){1&e&&(Wc(0,rJ,6,86,"ng-template",0,1,_g),Pu(2,"igxNotGrouped"),Wc(3,sJ,2,7,"ng-template",null,2,_g)),2&e&&Uc("igxGridForOf",Mu(2,6,t.unpinnedColumns))("igxForScrollContainer",t.grid.parentVirtDir)("igxForSizePropName","calcPixelWidth")("igxForScrollOrientation","horizontal")("igxForContainerSize",t.grid.unpinnedWidth)("igxForTrackBy",t.grid.trackColumnChanges)},dependencies:[tA,Dq,Sm,Fm,gk,O$,T$,L$,B$,eJ],encapsulation:2,changeDetection:0}),t})(),aJ=["record_template"],lJ=["headerTemplate"],dJ=["emptyPivotGridTemplate"],cJ=["verticalRowDimScrollContainer"];function hJ(e,t){1&e&&th(0)}function uJ(e,t){1&e&&Zc(0,"span",52),2&e&&(Uc("igxColumnMovingDrop",dh().headerContainer),Gc("droppable",!0))}function gJ(e,t){if(1&e&&Zc(0,"span",53),2&e){let e=dh();Th("left",e.pinnedWidth,"px"),Uc("igxColumnMovingDrop",e.headerContainer),Gc("droppable",!0)}}function pJ(e,t){}function mJ(e,t){if(1&e){let e=nh();Wc(0,pJ,0,0,"ng-template",54),oh("cachedViewLoaded",(function(t){return Is(e),Ts(dh().cachedViewLoaded(t))}))}if(2&e){let e=t.$implicit,i=t.index,n=dh();Uc("igxTemplateOutlet",n.recordTemplate)("igxTemplateOutletContext",n.getContext(e,i))}}var fJ=function(e,t,i,n,r,s,o,a,l,d,c){return[e,t,i,n,r,s,o,a,l,!1,d,c]};function yJ(e,t){if(1&e&&(Zc(0,"igx-pivot-row",55,56),Pu(2,"igxGridRowClasses"),Pu(3,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=Kc(1),r=dh();Th("height",r.renderedRowHeight,"px"),Uc("gridID",r.id)("index",e)("data",i)("ngClass",Hu(2,7,Iu(25,fJ,[r.rowClasses,n,n.inEditMode,n.selected,n.dirty,n.deleted,n.dragging,e,r.hasColumnLayouts,i,r.pipeTrigger])))("ngStyle",Lu(3,20,r.rowStyles,i,e,r.pipeTrigger))}}function vJ(e,t){1&e&&th(0)}function xJ(e,t){1&e&&Zc(0,"igx-circular-bar",57),2&e&&Uc("indeterminate",!0)}function _J(e,t){1&e&&Zc(0,"span",58),2&e&&(Uc("igxColumnMovingDrop",dh().headerContainer),Gc("droppable",!0))}function wJ(e,t){}function CJ(e,t){}function SJ(e,t){if(1&e&&(Yc(0,"span",59)(1,"span"),$h(2),Xc()()),2&e){let e=dh();Ed(2),jh(e.emptyFilteredGridMessage)}}function bJ(e,t){if(1&e&&(Yc(0,"span",59)(1,"span"),$h(2),Xc()()),2&e){let e=dh();Ed(2),jh(e.emptyGridMessage)}}function DJ(e,t){1&e&&(Yc(0,"div",60),Zc(1,"igx-circular-bar",57),Xc()),2&e&&(Ed(1),Uc("indeterminate",!0))}function EJ(e,t){1&e&&Zc(0,"igx-pivot-grid-column-resizer",61),2&e&&Uc("restrictResizerTop",dh().theadRow.nativeElement.clientHeight)}function IJ(e,t){if(1&e){let e=nh();Yc(0,"div",62)(1,"igx-icon",63),oh("click",(function(){let t=Is(e).$implicit;return Ts(dh().toggleColumn(t))})),$h(2),Xc(),$h(3),Xc()}if(2&e){let e=t.$implicit,i=dh();Ed(1),Gc("draggable",!1),Ed(1),Kh(" ",i.getColumnGroupExpandState(e)?"chevron_right":"expand_more",""),Ed(1),Kh(" ",e.header," ")}}function TJ(e,t){if(1&e&&Zc(0,"igx-pivot-row-dimension-content",69),2&e){let e=t.$implicit,i=t.index,n=dh(),r=n.index,s=n.$implicit,o=dh(2);Th("height",o.renderedRowHeight*(e.rowSpan||1),"px"),Uc("grid",o)("dimension",e.dimensions[r])("rootDimension",s)("rowIndex",i)("rowData",e)("density",o.displayDensity)("width",o.rowDimensionWidthToPixels(s))}}function AJ(e,t){if(1&e){let e=nh();Yc(0,"div",65,66),oh("focus",(function(t){return Is(e),Ts(dh(2).navigation.focusTbody(t))}))("keydown",(function(t){return Is(e),Ts(dh(2).navigation.handleNavigation(t))})),Wc(2,TJ,1,9,"ng-template",67,68,_g),Pu(4,"pivotGridCellMerging"),Xc()}if(2&e){let e=t.$implicit,i=dh(2);Th("height",i.totalHeight,"px"),Ed(2),Uc("igxGridForOf",Lu(4,8,i.dataView,i.pivotConfiguration,e,i.pipeTrigger))("igxForScrollOrientation","vertical")("igxForScrollContainer",i.verticalScroll)("igxForContainerSize",i.calcHeight)("igxForItemSize",i.renderedRowHeight)("igxForSizePropName","height")}}function kJ(e,t){1&e&&Wc(0,AJ,5,13,"div",64),2&e&&Uc("ngForOf",dh().rowDimensions)}function RJ(e,t){if(1&e){let e=nh();Yc(0,"div",65,66),oh("focus",(function(t){return Is(e),Ts(dh(2).navigation.focusTbody(t))}))("keydown",(function(t){return Is(e),Ts(dh(2).navigation.handleNavigation(t))})),Zc(2,"igx-pivot-row-dimension-content",69),Xc()}if(2&e){let e=dh(2);Ed(2),Uc("grid",e)("dimension",e.emptyRowDimension)("rootDimension",e.emptyRowDimension)("rowIndex",0)("rowData",e.dataView[0])("density",e.displayDensity)("width",e.rowDimensionWidthToPixels(e.emptyRowDimension))}}function OJ(e,t){if(1&e&&Wc(0,RJ,3,7,"div",70),2&e){let e=dh();Uc("ngIf",e.columnDimensions.length>0||e.values.length>0)}}function FJ(e,t){if(1&e&&(Yc(0,"span",59)(1,"span"),$h(2),Xc()()),2&e){let e=dh();Ed(2),jh(e.resourceStrings.igx_grid_pivot_empty_message)}}var PJ=[[["igx-grid-toolbar"],["igc-grid-toolbar"]],[["igx-grid-footer"],["igc-grid-footer"]]],MJ=function(e,t,i,n,r,s){return[e,t,i,n,r,s]},VJ=function(e,t,i,n,r){return[e,t,i,n,r]},NJ=function(){return[]},LJ=0,HJ=class extends hU{get dimensionsSortingExpressions(){let e=this.rowDimensions.concat(this.columnDimensions);return $Q.generateDimensionSortingExpressions(e)}set pivotConfiguration(e){this._pivotConfiguration=e,this.emitInitEvents(this._pivotConfiguration),this.filteringExpressionsTree=Nk.buildExpressionTree(e),this._init||this.setupColumns(),this.notifyChanges(!0)}get pivotConfiguration(){return this._pivotConfiguration||{rows:null,columns:null,values:null,filters:null}}get superCompactMode(){return this._superCompactMode}set superCompactMode(e){Promise.resolve().then((()=>{this._superCompactMode=e,this.cdr.detectChanges()}))}get displayDensity(){return this.superCompactMode?JE:super.displayDensity}set displayDensity(e){let t=this._displayDensity;if(this._displayDensity=e,t!==this._displayDensity){let e={oldDensity:t,newDensity:this._displayDensity};this.densityChanged.emit(e)}}get pivotValueCloneStrategy(){return this._pivotValueCloneStrategy}set pivotValueCloneStrategy(e){e&&(this._pivotValueCloneStrategy=e)}get minColumnWidth(){return this.superCompactMode?104:200}get pivotKeys(){return this.pivotConfiguration.pivotKeys||Mk}get rootSummariesEnabled(){return!1}get emptyRowDimension(){return this._emptyRowDimension}get defaultExpandState(){return this._defaultExpandState}set defaultExpandState(e){this._defaultExpandState=e}get pagingMode(){}set pagingMode(e){}get hideRowSelectors(){}set hideRowSelectors(e){}get rowDraggable(){}set rowDraggable(e){}get allowAdvancedFiltering(){return!1}set allowAdvancedFiltering(e){}get filterMode(){return Vb}set filterMode(e){}get allowFiltering(){return!1}set allowFiltering(e){}get page(){return 0}set page(e){}get perPage(){}set perPage(e){}get pinnedColumns(){return[]}get unpinnedColumns(){return super.unpinnedColumns}get unpinnedDataView(){return super.unpinnedDataView}get unpinnedWidth(){return super.unpinnedWidth}get pinnedWidth(){return super.pinnedWidth}set summaryRowHeight(e){}get summaryRowHeight(){return 0}get transactions(){return this._transactions}get dragIndicatorIconTemplate(){}set dragIndicatorIconTemplate(e){}get rowEditable(){}set rowEditable(e){}get pinning(){return{}}set pinning(e){}get summaryPosition(){}set summaryPosition(e){}get summaryCalculationMode(){}set summaryCalculationMode(e){}get showSummaryOnCollapse(){}set showSummaryOnCollapse(e){}get hiddenColumnsCount(){return null}get pinnedColumnsCount(){return null}get batchEditing(){}set batchEditing(e){}get selectedRows(){if(0===this.selectionService.getSelectedRows().length)return[];let e=[];return this.dataView.forEach((t=>{let i=[];for(let n of this.rowDimensions){let r=n,s=!1;do{let i=Nk.getRecordKey(t,r);if(this.selectionService.isPivotRowSelected(i)&&!e.find((e=>e===t))){e.push(t),s=!0;break}r=r.childLevel}while(r);if(i.push(n),s)break}})),e}get defaultRowHeight(){return this.superCompactMode?24:super.defaultRowHeight}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,y,v,x,_,w){super(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,y,v,x,_,w),this.dimensionsChange=new zu,this.pivotConfigurationChange=new zu,this.dimensionInit=new zu,this.valueInit=new zu,this.dimensionsSortingExpressionsChange=new zu,this.valuesChange=new zu,this.showPivotConfigurationUI=!0,this.role="grid",this.autoGenerateExclude=[],this.snackbarDisplayTime=6e3,this.cellEdit=new zu,this.cellEditDone=new zu,this.cellEditEnter=new zu,this.cellEditExit=new zu,this.columnMovingStart=new zu,this.columnMoving=new zu,this.columnMovingEnd=new zu,this.columnPin=new zu,this.columnPinned=new zu,this.rowAdd=new zu,this.rowAdded=new zu,this.rowDeleted=new zu,this.rowDelete=new zu,this.rowDragStart=new zu,this.rowDragEnd=new zu,this.rowEditEnter=new zu,this.rowEdit=new zu,this.rowEditDone=new zu,this.rowEditExit=new zu,this.rowPinning=new zu,this.rowPinned=new zu,this.columnGroupStates=new Map,this.isPivot=!0,this.dragRowID=null,this.rowDimensionResizing=!0,this._emptyRowDimension={memberName:"",enabled:!0,level:0},this._pivotValueCloneStrategy=new bb,this._defaultExpandState=!1,this._filterStrategy=new cQ,this._pivotConfiguration={rows:null,columns:null,values:null,filters:null},this.p_id="igx-pivot-grid-"+LJ++,this._superCompactMode=!1,this.autoGenerate=!0,this.moving=!1,this.toolbarExporting=new zu}ngOnInit(){this.autoGenerate=!0,super.ngOnInit()}ngAfterContentInit(){this.updateColumns([]),Promise.resolve().then((()=>{this.setupColumns()})),this.valueChipTemplateDirective&&(this.valueChipTemplate=this.valueChipTemplateDirective.template)}ngAfterViewInit(){Promise.resolve().then((()=>{super.ngAfterViewInit()}))}notifyDimensionChange(e=!1){e&&this.setupColumns(),this.pipeTrigger++,this.cdr.detectChanges()}get allDimensions(){let e=this._pivotConfiguration;return e?(e.rows||[]).concat(e.columns||[]).concat(e.filters||[]).filter((e=>null!=e)):[]}createFilterESF(e,t,i,n){if(i.outlet=this.outlet,e){if(e.initialize(t,this.overlayService),n){let t=this.overlayService.attach(e.element,i);return e.overlayComponentId=t,{id:t,ref:void 0}}return{id:e.overlayComponentId,ref:void 0}}}featureColumnsWidth(){return this.pivotRowWidths}get id(){return this.p_id}set id(e){this.p_id=e}set data(e){this._data=e||[],this._init||(this.setupColumns(),this.reflow()),this.cdr.markForCheck(),(null===this.height||-1!==this.height.indexOf("%"))&&this.notifyChanges(!0)}get data(){return this._data}getContext(e,t){return{$implicit:e,templateID:{type:"dataRow",id:null},index:this.getDataViewIndex(t,!1)}}get pivotRowWidths(){return this.rowDimensions.length?this.rowDimensions.reduce(((e,t)=>e+this.rowDimensionWidthToPixels(t)),0):this.rowDimensionWidthToPixels(this.emptyRowDimension)}rowDimensionWidthToPixels(e,t=!1){return!t&&this.shouldGenerate?0:e.width?e.width&&-1!==e.width.indexOf("%")?parseFloat(e.width)/100*this.calcWidth:parseInt(e.width,10):200}reverseDimensionWidthToPercent(e){return 100*e/this.calcWidth}get pivotContentCalcWidth(){let e=this.rowDimensions.length>0?this.rowDimensions.map((e=>this.rowDimensionWidthToPixels(e))).reduce(((e,t)=>e+t)):0;return this.calcWidth-e}get pivotPinnedWidth(){return this.shouldGenerate?0:this.isPinningToStart?this.pinnedWidth:this.headerFeaturesWidth}get pivotUnpinnedWidth(){return this.shouldGenerate?0:this.unpinnedWidth}get rowDimensions(){return this.pivotConfiguration.rows?.filter((e=>e.enabled))||[]}get columnDimensions(){return this.pivotConfiguration.columns?.filter((e=>e.enabled))||[]}get filterDimensions(){return this.pivotConfiguration.filters?.filter((e=>e.enabled))||[]}get values(){return this.pivotConfiguration.values?.filter((e=>e.enabled))||[]}toggleColumn(e){let t=!this.columnGroupStates.get(e.field);this.columnGroupStates.set(e.field,t),this.toggleRowGroup(e,t),this.reflow()}getColumnWidthSum(){let e=super.getColumnWidthSum();return e+=this.rowDimensions.map((e=>this.rowDimensionWidthToPixels(e,!0))).reduce(((e,t)=>e+t),0),e}isRecordPinnedByIndex(e){return null}toggleColumnVisibility(e){}expandAll(){}collapseAll(){}expandRow(e){}collapseRow(e){}get pinnedRows(){}get totalRecords(){}set totalRecords(e){}moveColumn(e,t,i=mM.AfterDropTarget){}addRow(e){}deleteRow(e){}updateCell(e,t,i){}updateRow(e,t){}enableSummaries(...e){}disableSummaries(...e){}pinColumn(e,t){}unpinColumn(e,t){}pinRow(e,t,i){}unpinRow(e,t){}get pinnedRowHeight(){}get hasEditableColumns(){}get hasSummarizedColumns(){}get hasMovableColumns(){}get pinnedDataView(){return[]}openAdvancedFilteringDialog(e){}closeAdvancedFilteringDialog(e){}endEdit(e=!0,t){}beginAddRowById(e,t){}beginAddRowByIndex(e){}clearSearch(){}refreshSearch(e,t=!0){return 0}findNext(e,t,i){return 0}findPrev(e,t,i){return 0}getNextCell(e,t,i=null){return super.getNextCell(e,t,i)}getPreviousCell(e,t,i=null){return super.getPreviousCell(e,t,i)}getPinnedWidth(e=!1){return super.getPinnedWidth(e)}get totalHeight(){return this.calcHeight}getColumnGroupExpandState(e){return this.columnGroupStates.get(e.field)??!1}toggleRowGroup(e,t){if(e)if(this.hasMultipleValues){let i=e.parent?e.parent.children.toArray():this._autoGeneratedCols.filter((e=>0===e.level)),n=i.filter((t=>t.header===e.header&&t!==e))[0];i.indexOf(e)<i.indexOf(n)?(this.resolveToggle(e,t),n.headerTemplate=this.headerTemplate):(e.headerTemplate=void 0,this.resolveToggle(n,t))}else{let i=e.parent?e.parent.children:this._autoGeneratedCols.filter((e=>0===e.level)),n=i.filter((t=>t.header===e.header&&!t.columnGroup))[0],r=i.filter((t=>t.header===e.header&&t.columnGroup))[0];this.resolveToggle(r,t),n.headerTemplate=t?this.headerTemplate:void 0}}setupColumns(){super.setupColumns()}autoSizeRowDimension(e){if(this.getDimensionType(e)===Vk.Row){let t=Nk.flatten([e]).map((e=>e.memberName)),i=this.rowDimensionContentCollection.filter((e=>-1!==t.indexOf(e.dimension.memberName))).map((e=>e.headerGroups.toArray())).flat().map((e=>e.header&&e.header.refInstance)),n=this.getLargesContentWidth(i);e.width=n,this.pipeTrigger++,this.cdr.detectChanges()}}insertDimensionAt(e,t,i){let n=this.getDimensionsByType(t);void 0!==i?n.splice(i,0,e):n.push(e),t===Vk.Column&&this.setupColumns(),this.pipeTrigger++,this.dimensionsChange.emit({dimensions:n,dimensionCollectionType:t}),t===Vk.Filter&&(this.dimensionDataColumns=this.generateDimensionColumns(),this.reflow()),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration})}moveDimension(e,t,i){let n=this.getDimensionType(e);null!==n&&(this._removeDimensionInternal(e),this.insertDimensionAt(e,t,i),n===Vk.Column&&this.setupColumns())}removeDimension(e){let t=this.getDimensionType(e);this._removeDimensionInternal(e),t===Vk.Column&&this.setupColumns(),t===Vk.Filter&&this.reflow(),this.pipeTrigger++,this.cdr.detectChanges()}toggleDimension(e){let t=this.getDimensionType(e);if(null===t)return;let i=this.getDimensionsByType(t);e.enabled=!e.enabled,t===Vk.Column&&this.setupColumns(),!e.enabled&&e.filter&&this.filteringService.clearFilter(e.memberName),this.pipeTrigger++,this.dimensionsChange.emit({dimensions:i,dimensionCollectionType:t}),this.cdr.detectChanges(),t===Vk.Filter&&this.reflow(),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration})}insertValueAt(e,t){this.pivotConfiguration.values||(this.pivotConfiguration.values=[]);let i=this.pivotConfiguration.values;void 0!==t?i.splice(t,0,e):i.push(e),this.setupColumns(),this.pipeTrigger++,this.cdr.detectChanges(),this.valuesChange.emit({values:i}),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration})}moveValue(e,t){-1!==this.pivotConfiguration.values.indexOf(e)&&(this.removeValue(e),this.insertValueAt(e,t))}removeValue(e){let t=this.pivotConfiguration.values,i=t.indexOf(e);-1!==i&&(t.splice(i,1),this.setupColumns(),this.pipeTrigger++,this.valuesChange.emit({values:t}),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration}))}toggleValue(e){-1!==this.pivotConfiguration.values.indexOf(e)&&(e.enabled=!e.enabled,this.setupColumns(),this.pipeTrigger++,this.valuesChange.emit({values:this.pivotConfiguration.values}),this.reflow(),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration}))}sortDimension(e,t){let i=this.getDimensionType(e);e.sortDirection=t;let n=e;for(;n.childLevel;)n.childLevel.sortDirection=e.sortDirection,n=n.childLevel;this.pipeTrigger++,this.dimensionsSortingExpressionsChange.emit(this.dimensionsSortingExpressions),i===Vk.Column&&this.setupColumns(),this.cdr.detectChanges(),this.pivotConfigurationChange.emit({pivotConfiguration:this.pivotConfiguration})}filterDimension(e,t,i){this.filteringService.filter(e.memberName,t,i),this.getDimensionType(e)===Vk.Column&&this.setupColumns(),this.cdr.detectChanges()}getDimensionsByType(e){switch(e){case Vk.Row:return this.pivotConfiguration.rows||(this.pivotConfiguration.rows=[]),this.pivotConfiguration.rows;case Vk.Column:return this.pivotConfiguration.columns||(this.pivotConfiguration.columns=[]),this.pivotConfiguration.columns;case Vk.Filter:return this.pivotConfiguration.filters||(this.pivotConfiguration.filters=[]),this.pivotConfiguration.filters;default:return null}}resizeRowDimensionPixels(e,t){e.width&&"string"==typeof e.width&&-1!==e.width.indexOf("%")?e.width=this.reverseDimensionWidthToPercent(t).toFixed(2)+"%":e.width=t+"px",this.pipeTrigger++,this.cdr.detectChanges()}_removeDimensionInternal(e){let t=this.getDimensionType(e);if(null===t)return;let i=this.getDimensionsByType(t),n=i.indexOf(e);i.splice(n,1),this.pipeTrigger++,this.cdr.detectChanges()}getDimensionType(e){return-1!==Nk.flatten(this.pivotConfiguration.rows).indexOf(e)?Vk.Row:-1!==Nk.flatten(this.pivotConfiguration.columns).indexOf(e)?Vk.Column:this.pivotConfiguration.filters&&-1!==Nk.flatten(this.pivotConfiguration.filters).indexOf(e)?Vk.Filter:null}getLargesContentWidth(e){let t=new Map;if(e.length>0){let i=[];e.forEach((e=>i.push(this.getHeaderCellWidth(e.nativeElement).width)));let n=i.indexOf(Math.max(...i)),r=this.document.defaultView.getComputedStyle(e[n].nativeElement),s=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth);t.set(Math.max(...i),s)}let i=Math.max(...Array.from(t.keys())),n=Math.ceil(i+t.get(i));return Number.isNaN(n)?null:n+"px"}get hasMultipleValues(){return this.values.length>1}get excelStyleFilterMaxHeight(){return 10*this.renderedRowHeight+"px"}get excelStyleFilterMinHeight(){return 5*this.renderedRowHeight+"px"}resolveToggle(e,t){if(!e)return;e.hidden=t,this.columnGroupStates.set(e.field,t);let i=this.hasMultipleValues?e.children.filter((e=>e.columnGroup&&e.children.filter((e=>!e.columnGroup)).length===this.values.length)):e.children.filter((e=>!e.columnGroup)),n=this.hasMultipleValues?e.children.filter((e=>e.columnGroup&&0===e.children.filter((e=>!e.columnGroup)).length)):e.children.filter((e=>e.columnGroup));i.forEach((e=>{this.columnGroupStates.get(e.field)||t?e.headerTemplate=this.headerTemplate:e.headerTemplate=void 0})),!e.hidden&&n.length>0&&n.forEach((e=>{let i=this.columnGroupStates.get(e.field)||t;this.resolveToggle(e,i)}))}calcGridHeadRow(){}buildDataView(e){this._dataView=e}getDataBasedBodyHeight(){return(this.dataView?.length||0)<this._defaultTargetRecordNumber?0:this.defaultTargetBodyHeight}horizontalScrollHandler(e){let t=e.target.scrollLeft;this.theadRow.headerContainers.forEach((e=>{e.onHScroll(t)})),super.horizontalScrollHandler(e)}verticalScrollHandler(e){this.verticalRowDimScrollContainers.forEach((t=>{t.onScroll(e)})),super.verticalScrollHandler(e)}autogenerateColumns(){let e=[],t=this.gridAPI.filterDataByExpressions(this.filteringExpressionsTree);this.dimensionDataColumns=this.generateDimensionColumns();let i,n=Nk.flatten(this.columnDimensions).filter((e=>e.sortDirection)),r=n.length>0?$Q.generateDimensionSortingExpressions(n):[],s=t;if(r.length>0&&(s=Ib.sort(MS(t),r,this.sortStrategy,this)),this.pivotConfiguration.columnStrategy&&this.pivotConfiguration.columnStrategy instanceof aQ){let e=this.generateDataFields(s);if(0===e.length)return;let t=Nk.flatten(this.pivotConfiguration.rows).map((e=>e.memberName)),n=Object.values(this.pivotKeys),r=e.filter((e=>-1===t.indexOf(e)&&-1===n.indexOf(e)&&-1===e.indexOf(this.pivotKeys.rowDimensionSeparator+this.pivotKeys.level)&&-1===e.indexOf(this.pivotKeys.rowDimensionSeparator+this.pivotKeys.records)));i=this.generateFromData(r)}else i=Nk.getFieldsHierarchy(s,this.columnDimensions,Vk.Column,this.pivotKeys,this.pivotValueCloneStrategy);e=this.generateColumnHierarchy(i,s),this._autoGeneratedCols=e,this.columnGroupStates.forEach(((t,i)=>{if(t){let n=e.find((e=>e.field===i&&e.headerTemplate===this.headerTemplate)),r=e.find((e=>e.field===i&&e.headerTemplate!==this.headerTemplate));this.toggleRowGroup(n,t),r&&(r.headerTemplate=this.headerTemplate)}})),this.updateColumns(e),this.reflow(),t&&t.length>0&&(this.shouldGenerate=!1)}getComponentDensityClass(e){return this.superCompactMode?`${e}--${JE} igx-grid__pivot--super-compact`:super.getComponentDensityClass(e)}generateDimensionColumns(){let e=this.allDimensions.map((e=>e.memberName)),t=[];return e.forEach((e=>{let i=yp(xM,{environmentInjector:this.envInjector,elementInjector:this.injector});i.instance.field=e,i.changeDetectorRef.detectChanges(),t.push(i.instance)})),t}generateFromData(e){let t=this.pivotKeys.columnDimensionSeparator,i=e.map((e=>e.split(t))).sort((e=>e.length)),n=new Map;return i.forEach((e=>{let i=n,r=[];for(let n of e){r.push(n);let e=r.join(t),s=i.get(e);s||(i.set(e,{value:e,expandable:!0,children:new Map,dimension:this.columnDimensions[0]}),s=i.get(e)),i=s.children}})),n}generateColumnHierarchy(e,t,i=null){let n=[];return 0===e.size?(this.values.forEach((e=>{let r=yp(xM,{environmentInjector:this.envInjector,elementInjector:this.injector});r.instance.header=e.displayName,r.instance.field=e.member,r.instance.parent=i,r.instance.sortable=!0,r.instance.dataType=e.dataType||this.resolveDataTypes(t[0][e.member]),r.instance.formatter=e.formatter,n.push(r.instance)})),n):(e.forEach((e=>{let r=!0;if(0===t.length&&(r=!1),!r||null!=e.children&&0!==e.children.length&&0!==e.children.size){if(r){let r=this.createColumnForDimension(e,t,i,!0);e.expandable&&(r.headerTemplate=this.headerTemplate);let s=this.generateColumnHierarchy(e.children,t,r),o=s.filter((e=>e.level===r.level+1));if(n.push(r),this.hasMultipleValues){let a=this.getMeasureChildren(t,r,!0,e.dimension.width),l=o;if(r.children.reset(l),n=n.concat(s),e.dimension.childLevel){let r=this.createColumnForDimension(e,t,i,!0);n.push(r),a=this.getMeasureChildren(t,r,!1,e.dimension?.width),r.children.reset(a),n=n.concat(a)}}else if(r.children.reset(o),n=n.concat(s),e.dimension.childLevel){let r=this.createColumnForDimension(e,t,i,!1);n.push(r)}}}else{let r=this.createColumnForDimension(e,t,i,this.hasMultipleValues);if(n.push(r),this.hasMultipleValues){let i=this.getMeasureChildren(t,r,!1,e.dimension.width);r.children.reset(i),n=n.concat(i)}}})),n)}createColumnForDimension(e,t,i,n){let r=e.value,s=yp(n?CM:xM,{environmentInjector:this.envInjector,elementInjector:this.injector});s.instance.header=null!=i?r.split(i.header+this.pivotKeys.columnDimensionSeparator)[1]:r,s.instance.field=r,s.instance.parent=i,e.dimension.width&&(s.instance.width=e.dimension.width);let o=this.values[0];return s.instance.dataType=o?.dataType||this.resolveDataTypes(t[0][o?.member]),s.instance.formatter=o?.formatter,s.instance.sortable=!0,s.changeDetectorRef.detectChanges(),s.instance}resolveColumnDimensionWidth(e){return e.width?e.width:this.minColumnWidth+"px"}getMeasureChildren(e,t,i,n){let r=[],s=this.values.length,o=parseInt(n,10)/s,a=n&&-1!==n.indexOf("%");return this.values.forEach((s=>{let l=yp(xM,{environmentInjector:this.envInjector,elementInjector:this.injector});l.instance.header=s.displayName||s.member,l.instance.field=t.field+this.pivotKeys.columnDimensionSeparator+s.member,l.instance.parent=t,n&&(l.instance.width=a?o+"%":o+"px"),l.instance.hidden=i,l.instance.sortable=!0,l.instance.dataType=s.dataType||this.resolveDataTypes(e[0][s.member]),l.instance.formatter=s.formatter,l.changeDetectorRef.detectChanges(),r.push(l.instance)})),r}get template(){if(0===this.rowDimensions.concat(this.columnDimensions).length&&0===this.values.length)return this.emptyPivotGridTemplate||this.defaultEmptyPivotGridTemplate;super.template}emitInitEvents(e){Nk.flatten(this.allDimensions).forEach((e=>{this.dimensionInit.emit(e)})),e?.values?.forEach((e=>{this.valueInit.emit(e)}))}},BJ=HJ;HJ.fac=function(e){return new(e||HJ)(Rd(PK),Rd(Lk),Rd(uQ),Rd(uU),Rd(WE),Rd(ld),Rd(Ig),Rd(Cp),Rd(Jg),Rd(hp),Rd(Xu),Rd(qg),Rd(kd),Rd($l),Rd(hQ),Rd(tz),Rd(LE),Rd(VK),Rd(eI,8),Rd(Sg),Rd($S),Rd(FK,8))},HJ.cmp=Yn({type:HJ,selectors:[["igx-pivot-grid"]],contentQueries:function(e,t,i){if(1&e&&mg(i,WQ,5,WQ),2&e){let e;gg(e=fg())&&(t.valueChipTemplateDirective=e.first)}},viewQuery:function(e,t){if(1&e&&(pg(oQ,7),pg(aJ,7,ju),pg(lJ,7,ju),pg(BQ,5),pg(dJ,7,ju),pg(gG,5,gG),pg(HQ,5),pg(cJ,5,tA)),2&e){let e;gg(e=fg())&&(t.theadRow=e.first),gg(e=fg())&&(t.recordTemplate=e.first),gg(e=fg())&&(t.headerTemplate=e.first),gg(e=fg())&&(t.resizeLine=e.first),gg(e=fg())&&(t.defaultEmptyPivotGridTemplate=e.first),gg(e=fg())&&(t.excelStyleFilteringComponents=e),gg(e=fg())&&(t.rowDimensionContentCollection=e),gg(e=fg())&&(t.verticalRowDimScrollContainers=e)}},hostVars:4,hostBindings:function(e,t){2&e&&(Gc("role",t.role)("id",t.id),Ah("igx-grid__pivot--super-compact",t.superCompactMode))},inputs:{valueChipTemplate:"valueChipTemplate",pivotConfiguration:"pivotConfiguration",showPivotConfigurationUI:"showPivotConfigurationUI",superCompactMode:"superCompactMode",displayDensity:"displayDensity",pivotValueCloneStrategy:"pivotValueCloneStrategy",addRowEmptyTemplate:"addRowEmptyTemplate",autoGenerateExclude:"autoGenerateExclude",snackbarDisplayTime:"snackbarDisplayTime",defaultExpandState:"defaultExpandState",pagingMode:"pagingMode",hideRowSelectors:"hideRowSelectors",rowDraggable:"rowDraggable",allowAdvancedFiltering:"allowAdvancedFiltering",filterMode:"filterMode",allowFiltering:"allowFiltering",page:"page",perPage:"perPage",summaryRowHeight:"summaryRowHeight",rowEditable:"rowEditable",pinning:"pinning",summaryPosition:"summaryPosition",summaryCalculationMode:"summaryCalculationMode",showSummaryOnCollapse:"showSummaryOnCollapse",batchEditing:"batchEditing",id:"id",data:"data",totalRecords:"totalRecords",emptyPivotGridTemplate:"emptyPivotGridTemplate"},outputs:{dimensionsChange:"dimensionsChange",pivotConfigurationChange:"pivotConfigurationChange",dimensionInit:"dimensionInit",valueInit:"valueInit",dimensionsSortingExpressionsChange:"dimensionsSortingExpressionsChange",valuesChange:"valuesChange",cellEdit:"cellEdit",cellEditDone:"cellEditDone",cellEditEnter:"cellEditEnter",cellEditExit:"cellEditExit",columnMovingStart:"columnMovingStart",columnMoving:"columnMoving",columnMovingEnd:"columnMovingEnd",columnPin:"columnPin",columnPinned:"columnPinned",rowAdd:"rowAdd",rowAdded:"rowAdded",rowDeleted:"rowDeleted",rowDelete:"rowDelete",rowDragStart:"rowDragStart",rowDragEnd:"rowDragEnd",rowEditEnter:"rowEditEnter",rowEdit:"rowEdit",rowEditDone:"rowEditDone",rowEditExit:"rowEditExit",rowPinning:"rowPinning",rowPinned:"rowPinned"},standalone:!0,features:[cu([_k,PK,VK,Lk,HG,uU,{provide:wk,useExisting:HJ},{provide:tz,useClass:gQ},hQ,uQ,YT,XT]),Tc,yu],ngContentSelectors:["igx-grid-toolbar,igc-grid-toolbar","igx-grid-footer,igc-grid-footer"],decls:74,vars:132,consts:[["tabindex","0",1,"igx-grid-thead","igx-grid-thead--pivot",3,"grid","hasMRL","density","activeDescendant","width","pinnedColumnCollection","unpinnedColumnCollection","keydown.meta.c","keydown.control.c","copy","keydown","scroll"],["igxGridBody","","role","rowgroup",1,"igx-grid__tbody",3,"keydown.control.c","copy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0",1,"igx-grid__tbody-content",3,"igxGridDragSelect","keydown","focus","dragStop","scroll","dragScroll"],["tbody",""],["id","left","class","igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop",4,"ngIf"],["id","left","class","igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop","left",4,"ngIf"],["igxGridFor","",3,"igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","igxGridForOfVariableSizes"],["verticalScrollContainer",""],["record_template",""],[4,"ngTemplateOutlet"],["text","Trial version of Ignite UI for Blazor"],["igxToggle",""],["loadingOverlay",""],[3,"indeterminate",4,"ngIf"],["id","right","class","igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop",4,"ngIf"],[1,"igx-grid__tbody-scrollbar",3,"hidden","pointerdown"],[1,"igx-grid__tbody-scrollbar-start"],[1,"igx-grid__tbody-scrollbar-main"],["igxGridFor","",3,"igxGridForOf"],["verticalScrollHolder",""],[1,"igx-grid__tbody-scrollbar-end"],[1,"igx-grid__addrow-snackbar"],[3,"outlet","actionText","displayTime"],["addRowSnackbar",""],["igxOverlayOutlet",""],["igxBodyOverlayOutlet","overlay-outlet"],[1,"igx-grid__scroll",3,"hidden","pointerdown"],["scr",""],[1,"igx-grid__scroll-start"],[1,"igx-grid__scroll-main"],["scrollContainer",""],[1,"igx-grid__scroll-end",3,"hidden"],["role","rowgroup",1,"igx-grid__tfoot"],["tfoot",""],[1,"igx-grid__footer"],["footer",""],["emptyFilteredGrid",""],["defaultEmptyGrid",""],["defaultLoadingGrid",""],[3,"restrictResizerTop",4,"ngIf"],["igxOverlayOutlet","",1,"igx-grid__loading-outlet"],["igxLoadingOverlayOutlet",""],["igxOverlayOutlet","",1,"igx-grid__outlet"],["sink","","igxFilteringOverlayOutlet",""],["headerTemplate",""],["defaultRowDimensionsTemplate",""],["emptyRowDimensionsTemplate",""],["emptyPivotGridTemplate",""],[3,"hidden"],[3,"maxHeight","minHeight"],["igxExcelStyleColumnOperations","",3,"hidden"],["id","left",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],[3,"igxTemplateOutlet","igxTemplateOutletContext","cachedViewLoaded"],[3,"gridID","index","data","ngClass","ngStyle"],["row",""],[3,"indeterminate"],["id","right",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],["role","cell",1,"igx-grid__tbody-message"],[1,"igx-grid__loading"],[3,"restrictResizerTop"],[1,"igx-grid__tr--header"],[3,"click"],["tabindex","0","role","rowgroup","class","igx-grid__tbody-pivot-dimension",3,"height","focus","keydown",4,"ngFor","ngForOf"],["tabindex","0","role","rowgroup",1,"igx-grid__tbody-pivot-dimension",3,"focus","keydown"],["rowDimensionContainer",""],["igxGridFor","",3,"igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","igxForSizePropName"],["verticalRowDimScrollContainer",""],["role","row",1,"igx-grid-thead",3,"grid","dimension","rootDimension","rowIndex","rowData","density","width"],["tabindex","0","role","rowgroup","class","igx-grid__tbody-pivot-dimension",3,"focus","keydown",4,"ngIf"]],template:function(e,t){if(1&e&&(hh(PJ),uh(0),Yc(1,"igx-pivot-header-row",0),oh("keydown.meta.c",(function(e){return t.copyHandler(e)}))("keydown.control.c",(function(e){return t.copyHandler(e)}))("copy",(function(e){return t.copyHandler(e)}))("keydown",(function(e){return t.navigation.headerNavigation(e)}))("scroll",(function(e){return t.preventHeaderScroll(e)})),Xc(),Yc(2,"div",1),oh("keydown.control.c",(function(e){return t.copyHandler(e)}))("copy",(function(e){return t.copyHandler(e)})),Wc(3,hJ,1,0,"ng-container",2),Yc(4,"div",3,4),oh("keydown",(function(e){return t.navigation.handleNavigation(e)}))("focus",(function(e){return t.navigation.focusTbody(e)}))("dragStop",(function(e){return t.selectionService.dragMode=e}))("scroll",(function(e){return t.preventContainerScroll(e)}))("dragScroll",(function(e){return t.dragScroll(e)})),Wc(6,uJ,1,2,"span",5),Wc(7,gJ,1,4,"span",6),Wc(8,mJ,1,2,"ng-template",7,8,_g),Pu(10,"pivotGridRowExpansion"),Pu(11,"pivotGridColumnSort"),Pu(12,"pivotGridAutoTransform"),Pu(13,"pivotGridColumn"),Pu(14,"pivotGridRow"),Pu(15,"pivotGridSort"),Pu(16,"pivotGridFilter"),Wc(17,yJ,4,37,"ng-template",null,9,_g),Wc(19,vJ,1,0,"ng-container",10),Zc(20,"igc-trial-watermark",11),Xc(),Yc(21,"div",12,13),Wc(23,xJ,1,1,"igx-circular-bar",14),Xc(),Wc(24,_J,1,2,"span",15),Yc(25,"div",16),oh("pointerdown",(function(e){return e.preventDefault()})),Zc(26,"div",17),Yc(27,"div",18),Wc(28,wJ,0,0,"ng-template",19,20,_g),Xc(),Zc(30,"div",21),Xc(),Yc(31,"div",22)(32,"igx-snackbar",23,24),$h(34),Xc()(),Zc(35,"div",25,26),Xc(),Yc(37,"div",27,28),oh("pointerdown",(function(e){return e.preventDefault()})),Zc(39,"div",29),Yc(40,"div",30),Wc(41,CJ,0,0,"ng-template",19,31,_g),Xc(),Zc(43,"div",32),Xc(),Zc(44,"div",33,34),Yc(46,"div",35,36),uh(48,1),Xc(),Wc(49,SJ,3,1,"ng-template",null,37,_g),Wc(51,bJ,3,1,"ng-template",null,38,_g),Wc(53,DJ,2,1,"ng-template",null,39,_g),Wc(55,EJ,1,1,"igx-pivot-grid-column-resizer",40),Zc(56,"div",41,42)(58,"div",43,44),Wc(61,IJ,4,3,"ng-template",null,45,_g),Wc(63,kJ,1,1,"ng-template",null,46,_g),Wc(65,OJ,1,1,"ng-template",null,47,_g),Wc(67,FJ,3,1,"ng-template",null,48,_g),Yc(69,"div",49)(70,"igx-grid-excel-style-filtering",50),Zc(71,"div",51),Yc(72,"igx-excel-style-filter-operations"),Zc(73,"igx-excel-style-search"),Xc()()()),2&e){let e=Kc(36),i=Kc(64),n=Kc(66);Ed(1),Uc("grid",t)("hasMRL",t.hasColumnLayouts)("density",t.displayDensity)("activeDescendant",t.activeDescendant)("width",t.calcWidth)("pinnedColumnCollection",t.pinnedColumns)("unpinnedColumnCollection",t.unpinnedColumns),Ed(2),Uc("ngTemplateOutlet",t.rowDimensions.length?i:n)("ngTemplateOutletContext",t),Ed(1),Th("height",t.totalHeight,"px")("width",t.pivotContentCalcWidth||null,"px"),Uc("igxGridDragSelect",t.selectionService.dragMode),Gc("role",t.dataView.length?null:"row")("aria-activedescendant",t.activeDescendant),Ed(2),Uc("ngIf",t.hasMovableColumns&&t.columnInDrag&&t.pinnedColumns.length<=0),Ed(1),Uc("ngIf",t.hasMovableColumns&&t.columnInDrag&&t.pinnedColumns.length>0),Ed(1),Uc("igxGridForOf",Hu(10,63,Su(125,VJ,Lu(11,69,Nu(12,74,Hu(13,78,bu(118,MJ,Hu(14,85,bu(111,MJ,Lu(15,92,Hu(16,97,bu(104,MJ,t.data,t.pivotConfiguration,t.filterStrategy,t.advancedFilteringExpressionsTree,t.filteringPipeTrigger,t.pipeTrigger)),t.pivotConfiguration,t.sortStrategy,t.pipeTrigger),t.pivotConfiguration,t.pivotValueCloneStrategy,t.expansionStates,t.pipeTrigger,t.sortingExpressions)),t.pivotConfiguration,t.pivotValueCloneStrategy,t.expansionStates,t.pipeTrigger,t.sortingExpressions)),t.pivotConfiguration,t.pipeTrigger),t.sortingExpressions,t.sortStrategy,t.pipeTrigger),t.pivotConfiguration,t.expansionStates,t.defaultExpandState,t.pipeTrigger)))("igxForScrollOrientation","vertical")("igxForScrollContainer",t.verticalScroll)("igxForContainerSize",t.calcHeight)("igxForItemSize",t.hasColumnLayouts?t.rowHeight*t.multiRowLayoutRowSize+1:t.renderedRowHeight)("igxGridForOfVariableSizes",!1),Ed(11),Uc("ngTemplateOutlet",t.template),Ed(4),Uc("ngIf",t.shouldOverlayLoading),Ed(1),Uc("ngIf",t.hasMovableColumns&&t.columnInDrag),Ed(1),Th("width",t.scrollSize,"px"),Uc("hidden",!t.hasVerticalScroll()),Ed(1),Th("height",t.isRowPinningToTop?t.pinnedRowHeight:0,"px"),Ed(1),Th("height",t.calcHeight,"px"),Ed(1),Uc("igxGridForOf",vu(131,NJ)),Ed(2),Th("height",t.isRowPinningToTop?0:t.pinnedRowHeight,"px"),Ed(2),Uc("outlet",e)("actionText",t.resourceStrings.igx_grid_snackbar_addrow_actiontext)("displayTime",t.snackbarDisplayTime),Ed(2),jh(t.resourceStrings.igx_grid_snackbar_addrow_label),Ed(3),Th("height",t.scrollSize,"px"),Uc("hidden",t.isHorizontalScrollHidden),Ed(2),Th("width",t.pivotPinnedWidth,"px")("min-width",t.pivotPinnedWidth,"px"),Ed(1),Th("width",t.pivotUnpinnedWidth,"px"),Ed(1),Uc("igxGridForOf",t.EMPTY_DATA),Ed(2),Th("float","right")("width",t.pivotPinnedWidth,"px")("min-width",t.pivotPinnedWidth,"px"),Uc("hidden",0===t.pivotPinnedWidth||t.isPinningToStart),Ed(12),Uc("ngIf",t.colResizingService.showResizer),Ed(14),Uc("hidden",!0),Ed(1),Uc("maxHeight",t.excelStyleFilterMaxHeight)("minHeight",t.excelStyleFilterMinHeight),Ed(1),Uc("hidden",!0)}},dependencies:[Em,bm,Sm,Fm,Pm,oQ,Fj,oX,vz,tA,pA,oJ,fA,TL,SK,vA,BQ,FI,HQ,gG,hG,uG,FB,k$,R$,jQ,UQ,KQ,YQ,XQ,QQ,ZQ,qQ],encapsulation:2,changeDetection:0}),_F([rM()],BJ.prototype,"hideRowSelectors",null),_F([rM()],BJ.prototype,"rowEditable",null);var GJ=class{set resourceStrings(e){this._resourceStrings=Object.assign({},this._resourceStrings,e)}get resourceStrings(){return this._resourceStrings}get baseDimension(){return this._baseDimension}set baseDimension(e){this._baseDimension=e,this.initialize(this.baseDimension,this.options)}get options(){return this._options}set options(e){this._options=e,this.baseDimension&&this.initialize(this.baseDimension,this.options)}get inBaseDimension(){return this._baseDimension}get inOptions(){return this._options}constructor(e=null,t={}){this.enabled=!0,this.defaultOptions={total:!0,years:!0,months:!0,fullDate:!0},this.memberName="AllPeriods",this._resourceStrings=fI.GridResStrings,this._options={},this._monthIntl=new Intl.DateTimeFormat("default",{month:"long"}),this.memberFunction=e=>this.resourceStrings.igx_grid_pivot_date_dimension_total,this._baseDimension=e,this._options=t,this.baseDimension&&this.options&&this.initialize(this.baseDimension,this.options)}initialize(e,t){let i=y(y({},this.defaultOptions),t);this.dataType=Eb.Date,e.dataType=Eb.Date;let n=i.fullDate?e:null,r={memberName:"Months",memberFunction:t=>{let i=Nk.extractValueFromDimension(e,t);return i?this._monthIntl.format(new Date(i)):t.Months},enabled:!0,childLevel:n},s=i.months?r:n,o={memberName:"Quarters",memberFunction:t=>{let i=Nk.extractValueFromDimension(e,t);return i?"Q"+Math.ceil((new Date(i).getMonth()+1)/3):t.Quarters},enabled:!0,childLevel:s},a=i.quarters?o:s,l={memberName:"Years",memberFunction:t=>{let i=Nk.extractValueFromDimension(e,t);return i?new Date(i).getFullYear().toString():t.Years},enabled:!0,childLevel:a},d=i.years?l:a;this.childLevel=d,i.total||(this.memberName=d.memberName,this.memberFunction=d.memberFunction,this.childLevel=d.childLevel)}},zJ=(()=>{let e=class{get options(){return this._options}set options(e){Object.assign(this._options,e),this.grid instanceof yZ?delete this._options.rowIslands:delete this._options.groupBy}constructor(e,t,i,n){this.grid=e,this.viewRef=t,this.envInjector=i,this.injector=n,this.featureKeys=[],this._options={columns:!0,filtering:!0,advancedFiltering:!0,sorting:!0,groupBy:!0,paging:!0,cellSelection:!0,rowSelection:!0,columnSelection:!0,rowPinning:!0,expansion:!0,moving:!0,rowIslands:!0,pivotConfiguration:!0},this.FEATURES={sorting:{getFeatureState:e=>{let t=e.currGrid.sortingExpressions;return t.forEach((e=>{delete e.strategy,delete e.owner})),{sorting:t}},restoreFeatureState:(e,t)=>{e.currGrid.sortingExpressions=t}},filtering:{getFeatureState:e=>{let t=e.currGrid.filteringExpressionsTree;if(t){delete t.owner;for(let e of t.filteringOperands)delete e.owner}return{filtering:t}},restoreFeatureState:(e,t)=>{let i=e.createExpressionsTreeFromObject(t);e.currGrid.filteringExpressionsTree=i}},advancedFiltering:{getFeatureState:e=>{let t,i=e.currGrid.advancedFilteringExpressionsTree;if(i){delete i.owner;for(let e of i.filteringOperands)delete e.owner;t=i}else t={};return{advancedFiltering:t}},restoreFeatureState:(e,t)=>{let i=e.createExpressionsTreeFromObject(t);e.currGrid.advancedFilteringExpressionsTree=i}},columns:{getFeatureState:e=>({columns:e.currGrid.columns.map((e=>({pinned:e.pinned,sortable:e.sortable,filterable:e.filterable,editable:e.editable,sortingIgnoreCase:e.sortingIgnoreCase,filteringIgnoreCase:e.filteringIgnoreCase,headerClasses:e.headerClasses,headerGroupClasses:e.headerGroupClasses,maxWidth:e.maxWidth,groupable:e.groupable,movable:e.movable,hidden:e.hidden,dataType:e.dataType,hasSummary:e.hasSummary,field:e.field,width:e.width,header:e.header,resizable:e.resizable,searchable:e.searchable,selectable:e.selectable,parent:e.parent?e.parent.header:null,columnGroup:e.columnGroup,disableHiding:e.disableHiding})))}),restoreFeatureState:(e,t)=>{let i=[];t.forEach((t=>{let n=t.columnGroup;if(delete t.columnGroup,n){let n=yp(CM,{environmentInjector:this.envInjector,elementInjector:this.injector});if(Object.assign(n.instance,t),n.instance.grid=e.currGrid,n.instance.parent){let e=i.find((e=>e.header===n.instance.parent));e.children.reset([...e.children.toArray(),n.instance]),n.instance.parent=e}n.changeDetectorRef.detectChanges(),i.push(n.instance)}else{let n=yp(xM,{environmentInjector:this.envInjector,elementInjector:this.injector});if(Object.assign(n.instance,t),n.instance.grid=e.currGrid,n.instance.parent){let e=i.find((e=>e.header===n.instance.parent));e&&(n.instance.parent=e,e.children.reset([...e.children.toArray(),n.instance]))}n.changeDetectorRef.detectChanges(),i.push(n.instance)}})),e.currGrid.updateColumns(i),i.forEach((t=>{e.currGrid.columnInit.emit(t)}))}},groupBy:{getFeatureState:e=>{let t=e.currGrid,i=t.groupingExpressions;return i.forEach((e=>{delete e.strategy})),{groupBy:{expressions:i,expansion:t.groupingExpansionState,defaultExpanded:t.groupsExpanded}}},restoreFeatureState:(e,t)=>{let i=e.currGrid;i.groupingExpressions=t.expressions,i.groupsExpanded!==t.defaultExpanded?i.toggleAllGroupRows():i.groupingExpansionState=t.expansion}},paging:{getFeatureState:e=>({paging:e.currGrid.pagingState}),restoreFeatureState:(e,t)=>{e.currGrid.paginator&&(e.currGrid.perPage!==t.recordsPerPage&&(e.currGrid.perPage=t.recordsPerPage,e.currGrid.cdr.detectChanges()),e.currGrid.page=t.index)}},moving:{getFeatureState:e=>({moving:e.currGrid.moving}),restoreFeatureState:(e,t)=>{e.currGrid.moving=t}},rowSelection:{getFeatureState:e=>({rowSelection:e.currGrid.selectionService.getSelectedRows()}),restoreFeatureState:(e,t)=>{e.currGrid.selectRows(t,!0)}},cellSelection:{getFeatureState:e=>({cellSelection:e.currGrid.getSelectedRanges().map((e=>({rowStart:e.rowStart,rowEnd:e.rowEnd,columnStart:e.columnStart,columnEnd:e.columnEnd})))}),restoreFeatureState:(e,t)=>{t.forEach((t=>{let i={rowStart:t.rowStart,rowEnd:t.rowEnd,columnStart:t.columnStart,columnEnd:t.columnEnd};e.currGrid.selectRange(i)}))}},columnSelection:{getFeatureState:e=>({columnSelection:e.currGrid.selectedColumns().map((e=>e.field))}),restoreFeatureState:(e,t)=>{e.currGrid.deselectAllColumns(),e.currGrid.selectColumns(t)}},rowPinning:{getFeatureState:e=>({rowPinning:e.currGrid.pinnedRows?.map((e=>e.key))}),restoreFeatureState:(e,t)=>{e.currGrid.pinnedRows.forEach((e=>e.unpin())),t.forEach((t=>e.currGrid.pinRow(t)))}},pinningConfig:{getFeatureState:e=>({pinningConfig:e.currGrid.pinning}),restoreFeatureState:(e,t)=>{e.currGrid.pinning=t}},expansion:{getFeatureState:e=>({expansion:Array.from(e.currGrid.expansionStates)}),restoreFeatureState:(e,t)=>{let i=new Map(t);e.currGrid.expansionStates=i}},rowIslands:{getFeatureState(e){let t=[],i=e.currGrid.allLayoutList;return i&&i.forEach((i=>{i.rowIslandAPI.getChildGrids().forEach((n=>{let r=this.getParentRowID(n);if(e.currGrid=n,e.currGrid){let n=e.buildState(e.featureKeys);t.push({id:`${i.id}`,parentRowID:r,state:n})}}))})),e.currGrid=e.grid,{rowIslands:t}},restoreFeatureState(e,t){let i=e.currGrid.allLayoutList;i&&i.forEach((i=>{i.rowIslandAPI.getChildGrids().forEach((n=>{let r=this.getParentRowID(n);e.currGrid=n;let s=t.find((e=>e.id===i.id&&e.parentRowID===r));s&&e.currGrid&&e.restoreGridState(s.state,e.featureKeys)}))})),e.currGrid=e.grid},getParentRowID:e=>{let t;for(;e.parent;)t=e,e=e.parent;return e.gridAPI.getParentRowId(t)}},pivotConfiguration:{getFeatureState(e){let t=e.currGrid.pivotConfiguration;if(!(t&&e.currGrid instanceof BJ))return{pivotConfiguration:void 0};let i=LS(t);return i.rows=MS(t.rows,!0),i.columns=MS(t.columns,!0),i.filters=MS(t.filters,!0),[...i.rows||[],...i.columns||[],...i.filters||[]].filter((t=>e.isDateDimension(t)))?.forEach((e=>{e.resourceStrings={}})),{pivotConfiguration:i}},restoreFeatureState(e,t){let i=t;!i||!(e.currGrid instanceof BJ)||(e.restoreValues(i,e.currGrid),e.restoreDimensions(i),e.currGrid.pivotConfiguration=i)}}},this.stateParsed=new zu}getStateInternal(e=!0,t){let i;return this.currGrid=this.grid,this.state=i=this.buildState(t),e&&(i=JSON.stringify(i,this.stringifyCallback)),i}setStateInternal(e,t){"string"==typeof e&&(e=JSON.parse(e),this.stateParsed.emit(e)),this.state=e,this.currGrid=this.grid,this.restoreGridState(e,t),this.grid.cdr.detectChanges()}buildState(e){this.applyFeatures(e);let t={};return this.featureKeys.forEach((e=>{if(this.options[e]){if(!(this.grid instanceof yZ)&&"groupBy"===e)return;let i=this.getFeature(e)?.getFeatureState(this);t=Object.assign(t,i)}})),t}restoreGridState(e,t){this.applyFeatures(t),this.restoreFeatures(e)}restoreFeatures(e){this.featureKeys.forEach((t=>{if(this.options[t]){let i=e[t];("moving"===t||i)&&this.getFeature(t).restoreFeatureState(this,i)}}))}applyFeatures(e){if(this.featureKeys=[],e)Array.isArray(e)?this.featureKeys=[...e]:this.featureKeys.push(e);else for(let e of Object.keys(this.options))this.featureKeys.push(e)}restoreDimensions(e){let t=[e.rows,e.columns,e.filters];for(let e of t)for(let t=0;t<e?.length;t++){let i=e[t];this.isDateDimension(i)&&this.restoreDateDimension(i),i.filter&&(i.filter=this.createExpressionsTreeFromObject(i.filter))}}restoreDateDimension(e){let t=new GJ(e._baseDimension,e._options);e.resourceStrings=t.resourceStrings,e.memberFunction=t.memberFunction;let i=e,n=t;for(;i.childLevel;)i=i.childLevel,n=n.childLevel,i.memberFunction=n.memberFunction}isDateDimension(e){return e._baseDimension}restoreValues(e,t){let i=e.values;for(let e of i){let i=e.aggregateList,n=Nk.getAggregatorsForValue(e,t);if(e.aggregate.aggregator=n.find((t=>t.key===e.aggregate.key&&t.label===e.aggregate.label))?.aggregator,i)for(let e of i)e.aggregator=n.find((t=>t.key===e.key&&t.label===e.label))?.aggregator}}createExpressionsTreeFromObject(e){if(!e||!e.filteringOperands)return null;let t=new kb(e.operator,e.fieldName);for(let i of e.filteringOperands)if(i.filteringOperands){let e=this.createExpressionsTreeFromObject(i);t.filteringOperands.push(e)}else{let e,n=i;if(this.currGrid instanceof BJ)e=this.currGrid.allDimensions.find((e=>e.memberName===n.fieldName)).dataType;else if(this.currGrid.columns.length>0)e=this.currGrid.columns.find((e=>e.field===n.fieldName)).dataType;else{if(!this.state.columns)return null;e=this.state.columns.find((e=>e.field===n.fieldName)).dataType}Array.isArray(n.searchVal)?n.searchVal=new Set(n.searchVal):n.searchVal=!n.searchVal||"date"!==e&&"dateTime"!==e?n.searchVal:new Date(Date.parse(n.searchVal));let r=this.generateFilteringCondition(e,n.condition.name)||this.currGrid.columns.find((e=>e.field===n.fieldName)).filters.condition(n.condition.name);r&&(n.condition=r,t.filteringOperands.push(n))}return t}generateFilteringCondition(e,t){let i;switch(e){case Eb.Boolean:i=AA.instance();break;case Eb.Number:i=PA.instance();break;case Eb.Date:i=RA.instance();break;case Eb.DateTime:i=OA.instance();break;default:i=MA.instance()}return i.condition(t)}stringifyCallback(e,t){return"searchVal"===e&&t instanceof Set?Array.from(t):t}getFeature(e){return this.FEATURES[e]}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,9),Rd(Xu),Rd($l),Rd(kd))},e.dir=er({type:e,inputs:{options:"options"},outputs:{stateParsed:"stateParsed"}}),t})(),$J=(()=>{let e=class extends zJ{get stateOptions(){return super.options}set stateOptions(e){super.options=e}getState(e=!0,t){return super.getStateInternal(e,t)}setState(e,t){return super.setStateInternal(e,t)}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,selectors:[["","igxGridState",""]],inputs:{stateOptions:["igxGridState","stateOptions"]},standalone:!0,features:[Tc]}),t})(),WJ=(()=>{let e=class{set overlaySettings(e){this._overlaySettings=e}get overlaySettings(){return this._overlaySettings}get grid(){return this.toolbar.grid}constructor(e){this.toolbar=e,this.opening=new zu,this.opened=new zu,this.closing=new zu,this.closed=new zu,this.columnToggle=new zu,this.$destroy=new We,this._overlaySettings={positionStrategy:new AE({horizontalDirection:CE.Left,horizontalStartPoint:CE.Right,verticalDirection:SE.Bottom,verticalStartPoint:SE.Bottom}),scrollStrategy:new HE,modal:!1,closeOnEscape:!0,closeOnOutsideClick:!0}}ngOnDestroy(){this.$destroy.next(),this.$destroy.complete()}toggle(e,t,i){if(i){this._setupListeners(t,i);let e=()=>i.columnsAreaMaxHeight="100%"!==i.columnsAreaMaxHeight?i.columnsAreaMaxHeight:this.columnListHeight??`${Math.max(.5*this.grid.calcHeight,200)}px`;t.opening.pipe(ci()).subscribe(e)}t.toggle(v(y({},this.overlaySettings),{target:e,outlet:this.grid.outlet,excludeFromOutsideClick:[e]}))}focusSearch(e){e.querySelector("input")?.focus()}_setupListeners(e,t){t&&(!this.$sub||this.$sub.closed)&&(this.$sub=t.columnToggled.pipe(yi(this.$destroy)).subscribe((e=>this.columnToggle.emit(e)))),e.collapsed?(e.opening.pipe(ci(),yi(this.$destroy)).subscribe((e=>this.opening.emit(e))),e.opened.pipe(ci(),yi(this.$destroy)).subscribe((e=>this.opened.emit(e)))):(e.closing.pipe(ci(),yi(this.$destroy)).subscribe((e=>this.closing.emit(e))),e.closed.pipe(ci(),yi(this.$destroy)).subscribe((e=>this.closed.emit(e))))}},t=e;return e.fac=function(t){return new(t||e)(Rd(Gj))},e.dir=er({type:e,inputs:{columnListHeight:"columnListHeight",title:"title",prompt:"prompt",overlaySettings:"overlaySettings"},outputs:{opening:"opening",opened:"opened",closing:"closing",closed:"closed",columnToggle:"columnToggle"}}),t})(),jJ=(()=>{let e=class extends WJ{constructor(){super(...arguments),this.hideFilter=!1,this.filterCriteria="",this.columnDisplayOrder=qb,this.columnsAreaMaxHeight="100%",this.indentetion=30}checkAll(){this.columnActionsUI.checkAllColumns()}uncheckAll(){this.columnActionsUI.uncheckAllColumns()}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.dir=er({type:e,inputs:{hideFilter:"hideFilter",filterCriteria:"filterCriteria",columnDisplayOrder:"columnDisplayOrder",columnsAreaMaxHeight:"columnsAreaMaxHeight",uncheckAllText:"uncheckAllText",checkAllText:"checkAllText",indentetion:"indentetion",buttonText:"buttonText"},features:[Tc]}),t})();function KJ(e,t){if(1&e&&(Yc(0,"span"),$h(1),Xc()),2&e){let e=dh();Ed(1),Kh(" ",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_exporter_button_label," ")}}function UJ(e,t){if(1&e&&(Yc(0,"excel-text"),$h(1),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_exporter_excel_entry_text," ")}}function qJ(e,t){if(1&e){let e=nh();Yc(0,"li",9,10),oh("click",(function(){Is(e);let t=dh(),i=Kc(12);return Ts(t.export("excel",i))})),Yc(2,"span",null,11),uh(4,1),Xc(),Wc(5,UJ,2,1,"excel-text",3),Xc()}if(2&e){let e=Kc(3);Ed(5),Uc("ngIf",!e.childNodes.length)}}function YJ(e,t){if(1&e&&(Yc(0,"csv-text"),$h(1),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_exporter_csv_entry_text,"")}}function XJ(e,t){if(1&e){let e=nh();Yc(0,"li",12,13),oh("click",(function(){Is(e);let t=dh(),i=Kc(12);return Ts(t.export("csv",i))})),Yc(2,"span",null,14),uh(4,2),Xc(),Wc(5,YJ,2,1,"csv-text",3),Xc()}if(2&e){let e=Kc(3);Ed(5),Uc("ngIf",!e.childNodes.length)}}var ZJ=["*",[["","excelText",""],["excel-text"]],[["","csvText",""],["csv-text"]]],QJ=["*","[excelText],excel-text","[csvText],csv-text"],JJ=(()=>{let e=class extends WJ{constructor(e,t,i){super(e),this.excelExporter=t,this.csvExporter=i,this.exportCSV=!0,this.exportExcel=!0,this.filename="ExportedData",this.exportStarted=new zu,this.exportEnded=new zu,this.isExporting=!1}export(e,t){let i,n;switch(t?.close(),e){case"csv":i=new hD(this.filename,uD.CSV),n=this.csvExporter;break;case"excel":i=new _E(this.filename),n=this.excelExporter}let r={exporter:n,options:i,grid:this.grid,cancel:!1};this.exportStarted.emit(r),this.grid.toolbarExporting.emit(r),this.isExporting=!0,this.toolbar.showProgress=!0,!r.cancel&&(n.exportEnded.pipe(ci()).subscribe((()=>{this.exportEnded.emit(),this.isExporting=!1,this.toolbar.showProgress=!1})),n.export(this.grid,i))}},t=e;return e.fac=function(t){return new(t||e)(Rd(Gj),Rd(xE),Rd(gD))},e.cmp=Yn({type:e,selectors:[["igx-grid-toolbar-exporter"]],inputs:{exportCSV:"exportCSV",exportExcel:"exportExcel",filename:"filename"},outputs:{exportStarted:"exportStarted",exportEnded:"exportEnded"},standalone:!0,features:[Tc,yu],ngContentSelectors:QJ,decls:15,vars:6,consts:[["igxButton","outlined","type","button","igxRipple","",3,"title","disabled","displayDensity","click"],["btn",""],["ref",""],[4,"ngIf"],["id","btnExport",1,"igx-grid-toolbar__dropdown"],["igxToggle","",1,"igx-grid-toolbar__dd-list"],["toggleRef","toggle"],["id","btnExportExcel","class","igx-grid-toolbar__dd-list-items","igxRipple","",3,"click",4,"ngIf"],["id","btnExportCsv","class","igx-grid-toolbar__dd-list-items","igxRipple","",3,"click",4,"ngIf"],["id","btnExportExcel","igxRipple","",1,"igx-grid-toolbar__dd-list-items",3,"click"],["btnExportExcel",""],["excel",""],["id","btnExportCsv","igxRipple","",1,"igx-grid-toolbar__dd-list-items",3,"click"],["btnExportCsv",""],["csv",""]],template:function(e,t){if(1&e){let e=nh();hh(ZJ),Yc(0,"button",0,1),oh("click",(function(){Is(e);let i=Kc(1),n=Kc(12);return Ts(t.toggle(i,n))})),Yc(2,"igx-icon"),$h(3,"import_export"),Xc(),Yc(4,"span",null,2),uh(6),Xc(),Wc(7,KJ,2,1,"span",3),Yc(8,"igx-icon"),$h(9,"arrow_drop_down"),Xc()(),Yc(10,"div",4)(11,"ul",5,6),Wc(13,qJ,6,1,"li",7),Wc(14,XJ,6,1,"li",8),Xc()()}if(2&e){let e=Kc(5);Uc("title",null==t.grid?null:t.grid.resourceStrings.igx_grid_toolbar_exporter_button_tooltip)("disabled",t.isExporting)("displayDensity",t.grid.displayDensity),Ed(7),Uc("ngIf",!e.textContent.trim()),Ed(6),Uc("ngIf",t.exportExcel),Ed(1),Uc("ngIf",t.exportCSV)}},dependencies:[CI,lA,FI,Em,fA,Vj,Nj],encapsulation:2}),t})();function e0(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"button",1,2),oh("click",(function(){Is(e);let t=Kc(2),i=Kc(11),n=Kc(10);return Ts(dh().toggle(t,i,n))})),Yc(3,"igx-icon"),$h(4),Xc(),Yc(5,"span"),$h(6),Xc(),Yc(7,"span"),$h(8),Xc()(),Yc(9,"igx-column-actions",3,4),oh("opened",(function(){Is(e);let t=Kc(11);return Ts(dh().focusSearch(t.element))})),Xc(),eh()}if(2&e){let e=dh();Ed(1),Uc("title",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_hiding_button_tooltip)("displayDensity",e.grid.displayDensity),Ed(3),jh(e.grid.hiddenColumnsCount?"visibility_off":"visibility"),Ed(2),jh(e.grid.hiddenColumnsCount),Ed(2),jh(e.buttonText),Ed(1),Uc("grid",e.grid)("title",e.title||(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_hiding_title))("filterColumnsPrompt",e.prompt||(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_actions_filter_prompt))("hideFilter",e.hideFilter)("filterCriteria",e.filterCriteria)("columnDisplayOrder",e.columnDisplayOrder)("columnsAreaMaxHeight",e.columnsAreaMaxHeight)("uncheckAllText",e.uncheckAllText)("checkAllText",e.checkAllText)("indentation",e.indentetion)}}var t0=(()=>{let e=class extends jJ{set content(e){this.columnActionsUI=e}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.cmp=Yn({type:e,selectors:[["igx-grid-toolbar-hiding"]],viewQuery:function(e,t){if(1&e&&pg(tM,5,XP),2&e){let e;gg(e=fg())&&(t.content=e.first)}},standalone:!0,features:[Tc,yu],decls:2,vars:3,consts:[[4,"ngIf"],["igxButton","outlined","type","button","name","btnColumnHiding",3,"title","displayDensity","click"],["btn",""],["igxColumnHiding","","igxToggle","",3,"grid","title","filterColumnsPrompt","hideFilter","filterCriteria","columnDisplayOrder","columnsAreaMaxHeight","uncheckAllText","checkAllText","indentation","opened"],["actions","","ref","toggle"]],template:function(e,t){1&e&&(Wc(0,e0,12,15,"ng-container",0),Pu(1,"async")),2&e&&Uc("ngIf",Mu(1,1,t.grid.rendered$))},dependencies:[Em,CI,FI,XP,tM,fA,Lm],encapsulation:2}),t})();function i0(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"button",1,2),oh("click",(function(){Is(e);let t=Kc(2),i=Kc(10),n=Kc(9);return Ts(dh().toggle(t,i,n))})),Zc(3,"igx-icon",3),Yc(4,"span"),$h(5),Xc(),Yc(6,"span"),$h(7),Xc()(),Yc(8,"igx-column-actions",4,5),oh("opened",(function(){Is(e);let t=Kc(10);return Ts(dh().focusSearch(t.element))})),Xc(),eh()}if(2&e){let e=dh();Ed(1),Uc("title",null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_pinning_button_tooltip)("displayDensity",e.grid.displayDensity),Ed(2),Uc("name",e.grid.pinnedColumnsCount?"pin-left":"unpin-left"),Ed(2),jh(e.grid.pinnedColumnsCount),Ed(2),jh(e.buttonText),Ed(1),Uc("grid",e.grid)("title",e.title||(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_pinning_title))("filterColumnsPrompt",e.prompt||(null==e.grid?null:e.grid.resourceStrings.igx_grid_toolbar_actions_filter_prompt))("hideFilter",e.hideFilter)("filterCriteria",e.filterCriteria)("columnDisplayOrder",e.columnDisplayOrder)("columnsAreaMaxHeight",e.columnsAreaMaxHeight)("uncheckAllText",e.uncheckAllText)("checkAllText",e.checkAllText)("indentation",e.indentetion)}}var n0=(()=>{let e=class extends jJ{set content(e){this.columnActionsUI=e}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.cmp=Yn({type:e,selectors:[["igx-grid-toolbar-pinning"]],viewQuery:function(e,t){if(1&e&&pg(iM,5,XP),2&e){let e;gg(e=fg())&&(t.content=e.first)}},standalone:!0,features:[Tc,yu],decls:2,vars:3,consts:[[4,"ngIf"],["igxButton","outlined","type","button","name","btnColumnPinning",3,"title","displayDensity","click"],["btn",""],["family","imx-icons",3,"name"],["igxColumnPinning","","igxToggle","",3,"grid","title","filterColumnsPrompt","hideFilter","filterCriteria","columnDisplayOrder","columnsAreaMaxHeight","uncheckAllText","checkAllText","indentation","opened"],["actions","","ref","toggle"]],template:function(e,t){1&e&&(Wc(0,i0,11,15,"ng-container",0),Pu(1,"async")),2&e&&Uc("ngIf",Mu(1,1,t.grid.rendered$))},dependencies:[Em,CI,FI,XP,iM,fA,Lm],encapsulation:2}),t})(),r0=(()=>{let e=class extends uU{get_all_data(e){let t=this.grid,i=t&&t.flatData?t.flatData:[];return i=e?t.dataWithAddedInTransactionRows:i,i}get_summary_data(){let e=this.grid,t=e.processedRootRecords?.filter((e=>void 0===e.isFilteredOutParent||!1===e.isFilteredOutParent)).map((e=>e.data));return t&&e.transactions.enabled&&e.transactions.getTransactionLog().filter((e=>e.type===hb.DELETE)).map((e=>e.id)).forEach((i=>{let n=(e.primaryKey?t.map((t=>t[e.primaryKey])):t).indexOf(i);-1!==n&&t.splice(n,1)})),t}allow_expansion_state_change(e,t){let i=this.grid,n=i.records.get(e);return!(n.expanded===t||(!n.children||!n.children.length)&&(!i.loadChildrenOnDemand||i.hasChildrenKey&&!n.data[i.hasChildrenKey]))}expand_path_to_record(e){let t=this.grid,i=t.expansionStates;for(;e.parent;)e=e.parent,this.get_row_expansion_state(e)||i.set(e.key,!0);t.expansionStates=i,t.rowEditable&&t.gridAPI.crudService.endEdit(!1)}get_row_expansion_state(e){let t=this.grid,i=t.expansionStates.get(e.key);return void 0!==i?i:e.children&&e.children.length&&e.level<t.expansionDepth}should_apply_number_style(e){return e.dataType===Eb.Number&&0!==e.visibleIndex}deleteRowById(e){let t=this.grid,i=t.primaryKey&&t.foreignKey&&t.cascadeOnDelete&&t.transactions.enabled;i&&t.transactions.startPending();let n=super.deleteRowById(e);return i&&t.transactions.endPending(!0),n}deleteRowFromData(e,t){let i=this.grid,n=i.records.get(e);if(i.primaryKey&&i.foreignKey){if(t=i.primaryKey?i.data.map((e=>e[i.primaryKey])).indexOf(e):i.data.indexOf(e),super.deleteRowFromData(e,t),i.cascadeOnDelete&&n&&n.children)for(let e of n.children)super.deleteRowById(e.key)}else{let r=n.parent?n.parent.data[i.childDataKey]:i.data;t=i.primaryKey?r.map((e=>e[i.primaryKey])).indexOf(e):r.indexOf(e);let s=[];if(this.get_selected_children(n,s),s.length>0&&i.deselectRows(s),i.transactions.enabled){let n=i.generateRowPath(e);i.transactions.add({id:e,type:hb.DELETE,newValue:null,path:n},r[t])}else r.splice(t,1);this.grid.validation.clear(e)}}get_selected_children(e,t){let i=this.grid;if(e.children&&0!==e.children.length)for(let n of e.children)i.selectionService.isRowSelected(n.key)&&t.push(n.key),this.get_selected_children(n,t)}row_deleted_transaction(e){return this.row_deleted_parent(e)||super.row_deleted_transaction(e)}get_rec_by_id(e){return this.grid.records.get(e)}get_rec_index_by_id(e,t){return t=t||this.grid.data,this.grid.primaryKey?t.findIndex((t=>t.data[this.grid.primaryKey]===e)):-1}addRowToData(e,t){if(null!=t){let i=this.grid.transactions.getState(t);if(i&&i.type===hb.DELETE)throw Error("Cannot add child row to deleted parent row");let n=this.grid.records.get(t);if(!n)throw Error("Invalid parent row ID!");if(this.grid.summaryService.clearSummaryCache({rowID:n.key}),this.grid.primaryKey&&this.grid.foreignKey)e[this.grid.foreignKey]=t,super.addRowToData(e);else{let i=n.data,r=this.grid.childDataKey;if(this.grid.transactions.enabled){let i=this.grid.primaryKey?e[this.grid.primaryKey]:e,n=[];n.push(...this.grid.generateRowPath(t)),n.push(t),this.grid.transactions.add({id:i,path:n,newValue:e,type:hb.ADD},null)}else i[r]||(i[r]=[]),i[r].push(e)}}else super.addRowToData(e)}filterDataByExpressions(e){let t=this.filterTreeDataByExpressions(e),i=[];return this.getFlatDataFromFilteredRecords(t,i),i}sortDataByExpressions(e,t){return Ib.sort(MS(e),t,this.grid.sortStrategy??new Sb,this.grid).map((e=>e.data))}filterTreeDataByExpressions(e){let t=this.grid.rootRecords;if(e.filteringOperands.length){let i={expressionsTree:e,strategy:this.grid.filterStrategy??new Mb};t=Ob.filter(MS(t),i,this.grid)}return t}update_row_in_array(e,t,i){let n=this.grid;if(n.primaryKey&&n.foreignKey)super.update_row_in_array(e,t,i);else{let r=n.records.get(t),s=r.parent?r.parent.data[n.childDataKey]:n.data;i=n.primaryKey?s.map((e=>e[n.primaryKey])).indexOf(t):s.indexOf(t),s[i]=e}}updateData(e,t,i,n,r){if(e.transactions.enabled){let i=e.generateRowPath(t),s={id:t,type:hb.UPDATE,newValue:r,path:i};e.transactions.add(s,n)}else NS(i,r)}row_deleted_parent(e){let t=this.grid;if(!t)return!1;if(t.cascadeOnDelete&&t.foreignKey||t.childDataKey){let i=t.records.get(e);for(;i;){let e=t.transactions.getState(i.key);if(e&&e.type===hb.DELETE)return!0;i=i.parent}}return!1}getFlatDataFromFilteredRecords(e,t){if(e&&0!==e.length)for(let i of e)i.isFilteredOutParent||t.push(i),this.getFlatDataFromFilteredRecords(i.children,t)}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.prov=ji({token:e,factory:e.fac}),t})(),s0=(()=>{let e=class{constructor(e){this.template=e}},t=e;return e.fac=function(t){return new(t||e)(Rd(ju))},e.dir=er({type:e,selectors:[["","igxRowLoadingIndicator",""]],standalone:!0}),t})(),o0=(()=>{let e=class extends Lk{selectRowsWithNoEvent(e,t){this.grid&&this.grid.rowSelection===Kb?this.cascadeSelectRowsWithNoEvent(e,t):super.selectRowsWithNoEvent(e,t)}deselectRowsWithNoEvent(e){this.grid.rowSelection!==Kb?super.deselectRowsWithNoEvent(e):this.cascadeDeselectRowsWithNoEvent(e)}emitRowSelectionEvent(e,t,i,n){this.grid.rowSelection!==Kb?super.emitRowSelectionEvent(e,t,i,n):this.emitCascadeRowSelectionEvent(e,t,i,n)}updateCascadeSelectionOnFilterAndCRUD(e,t,i=null){if(null===i){if(!e.size)return;i=new Set(this.getRowIDs(this.allData)),this.rowsToBeSelected=new Set(this.rowSelection),this.rowsToBeIndeterminate=new Set(this.indeterminateRows),t&&this.rowSelection.delete(t)}if(!e.size)return this.rowSelection=new Set(this.rowsToBeSelected),this.indeterminateRows=new Set(this.rowsToBeIndeterminate),this.clearHeaderCBState(),void this.selectedRowsChange.next();let n=new Set;e.forEach((e=>{this.handleRowSelectionState(e,i),e&&e.parent&&n.add(e.parent)})),this.updateCascadeSelectionOnFilterAndCRUD(n,null,i)}cascadeSelectRowsWithNoEvent(e,t){if(t)this.indeterminateRows.clear(),this.rowSelection.clear(),this.calculateRowsNewSelectionState({added:e,removed:[]});else{let t=this.getSelectedRows(),i={oldSelection:t,newSelection:[...t,...e]};this.handleAddedAndRemovedArgs(i),this.calculateRowsNewSelectionState(i)}this.rowSelection=new Set(this.rowsToBeSelected),this.indeterminateRows=new Set(this.rowsToBeIndeterminate),this.clearHeaderCBState(),this.selectedRowsChange.next()}cascadeDeselectRowsWithNoEvent(e){let t={added:[],removed:e};this.calculateRowsNewSelectionState(t),this.rowSelection=new Set(this.rowsToBeSelected),this.indeterminateRows=new Set(this.rowsToBeIndeterminate),this.clearHeaderCBState(),this.selectedRowsChange.next()}get selectionService(){return this.grid.selectionService}emitCascadeRowSelectionEvent(e,t,i,n){let r=this.getSelectedRows();if(this.areEqualCollections(r,e))return;let s={owner:this.grid,oldSelection:this.getSelectedRowsData(),newSelection:e,added:t,removed:i,event:n,cancel:!1};if(this.calculateRowsNewSelectionState(s,!!this.grid.primaryKey),s.newSelection=Array.from(this.allData.filter((e=>this.rowsToBeSelected.has(this.grid.primaryKey?e[this.grid.primaryKey]:e)))),this.handleAddedAndRemovedArgs(s),this.grid.rowSelectionChanging.emit(s),s.cancel)return;let o=s.newSelection.map((e=>this.grid.primaryKey?e[this.grid.primaryKey]:e));this.areEqualCollections(Array.from(this.rowsToBeSelected),o)?(this.rowSelection=new Set(this.rowsToBeSelected),this.indeterminateRows=new Set(this.rowsToBeIndeterminate),this.clearHeaderCBState(),this.selectedRowsChange.next()):this.cascadeSelectRowsWithNoEvent(o,!0)}handleAddedAndRemovedArgs(e){let t=new Set(e.newSelection),i=new Set(e.oldSelection);e.removed=e.oldSelection.filter((e=>!t.has(e))),e.added=e.newSelection.filter((e=>!i.has(e)))}collectRowsChildrenAndDirectParents(e,t,i,n){let r=new Set;return Array.from(e).forEach((e=>{let s=n?e[this.grid.primaryKey]:e;this.selectDeselectRow(s,i);let o=this.grid.gridAPI.get_rec_by_id(s);this.get_all_children(o).forEach((e=>{t.has(e.key)&&this.selectDeselectRow(e.key,i)})),o&&o.parent&&r.add(o.parent)})),r}calculateRowsNewSelectionState(e,t=!1){this.rowsToBeSelected=new Set(e.oldSelection?t?e.oldSelection.map((e=>e[this.grid.primaryKey])):e.oldSelection:this.getSelectedRows()),this.rowsToBeIndeterminate=new Set(this.getIndeterminateRows());let i=new Set(this.getRowIDs(this.allData)),n=new Set(e.removed),r=new Set(e.added);if(n&&n.size){let e=new Set;e=this.collectRowsChildrenAndDirectParents(n,i,!1,t),Array.from(e).forEach((e=>{this.handleParentSelectionState(e,i)}))}if(r&&r.size){let e=new Set;e=this.collectRowsChildrenAndDirectParents(r,i,!0,t),Array.from(e).forEach((e=>{this.handleParentSelectionState(e,i)}))}}handleParentSelectionState(e,t){e&&(this.handleRowSelectionState(e,t),e.parent&&this.handleParentSelectionState(e.parent,t))}handleRowSelectionState(e,t){let i=[];e&&e.children&&(i=e.children.filter((e=>t.has(e.key)))),i.length?i.every((e=>this.rowsToBeSelected.has(e.key)))?this.selectDeselectRow(e.key,!0):i.some((e=>this.rowsToBeSelected.has(e.key)||this.rowsToBeIndeterminate.has(e.key)))?(this.rowsToBeIndeterminate.add(e.key),this.rowsToBeSelected.delete(e.key)):this.selectDeselectRow(e.key,!1):this.isRowSelected(e.key)?this.selectDeselectRow(e.key,!0):this.selectDeselectRow(e.key,!1)}get_all_children(e){let t=[];if(e&&e.children&&e.children.length)for(let i of e.children)t.push(...this.get_all_children(i)),t.push(i);return t}selectDeselectRow(e,t){t?(this.rowsToBeSelected.add(e),this.rowsToBeIndeterminate.delete(e)):(this.rowsToBeSelected.delete(e),this.rowsToBeIndeterminate.delete(e))}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.prov=ji({token:e,factory:e.fac}),t})();function a0(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"igx-chip",5),oh("keyDown",(function(t){return Is(e),Ts(dh().handleKeyDown(t.owner.id,t.originalEvent))}))("remove",(function(t){return Is(e),Ts(dh().clearGrouping(t.owner.id))}))("chipClick",(function(){let t=Is(e).$implicit;return Ts(dh().handleClick(t.fieldName))})),Pu(2,"igxGroupByMeta"),Pu(3,"igxGroupByMeta"),Pu(4,"igxGroupByMeta"),Pu(5,"igxGroupByMeta"),Yc(6,"span"),$h(7),Pu(8,"igxGroupByMeta"),Xc(),Yc(9,"igx-icon",6),$h(10),Xc()(),Yc(11,"span",7)(12,"igx-icon",8),$h(13,"arrow_forward"),Xc()(),eh()}if(2&e){let e=t.$implicit,i=t.last,n=dh();Ed(1),Uc("id",e.fieldName)("title",Vu(2,9,e.fieldName,n.grid).title)("displayDensity",n.grid.displayDensity)("removable",Nu(3,12,e.fieldName,n.grid,n.grid.groupablePipeTrigger).groupable)("draggable",Nu(4,16,e.fieldName,n.grid,n.grid.groupablePipeTrigger).groupable)("disabled",!Nu(5,20,e.fieldName,n.grid,n.grid.groupablePipeTrigger).groupable),Ed(6),jh(Vu(8,24,e.fieldName,n.grid).title),Ed(3),jh(1===e.dir?"arrow_upward":"arrow_downward"),Ed(2),Uc("hidden",i&&!n.dropAreaVisible)}}function l0(e,t){1&e&&th(0)}function d0(e,t){if(1&e&&(Yc(0,"igx-icon",9),$h(1,"group_work"),Xc(),Yc(2,"span",10),$h(3),Xc()),2&e){let e=dh();Ed(3),jh(e.dropAreaMessage)}}var c0=(()=>{let e=class extends SG{get hideGroupedColumns(){return this._hideGroupedColumns}set hideGroupedColumns(e){this.grid.columns&&this.expressions&&this.setColumnsVisibility(e),this._hideGroupedColumns=e}constructor(e,t,i){super(t,i),this.differs=e,this._hideGroupedColumns=!1,this.destroy$=new We}ngAfterContentInit(){this.grid.columns&&this.expressions&&(this.groupingDiffer=this.differs.find(this.expressions).create(),this.updateColumnsVisibility()),this.grid.sortingExpressionsChange.pipe(yi(this.destroy$)).subscribe((e=>{if(!this.expressions||!this.expressions.length)return;let t=!1;e.forEach((e=>{let i=e.fieldName,n=this.expressions.find((e=>e.fieldName===i));n&&n.dir!==e.dir&&(n.dir=e.dir,t=!0)})),t&&(this.expressions=[...this.expressions])}))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}handleReorder(e){let{chipsArray:t,originalEvent:i}=e,n=this.getReorderedExpressions(t);this.chipExpressions=n,i instanceof KeyboardEvent&&(this.expressions=n)}handleMoveEnd(){this.expressions=this.chipExpressions}groupBy(e){this.expressions.push(e),this.expressions=[...this.expressions]}clearGrouping(e){this.expressions=this.expressions.filter((t=>t.fieldName!==e)),this.grid.sortingExpressions=this.grid.sortingExpressions.filter((t=>t.fieldName!==e)),this.grid.notifyChanges(!0)}expressionsChanged(){this.updateColumnsVisibility()}updateColumnsVisibility(){if(this.groupingDiffer&&this.grid.columns&&!this.grid.hasColumnLayouts){let e=this.groupingDiffer.diff(this.expressions);e&&this.grid.columns.length>0&&(e.forEachAddedItem((e=>{this.grid.getColumnByName(e.item.fieldName).hidden=this.hideGroupedColumns})),e.forEachRemovedItem((e=>{this.grid.getColumnByName(e.item.fieldName).hidden=!1})))}}setColumnsVisibility(e){this.grid.columns.length>0&&!this.grid.hasColumnLayouts&&this.expressions.forEach((t=>{this.grid.getColumnByName(t.fieldName).hidden=e}))}},t=e;return e.fac=function(t){return new(t||e)(Rd(hp),Rd(ld),Rd($S))},e.cmp=Yn({type:e,selectors:[["igx-tree-grid-group-by-area"]],inputs:{hideGroupedColumns:"hideGroupedColumns"},standalone:!0,features:[cu([{provide:SG,useExisting:e}]),Tc,yu],decls:6,vars:7,consts:[[3,"reorder","moveEnd"],[4,"ngFor","ngForOf"],["igxGroupAreaDrop","",3,"hidden","igxDrop"],[4,"ngTemplateOutlet"],["default",""],[3,"id","title","displayDensity","removable","draggable","disabled","keyDown","remove","chipClick"],["igxSuffix",""],[1,"igx-grid-grouparea__connector"],[3,"hidden"],[1,"igx-drop-area__icon"],[1,"igx-drop-area__text"]],template:function(e,t){if(1&e&&(Yc(0,"igx-chips-area",0),oh("reorder",(function(e){return t.handleReorder(e)}))("moveEnd",(function(){return t.handleMoveEnd()})),Wc(1,a0,14,27,"ng-container",1),Yc(2,"div",2),oh("igxDrop",(function(e){return t.onDragDrop(e)})),Wc(3,l0,1,0,"ng-container",3),Xc()(),Wc(4,d0,4,1,"ng-template",null,4,_g)),2&e){let e=Kc(5);Ed(1),Uc("ngForOf",t.chipExpressions),Ed(1),qh("igx-drop-area","comfortable"!==t.density?"--"+t.density:"",""),Uc("hidden",!t.dropAreaVisible),Gc("gridId",t.grid.id),Ed(1),Uc("ngTemplateOutlet",t.dropAreaTemplate||e)}},dependencies:[KF,bm,WF,FI,pI,MG,NT,Pm,bG],encapsulation:2}),t})(),h0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o){return e&&t&&i!==Bb?this.addSummaryRows(this.grid,e,n,r):e}addSummaryRows(e,t,i,n){let r=[],s=e.summaryService.calcMaxSummaryHeight();for(let o of t){if(r.push(o),!o.expanded&&o.children&&o.children.length>0&&n){let t=o.children.filter((e=>!e.isFilteredOutParent)).map((e=>e.data));t=this.removeDeletedRecord(e,o.key,t);let i={summaries:e.summaryService.calculateSummaries(o.key,t),max:s,cellIndentation:o.level+1};r.push(i)}let t=o.children&&o.children.length>0&&o.expanded;if(i!==Hb||t){if(i===Lb&&t){let t=o.children.filter((e=>!e.isFilteredOutParent)).map((e=>e.data));t=this.removeDeletedRecord(e,o.key,t);let i={summaries:e.summaryService.calculateSummaries(o.key,t),max:s,cellIndentation:o.level+1};r.push(i)}}else{let t=o,i=o.parent;for(;i;){let n=i.children;if(n[n.length-1]!==t)break;{let o=n.filter((e=>!e.isFilteredOutParent)).map((e=>e.data));o=this.removeDeletedRecord(e,i.key,o);let a={summaries:e.summaryService.calculateSummaries(i.key,o),max:s,cellIndentation:i.level+1};r.push(a),t=i,i=t.parent}}}}return r}removeDeletedRecord(e,t,i){if(!e.transactions.enabled||!e.cascadeOnDelete)return i;let n=e.transactions.getTransactionLog().filter((e=>"delete"===e.type)).map((e=>e.id)),r=e.records.get(t);if(!r&&0===n.lenght)return[];for(r=r.children?r:r.parent;r;){if(t=r.key,-1!==n.indexOf(t))return[];r=r.parent}return n.forEach((t=>{let n=(e.primaryKey?i.map((t=>t[e.primaryKey])):i).indexOf(t);-1!==n&&i.splice(n,1)})),i}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"treeGridSummary",type:e,pure:!0,standalone:!0}),t})(),u0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s,o){let a={expressionsTree:t,advancedExpressionsTree:n,strategy:new Mb};if(i&&(a.strategy=i),kb.empty(a.expressionsTree)&&kb.empty(a.advancedExpressionsTree))return this.grid.setFilteredData(null,o),e;let l=this.filter(e,a,this.grid),d=[];return this.expandAllRecursive(this.grid,l,this.grid.expansionStates,d),this.grid.setFilteredData(d,o),l}expandAllRecursive(e,t,i,n){for(let r of t)n.push(r.data),r.children&&r.children.length>0&&(i.set(r.key,!0),this.expandAllRecursive(e,r.children,i,n))}filter(e,t,i){return t.strategy.filter(e,t.expressionsTree,t.advancedExpressionsTree,i)}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"treeGridFiltering",type:e,pure:!0,standalone:!0}),t})(),g0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r){let s=[],o=new Map,a=[];return e&&e.length?(n?s=this.hierarchizeRecursive(e,t,n,void 0,a,0,o):t&&(s=this.hierarchizeFlatData(e,t,i,o,a)),this.grid.flatData=this.grid.transactions.enabled?a.filter((e=>{let i=this.grid.transactions.getState(this.getRowID(t,e));return!i||i.type!==hb.ADD})):a,this.grid.records=o,this.grid.rootRecords=s,s):(this.grid.flatData=e,this.grid.records=o,this.grid.rootRecords=e,e)}getRowID(e,t){return e?t[e]:t}hierarchizeFlatData(e,t,i,n,r){let s=[],o=[];return e.forEach((e=>{let r={key:this.getRowID(t,e),data:e,children:[]},s=n.get(e[i]);s?(r.parent=s,s.children.push(r)):o.push(r),n.set(e[t],r)})),o.forEach((e=>{let t=n.get(e.data[i]);t?(e.parent=t,t.children.push(e)):s.push(e)})),this.setIndentationLevels(s,0,r),s}setIndentationLevels(e,t,i){for(let n of e)n.level=t,n.expanded=this.grid.gridAPI.get_row_expansion_state(n),i.push(n.data),n.children&&n.children.length>0&&this.setIndentationLevels(n.children,t+1,i)}hierarchizeRecursive(e,t,i,n,r,s,o){let a=[];for(let l of e){let e={key:this.getRowID(t,l),data:l,parent:n,level:s};e.expanded=this.grid.gridAPI.get_row_expansion_state(e),r.push(l),o.set(e.key,e),e.children=l[i]?this.hierarchizeRecursive(l[i],t,i,e,r,s+1,o):void 0,a.push(e)}return a}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"treeGridHierarchizing",type:e,pure:!0,standalone:!0}),t})(),p0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n){let r=[];return this.grid.processedRootRecords=e,this.grid.processedRecords=new Map,this.getFlatDataRecursive(e,r,t,i,!0),this.grid.processedExpandedFlatData=r.map((e=>e.data)),r}getFlatDataRecursive(e,t,i,n,r){if(e&&e.length)for(let s of e)r&&t.push(s),s.expanded=this.grid.gridAPI.get_row_expansion_state(s),this.updateNonProcessedRecordExpansion(this.grid,s),this.grid.processedRecords.set(s.key,s),this.getFlatDataRecursive(s.children,t,i,n,r&&s.expanded)}updateNonProcessedRecordExpansion(e,t){e.records.get(t.key).expanded=t.expanded}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"treeGridFlattening",type:e,pure:!0,standalone:!0}),t})(),m0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i,n,r,s){let o,a=i?i.concat(t):t;o=a.length?Ib.treeGridSort(e,a,n,null,this.grid):e;let l=[];return this.flattenTreeGridRecords(o,l),this.grid.setFilteredSortedData(l,s),o}flattenTreeGridRecords(e,t){if(e&&e.length)for(let i of e)t.push(i.data),this.flattenTreeGridRecords(i.children,t)}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"treeGridSorting",type:e,pure:!0,standalone:!0}),t})(),f0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i=0,n=15,r){if(!t||this.grid.pagingMode!==Zb.Local)return e;let s=this.grid._totalRecords>=0?this.grid._totalRecords:e.length,o=Math.ceil(s/n),a={index:o>0&&i>=o?o-1:i,recordsPerPage:n},l=Ib.page(MS(e),a,s);return this.grid.pagingState=a,this.grid.page=a.index,l}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"treeGridPaging",type:e,pure:!0,standalone:!0}),t})(),y0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t){if(this.grid.transactions.enabled){let t=this.grid.transactions.getAggregatedChanges(!0);if(t.length>0){if(!this.grid.primaryKey)return e;let i=this.grid.childDataKey;if(i){let n=VS(e,i);return Ib.mergeHierarchicalTransactions(n,t,i,this.grid.primaryKey,this.grid.dataCloneStrategy)}{let i=MS(e);return Ib.mergeTransactions(i,t,this.grid.primaryKey,this.grid.dataCloneStrategy)}}}return e}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"treeGridTransaction",type:e,pure:!0,standalone:!0}),t})(),v0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t){let i=this.grid.primaryKey,n=this.grid.flatData;return n?n.map((e=>({rowID:this.grid.primaryKey?e[i]:e,data:e,level:0,children:[]}))):[]}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"treeGridNormalizeRecord",type:e,pure:!0,standalone:!0}),t})(),x0=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t=!1,i){if(!this.grid.rowEditable||!this.grid.crudService.row||this.grid.crudService.row.getClassName()!==mk.name||!this.grid.gridAPI.crudService.addRowParent||t!==this.grid.gridAPI.crudService.addRowParent.isPinned)return e;let n=e.slice(0),r=this.grid.crudService.row.recordRef;if(this.grid.crudService.addRowParent.isPinned){let e=n.findIndex((e=>e.rowID===this.grid.crudService.addRowParent.rowID));n.splice(e+1,0,r)}else n.splice(this.grid.crudService.row.index,0,r);return this.grid.records.set(r.key,r),n}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"treeGridAddRow",type:e,pure:!0,standalone:!0}),t})();function _0(e,t){if(1&e&&(Yc(0,"igx-chip",10),$h(1),Xc()),2&e){let e=dh(2);Uc("disabled",!0)("displayDensity","compact"),Ed(1),jh(e.grid.resourceStrings.igx_grid_pinned_row_indicator)}}function w0(e,t){1&e&&Wc(0,_0,2,3,"igx-chip",9),2&e&&Uc("ngIf",dh().displayPinnedChip)}var C0=function(e,t,i,n,r){return[e,t,i,n,r]};function S0(e,t){if(1&e&&(Yc(0,"div",14),Pu(1,"columnFormatter"),Pu(2,"number"),Pu(3,"date"),Pu(4,"currency"),Pu(5,"percent"),$h(6),Pu(7,"columnFormatter"),Pu(8,"number"),Pu(9,"date"),Pu(10,"currency"),Pu(11,"percent"),Xc()),2&e){let e=dh(2);Uc("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?Nu(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?Nu(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?Lu(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?Hu(4,22,Su(55,C0,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Nu(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Ed(6),jh(e.formatter?Nu(7,32,e.value,e.formatter,e.rowData):"number"===e.column.dataType?Nu(8,36,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?Lu(9,40,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?Hu(10,45,Su(61,C0,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Nu(11,51,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)}}var b0=function(e,t){return{"igx-icon--success":e,"igx-icon--error":t}};function D0(e,t){if(1&e&&(Yc(0,"igx-icon",15),$h(1),Xc()),2&e){let e=dh(2);Uc("ngClass",_u(2,b0,e.value,!e.value)),Ed(1),jh(e.value?"check":"close")}}function E0(e,t){if(1&e&&(Zc(0,"img",16),Pu(1,"igxCellImageAlt")),2&e){let e=dh(2);Uc("src",e.value,Sl)("alt",Mu(1,2,e.value))}}function I0(e,t){if(1&e&&(Wc(0,S0,12,67,"div",11),Wc(1,D0,2,5,"igx-icon",12),Wc(2,E0,2,4,"img",13)),2&e){let e=dh();Uc("ngIf","boolean"!==e.column.dataType&&"image"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter),Ed(1),Uc("ngIf","boolean"===e.column.dataType&&!e.formatter),Ed(1),Uc("ngIf","image"===e.column.dataType)}}function T0(e,t){if(1&e&&(Yc(0,"div",14),Pu(1,"columnFormatter"),Pu(2,"number"),Pu(3,"date"),Pu(4,"currency"),Pu(5,"percent"),$h(6),Xc()),2&e){let e=dh(2);Uc("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?Nu(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?Nu(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?Lu(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?Hu(4,22,Su(32,C0,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Nu(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Ed(6),jh(e.isEmptyAddRowCell?e.column.header||e.column.field:e.value)}}function A0(e,t){if(1&e&&Wc(0,T0,7,38,"div",17),2&e){let e=dh();Uc("ngIf","boolean"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter)}}function k0(e,t){if(1&e){let e=nh();Jc(0,19),Yc(1,"igx-input-group",20)(2,"input",21),oh("compositionstart",(function(){return Is(e),Ts(dh(2).grid.crudService.isInCompositionMode=!0)}))("compositionend",(function(){return Is(e),Ts(dh(2).grid.crudService.isInCompositionMode=!1)})),Xc()(),eh()}if(2&e){let e=dh(2);Uc("formGroup",e.formGroup),Ed(2),Uc("igxFocus",!0)("igxTextSelection",!0)("formControl",e.formControl),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function R0(e,t){if(1&e&&(Jc(0),Yc(1,"igx-input-group",22),Zc(2,"input",23),Xc(),eh()),2&e){let e=dh(2);Ed(1),Uc("formGroup",e.formGroup),Ed(1),Uc("igxFocus",!0)("step",e.step)("igxTextSelection",!0)("formControl",e.formControl),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function O0(e,t){if(1&e&&(Jc(0,19),Zc(1,"igx-checkbox",24),eh()),2&e){let e=dh(2);Uc("formGroup",e.formGroup),Ed(1),Uc("checked",e.editValue)("igxFocus",!0)("disableRipple",!0)("formControl",e.formControl)}}function F0(e,t){if(1&e){let e=nh();Jc(0,19),Yc(1,"igx-date-picker",25),oh("valueChange",(function(t){return Is(e),Ts(dh(2).editValue=t)})),Xc(),eh()}if(2&e){let e=dh(2);Uc("formGroup",e.formGroup),Ed(1),Th("width",100,"%"),Uc("outlet",e.grid.outlet)("locale",e.grid.locale)("weekStart",e.column.pipeArgs.weekStart)("value",e.editValue)("igxFocus",!0)("formControl",e.formControl)}}function P0(e,t){if(1&e){let e=nh();Jc(0,19),Yc(1,"igx-time-picker",26),oh("valueChange",(function(t){return Is(e),Ts(dh(2).editValue=t)})),Xc(),eh()}if(2&e){let e=dh(2);Uc("formGroup",e.formGroup),Ed(1),Th("width",100,"%"),Uc("outlet",e.grid.outlet)("locale",e.grid.locale)("inputFormat",e.column.defaultTimeFormat)("value",e.editValue)("igxFocus",!0)("formControl",e.formControl)}}function M0(e,t){if(1&e&&(Jc(0),Yc(1,"igx-input-group",19),Zc(2,"input",27),Xc(),eh()),2&e){let e=dh(2);Ed(1),Uc("formGroup",e.formGroup),Ed(1),Uc("formControl",e.formControl)("igxDateTimeEditor",e.column.defaultDateTimeFormat)("igxFocus",!0),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function V0(e,t){if(1&e&&(Yc(0,"igx-prefix"),$h(1),Xc()),2&e){let e=dh(3);Ed(1),jh(e.currencyCodeSymbol)}}function N0(e,t){if(1&e&&(Yc(0,"igx-suffix"),$h(1),Xc()),2&e){let e=dh(3);Ed(1),jh(e.currencyCodeSymbol)}}function L0(e,t){if(1&e&&(Jc(0),Yc(1,"igx-input-group",22),Wc(2,V0,2,1,"igx-prefix",4),Zc(3,"input",23),Wc(4,N0,2,1,"igx-suffix",4),Xc(),eh()),2&e){let e=dh(2);Ed(1),Uc("formGroup",e.formGroup),Ed(1),Uc("ngIf",e.grid.currencyPositionLeft),Ed(1),Uc("igxFocus",!0)("step",e.step)("igxTextSelection",!0)("formControl",e.formControl),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Ed(1),Uc("ngIf",!e.grid.currencyPositionLeft)}}function H0(e,t){if(1&e&&(Jc(0),Yc(1,"igx-input-group",22),Zc(2,"input",23),Yc(3,"igx-suffix"),$h(4),Pu(5,"percent"),Xc()(),eh()),2&e){let e=dh(2);Ed(1),Uc("formGroup",e.formGroup),Ed(1),Uc("igxFocus",!0)("step",e.step)("igxTextSelection",!0)("formControl",e.formControl),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Ed(2),Kh(" ",Nu(5,8,e.editValue,e.column.pipeArgs.digitsInfo,e.grid.locale)," ")}}function B0(e,t){if(1&e&&(Wc(0,k0,3,6,"ng-container",18),Wc(1,R0,3,7,"ng-container",4),Wc(2,O0,2,5,"ng-container",18),Wc(3,F0,2,9,"ng-container",18),Wc(4,P0,2,9,"ng-container",18),Wc(5,M0,3,6,"ng-container",4),Wc(6,L0,5,9,"ng-container",4),Wc(7,H0,6,12,"ng-container",4)),2&e){let e=dh();Uc("ngIf","string"===e.column.dataType||"image"===e.column.dataType),Ed(1),Uc("ngIf","number"===e.column.dataType),Ed(1),Uc("ngIf","boolean"===e.column.dataType),Ed(1),Uc("ngIf","date"===e.column.dataType),Ed(1),Uc("ngIf","time"===e.column.dataType),Ed(1),Uc("ngIf","dateTime"===e.column.dataType),Ed(1),Uc("ngIf","currency"===e.column.dataType),Ed(1),Uc("ngIf","percent"===e.column.dataType)}}var G0=function(e){return{"padding-inline-start":e}};function z0(e,t){if(1&e&&(Jc(0),Zc(1,"div",31,32),eh()),2&e){let e=dh(2);Ed(1),qh("igx-grid__tree-cell--padding-level-",e.level,""),Uc("ngStyle",xu(4,G0,"calc(var(--igx-tree-indent-size) *"+e.level+")"))}}function $0(e,t){1&e&&th(0)}function W0(e,t){1&e&&th(0)}var j0=function(e){return{visibility:e}},K0=function(e){return{$implicit:e}};function U0(e,t){if(1&e){let e=nh();Yc(0,"div",33,34),oh("click",(function(t){return Is(e),Ts(dh(2).toggle(t))}))("focus",(function(){return Is(e),Ts(dh(2).onIndicatorFocus())})),Wc(2,$0,1,0,"ng-container",5),Wc(3,W0,1,0,"ng-container",5),Xc()}if(2&e){let e=dh(2);Uc("ngStyle",xu(5,j0,e.showIndicator?"visible":"hidden")),Ed(2),Uc("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",xu(7,K0,e)),Ed(1),Uc("ngTemplateOutlet",e.pinnedIndicatorTemplate)("ngTemplateOutletContext",e.context)}}function q0(e,t){1&e&&th(0)}function Y0(e,t){if(1&e){let e=nh();Yc(0,"div",35),oh("dblclick",(function(t){return Is(e),Ts(dh(2).onLoadingDblClick(t))})),Wc(1,q0,1,0,"ng-container",36),Xc()}if(2&e){dh();let e=Kc(5),t=dh();Ed(1),Uc("ngTemplateOutlet",t.grid.rowLoadingIndicatorTemplate?t.grid.rowLoadingIndicatorTemplate:e)}}function X0(e,t){1&e&&Zc(0,"igx-circular-bar",37),2&e&&Uc("indeterminate",!0)}function Z0(e,t){if(1&e&&(Jc(0),Wc(1,z0,3,6,"ng-container",4),Wc(2,U0,4,9,"div",28),Wc(3,Y0,2,1,"div",29),Wc(4,X0,1,1,"ng-template",null,30,_g),eh()),2&e){let e=dh();Ed(1),Uc("ngIf",e.level>0),Ed(1),Uc("ngIf",!e.isLoading),Ed(1),Uc("ngIf",e.isLoading)}}function Q0(e,t){1&e&&th(0)}function J0(e,t){1&e&&th(0)}function e1(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"igx-icon",38,39),oh("mouseover",(function(){return Is(e),Ts(dh().errorShowing=!0)}))("mouseout",(function(){return Is(e),Ts(dh().errorShowing=!1)})),$h(3,"error"),Xc(),Yc(4,"div",40,41)(7,"div"),Wc(8,J0,1,0,"ng-container",5),Xc()(),eh()}if(2&e){let e=Kc(6),t=dh(),i=Kc(16);Ed(1),Uc("igxTooltipTarget",e)("igxToggleOutlet",t.grid.outlet),Ed(3),Uc("id",t.ariaErrorMessage),Ed(3),Th("width","max-content"),Ed(1),Uc("ngTemplateOutlet",t.cellValidationErrorTemplate||i)("ngTemplateOutletContext",t.context)}}function t1(e,t){1&e&&(Yc(0,"igx-icon"),$h(1,"expand_more"),Xc())}function i1(e,t){1&e&&(Yc(0,"igx-icon"),$h(1,"chevron_right"),Xc())}function n1(e,t){if(1&e&&(Yc(0,"div"),$h(1),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",e.grid.resourceStrings.igx_grid_required_validation_error," ")}}function r1(e,t){if(1&e&&(Yc(0,"div"),$h(1),Pu(2,"igxStringReplace"),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",Nu(2,1,e.grid.resourceStrings.igx_grid_min_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.minlength.requiredLength)," ")}}function s1(e,t){if(1&e&&(Yc(0,"div"),$h(1),Pu(2,"igxStringReplace"),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",Nu(2,1,e.grid.resourceStrings.igx_grid_max_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.maxlength.requiredLength)," ")}}function o1(e,t){if(1&e&&(Yc(0,"div"),$h(1),Pu(2,"igxStringReplace"),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",Nu(2,1,e.grid.resourceStrings.igx_grid_min_validation_error,"{0}",e.formGroup.get(e.column.field).errors.min.min)," ")}}function a1(e,t){if(1&e&&(Yc(0,"div"),$h(1),Pu(2,"igxStringReplace"),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",Nu(2,1,e.grid.resourceStrings.igx_grid_max_validation_error,"{0}",e.formGroup.get(e.column.field).errors.max.max)," ")}}function l1(e,t){if(1&e&&(Yc(0,"div"),$h(1),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",e.grid.resourceStrings.igx_grid_email_validation_error," ")}}function d1(e,t){if(1&e&&(Yc(0,"div"),$h(1),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",e.grid.resourceStrings.igx_grid_pattern_validation_error," ")}}function c1(e,t){if(1&e&&(Wc(0,n1,2,1,"div",4),Wc(1,r1,3,5,"div",4),Wc(2,s1,3,5,"div",4),Wc(3,o1,3,5,"div",4),Wc(4,a1,3,5,"div",4),Wc(5,l1,2,1,"div",4),Wc(6,d1,2,1,"div",4)),2&e){let e=dh();Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.required),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.minlength),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.maxlength),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.min),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.max),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.email),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.pattern)}}var h1=(()=>{let e=class extends pY{constructor(){super(...arguments),this.level=0,this.showIndicator=!1}get row(){return new S$(this.grid,this.intRow.index,this.intRow.data)}toggle(e){e.stopPropagation(),this.grid.gridAPI.set_row_expansion_state(this.intRow.key,!this.intRow.expanded,e)}onLoadingDblClick(e){e.stopPropagation()}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.cmp=Yn({type:e,selectors:[["igx-tree-grid-cell"]],inputs:{level:"level",showIndicator:"showIndicator",isLoading:"isLoading",row:"row"},standalone:!0,features:[cu([MM]),Tc,yu],decls:17,vars:4,consts:[["defaultPinnedIndicator",""],["defaultCell",""],["addRowCell",""],["inlineEditor",""],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultExpandedTemplate",""],["defaultCollapsedTemplate",""],["defaultError",""],["class","igx-grid__td--pinned-chip",3,"disabled","displayDensity",4,"ngIf"],[1,"igx-grid__td--pinned-chip",3,"disabled","displayDensity"],["igxTextHighlight","","class","igx-grid__td-text","style","pointer-events: none;",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"src","alt",4,"ngIf"],["igxTextHighlight","",1,"igx-grid__td-text",2,"pointer-events","none",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata"],[3,"ngClass"],[3,"src","alt"],["igxTextHighlight","","class","igx-grid__td-text","style","pointer-events: none",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata",4,"ngIf"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["displayDensity","compact"],["igxInput","",3,"igxFocus","igxTextSelection","formControl","compositionstart","compositionend"],["displayDensity","compact",3,"formGroup"],["igxInput","","type","number",3,"igxFocus","step","igxTextSelection","formControl"],[3,"checked","igxFocus","disableRipple","formControl"],["mode","dropdown",3,"outlet","locale","weekStart","value","igxFocus","formControl","valueChange"],["mode","dropdown",3,"outlet","locale","inputFormat","value","igxFocus","formControl","valueChange"],["type","text","igxInput","",3,"formControl","igxDateTimeEditor","igxFocus"],["class","igx-grid__tree-grouping-indicator",3,"ngStyle","click","focus",4,"ngIf"],["class","igx-grid__tree-loading-indicator",3,"dblclick",4,"ngIf"],["defaultLoadingIndicatorTemplate",""],[3,"ngStyle"],["indentationDiv",""],[1,"igx-grid__tree-grouping-indicator",3,"ngStyle","click","focus"],["indicator",""],[1,"igx-grid__tree-loading-indicator",3,"dblclick"],[4,"ngTemplateOutlet"],[3,"indeterminate"],[3,"igxTooltipTarget","igxToggleOutlet","mouseover","mouseout"],["errorIcon",""],["igxTooltip","",3,"id"],["error","","tooltipRef","tooltip"]],template:function(e,t){1&e&&(Wc(0,w0,1,1,"ng-template",null,0,_g),Wc(2,I0,3,3,"ng-template",null,1,_g),Wc(4,A0,1,1,"ng-template",null,2,_g),Wc(6,B0,8,8,"ng-template",null,3,_g),Wc(8,Z0,6,3,"ng-container",4),Wc(9,Q0,1,0,"ng-container",5),Wc(10,e1,9,7,"ng-container",4),Wc(11,t1,2,0,"ng-template",null,6,_g),Wc(13,i1,2,0,"ng-template",null,7,_g),Wc(15,c1,7,7,"ng-template",null,8,_g)),2&e&&(Ed(8),Uc("ngIf",!t.editMode),Ed(1),Uc("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context),Ed(1),Uc("ngIf",t.isInvalid))},dependencies:[Em,Sm,Fm,Pm,Wm,jm,Km,$m,WF,uA,FI,Ow,Zx,ow,O_,F_,cw,uw,kT,cI,HT,gk,pP,mV,IA,gI,pI,TL,CA,_A,A$,H$,G$,gA],encapsulation:2,changeDetection:0}),t})(),u1=["treeCell"];function g1(e,t){1&e&&th(0)}function p1(e,t){1&e&&th(0)}function m1(e,t){if(1&e){let e=nh();Yc(0,"div",3),oh("animationend",(function(){return Is(e),Ts(dh().animationEndHandler())})),Wc(1,p1,1,0,"ng-container",0),Xc()}if(2&e){let e=dh(),t=Kc(4);Ah("igx-grid__tr--add-animate",e.triggerAddAnimationClass),Ed(1),Uc("ngTemplateOutlet",t)}}function f1(e,t){1&e&&th(0)}function y1(e,t){if(1&e&&(Jc(0),Yc(1,"div",9),oh("click",(function(e){return e.stopPropagation()})),Wc(2,f1,1,0,"ng-container",0),Xc(),eh()),2&e){let e=dh(2);Ed(1),kh(e.resolveDragIndicatorClasses),Uc("igxRowDrag",e)("ghostTemplate",e.grid.getDragGhostCustomTemplate()),Ed(1),Uc("ngTemplateOutlet",e.grid.dragIndicatorIconTemplate?e.grid.dragIndicatorIconTemplate:e.grid.dragIndicatorIconBase)}}function v1(e,t){}function x1(e,t){1&e&&Wc(0,v1,0,0,"ng-template")}var _1=function(e,t,i,n){return{index:e,rowID:t,key:i,selected:n}},w1=function(e){return{$implicit:e}};function C1(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"div",10),oh("click",(function(t){return Is(e),Ts(dh(2).onRowSelectorClick(t))}))("pointerdown",(function(e){return e.preventDefault()})),Wc(2,x1,1,0,null,11),Xc(),eh()}if(2&e){dh();let e=Kc(8),t=dh();Ed(2),Uc("ngTemplateOutlet",t.grid.rowSelectorTemplate?t.grid.rowSelectorTemplate:e)("ngTemplateOutletContext",xu(7,w1,Cu(2,_1,t.viewIndex,t.key,t.key,t.selected)))}}function S1(e,t){1&e&&th(0)}function b1(e,t){if(1&e&&(Jc(0),Wc(1,S1,1,0,"ng-container",11),eh()),2&e){dh();let e=Kc(10),t=dh();Ed(1),Uc("ngTemplateOutlet",e)("ngTemplateOutletContext",t)}}var D1=function(e,t,i,n,r,s,o){return[e,t,i,n,r,s,o]},E1=function(e,t,i,n,r,s){return[e,t,i,n,r,s]},I1=function(e,t,i,n,r){return[e,t,i,n,r]};function T1(e,t){if(1&e&&(Yc(0,"igx-grid-cell",14,15),Pu(2,"transactionState"),Pu(3,"igxCellStyleClasses"),Pu(4,"igxCellStyles"),Pu(5,"dataMapper"),Xc()),2&e){let e=dh().$implicit,t=dh(2);Th("min-height",t.cellHeight,"px")("min-width",e.width)("max-width",e.width)("flex-basis",e.width),Ah("igx-grid__td--edited",Hu(2,30,Du(58,D1,t.key,e.field,t.grid.rowEditable,t.grid.transactions,t.grid.pipeTrigger,t.grid.gridAPI.crudService.cell,t.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)("igx-grid__td--bool","boolean"===e.dataType),Uc("ngClass",Hu(3,38,bu(66,E1,e.cellClasses,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("ngStyle",Hu(4,45,bu(73,E1,e.cellStyles,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("editMode",e.editable&&t.grid.crudService.targetInEdit(t.index,e.index))("column",e)("formatter",e.formatter)("intRow",t)("rowData",t.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",Hu(5,52,Su(80,I1,t.data,e.field,t.grid.pipeTrigger,t.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",t.grid.lastSearchInfo)("active",t.isCellActive(e.visibleIndex))("cellSelectionMode",t.grid.cellSelection)("displayPinnedChip",t.shouldDisplayPinnedChip(e.visibleIndex))}}function A1(e,t){if(1&e&&(Yc(0,"igx-tree-grid-cell",16,15),Pu(2,"transactionState"),Pu(3,"igxCellStyleClasses"),Pu(4,"igxCellStyles"),Pu(5,"dataMapper"),Xc()),2&e){let e=dh().$implicit,t=dh(2);Th("min-height",t.cellHeight,"px")("min-width",e.width)("max-width",e.width)("flex-basis",e.width),Ah("igx-grid__td--edited",Hu(2,32,Du(60,D1,t.key,e.field,t.grid.rowEditable,t.grid.transactions,t.grid.pipeTrigger,t.grid.gridAPI.crudService.cell,t.grid.gridAPI.crudService.row)))("igx-grid__td--number",("number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)&&0!==e.visibleIndex),Uc("ngClass",Hu(3,40,bu(68,E1,e.cellClasses,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("ngStyle",Hu(4,47,bu(75,E1,e.cellStyles,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("level",t.treeRow.level)("expanded",t.expanded)("showIndicator",t.showIndicator)("editMode",e.editable&&t.grid.crudService.targetInEdit(t.index,e.index))("column",e)("formatter",e.formatter)("intRow",t)("rowData",t.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",Hu(5,54,Su(82,I1,t.data,e.field,t.grid.pipeTrigger,t.data[e.field],e.hasNestedPath)))("isLoading",t.isLoading)("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",t.grid.lastSearchInfo)("active",t.isCellActive(e.visibleIndex))("cellSelectionMode",t.grid.cellSelection)("displayPinnedChip",t.shouldDisplayPinnedChip(e.visibleIndex))}}function k1(e,t){1&e&&th(0)}function R1(e,t){if(1&e&&(Wc(0,T1,6,86,"ng-template",null,12,_g),Wc(2,A1,6,88,"ng-template",null,13,_g),Wc(4,k1,1,0,"ng-container",0)),2&e){let e=t.$implicit,i=Kc(1),n=Kc(3);Ed(4),Uc("ngTemplateOutlet",0===e.visibleIndex?n:i)}}function O1(e,t){1&e&&th(0)}function F1(e,t){if(1&e&&(Jc(0),Wc(1,O1,1,0,"ng-container",11),eh()),2&e){dh();let e=Kc(10),t=dh();Ed(1),Uc("ngTemplateOutlet",e)("ngTemplateOutletContext",t)}}function P1(e,t){if(1&e&&(Yc(0,"div",17),Zc(1,"igx-checkbox",18),Xc()),2&e){let e=dh(2);Ed(1),Uc("tabindex",-1)("readonly",!0)("checked",e.selected)("indeterminate",e.indeterminate)("disabled",e.deleted)("disableRipple",!0)("disableTransitions",e.grid.disableTransitions)("aria-label",e.rowCheckboxAriaLabel)}}function M1(e,t){if(1&e&&(Yc(0,"igx-grid-cell",20,15),Pu(2,"transactionState"),Pu(3,"igxCellStyleClasses"),Pu(4,"igxCellStyles"),Pu(5,"dataMapper"),Xc()),2&e){let e=dh().$implicit,t=dh(3);Th("min-height",t.cellHeight,"px")("min-width",e.width)("max-width",e.width)("flex-basis",e.width)("left",e.rightPinnedOffset),Ah("igx-grid__td--edited",Hu(2,32,Du(60,D1,t.key,e.field,t.grid.rowEditable,t.grid.transactions,t.grid.pipeTrigger,t.grid.gridAPI.crudService.cell,t.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType),Uc("ngClass",Hu(3,40,bu(68,E1,e.cellClasses,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("ngStyle",Hu(4,47,bu(75,E1,e.cellStyles,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("editMode",e.editable&&t.grid.crudService.targetInEdit(t.index,e.index))("column",e)("formatter",e.formatter)("intRow",t)("firstPinned",e.isFirstPinned)("lastPinned",e.isLastPinned)("rowData",t.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",Hu(5,54,Su(82,I1,t.data,e.field,t.grid.pipeTrigger,t.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",t.grid.lastSearchInfo)("active",t.isCellActive(e.visibleIndex))("cellSelectionMode",t.grid.cellSelection)("displayPinnedChip",t.shouldDisplayPinnedChip(e.visibleIndex))}}function V1(e,t){if(1&e&&(Yc(0,"igx-tree-grid-cell",21,15),Pu(2,"transactionState"),Pu(3,"igxCellStyleClasses"),Pu(4,"igxCellStyles"),Pu(5,"dataMapper"),Xc()),2&e){let e=dh().$implicit,t=dh(3);Th("min-height",t.cellHeight,"px")("min-width",e.width)("max-width",e.width)("flex-basis",e.width)("left",e.rightPinnedOffset),Ah("igx-grid__td--edited",Hu(2,35,Du(63,D1,t.key,e.field,t.grid.rowEditable,t.grid.transactions,t.grid.pipeTrigger,t.grid.gridAPI.crudService.cell,t.grid.gridAPI.crudService.row)))("igx-grid__td--number",("number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)&&0!==e.visibleIndex),Uc("ngClass",Hu(3,43,bu(71,E1,e.cellClasses,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("ngStyle",Hu(4,50,bu(78,E1,e.cellStyles,t.data[e.field],t.data,e.field,t.viewIndex,t.grid.pipeTrigger)))("level",t.treeRow.level)("expanded",t.expanded)("showIndicator",t.showIndicator)("editMode",e.editable&&t.grid.crudService.targetInEdit(t.index,e.index))("column",e)("formatter",e.formatter)("intRow",t)("lastPinned",e.isLastPinned)("rowData",t.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",Hu(5,57,Su(85,I1,t.data,e.field,t.grid.pipeTrigger,t.data[e.field],e.hasNestedPath)))("isLoading",t.isLoading)("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",t.grid.lastSearchInfo)("active",t.isCellActive(e.visibleIndex))("cellSelectionMode",t.grid.cellSelection)("displayPinnedChip",t.shouldDisplayPinnedChip(e.visibleIndex))}}function N1(e,t){1&e&&th(0)}function L1(e,t){if(1&e&&(Wc(0,M1,6,88,"ng-template",null,12,_g),Wc(2,V1,6,91,"ng-template",null,13,_g),Wc(4,N1,1,0,"ng-container",0)),2&e){let e=t.$implicit,i=Kc(1),n=Kc(3);Ed(4),Uc("ngTemplateOutlet",0===e.visibleIndex?n:i)}}function H1(e,t){1&e&&(Wc(0,L1,5,1,"ng-template",19),Pu(1,"igxNotGrouped")),2&e&&Uc("ngForOf",Mu(1,1,dh(2).pinnedColumns))}function B1(e,t){if(1&e&&(Wc(0,y1,3,5,"ng-container",4),Wc(1,C1,3,9,"ng-container",4),Wc(2,b1,2,2,"ng-container",4),Wc(3,R1,5,1,"ng-template",5,6,_g),Pu(5,"igxNotGrouped"),Wc(6,F1,2,2,"ng-container",4),Wc(7,P1,2,8,"ng-template",null,7,_g),Wc(9,H1,2,3,"ng-template",null,8,_g)),2&e){let e=dh();Uc("ngIf",e.rowDraggable),Ed(1),Uc("ngIf",e.showRowSelectors),Ed(1),Uc("ngIf",e.pinnedColumns.length>0&&e.grid.isPinningToStart),Ed(1),Uc("igxGridForOf",Mu(5,10,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForSizePropName","calcPixelWidth")("igxForTrackBy",e.grid.trackColumnChanges),Ed(3),Uc("ngIf",e.pinnedColumns.length>0&&!e.grid.isPinningToStart)}}var G1=(()=>{let e=class extends Gk{get treeRow(){return this._treeRow}set treeRow(e){this._treeRow!==e&&(this._treeRow=e,this.data=this._treeRow.data)}set pinned(e){e?this.grid.pinRow(this.key):this.grid.unpinRow(this.key)}get pinned(){return this.grid.isRecordPinned(this._treeRow)}get isRoot(){let e=this.treeRow;return this.pinned&&!this.disabled&&(e=this.grid.unpinnedRecords.find((e=>e.data===this.data))),0===e?.level}get hasChildren(){return!0}get expanded(){return this._treeRow.expanded}set expanded(e){this.grid.gridAPI.set_row_expansion_state(this._treeRow.key,e)}get viewIndex(){return this.index+this.grid.page*this.grid.perPage}get showIndicator(){return this.grid.loadChildrenOnDemand?this.grid.expansionStates.has(this.key)?this.treeRow.children&&this.treeRow.children.length:!this.grid.hasChildrenKey||this.data[this.grid.hasChildrenKey]:this.treeRow.children&&this.treeRow.children.length}get indeterminate(){return this.selectionService.isRowInIndeterminateState(this.key)}ngDoCheck(){this.isLoading=!!this.grid.loadChildrenOnDemand&&this.grid.loadingRows.has(this.key),super.ngDoCheck()}beginAddChild(){this.grid.crudService.enterAddRowMode(this,!0)}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.cmp=Yn({type:e,selectors:[["igx-tree-grid-row"]],viewQuery:function(e,t){if(1&e&&pg(u1,5),2&e){let e;gg(e=fg())&&(t._cells=e)}},hostVars:1,hostBindings:function(e,t){2&e&&Gc("aria-expanded",t.expanded)},inputs:{treeRow:"treeRow"},standalone:!0,features:[cu([{provide:Gk,useExisting:Ni((()=>e))}]),Tc,yu],decls:5,vars:1,consts:[[4,"ngTemplateOutlet"],["addTemp",""],["defaultTemp",""],[1,"igx-grid__tr--inner",3,"animationend"],[4,"ngIf"],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForScrollOrientation","igxForContainerSize","igxForSizePropName","igxForTrackBy"],["igxDirRef",""],["rowSelectorBaseTemplate",""],["pinnedCellsTemplate",""],[3,"igxRowDrag","ghostTemplate","click"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"click","pointerdown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cellTemplate",""],["treeCellTemplate",""],[1,"igx-grid__td","igx-grid__td--fw",3,"ngClass","ngStyle","editMode","column","formatter","intRow","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],["treeCell",""],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--tree-cell",3,"ngClass","ngStyle","level","expanded","showIndicator","editMode","column","formatter","intRow","rowData","width","visibleColumnIndex","value","isLoading","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","indeterminate","disabled","disableRipple","disableTransitions","aria-label"],["ngFor","",3,"ngForOf"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--pinned",3,"ngClass","ngStyle","editMode","column","formatter","intRow","firstPinned","lastPinned","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--tree-cell","igx-grid__td--pinned",3,"ngClass","ngStyle","level","expanded","showIndicator","editMode","column","formatter","intRow","lastPinned","rowData","width","visibleColumnIndex","value","isLoading","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","active","cellSelectionMode","displayPinnedChip"]],template:function(e,t){if(1&e&&(Wc(0,g1,1,0,"ng-container",0),Wc(1,m1,2,3,"ng-template",null,1,_g),Wc(3,B1,11,12,"ng-template",null,2,_g)),2&e){let e=Kc(2),i=Kc(4);Uc("ngTemplateOutlet",t.addRowUI?e:i)}},dependencies:[Pm,Em,_W,tA,Dq,Sm,Fm,h1,gk,bm,O$,T$,I$,L$,B$],encapsulation:2,changeDetection:0}),t})(),z1=["record_template"],$1=["summary_template"];function W1(e,t){1&e&&Zc(0,"span",60),2&e&&(Uc("igxColumnMovingDrop",dh().headerContainer),Gc("droppable",!0))}function j1(e,t){if(1&e&&Zc(0,"span",61),2&e){let e=dh();Th("left",e.pinnedWidth,"px"),Uc("igxColumnMovingDrop",e.headerContainer),Gc("droppable",!0)}}function K1(e,t){1&e&&th(0)}function U1(e,t){if(1&e&&(Jc(0),Wc(1,K1,1,0,"ng-container",66),eh()),2&e){let e=t.$implicit,i=t.index,n=dh(4),r=Kc(28);Ed(1),Uc("ngTemplateOutlet",r)("ngTemplateOutletContext",n.getContext(e,i,!0))}}var q1=function(e,t){return{"igx-grid__tr--pinned-bottom":e,"igx-grid__tr--pinned-top":t}};function Y1(e,t){if(1&e&&(Yc(0,"div",63,64),Wc(2,U1,2,2,"ng-container",65),Xc()),2&e){let e=dh().ngIf,t=dh(2);Th("width",t.calcWidth,"px"),Uc("ngClass",_u(4,q1,!t.isRowPinningToTop,t.isRowPinningToTop)),Ed(2),Uc("ngForOf",e)}}function X1(e,t){if(1&e&&(Jc(0),Wc(1,Y1,3,7,"div",62),eh()),2&e){let e=t.ngIf;Ed(1),Uc("ngIf",e.length>0)}}var Z1=function(e,t,i,n,r,s){return[e,t,i,n,r,s,!0]},Q1=function(e,t,i,n,r){return[e,t,i,n,r,!0]};function J1(e,t){if(1&e&&(Wc(0,X1,2,1,"ng-container",53),Pu(1,"treeGridSorting"),Pu(2,"treeGridFiltering"),Pu(3,"gridRowPinning"),Pu(4,"treeGridAddRow"),Pu(5,"treeGridNormalizeRecord"),Pu(6,"visibleColumns"),Pu(7,"treeGridTransaction")),2&e){let e=dh();Uc("ngIf",Hu(1,1,Su(41,Q1,Hu(2,8,bu(34,Z1,Lu(3,16,Nu(4,21,Vu(5,25,Vu(6,28,Vu(7,31,e.data,e.pipeTrigger),e.hasVisibleColumns),e.pipeTrigger),!0,e.pipeTrigger),e.id,!0,e.pipeTrigger),e.filteringExpressionsTree,e.filterStrategy,e.advancedFilteringExpressionsTree,e.pipeTrigger,e.filteringPipeTrigger)),e.sortingExpressions,null==e.treeGroupArea?null:e.treeGroupArea.expressions,e.sortStrategy,e.pipeTrigger)))}}function e2(e,t){1&e&&th(0)}function t2(e,t){}function i2(e,t){if(1&e){let e=nh();Wc(0,t2,0,0,"ng-template",67),oh("cachedViewLoaded",(function(t){return Is(e),Ts(dh().cachedViewLoaded(t))}))}if(2&e){let e=t.$implicit,i=t.index,n=dh(),r=Kc(30),s=Kc(26);Uc("igxTemplateOutlet",n.isSummaryRow(e)?r:s)("igxTemplateOutletContext",n.getContext(e,i,!1))}}function n2(e,t){1&e&&th(0)}var r2=function(e,t,i,n,r,s,o,a,l,d,c,h){return[e,t,i,n,r,s,o,a,l,d,c,h]};function s2(e,t){if(1&e&&(Zc(0,"igx-tree-grid-row",68,69),Pu(2,"igxGridRowClasses"),Pu(3,"igxGridRowStyles")),2&e){let e=t.index,i=t.disabled,n=t.$implicit,r=Kc(1),s=dh();Uc("gridID",s.id)("index",e)("treeRow",n)("disabled",i)("ngClass",Hu(2,6,Iu(24,r2,[s.rowClasses,r,r.inEditMode,r.selected,r.dirty,r.deleted,r.dragging,e,s.hasColumnLayouts,r.treeRow.isFilteredOutParent,n,s.pipeTrigger])))("ngStyle",Lu(3,19,s.rowStyles,n,e,s.pipeTrigger))}}function o2(e,t){if(1&e&&(Zc(0,"igx-tree-grid-row",70,71),Pu(3,"igxGridRowClasses"),Pu(4,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=Kc(1),r=dh();Uc("gridID",r.id)("index",e)("treeRow",i)("ngClass",Hu(3,5,Iu(23,r2,[r.rowClasses,n,n.inEditMode,n.selected,n.dirty,n.deleted,n.dragging,e,r.hasColumnLayouts,n.treeRow.isFilteredOutParent,i,r.pipeTrigger])))("ngStyle",Lu(4,18,r.rowStyles,i,e,r.pipeTrigger))}}function a2(e,t){if(1&e&&Zc(0,"igx-grid-summary-row",72,73),2&e){let e=t.index,i=t.$implicit;Uc("gridID",dh().id)("summaries",i.summaries)("firstCellIndentation",i.cellIndentation)("index",e)}}function l2(e,t){1&e&&th(0)}function d2(e,t){1&e&&Zc(0,"igx-circular-bar",74),2&e&&Uc("indeterminate",!0)}function c2(e,t){1&e&&Zc(0,"span",75),2&e&&(Uc("igxColumnMovingDrop",dh().headerContainer),Gc("droppable",!0))}function h2(e,t){}function u2(e,t){if(1&e&&(Zc(0,"igx-grid-summary-row",76,73),Pu(2,"igxGridSummaryDataPipe")),2&e){let e=dh();Th("width",e.calcWidth,"px")("height",e.summaryRowHeight,"px"),Uc("gridID",e.id)("summaries",Vu(2,7,e.id,e.summaryService.retriggerRootPipe))("index",e.dataView.length)}}function g2(e,t){}function p2(e,t){1&e&&th(0)}function m2(e,t){if(1&e&&(Yc(0,"span"),Wc(1,p2,1,0,"ng-container",7),Xc()),2&e){let e=dh(2),t=Kc(72);Ed(1),Uc("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function f2(e,t){if(1&e&&(Yc(0,"span",77)(1,"span"),$h(2),Xc(),Wc(3,m2,2,1,"span",53),Xc()),2&e){let e=dh();Ed(2),jh(e.emptyFilteredGridMessage),Ed(1),Uc("ngIf",e.showAddButton)}}function y2(e,t){1&e&&th(0)}function v2(e,t){if(1&e&&(Yc(0,"span"),Wc(1,y2,1,0,"ng-container",7),Xc()),2&e){let e=dh(2),t=Kc(72);Ed(1),Uc("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function x2(e,t){if(1&e&&(Yc(0,"span",77)(1,"span"),$h(2),Xc(),Wc(3,v2,2,1,"span",53),Xc()),2&e){let e=dh();Ed(2),jh(e.emptyGridMessage),Ed(1),Uc("ngIf",e.showAddButton)}}function _2(e,t){if(1&e){let e=nh();Yc(0,"button",78),oh("click",(function(t){return Is(e),Ts(dh().crudService.enterAddRowMode(null,!1,t))})),$h(1),Xc()}if(2&e){let e=dh();Ed(1),Kh(" ",e.resourceStrings.igx_grid_add_row_label," ")}}function w2(e,t){1&e&&(Yc(0,"div",79),Zc(1,"igx-circular-bar",74),Xc()),2&e&&(Ed(1),Uc("indeterminate",!0))}function C2(e,t){1&e&&th(0)}var S2=function(e,t){return{rowChangesCount:e,endEdit:t}};function b2(e,t){if(1&e&&(Yc(0,"div",16,80)(2,"div",81),Wc(3,C2,1,0,"ng-container",66),Xc()()),2&e){let e=dh();Ed(2),Uc("className",e.bannerClass),Ed(1),Uc("ngTemplateOutlet",e.rowEditContainer)("ngTemplateOutletContext",_u(3,S2,e.rowChangesCount,e.crudService.endEdit.bind(e)))}}function D2(e,t){if(1&e&&$h(0),2&e){let e=dh();Uh(" You have ",e.rowChangesCount," changes in this row and ",e.hiddenColumnsCount," hidden columns\n")}}function E2(e,t){if(1&e){let e=nh();Yc(0,"button",82),oh("click",(function(t){return Is(e),Ts(dh().endRowEditTabStop(!1,t))})),$h(1),Xc(),Yc(2,"button",82),oh("click",(function(t){return Is(e),Ts(dh().endRowEditTabStop(!0,t))})),$h(3),Xc()}if(2&e){let e=dh();Ed(1),jh(e.resourceStrings.igx_grid_row_edit_btn_cancel),Ed(2),jh(e.resourceStrings.igx_grid_row_edit_btn_done)}}function I2(e,t){1&e&&th(0)}function T2(e,t){1&e&&th(0)}var A2=function(e){return{$implicit:e}};function k2(e,t){if(1&e&&(Yc(0,"div",83)(1,"span",84),Wc(2,I2,1,0,"ng-container",66),Xc()(),Yc(3,"div",85)(4,"div",86),Wc(5,T2,1,0,"ng-container",66),Xc()()),2&e){let e=dh(),t=Kc(77),i=Kc(79);Ed(2),Uc("ngTemplateOutlet","IgxAddRow"===(null==e.crudService.row?null:e.crudService.row.getClassName())?e.rowAddTextTemplate:e.rowEditTextTemplate?e.rowEditTextTemplate:t)("ngTemplateOutletContext",xu(4,A2,"IgxAddRow"!==(null==e.crudService.row?null:e.crudService.row.getClassName())?e.rowChangesCount:null)),Ed(3),Uc("ngTemplateOutlet",e.rowEditActionsTemplate?e.rowEditActionsTemplate:i)("ngTemplateOutletContext",xu(6,A2,e.endEdit.bind(e)))}}function R2(e,t){1&e&&(Yc(0,"igx-icon"),$h(1,"drag_indicator"),Xc())}function O2(e,t){1&e&&Zc(0,"igx-grid-column-resizer")}var F2=[[["igx-grid-state"],["igc-grid-state"]],[["igx-grid-toolbar"],["igc-grid-toolbar"]],[["igx-tree-grid-group-by-area"],["igc-tree-grid-group-by-area"]],[["igx-grid-footer"],["igc-grid-footer"]],[["igx-paginator"],["igc-paginator"]],[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"],["igx-action-strip"],["igc-action-strip"]]],P2=function(e,t,i,n,r){return[e,t,i,n,r]},M2=function(e,t,i,n,r,s){return[e,t,i,n,r,s]},V2=function(e,t,i,n,r,s,o){return[e,t,i,n,r,s,o]},N2=function(){return[]},L2=["igx-grid-state,igc-grid-state","igx-grid-toolbar,igc-grid-toolbar","igx-tree-grid-group-by-area,igc-tree-grid-group-by-area","igx-grid-footer,igc-grid-footer","igx-paginator,igc-paginator","igx-column,igc-column,igx-column-group,igc-column-group,igx-action-strip,igc-action-strip"],H2=0,B2=(()=>{let e=class extends hU{get data(){return this._data}set data(e){this._data=e||[],this.summaryService.clearSummaryCache(),this._init||this.validation.updateAll(this._data),this.shouldGenerate&&this.setupColumns(),this.cdr.markForCheck()}get transactions(){return this._diTransactions&&!this.batchEditing?this._diTransactions:this._transactions}get expansionDepth(){return this._expansionDepth}set expansionDepth(e){this._expansionDepth=e,this.notifyChanges()}get rowLoadingIndicatorTemplate(){return this._rowLoadingIndicatorTemplate}set rowLoadingIndicatorTemplate(e){this._rowLoadingIndicatorTemplate=e,this.notifyChanges()}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,y,v,x,_,w){super(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,y,v,x,_,w),this._diTransactions=w,this.cascadeOnDelete=!0,this.role="treegrid",this.id="igx-tree-grid-"+H2++,this.records=new Map,this.processedRecords=new Map,this.loadingRows=new Set,this._filterStrategy=new Mb,this._expansionDepth=1/0}ngOnInit(){super.ngOnInit(),this.rowToggle.pipe(yi(this.destroy$)).subscribe((e=>{this.loadChildrenOnRowExpansion(e)})),this.rowAddedNotifier.pipe(yi(this.destroy$)).subscribe((e=>{if(this.rowSelection===Kb){let t=this.gridAPI.get_rec_by_id(this.primaryKey?e.data[this.primaryKey]:e.data);t&&t.parent?this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(new Set([t.parent]),t.parent.key):requestAnimationFrame((()=>{t=this.gridAPI.get_rec_by_id(this.primaryKey?e.data[this.primaryKey]:e.data),t&&t.parent&&this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(new Set([t.parent]),t.parent.key),this.notifyChanges()}))}})),this.rowDeletedNotifier.pipe(yi(this.destroy$)).subscribe((e=>{if(this.rowSelection===Kb)if(e.data){let t=this.gridAPI.get_rec_by_id(this.primaryKey?e.data[this.primaryKey]:e.data);this.handleCascadeSelection(e,t)}else{let e=new Set;this.records.forEach((t=>{t&&(!t.children||0===t.children.length)&&t.parent&&e.add(t.parent)})),requestAnimationFrame((()=>{this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(e),this.notifyChanges()}))}})),this.filteringDone.pipe(yi(this.destroy$)).subscribe((()=>{if(this.rowSelection===Kb){let e=new Set;this.records.forEach((t=>{t&&(!t.children||0===t.children.length)&&t.parent&&e.add(t.parent)})),this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(e),this.notifyChanges()}}))}ngAfterViewInit(){if(super.ngAfterViewInit(),this.rowSelection===Kb&&this.selectedRows.length){let e=this.selectedRows;this.selectionService.clearRowSelection(),this.selectRows(e,!0),this.cdr.detectChanges()}}ngAfterContentInit(){this.rowLoadingTemplate&&(this._rowLoadingIndicatorTemplate=this.rowLoadingTemplate.template),super.ngAfterContentInit()}getDefaultExpandState(e){return e.children&&e.children.length&&e.level<this.expansionDepth}expandAll(){this._expansionDepth=1/0,this.expansionStates=new Map}collapseAll(){this._expansionDepth=0,this.expansionStates=new Map}refreshGridState(e){if(super.refreshGridState(),this.primaryKey&&this.foreignKey&&e){let t=e.data[this.foreignKey];this.summaryService.clearSummaryCache({rowID:t}),this.pipeTrigger++,this.cdr.detectChanges()}}addRow(e,t){this.crudService.endEdit(!0),this.gridAPI.addRowToData(e,t),this.rowAddedNotifier.next({data:e,owner:this,primaryKey:e[this.primaryKey]}),this.pipeTrigger++,this.notifyChanges()}beginAddRowByIndex(e,t){return null===e||e<0?this.beginAddRowById(null,t):this._addRowForIndex(e-1,t)}getContext(e,t,i){return{$implicit:this.isGhostRecord(e)?e.recordRef:e,index:this.getDataViewIndex(t,i),templateID:{type:this.isSummaryRow(e)?"summaryRow":"dataRow",id:null},disabled:!!this.isGhostRecord(e)&&void 0===e.recordRef.isFilteredOutParent}}getInitialPinnedIndex(e){let t=this.gridAPI.get_row_id(e);return this._pinnedRecordIDs.indexOf(t)}isRecordPinned(e){return-1!==this.getInitialPinnedIndex(e.data)}getSelectedData(e=!1,t=!1){let i=[];return this.unpinnedDataView.forEach((e=>{e.summaries?i.push(null):i.push(e.data)})),i=this.isRowPinningToTop?[...this.pinnedDataView,...i]:[...i,...this.pinnedDataView],this.extractDataFromSelection(i,e,t)}getEmptyRecordObjectFor(e){let t=e?.treeRow||null,i=y({},t),n=t?.data||{};i.data=y({},n),Object.keys(i.data).forEach((e=>{this.foreignKey&&e===this.foreignKey?i.data[e]=t.data[this.crudService.addRowParent?.asChild?this.primaryKey:e]:i.data[e]=void 0}));let r=this.generateRowID();return r===(this.foreignKey&&this.rootRecords&&this.rootRecords.length>0?this.rootRecords[0].data[this.foreignKey]:null)&&(r=this.generateRowID()),i.key=r,i.data[this.primaryKey]=r,{rowID:r,data:i.data,recordRef:i}}deleteRowById(e){let t={rowID:e,primaryKey:e,cancel:!1,rowData:this.getRowData(e),oldValue:null,owner:this};if(this.rowDelete.emit(t),t.cancel)return;let i=this.gridAPI.deleteRowById(e);if(null!=i){let e={data:i,owner:this,primaryKey:i[this.primaryKey]};this.rowDeleted.emit(e)}return i}getRowByIndex(e){if(!(e<0||e>=this.dataView.length))return this.createRow(e)}getRowByKey(e){let t=this.filteredSortedData?this.primaryKey?this.filteredSortedData.find((t=>t[this.primaryKey]===e)):this.filteredSortedData.find((t=>t===e)):void 0,i=this.dataView.findIndex((e=>e.data&&e.data===t));if(!(i<0||i>=this.filteredSortedData.length))return new S$(this,i,t)}allRows(){return this.dataView.map(((e,t)=>this.createRow(t)))}dataRows(){return this.allRows().filter((e=>e instanceof S$))}get selectedCells(){return this.dataRows().map((e=>e.cells.filter((e=>e.selected)))).reduce(((e,t)=>e.concat(t)),[])}getCellByColumn(e,t){let i=this.getRowByIndex(e),n=this.columns.find((e=>e.field===t));if(i&&i instanceof S$&&n)return new yM(this,e,t)}getCellByKey(e,t){let i=this.getRowByKey(e),n=this.columns.find((e=>e.field===t));if(i&&n)return new yM(this,i.index,t)}pinRow(e,t){let i=this.getRowByKey(e);return super.pinRow(e,t,i)}unpinRow(e){let t=this.getRowByKey(e);return super.unpinRow(e,t)}generateRowPath(e){let t=[],i=this.records.get(e);for(;i.parent;)t.push(i.parent.key),i=i.parent;return t.reverse()}isTreeRow(e){return void 0!==e.key&&e.data}getUnpinnedIndexById(e){return this.unpinnedRecords.findIndex((t=>t.data[this.primaryKey]===e))}createRow(e,t){let i,n=this._getDataViewIndex(e),r=t??this.dataView[n];if(this.isSummaryRow(r)&&(i=new E$(this,e,r.summaries,Qb.TreeGrid)),!i&&r){let t=this.isTreeRow(r),n=t?r.data:r;i=new S$(this,e,n,t?r:void 0)}return i}generateDataFields(e){return super.generateDataFields(e).filter((e=>e!==this.childDataKey))}transactionStatusUpdate(e){let t=[];if(e.origin===ub.REDO)t=e.actions?e.actions.filter((e=>e.transaction.type===hb.DELETE)):[],this.rowSelection===Kb&&this.handleCascadeSelection(e);else if(e.origin===ub.UNDO&&(t=e.actions?e.actions.filter((e=>e.transaction.type===hb.ADD)):[],this.rowSelection===Kb))if("add"===e.actions[0].transaction.type){let t=this.gridAPI.get_rec_by_id(e.actions[0].transaction.id);this.handleCascadeSelection(e,t)}else this.handleCascadeSelection(e);if(t.length)for(let e of t)this.deselectChildren(e.transaction.id);super.transactionStatusUpdate(e)}findRecordIndexInView(e){return this.dataView.findIndex((t=>t.data[this.primaryKey]===e[this.primaryKey]))}getDataBasedBodyHeight(){return!this.flatData||this.flatData.length<this._defaultTargetRecordNumber?0:this.defaultTargetBodyHeight}scrollTo(e,t){let i,n=!1;if("number"!=typeof e){let t=e,r=this.gridAPI.get_row_id(t);if(i=this.processedRecords.get(r),this.gridAPI.expand_path_to_record(i),this.paginator){let e=this.processedExpandedFlatData.indexOf(t),i=Math.floor(e/this.perPage);this.page!==i&&(n=!0,this.page=i)}}n?this.verticalScrollContainer.dataChanged.pipe(ci()).subscribe((()=>{this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.unpinnedDataView.indexOf(i))})):this.scrollDirective(this.verticalScrollContainer,"number"==typeof e?e:this.unpinnedDataView.indexOf(i)),this.scrollToHorizontally(t)}writeToData(e,t){NS(this.flatData[e],t)}initColumns(e,t=null){if(this.hasColumnLayouts){let e=this.columns.filter((e=>!e.columnLayout&&!e.columnLayoutChild));this.updateColumns(e)}super.initColumns(e,t)}getGroupAreaHeight(){return this.treeGroupArea?this.getComputedHeight(this.treeGroupArea.nativeElement):0}deselectChildren(e){let t=[],i=this.records.get(e);this.selectionService.deselectRowsWithNoEvent([e]),this.gridAPI.get_selected_children(i,t),t.length>0&&t.forEach((e=>this.deselectChildren(e)))}addChildRows(e,t){if(this.primaryKey&&this.foreignKey){for(let i of e)i[this.foreignKey]=t;this.data.push(...e)}else if(this.childDataKey){let i=this.records.get(t),n=i.data;if(this.transactions.enabled&&this.transactions.getAggregatedChanges(!0).length){let e=[];for(;i;)e.push(i.key),i=i.parent;let t,r=this.data;for(let i=e.length-1;i>=0;i--){let n=e[i];if(t=r.find((e=>e[this.primaryKey]===n)),!t)break;r=t[this.childDataKey]}t&&(n=t)}n[this.childDataKey]=e}this.selectionService.clearHeaderCBState(),this.pipeTrigger++,this.rowSelection===Kb&&(this.cdr.detectChanges(),this.selectionService.isRowSelected(t)&&(this.selectionService.rowSelection.delete(t),this.selectionService.selectRowsWithNoEvent([t])))}loadChildrenOnRowExpansion(e){if(this.loadChildrenOnDemand){let t=e.rowID;e.expanded&&!this._expansionStates.has(t)&&(this.loadingRows.add(t),this.loadChildrenOnDemand(t,(e=>{this.loadingRows.delete(t),this.addChildRows(e,t),this.notifyChanges()})))}}handleCascadeSelection(e,t=null){requestAnimationFrame((()=>{null===t&&(t=this.gridAPI.get_rec_by_id(e.actions[0].transaction.id)),t&&t.parent&&(this.gridAPI.grid.selectionService.updateCascadeSelectionOnFilterAndCRUD(new Set([t.parent]),t.parent.key),this.notifyChanges())}))}},t=e;return e.fac=function(t){return new(t||e)(Rd(PK),Rd(Lk),Rd(HG),Rd(Ck),Rd(jE),Rd(ld),Rd(Ig),Rd(Cp),Rd(Jg),Rd(hp),Rd(Xu),Rd(qg),Rd(kd),Rd($l),Rd(MK),Rd(tz),Rd(LE),Rd(VK),Rd(eI,8),Rd(Sg),Rd($S),Rd(FK,8))},e.cmp=Yn({type:e,selectors:[["igx-tree-grid"]],contentQueries:function(e,t,i){if(1&e&&(mg(i,c0,5,c0),mg(i,s0,5,s0)),2&e){let e;gg(e=fg())&&(t.treeGroupArea=e.first),gg(e=fg())&&(t.rowLoadingTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&(pg(z1,7,ju),pg($1,7,ju)),2&e){let e;gg(e=fg())&&(t.recordTemplate=e.first),gg(e=fg())&&(t.summaryTemplate=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&Gc("role",t.role)("id",t.id)},inputs:{childDataKey:"childDataKey",foreignKey:"foreignKey",hasChildrenKey:"hasChildrenKey",cascadeOnDelete:"cascadeOnDelete",loadChildrenOnDemand:"loadChildrenOnDemand",id:"id",data:"data",expansionDepth:"expansionDepth",rowLoadingIndicatorTemplate:"rowLoadingIndicatorTemplate"},standalone:!0,features:[cu([_k,PK,VK,MK,{provide:Lk,useClass:o0},{provide:Ck,useClass:r0},{provide:wk,useExisting:e},tz,HG,YT,XT]),Tc,yu],ngContentSelectors:L2,decls:92,vars:157,consts:[["tabindex","0",1,"igx-grid-thead",3,"grid","hasMRL","activeDescendant","width","pinnedColumnCollection","unpinnedColumnCollection","keydown.meta.c","keydown.control.c","copy","keydown","focus"],["igxGridBody","","role","rowgroup",1,"igx-grid__tbody",3,"keydown.control.c","copy"],["tabindex","0",1,"igx-grid__tbody-content",3,"igxGridDragSelect","focus","keydown","dragStop","dragScroll","scroll"],["tbody",""],["id","left","class","igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop",4,"ngIf"],["id","left","class","igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop","left",4,"ngIf"],["pinnedRecordsTemplate",""],[4,"ngTemplateOutlet"],["igxGridFor","",3,"igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","dataChanging","dataChanged"],["verticalScrollContainer",""],["record_template",""],["pinned_record_template",""],["summary_template",""],["igxOverlayOutlet","",1,"igx-grid__row-editing-outlet"],["igxRowEditingOverlayOutlet",""],["text","Trial version of Ignite UI for Blazor"],["igxToggle",""],["loadingOverlay",""],[3,"indeterminate",4,"ngIf"],["id","right","class","igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop",4,"ngIf"],[1,"igx-grid__tbody-scrollbar",3,"hidden","pointerdown"],[1,"igx-grid__tbody-scrollbar-start"],[1,"igx-grid__tbody-scrollbar-main"],["igxGridFor","",3,"igxGridForOf"],["verticalScrollHolder",""],[1,"igx-grid__tbody-scrollbar-end"],[1,"igx-grid__addrow-snackbar"],[3,"outlet","actionText","displayTime"],["addRowSnackbar",""],["igxOverlayOutlet",""],["igxBodyOverlayOutlet","overlay-outlet"],["role","rowgroup",1,"igx-grid__tfoot"],["tfoot",""],["tabindex","0",3,"focus","keydown"],["role","row","class","igx-grid__summaries",3,"width","height","gridID","summaries","index",4,"ngIf"],[1,"igx-grid__tfoot-thumb",3,"hidden"],[1,"igx-grid__scroll",3,"hidden","pointerdown"],["scr",""],[1,"igx-grid__scroll-start"],[1,"igx-grid__scroll-main"],["scrollContainer",""],[1,"igx-grid__scroll-end",3,"hidden"],[1,"igx-grid__footer"],["footer",""],["emptyFilteredGrid",""],["defaultEmptyGrid",""],["defaultAddRowEmptyTemplate",""],["defaultLoadingGrid",""],["igxToggle","",4,"ngIf"],["defaultRowEditText",""],["defaultRowEditActions",""],["defaultRowEditTemplate",""],["dragIndicatorIconBase",""],[4,"ngIf"],["igxOverlayOutlet","",1,"igx-grid__loading-outlet"],["igxLoadingOverlayOutlet",""],["igxOverlayOutlet","",1,"igx-grid__outlet"],["igxFilteringOverlayOutlet",""],[2,"display","none"],["sink",""],["id","left",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],["class","igx-grid__tr--pinned",3,"ngClass","width",4,"ngIf"],[1,"igx-grid__tr--pinned",3,"ngClass"],["pinContainer",""],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"igxTemplateOutlet","igxTemplateOutletContext","cachedViewLoaded"],[3,"gridID","index","treeRow","disabled","ngClass","ngStyle"],["row",""],[3,"gridID","index","treeRow","ngClass","ngStyle"],["row","","pinnedRow",""],["role","row",1,"igx-grid__summaries--body",3,"gridID","summaries","firstCellIndentation","index"],["summaryRow",""],[3,"indeterminate"],["id","right",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],["role","row",1,"igx-grid__summaries",3,"gridID","summaries","index"],["role","cell",1,"igx-grid__tbody-message"],["igxButton","raised","igxRipple","",3,"click"],[1,"igx-grid__loading"],["rowEditingOverlay",""],[3,"className"],["igxButton","","igxRowEditTabStop","",3,"click"],[1,"igx-banner__message"],[1,"igx-banner__text"],[1,"igx-banner__actions"],[1,"igx-banner__row"]],template:function(e,t){if(1&e&&(hh(F2),uh(0),uh(1,1),uh(2,2),Yc(3,"igx-grid-header-row",0),oh("keydown.meta.c",(function(e){return t.copyHandler(e)}))("keydown.control.c",(function(e){return t.copyHandler(e)}))("copy",(function(e){return t.copyHandler(e)}))("keydown",(function(e){return t.navigation.headerNavigation(e)}))("focus",(function(){return t.navigation.focusFirstCell()})),Xc(),Yc(4,"div",1),oh("keydown.control.c",(function(e){return t.copyHandler(e)}))("copy",(function(e){return t.copyHandler(e)})),Yc(5,"div",2,3),oh("focus",(function(e){return t.navigation.focusTbody(e)}))("keydown",(function(e){return t.navigation.handleNavigation(e)}))("dragStop",(function(e){return t.selectionService.dragMode=e}))("dragScroll",(function(e){return t.dragScroll(e)}))("scroll",(function(e){return t.preventContainerScroll(e)})),Wc(7,W1,1,2,"span",4),Wc(8,j1,1,4,"span",5),Wc(9,J1,8,47,"ng-template",null,6,_g),Wc(11,e2,1,0,"ng-container",7),Wc(12,i2,1,2,"ng-template",8,9,_g),Pu(14,"gridRowPinning"),Pu(15,"treeGridAddRow"),Pu(16,"treeGridSummary"),Pu(17,"treeGridPaging"),Pu(18,"treeGridFlattening"),Pu(19,"treeGridSorting"),Pu(20,"treeGridFiltering"),Pu(21,"treeGridHierarchizing"),Pu(22,"visibleColumns"),Pu(23,"treeGridTransaction"),oh("dataChanging",(function(e){return t.dataRebinding(e)}))("dataChanged",(function(e){return t.dataRebound(e)})),Wc(24,n2,1,0,"ng-container",7),Wc(25,s2,4,37,"ng-template",null,10,_g),Wc(27,o2,5,36,"ng-template",null,11,_g),Wc(29,a2,2,4,"ng-template",null,12,_g),Wc(31,l2,1,0,"ng-container",7),Zc(32,"div",13,14)(34,"igc-trial-watermark",15),Xc(),Yc(35,"div",16,17),Wc(37,d2,1,1,"igx-circular-bar",18),Xc(),Wc(38,c2,1,2,"span",19),Yc(39,"div",20),oh("pointerdown",(function(e){return e.preventDefault()})),Zc(40,"div",21),Yc(41,"div",22),Wc(42,h2,0,0,"ng-template",23,24,_g),Xc(),Zc(44,"div",25),Xc(),Yc(45,"div",26)(46,"igx-snackbar",27,28),$h(48),Xc()(),Zc(49,"div",29,30),Xc(),Yc(51,"div",31,32)(53,"div",33),oh("focus",(function(){return t.navigation.focusFirstCell(!1)}))("keydown",(function(e){return t.navigation.summaryNav(e)})),Wc(54,u2,3,10,"igx-grid-summary-row",34),Zc(55,"div",35),Xc()(),Yc(56,"div",36,37),oh("pointerdown",(function(e){return e.preventDefault()})),Zc(58,"div",38),Yc(59,"div",39),Wc(60,g2,0,0,"ng-template",23,40,_g),Xc(),Zc(62,"div",41),Xc(),Yc(63,"div",42,43),uh(65,3),uh(66,4),Xc(),Wc(67,f2,4,2,"ng-template",null,44,_g),Wc(69,x2,4,2,"ng-template",null,45,_g),Wc(71,_2,2,1,"ng-template",null,46,_g),Wc(73,w2,2,1,"ng-template",null,47,_g),Wc(75,b2,4,6,"div",48),Wc(76,D2,1,2,"ng-template",null,49,_g),Wc(78,E2,4,2,"ng-template",null,50,_g),Wc(80,k2,6,8,"ng-template",null,51,_g),Wc(82,R2,2,0,"ng-template",null,52,_g),Wc(84,O2,1,0,"igx-grid-column-resizer",53),Zc(85,"div",54,55)(87,"div",56,57),Yc(89,"div",58,59),uh(91,5),Xc()),2&e){let e=Kc(10),i=Kc(50);Ed(3),Uc("grid",t)("hasMRL",t.hasColumnLayouts)("activeDescendant",t.activeDescendant)("width",t.calcWidth)("pinnedColumnCollection",t.pinnedColumns)("unpinnedColumnCollection",t.unpinnedColumns),Ed(2),Th("height",t.totalHeight,"px")("width",t.calcWidth,"px"),Uc("igxGridDragSelect",t.selectionService.dragMode),Gc("aria-activedescendant",t.activeDescendant)("role",t.dataView.length?null:"row"),Ed(2),Uc("ngIf",t.moving&&t.columnInDrag&&t.pinnedColumns.length<=0),Ed(1),Uc("ngIf",t.moving&&t.columnInDrag&&t.pinnedColumns.length>0),Ed(3),Uc("ngTemplateOutlet",t.hasPinnedRecords&&t.isRowPinningToTop?e:null),Ed(1),Uc("igxGridForOf",Lu(14,69,Nu(15,74,Hu(16,78,Du(147,V2,Hu(17,86,Su(141,P2,Lu(18,92,Hu(19,97,Su(135,P2,Hu(20,103,bu(128,M2,Hu(21,110,Su(122,P2,Vu(22,116,Vu(23,119,t.data,t.pipeTrigger),t.hasVisibleColumns),t.primaryKey,t.foreignKey,t.childDataKey,t.pipeTrigger)),t.filteringExpressionsTree,t.filterStrategy,t.advancedFilteringExpressionsTree,t.pipeTrigger,t.filteringPipeTrigger)),t.sortingExpressions,null==t.treeGroupArea?null:t.treeGroupArea.expressions,t.sortStrategy,t.pipeTrigger)),t.expansionDepth,t.expansionStates,t.pipeTrigger),!!t.paginator,t.page,t.perPage,t.pipeTrigger)),t.hasSummarizedColumns,t.summaryCalculationMode,t.summaryPosition,t.showSummaryOnCollapse,t.pipeTrigger,t.summaryPipeTrigger)),!1,t.pipeTrigger),t.id,!1,t.pipeTrigger))("igxForScrollOrientation","vertical")("igxForScrollContainer",t.verticalScroll)("igxForContainerSize",t.calcHeight)("igxForItemSize",t.renderedRowHeight),Ed(12),Uc("ngTemplateOutlet",t.hasPinnedRecords&&!t.isRowPinningToTop?e:null),Ed(7),Uc("ngTemplateOutlet",t.template),Ed(6),Uc("ngIf",t.shouldOverlayLoading),Ed(1),Uc("ngIf",t.moving&&t.columnInDrag),Ed(1),Th("width",t.scrollSize,"px")("height",t.calcHeight,"px"),Uc("hidden",!t.hasVerticalScroll()),Ed(1),Th("height",t.isRowPinningToTop?t.pinnedRowHeight:0,"px"),Ed(1),Th("height",t.calcHeight,"px"),Ed(1),Uc("igxGridForOf",vu(155,N2)),Ed(2),Th("height",t.isRowPinningToTop?0:t.pinnedRowHeight,"px"),Ed(2),Uc("outlet",i)("actionText",t.resourceStrings.igx_grid_snackbar_addrow_actiontext)("displayTime",t.snackbarDisplayTime),Ed(2),jh(t.resourceStrings.igx_grid_snackbar_addrow_label),Ed(3),Th("height",t.summaryRowHeight,"px"),Ed(2),Gc("aria-activedescendant",t.activeDescendant),Ed(1),Uc("ngIf",t.hasSummarizedColumns&&t.rootSummariesEnabled),Ed(1),Th("height",t.summaryRowHeight,"px")("width",t.scrollSize,"px"),Uc("hidden",!t.hasVerticalScroll()),Ed(1),Th("height",t.scrollSize,"px"),Uc("hidden",t.isHorizontalScrollHidden),Ed(2),Th("width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px")("min-width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px"),Ed(1),Th("width",t.unpinnedWidth,"px"),Ed(1),Uc("igxGridForOf",vu(156,N2)),Ed(2),Th("float","right")("width",t.pinnedWidth,"px")("min-width",t.pinnedWidth,"px"),Uc("hidden",0===t.pinnedWidth||t.isPinningToStart),Ed(13),Uc("ngIf",t.rowEditable),Ed(9),Uc("ngIf",t.colResizingService.showResizer)}},dependencies:[Em,bm,Sm,Fm,Pm,vW,Fj,oX,vz,tA,pA,G1,mK,vA,fA,TL,SK,CI,lA,wG,FI,yK,M$,N$,k$,R$,LU,g0,p0,m0,u0,f0,y0,h0,v0,x0],encapsulation:2,changeDetection:0}),t})(),G2=class{},z2=((()=>{let e=class{transform(e,t,i,n,r,s){if(0===t.length)return e;if(i?.toLowerCase()===n?.toLowerCase())throw new Error("Group key and child data key cannot be the same.");this.grid=r;let o=[],a=this.groupByMultiple(e,t);return this.flattenGrouping(a,i,n,o,s),o}flattenGrouping(e,t,i,n,r=[]){for(let s of e){let e={},o=s.records;e[i]=[];for(let t of r)e[t.field]=t.aggregate(e,o);e[t]=s.value+` (${s.records.length})`,e._Igx_Hidden_Data_={[s.key]:s.value},n.push(e),s.groups?this.flattenGrouping(s.groups,t,i,e[i],r):e[i]=o}}groupByMultiple(e,t,i=0){let n=this.groupBy(e,t[i]);if(i+1<t.length)for(let e of n)e.groups=this.groupByMultiple(e.records,t,i+1);return n}groupBy(e,t){let i=t.fieldName,n=this.grid?.getColumnByName(i),r=n?.dataType===Eb.Date||n?.dataType===Eb.DateTime||n?.dataType===Eb.Time,s=new Map;for(let o of e){let e,a=r?ab(o[i],n.pipeArgs.format,this.grid.locale):o[i],l=a;t.ignoreCase&&(l=a?.toString().toLowerCase()),s.has(l)?e=s.get(l):(e=new G2,e.key=i,e.value=a,e.records=[],s.set(l,e)),e.records.push(o)}return Array.from(s.values())}},t=e;e.fac=function(t){return new(t||e)},e.pipe=tr({name:"treeGridGrouping",type:e,pure:!0,standalone:!0})})(),(()=>{let e=class extends uU{constructor(){super(...arguments),this.childRowIslands=new Map,this.childGrids=new Map}registerChildRowIsland(e){this.childRowIslands.set(e.key,e),this.destroyMap.set(e.key,new We)}unsetChildRowIsland(e){this.childGrids.delete(e.key),this.childRowIslands.delete(e.key),this.destroyMap.delete(e.key)}getChildRowIsland(e){return this.childRowIslands.get(e)}getChildGrid(e){let t,i=e,n=i.shift(),r=this.childGrids.get(n.rowIslandKey);if(r){let e=r.get(n.rowID);t=0===i.length?e:e.gridAPI.getChildGrid(i)}return t}getChildGrids(e){let t=[];return this.childGrids.forEach((i=>{i.forEach((i=>{if(t.push(i),e){let n=i.gridAPI.getChildGrids(e);t=t.concat(n)}}))})),t}getParentRowId(e){let t;return this.childGrids.forEach((i=>{i.forEach(((i,n)=>{i!==e||(t=n)}))})),t}registerChildGrid(e,t,i){let n=this.childGrids.get(t);n||(this.childGrids.set(t,new Map),n=this.childGrids.get(t)),n.set(e,i)}getChildGridsForRowIsland(e){let t=this.childGrids.get(e),i=[];return t&&t.forEach((e=>{i.push(e)})),i}getChildGridByID(e,t){return this.childGrids.get(e).get(t)}get_row_expansion_state(e){let t;if(void 0!==e.childGridsData){let t=e.key,i=this.grid.expansionStates.get(t);return void 0!==i?i:this.grid.getDefaultExpandState(e)}return t=!!super.get_row_expansion_state(e),t&&0!==this.grid.childLayoutList.length}allow_expansion_state_change(e,t){let i=this.get_rec_by_id(e),n=this.grid;return!(n.hasChildrenKey&&!i[n.hasChildrenKey]||!i||this.grid.expansionStates.get(e)===t)}get_rec_by_id(e){let t=this.get_all_data(!1);return t[this.get_row_index_in_data(e,t)]}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.prov=ji({token:e,factory:e.fac}),t})()),$2=(()=>{let e=class extends MK{constructor(){super(...arguments),this._pendingNavigation=!1}dispatchEvent(e){let t=e.key.toLowerCase();if(this.activeNode&&(ZS.has(t)||"tab"===t&&this.grid.crudService.cell||this.grid.crudService.rowEditingBlocked||this.grid.crudService.rowInEditMode)&&(this.getClosestElemByTag(e.target,"igx-hierarchical-grid")||this.getClosestElemByTag(e.target,"igc-hierarchical-grid"))===this.grid.nativeElement){if(this._pendingNavigation&&KS.has(t))return void e.preventDefault();super.dispatchEvent(e)}}navigateInBody(e,t,i=null){let n=this.grid.dataView[e];if(n&&this.grid.isChildGridRecord(n)){let n=this.grid.verticalScrollContainer.state,r=e>=n.startIndex&&e<=n.startIndex+n.chunkSize,s=this.activeNode.row<e,o=s?null:this.grid.childLayoutKeys.length-1;if(r)this._moveToChild(e,t,s,o,i);else{let n=this.grid.verticalScrollContainer.getScrollForIndex(e,!s);n+=s?1:-1,this.grid.verticalScrollContainer.getScroll().scrollTop=n,this._pendingNavigation=!0,this.grid.verticalScrollContainer.chunkLoad.pipe(ci()).subscribe((()=>{this._moveToChild(e,t,s,o,i),this._pendingNavigation=!1}))}return}let r=e===this.grid.dataView.length;if(-1!==e&&!r||null===this.grid.parent){if(this.grid.parent){let n=!(!this.activeNode||"number"!=typeof this.activeNode.row)&&e>this.activeNode.row,r=t=>{this._handleScrollInChild(e,n),i(t)};return this.activeNode||(this.activeNode={row:null,column:null}),void super.navigateInBody(e,t,r)}this.activeNode||(this.activeNode={row:null,column:null}),super.navigateInBody(e,t,i)}else{let e=this.nextSiblingIndex(r);null!==e?this.grid.parent.navigation._moveToChild(this.grid.childRow.index,t,r,e,i):this._moveToParent(r,t,i)}}shouldPerformVerticalScroll(e,t=-1,i){let n=this.grid.dataView[e];if(this.grid.isChildGridRecord(n)){let t=this.grid.verticalScrollContainer.getScrollForIndex(e,!i),n=this.grid.verticalScrollContainer.getScroll().scrollTop;return i?n<t:t>n}return super.shouldPerformVerticalScroll(e,t)}focusTbody(e){this.activeNode&&null!==this.activeNode.row?super.focusTbody(e):(this.activeNode={row:0,column:0},this.grid.navigateTo(0,0,(t=>{this.grid.clearCellSelection(),t.target.activate(e)})))}nextSiblingIndex(e){let t=this.grid.childRow.layout.key,i=this.grid.parent.childLayoutKeys.indexOf(t),n=e?i+1:i-1;return n<=this.grid.parent.childLayoutKeys.length-1&&n>-1?n:null}_handleScrollInChild(e,t,i){this.shouldPerformVerticalScroll(e,-1,t)?this.grid.navigation.performVerticalScrollToCell(e,-1,(()=>{this.positionInParent(e,t,i)})):this.positionInParent(e,t,i)}positionInParent(e,t,i){let n=this.grid.gridAPI.get_row_by_index(e);if(!n)return void(i&&i());let r=this.getPositionInfo(n,t);if(r.inView)i&&i();else{this._pendingNavigation=!0;let e=t?this.getNextScrollableDown(this.grid):this.getNextScrollableUp(this.grid);e.grid.verticalScrollContainer.recalcUpdateSizes(),e.grid.verticalScrollContainer.addScrollTop(r.offset),e.grid.verticalScrollContainer.chunkLoad.pipe(ci()).subscribe((()=>{this._pendingNavigation=!1,i&&i()}))}}_moveToChild(e,t,i,n,r){let s="number"!=typeof n?this.grid.childLayoutList.first:this.grid.childLayoutList.toArray()[n],o={rowID:this.grid.dataView[e].rowID,rowIslandKey:s.key},a=this.grid.gridAPI.getChildGrid([o]),l=i?0:a.dataView.length-1,d=a.dataView[l];if(!d)return void a.navigation.navigateInBody(l,t,r);if(a.isChildGridRecord(d))return this.grid.navigation.activeNode.row=null,a.navigation.activeNode={row:l,column:this.activeNode.column},void a.navigation._handleScrollInChild(l,i,(()=>{let e=i?0:a.childLayoutList.toArray().length-1;a.navigation._moveToChild(l,t,i,e,r)}));let c=a.navigation;this.clearActivation();let h=c.lastColumnIndex,u=t<=h?t:h;c.activeNode={row:l,column:u},a.tbody.nativeElement.focus({preventScroll:!0}),this._pendingNavigation=!1,a.navigation._handleScrollInChild(l,i,(()=>{a.navigateTo(l,u,r)}))}_moveToParent(e,t,i){let n=this.grid.childRow.index;if(!this.hasNextTarget(this.grid.parent,n,e))return;this.clearActivation();let r=e?n+1:n-1,s=this.grid.parent.navigation.lastColumnIndex,o=t<=s?t:s;this._pendingNavigation=!0,this.grid.parent.navigation.navigateInBody(r,o,(e=>{this._pendingNavigation=!1,i(e),e.target.grid.tbody.nativeElement.focus()}))}getPositionInfo(e,t){let i=e.nativeElement;if(e.layout){let n=this.grid.childLayoutKeys,r=t?n[0]:n[n.length-1],s={rowID:e.data.rowID,rowIslandKey:r};i=this.grid.gridAPI.getChildGrid([s]).tfoot.nativeElement}let n=this._getMinBottom(this.grid),r=i.getBoundingClientRect().bottom-n,s=this._getMaxTop(this.grid),o=i.getBoundingClientRect().bottom-i.offsetHeight-s;return{inView:t?Math.round(r)<=0:Math.round(o)>=0,offset:t?r:o}}getClosestElemByTag(e,t){let i=e;for(;null!==i&&1===i.nodeType;){if(i.tagName.toLowerCase()===t.toLowerCase())return i;i=i.parentNode}return null}clearActivation(){this.activeNode&&Object.keys(this.activeNode).length&&(this.activeNode=Object.assign({}))}hasNextTarget(e,t,i){let n=i?t+1:t-1;if(e.dataView[n])return!0;{let t=!1;if(e.parent){let n=e.childRow.index;t=this.hasNextTarget(e.parent,n,i)}return t}}_getMaxTop(e){let t=e,i=t.tbody.nativeElement.getBoundingClientRect().top;for(;t.parent;){t=t.parent;let e=t.hasPinnedRecords&&t.isRowPinningToTop?t.pinnedRowHeight:0;i=Math.max(i,t.tbody.nativeElement.getBoundingClientRect().top+e)}return i}_getMinBottom(e){let t=e,i=t.tbody.nativeElement.getBoundingClientRect().bottom;for(;t.parent;){t=t.parent;let e=t.hasPinnedRecords&&!t.isRowPinningToTop?t.pinnedRowHeight:0;i=Math.min(i,t.tbody.nativeElement.getBoundingClientRect().bottom-e)}return i}getNextScrollableDown(e){let t=e.parent;if(!t)return{grid:e,prev:null};let i=t.verticalScrollContainer.scrollPosition,n=t.verticalScrollContainer.getScroll().scrollHeight,r=0===n||Math.round(i+t.verticalScrollContainer.igxForContainerSize)===n,s=e;for(;r&&null!==t.parent;)s=t,t=t.parent,i=t.verticalScrollContainer.scrollPosition,n=t.verticalScrollContainer.getScroll().scrollHeight,r=0===n||Math.round(i+t.verticalScrollContainer.igxForContainerSize)===n;return{grid:t,prev:s}}getNextScrollableUp(e){let t=e.parent;if(!t)return{grid:e,prev:null};let i=0===t.verticalScrollContainer.scrollPosition,n=e;for(;i&&null!==t.parent;)n=t,t=t.parent,i=0===t.verticalScrollContainer.scrollPosition;return{grid:t,prev:n}}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.prov=ji({token:e,factory:e.fac}),t})(),W2=(()=>{let e=class extends hU{get maxLevelHeaderDepth(){return null===this._maxLevelHeaderDepth&&(this._maxLevelHeaderDepth=this.columns.reduce(((e,t)=>Math.max(e,t.level)),0)),this._maxLevelHeaderDepth}get outlet(){return this.rootGrid?this.rootGrid.resolveOutlet():this.resolveOutlet()}set outlet(e){this._userOutletDirective=e}get batchEditing(){return this._batchEditing}set batchEditing(e){e!==this._batchEditing&&(delete this._transactions,this.switchTransactionService(e),this.subscribeToTransactions(),this.batchEditingChange.emit(e),this._batchEditing=e)}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,y,v,x,_,w){super(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,y,v,x,_,w),this.gridAPI=n,this.showExpandAll=!1,this.dataPreLoad=new zu,this.batchEditingChange=new zu}createColumnsList(e){let t=[];e.filter((e=>0===e.level)).forEach((e=>{let i=this._createColumn(e);i.changeDetectorRef.detectChanges(),t.push(i.instance)}));let i=j2(t);this.updateColumns(i),this.initPinning(),vp(xM).outputs.filter((e=>"columnChange"!==e.propName)).forEach((e=>{this.columns.forEach((t=>{t[e.propName]&&t[e.propName].pipe(yi(t.destroy$)).subscribe((i=>{this.parentIsland.childColumns.find((e=>e.field===t.field))[e.propName].emit({args:i,owner:this})}))}))}))}_createColumn(e){let t;return t=e instanceof CM?this._createColGroupComponent(e):this._createColComponent(e),t}_createColGroupComponent(e){let t=yp(CM,{environmentInjector:this.envInjector,elementInjector:this.injector});if(t.changeDetectorRef.detectChanges(),vp(CM).inputs.forEach((i=>{let n=i.propName;t.instance[n]=e[n]})),e.children.length>0){let i=[];e.children.forEach((e=>{let n=this._createColumn(e).instance;n.parent=t.instance,i.push(n)})),t.instance.children.reset(i),t.instance.children.notifyOnChanges()}return t}_createColComponent(e){let t=yp(xM,{environmentInjector:this.envInjector,elementInjector:this.injector});return vp(xM).inputs.forEach((i=>{let n=i.propName;e[n]instanceof Ek?t.instance[n]=e[n].constructor:t.instance[n]=e[n]})),t.instance.validators=e.validators,t}getGridsForIsland(e){return this.gridAPI.getChildGridsForRowIsland(e)}getChildGrid(e){if(e)return this.gridAPI.getChildGrid(e)}},t=e;return e.fac=function(t){return new(t||e)(Rd(PK),Rd(Lk),Rd(HG),Rd(Ck),Rd(WE),Rd(ld),Rd(Ig),Rd(Cp),Rd(Jg),Rd(hp),Rd(Xu),Rd(qg),Rd(kd),Rd($l),Rd($2),Rd(tz),Rd(LE),Rd(VK),Rd(eI,8),Rd(Sg),Rd($S),Rd(FK,8))},e.dir=er({type:e,inputs:{hasChildrenKey:"hasChildrenKey",showExpandAll:"showExpandAll"},outputs:{dataPreLoad:"dataPreLoad"},features:[Tc]}),t})(),j2=e=>{let t=[];return e.forEach((e=>{t.push(e),e.children&&(t=t.concat(j2(e.children.toArray())))})),t},K2=(()=>{let e=class{constructor(){this.change=new We,this.state=new Map,this.destroyMap=new Map,this.childRowIslands=new Map,this.childGrids=new Map}register(e){this.state.set(e.id,e),this.destroyMap.set(e.id,new We)}unsubscribe(e){this.state.delete(e.id)}get(e){return this.state.get(e)}unset(e){this.state.delete(e),this.destroyMap.delete(e)}reset(e,t){let i=this.destroyMap.get(e),n=this.get(e);this.unset(e),n&&this.state.set(t,n),i&&this.destroyMap.set(t,i)}registerChildRowIsland(e){this.childRowIslands.set(e.key,e),this.destroyMap.set(e.key,new We)}unsetChildRowIsland(e){this.childRowIslands.delete(e.key),this.destroyMap.delete(e.key)}getChildRowIsland(e){return this.childRowIslands.get(e)}registerChildGrid(e,t){this.childGrids.set(e,t)}getChildGrids(e){let t=[];return this.childGrids.forEach((e=>{t.push(e)})),e&&this.childRowIslands.forEach((i=>{t=t.concat(i.rowIslandAPI.getChildGrids(e))})),t}getChildGridByID(e){return this.childGrids.get(e)}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac}),t})(),U2=[[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"],["igx-action-strip"],["igc-action-strip"]],[["igx-row-island"],["igc-row-island"]]],q2=["igx-column,igc-column,igx-column-group,igc-column-group,igx-action-strip,igc-action-strip","igx-row-island,igc-row-island"],Y2=(()=>{let e=class extends W2{set expandChildren(e){this._defaultExpandState=e,this.rowIslandAPI.getChildGrids().forEach((t=>{document.body.contains(t.nativeElement)?(t.expandChildren=e,t.cdr.detectChanges()):t.updateOnRender=!0}))}get expandChildren(){return this._defaultExpandState}get id(){let e=this.parentId?this.parentId.substring(this.parentId.indexOf(this.layout_id)+this.layout_id.length)+"-":"";return this.layout_id+e+this.key}get parentId(){return this.parentIsland?this.parentIsland.id:null}get level(){let e=this.parentIsland,t=0;for(;e;)t++,e=e.parentIsland;return t+1}constructor(e,t,i,n,r,s,o,a,l,d,c,h,u,g,p,m,f,y,v,x,_,w){super(e,t,i,n,r,s,o,a,l,d,c,g,h,u,p,m,f,y,v,_,w),this.rowIslandAPI=x,this.children=new Wu,this.childColumns=new Wu,this.layoutChange=new zu,this.gridCreated=new zu,this.gridInitialized=new zu,this.initialChanges=[],this.rootGrid=null,this.layout_id="igx-row-island-",this.isInit=!1,this._childColumns=[]}ngOnInit(){this.filteringService.grid=this,this.rootGrid=this.gridAPI.grid,this.rowIslandAPI.rowIsland=this,this.ri_columnListDiffer=this.differs.find([]).create(null)}ngAfterContentInit(){this.updateChildren(),this.children.notifyOnChanges(),this.children.changes.pipe(yi(this.destroy$)).subscribe((()=>{this.updateChildren(),this.getGridsForIsland(this.key).forEach((e=>{e.onRowIslandChange(this.children)}))}));let e=this.children.map((e=>e.columnList.toArray())),t=[].concat.apply([],e),i=this.columnList.filter((e=>-1===t.indexOf(e)));this._childColumns=i,this.updateColumns(this._childColumns),this.columnList.changes.pipe(yi(this.destroy$)).subscribe((()=>{Promise.resolve().then((()=>{this.updateColumnList()}))})),this.ri_columnListDiffer.diff(this.childColumns),this._childColumns.forEach((e=>e.columnChange.pipe(yi(e.destroy$)).subscribe((()=>this.updateColumnList())))),this.childColumns.changes.pipe(yi(this.destroy$)).subscribe((e=>{let t=this.ri_columnListDiffer.diff(e);t&&t.forEachAddedItem((e=>{e.item.columnChange.pipe(yi(e.item.destroy$)).subscribe((()=>this.updateColumnList()))}))})),this.actionStrip=this.actionStrips.first,this.actionStrip&&(this.actionStrip.menuOverlaySettings.outlet=this.outlet)}ngAfterViewInit(){this.rowIslandAPI.register(this),this.parentIsland?this.parentIsland.rowIslandAPI.registerChildRowIsland(this):this.rootGrid.gridAPI.registerChildRowIsland(this),this._init=!1,this.gridCreated.pipe(function(...e){let t=e.length;if(0===t)throw new Error("list of properties cannot be empty.");return i=>St(function(e,t){return i=>{let n=i;for(let i=0;i<t;i++){let t=n?.[e[i]];if(void 0===t)return;n=t}return n}}(e,t))(i)}("grid"),yi(this.destroy$)).subscribe((e=>{e.rendered$.pipe(ci(),Wt((()=>!!this.islandToolbarTemplate))).subscribe((()=>e.toolbarOutlet.createEmbeddedView(this.islandToolbarTemplate,{$implicit:e}))),e.rendered$.pipe(ci(),Wt((()=>!!this.islandPaginatorTemplate))).subscribe((()=>{this.rootGrid.paginatorList.changes.pipe(yi(this.destroy$)).subscribe((()=>e.setUpPaginator())),e.paginatorOutlet.createEmbeddedView(this.islandPaginatorTemplate)}))}))}ngOnChanges(e){this.layoutChange.emit(e),this.isInit||this.initialChanges.push(e)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this._destroyed=!0,this.rowIslandAPI.unset(this.id),this.parentIsland?(this.getGridsForIsland(this.key).forEach((e=>{this.cleanGridState(e),e.gridAPI.unsetChildRowIsland(this)})),this.parentIsland.rowIslandAPI.unsetChildRowIsland(this)):(this.rootGrid.gridAPI.unsetChildRowIsland(this),this.cleanGridState(this.rootGrid))}reflow(){}calculateGridHeight(){}updateColumnList(){let e=this.children.map((e=>e.columnList.toArray())),t=[].concat.apply([],e),i=this.columnList.filter((e=>-1===t.indexOf(e)&&(e.defaultWidth=void 0,!0)));this._childColumns=i,this.rowIslandAPI.getChildGrids().forEach((e=>{e.createColumnsList(this._childColumns),document.body.contains(e.nativeElement)||(e.updateOnRender=!0)}))}updateChildren(){this.children.first===this&&this.children.reset(this.children.toArray().slice(1)),this.children.forEach((e=>{e.parentIsland=this}))}cleanGridState(e){e.childGridTemplates.forEach((e=>{e.owner.cleanView(e.context.templateID)})),e.childGridTemplates.clear(),e.onRowIslandChange()}},t=e;return e.fac=function(t){return new(t||e)(Rd(PK),Rd(Lk),Rd(HG),Rd(Ck),Rd(WE),Rd(ld),Rd(Ig),Rd(Cp),Rd(Jg),Rd(hp),Rd(Xu),Rd(kd),Rd($l),Rd(qg),Rd($2),Rd(tz),Rd(LE),Rd(VK),Rd(eI,8),Rd(K2),Rd(Sg),Rd($S))},e.cmp=Yn({type:e,selectors:[["igx-row-island"]],contentQueries:function(t,i,n){if(1&t&&(mg(n,Bj,5,ju),mg(n,mP,5,ju),mg(n,e,4,e),mg(n,xM,4,xM),mg(n,Zk,4,Zk)),2&t){let e;gg(e=fg())&&(i.islandToolbarTemplate=e.first),gg(e=fg())&&(i.islandPaginatorTemplate=e.first),gg(e=fg())&&(i.children=e),gg(e=fg())&&(i.childColumns=e),gg(e=fg())&&(i.actionStrips=e)}},inputs:{key:"key",expandChildren:"expandChildren"},outputs:{layoutChange:"layoutChange",gridCreated:"gridCreated",gridInitialized:"gridInitialized"},standalone:!0,features:[cu([K2,tz,Lk]),Tc,ns,yu],ngContentSelectors:q2,decls:4,vars:0,consts:[[2,"display","none"],["sink",""]],template:function(e,t){1&e&&(hh(U2),Yc(0,"div",0,1),uh(2),uh(3,1),Xc())},encapsulation:2,changeDetection:0}),t})(),X2=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t=new Map,i,n,r,s){return 0===r.length||this.grid.verticalScrollContainer.isRemote?e:this.addHierarchy(this.grid,MS(e),t,n,r)}addHierarchy(e,t,i,n,r){let s=[];return t.forEach((t=>{s.push(t);let i={};r.forEach((e=>{t[e]||(t[e]=[]);let n=e?.includes(".")?tb(t,e):t[e];i[e]=n})),e.gridAPI.get_row_expansion_state(t)&&s.push({rowID:n?t[n]:t,childGridsData:i})})),s}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"gridHierarchical",type:e,pure:!0,standalone:!0}),t})(),Z2=(()=>{let e=class{constructor(e){this.grid=e}transform(e,t,i=0,n=15,r,s){if(!t||this.grid.pagingMode!==Zb.Local)return e;let o={index:i,recordsPerPage:n},a=this.grid._totalRecords>=0?this.grid._totalRecords:e.length,l=Ib.page(MS(e),o,a);return this.grid.pagingState=o,l}},t=e;return e.fac=function(t){return new(t||e)(Rd(wk,16))},e.pipe=tr({name:"gridHierarchicalPaging",type:e,pure:!0,standalone:!0}),t})();function Q2(e,t){if(1&e&&(Yc(0,"igx-chip",8),$h(1),Xc()),2&e){let e=dh(2);Uc("disabled",!0)("displayDensity","compact"),Ed(1),jh(e.grid.resourceStrings.igx_grid_pinned_row_indicator)}}function J2(e,t){1&e&&Wc(0,Q2,2,3,"igx-chip",7),2&e&&Uc("ngIf",dh().displayPinnedChip)}var e3=function(e,t,i,n,r){return[e,t,i,n,r]};function t3(e,t){if(1&e&&(Yc(0,"div",12),Pu(1,"columnFormatter"),Pu(2,"number"),Pu(3,"date"),Pu(4,"currency"),Pu(5,"percent"),$h(6),Pu(7,"columnFormatter"),Pu(8,"number"),Pu(9,"date"),Pu(10,"currency"),Pu(11,"percent"),Xc()),2&e){let e=dh(2);Uc("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?Lu(1,9,e.value,e.formatter,e.rowData,e.columnData):"number"===e.column.dataType?Nu(2,14,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?Lu(3,18,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?Hu(4,23,Su(57,e3,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Nu(5,29,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Ed(6),jh(e.formatter?Lu(7,33,e.value,e.formatter,e.rowData,e.columnData):"number"===e.column.dataType?Nu(8,38,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?Lu(9,42,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?Hu(10,47,Su(63,e3,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Nu(11,53,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)}}var i3=function(e,t){return{"igx-icon--success":e,"igx-icon--error":t}};function n3(e,t){if(1&e&&(Yc(0,"igx-icon",13),$h(1),Xc()),2&e){let e=dh(2);Uc("ngClass",_u(2,i3,e.value,!e.value)),Ed(1),jh(e.value?"check":"close")}}function r3(e,t){if(1&e&&(Zc(0,"img",14),Pu(1,"igxCellImageAlt")),2&e){let e=dh(2);Uc("src",e.value,Sl)("alt",Mu(1,2,e.value))}}function s3(e,t){if(1&e&&(Wc(0,t3,12,69,"div",9),Wc(1,n3,2,5,"igx-icon",10),Wc(2,r3,2,4,"img",11)),2&e){let e=dh();Uc("ngIf","boolean"!==e.column.dataType&&"image"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter),Ed(1),Uc("ngIf","boolean"===e.column.dataType&&!e.formatter),Ed(1),Uc("ngIf","image"===e.column.dataType)}}function o3(e,t){if(1&e&&(Yc(0,"div",12),Pu(1,"columnFormatter"),Pu(2,"number"),Pu(3,"date"),Pu(4,"currency"),Pu(5,"percent"),$h(6),Xc()),2&e){let e=dh(2);Uc("cssClass",e.highlightClass)("activeCssClass",e.activeHighlightClass)("groupName",e.gridID)("value",e.formatter?Nu(1,9,e.value,e.formatter,e.rowData):"number"===e.column.dataType?Nu(2,13,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):"date"===e.column.dataType||"time"===e.column.dataType||"dateTime"===e.column.dataType?Lu(3,17,e.value,e.column.pipeArgs.format,e.column.pipeArgs.timezone,e.grid.locale):"currency"===e.column.dataType?Hu(4,22,Su(32,e3,e.value,e.currencyCode,e.column.pipeArgs.display,e.column.pipeArgs.digitsInfo,e.grid.locale)):"percent"===e.column.dataType?Nu(5,28,e.value,e.column.pipeArgs.digitsInfo,e.grid.locale):e.value)("row",e.rowData)("column",e.column.field)("containerClass","igx-grid__td-text")("metadata",e.searchMetadata),Ed(6),jh(e.isEmptyAddRowCell?e.column.header||e.column.field:e.value)}}function a3(e,t){if(1&e&&Wc(0,o3,7,38,"div",15),2&e){let e=dh();Uc("ngIf","boolean"!==e.column.dataType||"boolean"===e.column.dataType&&e.formatter)}}function l3(e,t){if(1&e){let e=nh();Jc(0,17),Yc(1,"igx-input-group",18)(2,"input",19),oh("compositionstart",(function(){return Is(e),Ts(dh(2).grid.crudService.isInCompositionMode=!0)}))("compositionend",(function(){return Is(e),Ts(dh(2).grid.crudService.isInCompositionMode=!1)})),Xc()(),eh()}if(2&e){let e=dh(2);Uc("formGroup",e.formGroup),Ed(2),Uc("igxFocus",!0)("igxTextSelection",!0)("formControl",e.formControl),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function d3(e,t){if(1&e&&(Jc(0),Yc(1,"igx-input-group",20),Zc(2,"input",21),Xc(),eh()),2&e){let e=dh(2);Ed(1),Uc("formGroup",e.formGroup),Ed(1),Uc("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function c3(e,t){if(1&e&&(Jc(0,17),Zc(1,"igx-checkbox",22),eh()),2&e){let e=dh(2);Uc("formGroup",e.formGroup),Ed(1),Uc("checked",e.editValue)("igxFocus",!0)("disableRipple",!0)("formControl",e.formControl)}}function h3(e,t){if(1&e){let e=nh();Jc(0,17),Yc(1,"igx-date-picker",23),oh("valueChange",(function(t){return Is(e),Ts(dh(2).editValue=t)})),Xc(),eh()}if(2&e){let e=dh(2);Uc("formGroup",e.formGroup),Ed(1),Th("width",100,"%"),Uc("outlet",e.grid.outlet)("locale",e.grid.locale)("weekStart",e.column.pipeArgs.weekStart)("value",e.editValue)("igxFocus",!0)("formControl",e.formControl)}}function u3(e,t){if(1&e){let e=nh();Jc(0,17),Yc(1,"igx-time-picker",24),oh("valueChange",(function(t){return Is(e),Ts(dh(2).editValue=t)})),Xc(),eh()}if(2&e){let e=dh(2);Uc("formGroup",e.formGroup),Ed(1),Th("width",100,"%"),Uc("outlet",e.grid.outlet)("locale",e.grid.locale)("inputFormat",e.column.defaultTimeFormat)("value",e.editValue)("igxFocus",!0)("formControl",e.formControl)}}function g3(e,t){if(1&e&&(Jc(0),Yc(1,"igx-input-group",17),Zc(2,"input",25),Xc(),eh()),2&e){let e=dh(2);Ed(1),Uc("formGroup",e.formGroup),Ed(1),Uc("formControl",e.formControl)("igxDateTimeEditor",e.column.defaultDateTimeFormat)("igxFocus",!0),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid)}}function p3(e,t){if(1&e&&(Yc(0,"igx-prefix"),$h(1),Xc()),2&e){let e=dh(3);Ed(1),jh(e.currencyCodeSymbol)}}function m3(e,t){if(1&e&&(Yc(0,"igx-suffix"),$h(1),Xc()),2&e){let e=dh(3);Ed(1),jh(e.currencyCodeSymbol)}}function f3(e,t){if(1&e&&(Jc(0),Yc(1,"igx-input-group",20),Wc(2,p3,2,1,"igx-prefix",5),Zc(3,"input",21),Wc(4,m3,2,1,"igx-suffix",5),Xc(),eh()),2&e){let e=dh(2);Ed(1),Uc("formGroup",e.formGroup),Ed(1),Uc("ngIf",e.grid.currencyPositionLeft),Ed(1),Uc("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Ed(1),Uc("ngIf",!e.grid.currencyPositionLeft)}}function y3(e,t){if(1&e&&(Jc(0),Yc(1,"igx-input-group",20),Zc(2,"input",21),Yc(3,"igx-suffix"),$h(4),Pu(5,"percent"),Xc()(),eh()),2&e){let e=dh(2);Ed(1),Uc("formGroup",e.formGroup),Ed(1),Uc("igxFocus",!0)("igxTextSelection",!0)("step",e.step)("formControl",e.formControl),Gc("aria-describedby",e.ariaDescribeBy)("aria-invalid",e.isInvalid),Ed(2),Kh(" ",Nu(5,8,e.editValue,e.column.pipeArgs.digitsInfo,e.grid.locale)," ")}}function v3(e,t){if(1&e&&(Wc(0,l3,3,6,"ng-container",16),Wc(1,d3,3,7,"ng-container",5),Wc(2,c3,2,5,"ng-container",16),Wc(3,h3,2,9,"ng-container",16),Wc(4,u3,2,9,"ng-container",16),Wc(5,g3,3,6,"ng-container",5),Wc(6,f3,5,9,"ng-container",5),Wc(7,y3,6,12,"ng-container",5)),2&e){let e=dh();Uc("ngIf","string"===e.column.dataType||"image"===e.column.dataType),Ed(1),Uc("ngIf","number"===e.column.dataType),Ed(1),Uc("ngIf","boolean"===e.column.dataType),Ed(1),Uc("ngIf","date"===e.column.dataType),Ed(1),Uc("ngIf","time"===e.column.dataType),Ed(1),Uc("ngIf","dateTime"===e.column.dataType),Ed(1),Uc("ngIf","currency"===e.column.dataType),Ed(1),Uc("ngIf","percent"===e.column.dataType)}}function x3(e,t){1&e&&th(0)}function _3(e,t){1&e&&th(0)}function w3(e,t){1&e&&th(0)}function C3(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"igx-icon",26,27),oh("mouseover",(function(){return Is(e),Ts(dh().errorShowing=!0)}))("mouseout",(function(){return Is(e),Ts(dh().errorShowing=!1)})),$h(3,"error"),Xc(),Yc(4,"div",28,29)(7,"div"),Wc(8,w3,1,0,"ng-container",4),Xc()(),eh()}if(2&e){let e=Kc(6),t=dh(),i=Kc(12);Ed(1),Uc("igxTooltipTarget",e)("igxToggleOutlet",t.grid.outlet),Ed(3),Uc("id",t.ariaErrorMessage),Ed(3),Th("width","max-content"),Ed(1),Uc("ngTemplateOutlet",t.cellValidationErrorTemplate||i)("ngTemplateOutletContext",t.context)}}function S3(e,t){if(1&e&&(Yc(0,"div"),$h(1),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",e.grid.resourceStrings.igx_grid_required_validation_error," ")}}function b3(e,t){if(1&e&&(Yc(0,"div"),$h(1),Pu(2,"igxStringReplace"),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",Nu(2,1,e.grid.resourceStrings.igx_grid_min_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.minlength.requiredLength)," ")}}function D3(e,t){if(1&e&&(Yc(0,"div"),$h(1),Pu(2,"igxStringReplace"),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",Nu(2,1,e.grid.resourceStrings.igx_grid_max_length_validation_error,"{0}",e.formGroup.get(e.column.field).errors.maxlength.requiredLength)," ")}}function E3(e,t){if(1&e&&(Yc(0,"div"),$h(1),Pu(2,"igxStringReplace"),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",Nu(2,1,e.grid.resourceStrings.igx_grid_min_validation_error,"{0}",e.formGroup.get(e.column.field).errors.min.min)," ")}}function I3(e,t){if(1&e&&(Yc(0,"div"),$h(1),Pu(2,"igxStringReplace"),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",Nu(2,1,e.grid.resourceStrings.igx_grid_max_validation_error,"{0}",e.formGroup.get(e.column.field).errors.max.max)," ")}}function T3(e,t){if(1&e&&(Yc(0,"div"),$h(1),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",e.grid.resourceStrings.igx_grid_email_validation_error," ")}}function A3(e,t){if(1&e&&(Yc(0,"div"),$h(1),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",e.grid.resourceStrings.igx_grid_pattern_validation_error," ")}}function k3(e,t){if(1&e&&(Wc(0,S3,2,1,"div",5),Wc(1,b3,3,5,"div",5),Wc(2,D3,3,5,"div",5),Wc(3,E3,3,5,"div",5),Wc(4,I3,3,5,"div",5),Wc(5,T3,2,1,"div",5),Wc(6,A3,2,1,"div",5)),2&e){let e=dh();Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.required),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.minlength),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.maxlength),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.min),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.max),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.email),Ed(1),Uc("ngIf",null==e.formGroup||null==e.formGroup.get(null==e.column?null:e.column.field).errors?null:e.formGroup.get(null==e.column?null:e.column.field).errors.pattern)}}var R3=(()=>{let e=class extends Dq{constructor(e,t,i,n,r,s,o,a){super(e,t,i,n,r,s,o,a)}ngOnInit(){super.ngOnInit(),this._rootGrid=this._getRootGrid()}activate(e){this._clearAllHighlights();let t,i=this.grid.nativeElement,n=this.grid;for(this._rootGrid.id!==i.id&&i.classList.add("igx-grid__tr--highlighted");this._rootGrid.id!==n.id;){t=n,n=n.parent;let e=n.gridAPI.getParentRowId(t);n.highlightedRowID=e}this.grid.navigation.activeNode.gridID=this.gridID,super.activate(e)}_getRootGrid(){let e=this.grid;for(;e.parent;)e=e.parent;return e}_clearAllHighlights(){[this._rootGrid,...this._rootGrid.getChildGrids(!0)].forEach((e=>{e!==this.grid&&e.navigation.activeNode&&(e.navigation.clearActivation(),e.selectionService.initKeyboardState(),e.selectionService.clear()),e.selectionService.activeElement=null,e.nativeElement.classList.remove("igx-grid__tr--highlighted"),e.highlightedRowID=null,e.cdr.markForCheck()}))}},t=e;return e.fac=function(t){return new(t||e)(Rd(Lk),Rd(wk),Rd(LE),Rd(Jg),Rd(ld),Rd(Ig),Rd(MM),Rd($S))},e.cmp=Yn({type:e,selectors:[["igx-hierarchical-grid-cell"]],standalone:!0,features:[cu([MM]),Tc,yu],decls:13,vars:5,consts:[["defaultPinnedIndicator",""],["defaultCell",""],["addRowCell",""],["inlineEditor",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],["defaultError",""],["class","igx-grid__td--pinned-chip",3,"disabled","displayDensity",4,"ngIf"],[1,"igx-grid__td--pinned-chip",3,"disabled","displayDensity"],["igxTextHighlight","","class","igx-grid__td-text","style","pointer-events: none;",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"src","alt",4,"ngIf"],["igxTextHighlight","",1,"igx-grid__td-text",2,"pointer-events","none",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata"],[3,"ngClass"],[3,"src","alt"],["igxTextHighlight","","class","igx-grid__td-text","style","pointer-events: none",3,"cssClass","activeCssClass","groupName","value","row","column","containerClass","metadata",4,"ngIf"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["displayDensity","compact"],["igxInput","",3,"igxFocus","igxTextSelection","formControl","compositionstart","compositionend"],["displayDensity","compact",3,"formGroup"],["igxInput","","type","number",3,"igxFocus","igxTextSelection","step","formControl"],[3,"checked","igxFocus","disableRipple","formControl"],["mode","dropdown",3,"outlet","locale","weekStart","value","igxFocus","formControl","valueChange"],["mode","dropdown",3,"outlet","locale","inputFormat","value","igxFocus","formControl","valueChange"],["type","text","igxInput","",3,"formControl","igxDateTimeEditor","igxFocus"],[3,"igxTooltipTarget","igxToggleOutlet","mouseover","mouseout"],["errorIcon",""],["igxTooltip","",3,"id"],["error","","tooltipRef","tooltip"]],template:function(e,t){1&e&&(Wc(0,J2,1,1,"ng-template",null,0,_g),Wc(2,s3,3,3,"ng-template",null,1,_g),Wc(4,a3,1,1,"ng-template",null,2,_g),Wc(6,v3,8,8,"ng-template",null,3,_g),Wc(8,x3,1,0,"ng-container",4),Wc(9,_3,1,0,"ng-container",4),Wc(10,C3,9,7,"ng-container",5),Wc(11,k3,7,7,"ng-template",null,6,_g)),2&e&&(Ed(8),Uc("ngTemplateOutlet",t.pinnedIndicatorTemplate)("ngTemplateOutletContext",t.context),Ed(1),Uc("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context),Ed(1),Uc("ngIf",t.isInvalid))},dependencies:[Em,WF,uA,FI,Sm,Rw,Zx,ow,O_,F_,Ow,cw,uw,kT,cI,HT,gA,gk,pP,mV,IA,gI,pI,Pm,CA,_A,A$,H$,G$,Wm,jm,Km,$m],encapsulation:2,changeDetection:0}),t})(),O3=["expander"],F3=["defaultExpandedTemplate"],P3=["defaultEmptyTemplate"],M3=["defaultCollapsedTemplate"];function V3(e,t){1&e&&th(0)}function N3(e,t){1&e&&(Yc(0,"igx-icon",6),$h(1,"expand_more"),Xc()),2&e&&Uc("active",!dh().added)}function L3(e,t){1&e&&(Yc(0,"igx-icon",6),$h(1,"chevron_right"),Xc()),2&e&&Uc("active",!dh().added)}function H3(e,t){1&e&&Zc(0,"igx-icon")}function B3(e,t){1&e&&th(0)}function G3(e,t){if(1&e){let e=nh();Yc(0,"div",7),oh("animationend",(function(){return Is(e),Ts(dh().animationEndHandler())})),Wc(1,B3,1,0,"ng-container",0),Xc()}if(2&e){let e=dh(),t=Kc(10);Ah("igx-grid__tr--add-animate",e.triggerAddAnimationClass),Ed(1),Uc("ngTemplateOutlet",t)}}function z3(e,t){1&e&&th(0)}function $3(e,t){if(1&e&&(Jc(0),Yc(1,"div",14),oh("click",(function(e){return e.stopPropagation()}))("pointerdown",(function(e){return e.preventDefault()})),Wc(2,z3,1,0,"ng-container",0),Xc(),eh()),2&e){let e=dh(2);Ed(1),kh(e.resolveDragIndicatorClasses),Uc("igxRowDrag",e)("ghostTemplate",e.grid.getDragGhostCustomTemplate()),Ed(1),Uc("ngTemplateOutlet",e.grid.dragIndicatorIconTemplate?e.grid.dragIndicatorIconTemplate:e.grid.dragIndicatorIconBase)}}function W3(e,t){}function j3(e,t){1&e&&Wc(0,W3,0,0,"ng-template")}var K3=function(e,t,i,n,r,s){return{index:e,rowID:t,key:i,selected:n,select:r,deselect:s}},U3=function(e){return{$implicit:e}};function q3(e,t){if(1&e){let e=nh();Jc(0),Yc(1,"div",15),oh("click",(function(t){return Is(e),Ts(dh(2).onRowSelectorClick(t))}))("pointerdown",(function(e){return e.preventDefault()})),Wc(2,j3,1,0,null,16),Xc(),eh()}if(2&e){dh();let e=Kc(9),t=dh();Ed(2),Uc("ngTemplateOutlet",t.grid.rowSelectorTemplate?t.grid.rowSelectorTemplate:e)("ngTemplateOutletContext",xu(9,U3,bu(2,K3,t.viewIndex,t.key,t.key,t.selected,t.select,t.deselect)))}}function Y3(e,t){1&e&&th(0)}function X3(e,t){if(1&e){let e=nh();Yc(0,"div",17,18),oh("click",(function(t){return Is(e),Ts(dh(2).expanderClick(t))}))("mousedown",(function(e){return e.preventDefault()})),Wc(2,Y3,1,0,"ng-container",16),Xc()}if(2&e){let e=dh(2);Uc("ngClass",e.expanderClassResolved),Ed(2),Uc("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",xu(3,U3,e))}}function Z3(e,t){}function Q3(e,t){1&e&&Wc(0,Z3,0,0,"ng-template")}function J3(e,t){if(1&e&&(Jc(0),Wc(1,Q3,1,0,null,16),eh()),2&e){dh();let e=Kc(11),t=dh();Ed(1),Uc("ngTemplateOutlet",e)("ngTemplateOutletContext",t)}}var e4=function(e,t,i,n,r,s,o){return[e,t,i,n,r,s,o]},t4=function(e,t,i,n,r,s){return[e,t,i,n,r,s]},i4=function(e,t,i,n,r){return[e,t,i,n,r]};function n4(e,t){if(1&e&&(Yc(0,"igx-hierarchical-grid-cell",19),Pu(1,"transactionState"),Pu(2,"igxCellStyleClasses"),Pu(3,"igxCellStyles"),Pu(4,"dataMapper"),Xc()),2&e){let e=t.$implicit,i=dh(2);Th("min-height",i.cellHeight,"px")("min-width",e.width)("max-width",e.width)("flex-basis",e.width),Ah("igx-grid__td--edited",Hu(1,30,Du(58,e4,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType)("igx-grid__td--bool","boolean"===e.dataType),Uc("ngClass",Hu(2,38,bu(66,t4,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",Hu(3,45,bu(73,t4,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("active",i.isCellActive(e.visibleIndex))("rowData",i.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",Hu(4,52,Su(80,i4,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function r4(e,t){}function s4(e,t){1&e&&Wc(0,r4,0,0,"ng-template")}function o4(e,t){if(1&e&&(Jc(0),Wc(1,s4,1,0,null,16),eh()),2&e){dh();let e=Kc(11),t=dh();Ed(1),Uc("ngTemplateOutlet",e)("ngTemplateOutletContext",t)}}function a4(e,t){if(1&e&&(Yc(0,"div",20),Zc(1,"igx-checkbox",21),Xc()),2&e){let e=dh(2);Ed(1),Uc("tabindex",-1)("readonly",!0)("checked",e.selected)("disableRipple",!0)("disabled",e.deleted)("disableTransitions",e.grid.disableTransitions)("aria-label",e.rowCheckboxAriaLabel)}}function l4(e,t){if(1&e&&(Yc(0,"igx-hierarchical-grid-cell",23),Pu(1,"transactionState"),Pu(2,"igxCellStyleClasses"),Pu(3,"igxCellStyles"),Pu(4,"dataMapper"),Xc()),2&e){let e=t.$implicit,i=dh(3);Th("min-height",i.cellHeight,"px")("min-width",e.width)("max-width",e.width)("flex-basis",e.width)("left",e.rightPinnedOffset),Ah("igx-grid__td--edited",Hu(1,32,Du(60,e4,i.key,e.field,i.grid.rowEditable,i.grid.transactions,i.grid.pipeTrigger,i.grid.gridAPI.crudService.cell,i.grid.gridAPI.crudService.row)))("igx-grid__td--number","number"===e.dataType||"percent"===e.dataType||"currency"===e.dataType),Uc("ngClass",Hu(2,40,bu(68,t4,e.cellClasses,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("ngStyle",Hu(3,47,bu(75,t4,e.cellStyles,i.data[e.field],i.data,e.field,i.viewIndex,i.grid.pipeTrigger)))("editMode",e.editable&&i.grid.crudService.targetInEdit(i.index,e.index))("column",e)("formatter",e.formatter)("intRow",i)("active",i.isCellActive(e.visibleIndex))("firstPinned",e.isFirstPinned)("lastPinned",e.isLastPinned)("rowData",i.data)("width",e.getCellWidth())("visibleColumnIndex",e.visibleIndex)("value",Hu(4,54,Su(82,i4,i.data,e.field,i.grid.pipeTrigger,i.data[e.field],e.hasNestedPath)))("cellTemplate",e.bodyTemplate)("cellValidationErrorTemplate",e.errorTemplate)("lastSearchInfo",i.grid.lastSearchInfo)("cellSelectionMode",i.grid.cellSelection)("displayPinnedChip",i.shouldDisplayPinnedChip(e.visibleIndex))}}function d4(e,t){1&e&&(Wc(0,l4,5,88,"igx-hierarchical-grid-cell",22),Pu(1,"igxNotGrouped")),2&e&&Uc("ngForOf",Mu(1,1,dh(2).pinnedColumns))}function c4(e,t){if(1&e&&(Wc(0,$3,3,5,"ng-container",8),Wc(1,q3,3,11,"ng-container",8),Wc(2,X3,3,5,"div",9),Wc(3,J3,2,2,"ng-container",8),Wc(4,n4,5,86,"ng-template",10,11,_g),Pu(6,"igxNotGrouped"),Wc(7,o4,2,2,"ng-container",8),Wc(8,a4,2,7,"ng-template",null,12,_g),Wc(10,d4,2,3,"ng-template",null,13,_g)),2&e){let e=dh();Uc("ngIf",e.rowDraggable),Ed(1),Uc("ngIf",e.showRowSelectors),Ed(1),Uc("ngIf",e.hasChildren),Ed(1),Uc("ngIf",e.pinnedColumns.length>0&&e.grid.isPinningToStart),Ed(1),Uc("igxGridForOf",Mu(6,11,e.unpinnedColumns))("igxForScrollContainer",e.grid.parentVirtDir)("igxForSizePropName","calcPixelWidth")("igxForScrollOrientation","horizontal")("igxForContainerSize",e.grid.unpinnedWidth)("igxForTrackBy",e.grid.trackColumnChanges),Ed(3),Uc("ngIf",e.pinnedColumns.length>0&&!e.grid.isPinningToStart)}}var h4=(()=>{let e=class extends Gk{constructor(){super(...arguments),this.expanderClass="igx-grid__hierarchical-expander",this.rolActionClass="igx-grid__tr-action",this.select=()=>{this.grid.selectRows([this.key])},this.deselect=()=>{this.grid.deselectRows([this.key])}}get expanderClassResolved(){return{[`${this.expanderClass} ${this.rolActionClass}`]:!this.pinned||this.disabled,[`${this.expanderClass}--empty`]:this.pinned&&!this.disabled}}get viewIndex(){return this.index+this.grid.page*this.grid.perPage}get expanded(){return this.grid.gridAPI.get_row_expansion_state(this.data)}get expandedClass(){return this.expanded&&!this.pinned}get hasChildren(){return!!this.grid.childLayoutKeys.length}get highlighted(){return this.grid&&this.grid.highlightedRowID===this.key}expanderClick(e){e.stopPropagation(),this.toggle()}toggle(){this.added||(this.grid.gridAPI.set_row_expansion_state(this.key,!this.expanded),this.grid.cdr.detectChanges())}get iconTemplate(){let e=!0;return this.grid.hasChildrenKey&&(e=this.data[this.grid.hasChildrenKey]),!e||this.pinned&&!this.disabled?this.defaultEmptyTemplate:this.expanded?this.grid.rowExpandedIndicatorTemplate||this.defaultExpandedTemplate:this.grid.rowCollapsedIndicatorTemplate||this.defaultCollapsedTemplate}endEdit(e){e.gridAPI.crudService.cellInEditMode&&e.gridAPI.crudService.endEdit(),e.gridAPI.getChildGrids(!0).forEach((e=>{e.gridAPI.crudService.cellInEditMode&&e.gridAPI.crudService.endEdit()}))}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.cmp=Yn({type:e,selectors:[["igx-hierarchical-grid-row"]],viewQuery:function(e,t){if(1&e&&(pg(O3,5,ld),pg(F3,7,ju),pg(P3,7,ju),pg(M3,7,ju),pg(R3,5,R3)),2&e){let e;gg(e=fg())&&(t.expander=e.first),gg(e=fg())&&(t.defaultExpandedTemplate=e.first),gg(e=fg())&&(t.defaultEmptyTemplate=e.first),gg(e=fg())&&(t.defaultCollapsedTemplate=e.first),gg(e=fg())&&(t._cells=e)}},hostVars:4,hostBindings:function(e,t){2&e&&Ah("igx-grid__tr--expanded",t.expandedClass)("igx-grid__tr--highlighted",t.highlighted)},standalone:!0,features:[cu([{provide:Gk,useExisting:Ni((()=>e))}]),Tc,yu],decls:11,vars:1,consts:[[4,"ngTemplateOutlet"],["defaultExpandedTemplate",""],["defaultCollapsedTemplate",""],["defaultEmptyTemplate",""],["addTemp",""],["defaultTemp",""],[3,"active"],[1,"igx-grid__tr--inner",3,"animationend"],[4,"ngIf"],[3,"ngClass","click","mousedown",4,"ngIf"],["igxGridFor","",3,"igxGridForOf","igxForScrollContainer","igxForSizePropName","igxForScrollOrientation","igxForContainerSize","igxForTrackBy"],["igxDirRef",""],["rowSelectorBaseTemplate",""],["pinnedCellsTemplate",""],[3,"igxRowDrag","ghostTemplate","click","pointerdown"],[1,"igx-grid__cbx-selection","igx-grid__tr-action",3,"click","pointerdown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass","click","mousedown"],["expander",""],[1,"igx-grid__td","igx-grid__td--fw",3,"ngClass","ngStyle","editMode","column","formatter","intRow","active","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","cellSelectionMode","displayPinnedChip"],[1,"igx-grid__cbx-padding"],[3,"tabindex","readonly","checked","disableRipple","disabled","disableTransitions","aria-label"],["class","igx-grid__td igx-grid__td--fw igx-grid__td--pinned",3,"igx-grid__td--edited","igx-grid__td--number","ngClass","ngStyle","editMode","column","formatter","intRow","active","firstPinned","lastPinned","min-height","rowData","min-width","max-width","flex-basis","left","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","cellSelectionMode","displayPinnedChip",4,"ngFor","ngForOf"],[1,"igx-grid__td","igx-grid__td--fw","igx-grid__td--pinned",3,"ngClass","ngStyle","editMode","column","formatter","intRow","active","firstPinned","lastPinned","rowData","width","visibleColumnIndex","value","cellTemplate","cellValidationErrorTemplate","lastSearchInfo","cellSelectionMode","displayPinnedChip"]],template:function(e,t){if(1&e&&(Wc(0,V3,1,0,"ng-container",0),Wc(1,N3,2,1,"ng-template",null,1,_g),Wc(3,L3,2,1,"ng-template",null,2,_g),Wc(5,H3,1,0,"ng-template",null,3,_g),Wc(7,G3,2,3,"ng-template",null,4,_g),Wc(9,c4,12,13,"ng-template",null,5,_g)),2&e){let e=Kc(8),i=Kc(10);Uc("ngTemplateOutlet",t.addRowUI?e:i)}},dependencies:[Pm,FI,Em,_W,Sm,tA,R3,Fm,gk,bm,O$,T$,I$,L$,B$],encapsulation:2,changeDetection:0}),t})(),u4=["container"],g4=function(e){return{"igx-grid__hierarchical-indent--scroll":e}},p4=["toolbarOutlet"],m4=["paginatorOutlet"],f4=["hierarchical_record_template"],y4=["child_record_template"];function v4(e,t){1&e&&Zc(0,"span",64),2&e&&(Uc("igxColumnMovingDrop",dh().headerContainer),Gc("droppable",!0))}function x4(e,t){if(1&e&&Zc(0,"span",65),2&e){let e=dh();Th("left",e.pinnedWidth,"px"),Uc("igxColumnMovingDrop",e.headerContainer),Gc("droppable",!0)}}function _4(e,t){1&e&&th(0)}function w4(e,t){if(1&e&&(Jc(0),Wc(1,_4,1,0,"ng-container",70),eh()),2&e){let e=t.$implicit,i=t.index,n=dh(4),r=Kc(25);Ed(1),Uc("ngTemplateOutlet",r)("ngTemplateOutletContext",n.getContext(e,i,!0))}}var C4=function(e,t){return{"igx-grid__tr--pinned-bottom":e,"igx-grid__tr--pinned-top":t}};function S4(e,t){if(1&e&&(Yc(0,"div",67,68),Wc(2,w4,2,2,"ng-container",69),Xc()),2&e){let e=dh().ngIf,t=dh(2);Th("width",t.calcWidth,"px"),Uc("ngClass",_u(4,C4,!t.isRowPinningToTop,t.isRowPinningToTop)),Ed(2),Uc("ngForOf",e)}}function b4(e,t){if(1&e&&(Jc(0),Wc(1,S4,3,7,"div",66),eh()),2&e){let e=t.ngIf;Ed(1),Uc("ngIf",e.length>0)}}var D4=function(e,t,i,n,r,s,o){return[e,t,i,n,r,s,o,!0]},E4=function(){return[]},I4=function(e,t,i,n,r,s){return[e,t,i,n,r,s,!0]};function T4(e,t){if(1&e&&(Wc(0,b4,2,1,"ng-container",57),Pu(1,"gridSort"),Pu(2,"gridFiltering"),Pu(3,"gridRowPinning"),Pu(4,"gridAddRow"),Pu(5,"visibleColumns"),Pu(6,"gridTransaction")),2&e){let e=dh();Uc("ngIf",Hu(1,1,bu(43,I4,Hu(2,9,Du(34,D4,Lu(3,18,Nu(4,23,Vu(5,27,Nu(6,30,e.data,e.id,e.pipeTrigger),e.hasVisibleColumns),!0,e.pipeTrigger),e.id,!0,e.pipeTrigger),e.filteringExpressionsTree,e.filterStrategy,e.advancedFilteringExpressionsTree,e.id,e.pipeTrigger,e.filteringPipeTrigger)),e.sortingExpressions,vu(42,E4),e.sortStrategy,e.id,e.pipeTrigger)))}}function A4(e,t){1&e&&th(0)}function k4(e,t){}function R4(e,t){if(1&e){let e=nh();Wc(0,k4,0,0,"ng-template",71),oh("viewCreated",(function(t){return Is(e),Ts(dh().viewCreatedHandler(t))}))("viewMoved",(function(t){return Is(e),Ts(dh().viewMovedHandler(t))}))("cachedViewLoaded",(function(t){return Is(e),Ts(dh().cachedViewLoaded(t))}))}if(2&e){let e=t.$implicit,i=t.index,n=dh(),r=Kc(23),s=Kc(27);Uc("igxTemplateOutlet",n.isHierarchicalRecord(e)?r:n.isChildGridRecord(e)?s:r)("igxTemplateOutletContext",n.getContext(e,i,!1))}}var O4=function(e,t,i,n,r,s,o,a,l,d,c){return[e,t,i,n,r,s,o,a,l,!1,d,c]};function F4(e,t){if(1&e&&(Zc(0,"igx-hierarchical-grid-row",72,73),Pu(2,"igxGridRowClasses"),Pu(3,"igxGridRowStyles")),2&e){let e=t.index,i=t.disabled,n=t.$implicit,r=Kc(1),s=dh();Uc("gridID",s.id)("index",e)("disabled",i)("data",n)("ngClass",Hu(2,6,Iu(24,O4,[s.rowClasses,r,r.inEditMode,r.selected,r.dirty,r.deleted,r.dragging,e,s.hasColumnLayouts,n,s.pipeTrigger])))("ngStyle",Lu(3,19,s.rowStyles,n,e,s.pipeTrigger))}}function P4(e,t){if(1&e&&(Zc(0,"igx-hierarchical-grid-row",74,75),Pu(3,"igxGridRowClasses"),Pu(4,"igxGridRowStyles")),2&e){let e=t.index,i=t.$implicit,n=Kc(1),r=dh();Uc("gridID",r.id)("index",e)("data",i)("ngClass",Hu(3,5,Iu(23,O4,[r.rowClasses,n,n.inEditMode,n.selected,n.dirty,n.deleted,n.dragging,e,r.hasColumnLayouts,i,r.pipeTrigger])))("ngStyle",Lu(4,18,r.rowStyles,i,e,r.pipeTrigger))}}function M4(e,t){if(1&e&&Zc(0,"igx-child-grid-row",78,73),2&e){let e=t.$implicit,i=dh(),n=i.index,r=i.$implicit;Uc("parentGridID",dh().id)("index",n)("data",r)("layout",e)}}var V4=function(e){return{"igx-grid__tr-container":!0,"igx-grid__tr--highlighted":e}};function N4(e,t){if(1&e){let e=nh();Yc(0,"div",76),oh("scroll",(function(){return Is(e),Ts(dh().onContainerScroll())})),Wc(1,M4,2,4,"igx-child-grid-row",77),Xc()}if(2&e){let e=t.index,i=t.$implicit,n=dh();Uc("ngClass",xu(3,V4,n.isRowHighlighted(i))),Gc("data-rowindex",e),Ed(1),Uc("ngForOf",n.childLayoutList)}}function L4(e,t){1&e&&th(0)}function H4(e,t){1&e&&th(0)}function B4(e,t){1&e&&Zc(0,"span",79),2&e&&(Uc("igxColumnMovingDrop",dh().headerContainer),Gc("droppable",!0))}function G4(e,t){1&e&&Zc(0,"igc-trial-watermark",80)}function z4(e,t){1&e&&Zc(0,"igx-circular-bar",81),2&e&&Uc("indeterminate",!0)}function $4(e,t){1&e&&Zc(0,"span",79),2&e&&(Uc("igxColumnMovingDrop",dh().headerContainer),Gc("droppable",!0))}function W4(e,t){}function j4(e,t){if(1&e&&(Zc(0,"igx-grid-summary-row",82,83),Pu(2,"igxGridSummaryDataPipe")),2&e){let e=dh();Th("width",e.calcWidth,"px")("height",e.summaryRowHeight,"px"),Uc("gridID",e.id)("summaries",Vu(2,7,e.id,e.summaryService.retriggerRootPipe))("index",e.dataView.length)}}function K4(e,t){}function U4(e,t){1&e&&th(0)}function q4(e,t){if(1&e&&(Yc(0,"span"),Wc(1,U4,1,0,"ng-container",8),Xc()),2&e){let e=dh(2),t=Kc(73);Ed(1),Uc("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function Y4(e,t){if(1&e&&(Yc(0,"span",84)(1,"span"),$h(2),Xc(),Wc(3,q4,2,1,"span",57),Xc()),2&e){let e=dh();Ed(2),jh(e.emptyFilteredGridMessage),Ed(1),Uc("ngIf",e.showAddButton)}}function X4(e,t){1&e&&th(0)}function Z4(e,t){if(1&e&&(Yc(0,"span"),Wc(1,X4,1,0,"ng-container",8),Xc()),2&e){let e=dh(2),t=Kc(73);Ed(1),Uc("ngTemplateOutlet",e.addRowEmptyTemplate||t)}}function Q4(e,t){if(1&e&&(Yc(0,"span",84)(1,"span"),$h(2),Xc(),Wc(3,Z4,2,1,"span",57),Xc()),2&e){let e=dh();Ed(2),jh(e.emptyGridMessage),Ed(1),Uc("ngIf",e.showAddButton)}}function J4(e,t){if(1&e){let e=nh();Yc(0,"button",85),oh("click",(function(t){return Is(e),Ts(dh().crudService.enterAddRowMode(null,!1,t))})),$h(1),Xc()}if(2&e){let e=dh();Ed(1),Kh(" ",e.resourceStrings.igx_grid_add_row_label," ")}}function e5(e,t){1&e&&(Yc(0,"div",86),Zc(1,"igx-circular-bar",81),Xc()),2&e&&(Ed(1),Uc("indeterminate",!0))}function t5(e,t){1&e&&(Yc(0,"igx-icon",87),$h(1,"unfold_more"),Xc())}function i5(e,t){if(1&e&&(Yc(0,"igx-icon",88),$h(1,"unfold_less"),Xc()),2&e){let e=dh();Uc("active",e.hasExpandedRecords()&&e.hasExpandableChildren)}}function n5(e,t){1&e&&th(0)}var r5=function(e,t){return{rowChangesCount:e,endEdit:t}};function s5(e,t){if(1&e&&(Yc(0,"div",18,89)(2,"div",90),Wc(3,n5,1,0,"ng-container",70),Xc()()),2&e){let e=dh();Ed(2),Uc("className",e.bannerClass),Ed(1),Uc("ngTemplateOutlet",e.resolveRowEditContainer)("ngTemplateOutletContext",_u(3,r5,e.rowChangesCount,e.crudService.endEdit.bind(e)))}}function o5(e,t){if(1&e&&$h(0),2&e){let e=dh();Uh(" You have ",e.rowChangesCount," changes in this row and ",e.hiddenColumnsCount," hidden columns\n")}}function a5(e,t){if(1&e){let e=nh();Yc(0,"button",91),oh("click",(function(t){return Is(e),Ts(dh().endRowEditTabStop(!1,t))})),$h(1),Xc(),Yc(2,"button",91),oh("click",(function(t){return Is(e),Ts(dh().endRowEditTabStop(!0,t))})),$h(3),Xc()}if(2&e){let e=dh();Ed(1),jh(e.resourceStrings.igx_grid_row_edit_btn_cancel),Ed(2),jh(e.resourceStrings.igx_grid_row_edit_btn_done)}}function l5(e,t){1&e&&th(0)}function d5(e,t){1&e&&th(0)}var c5=function(e){return{$implicit:e}};function h5(e,t){if(1&e&&(Yc(0,"div",92)(1,"span",93),Wc(2,l5,1,0,"ng-container",70),Xc()(),Yc(3,"div",94)(4,"div",95),Wc(5,d5,1,0,"ng-container",70),Xc()()),2&e){let e=dh(),t=Kc(82),i=Kc(84);Ed(2),Uc("ngTemplateOutlet","IgxAddRow"===(null==e.crudService.row?null:e.crudService.row.getClassName())?e.rowAddTextTemplate:e.resolveRowEditText||t)("ngTemplateOutletContext",xu(4,c5,"IgxAddRow"!==(null==e.crudService.row?null:e.crudService.row.getClassName())?e.rowChangesCount:null)),Ed(3),Uc("ngTemplateOutlet",e.resolveRowEditActions||i)("ngTemplateOutletContext",xu(6,c5,e.endEdit.bind(e)))}}function u5(e,t){1&e&&(Yc(0,"igx-icon"),$h(1,"drag_indicator"),Xc())}function g5(e,t){1&e&&Zc(0,"igx-grid-column-resizer")}var p5=[[["igx-grid-toolbar"],["igc-grid-toolbar"]],[["igx-grid-footer"],["igc-grid-footer"]],[["igx-paginator"],["igc-paginator"]],[["igx-column"],["igc-column"],["igx-column-group"],["igc-column-group"],["igx-action-strip"],["igc-action-strip"]],[["igx-row-island"],["igc-row-island"]]],m5=function(e,t,i,n,r,s,o){return[e,t,i,n,r,s,o]},f5=function(e,t,i,n,r,s){return[e,t,i,n,r,s]},y5=["igx-grid-toolbar,igc-grid-toolbar","igx-grid-footer,igc-grid-footer","igx-paginator,igc-paginator","igx-column,igc-column,igx-column-group,igc-column-group,igx-action-strip,igc-action-strip","igx-row-island,igc-row-island"],v5=0,x5=(()=>{let e=class{get parentHasScroll(){return!this.parentGrid.verticalScrollContainer.dc.instance.notVirtual}get parentGrid(){return this.gridAPI.grid}get level(){return this.layout.level}get nativeElement(){return this.element.nativeElement}constructor(e,t,i){this.gridAPI=e,this.element=t,this.cdr=i,this.data=[],this.expanded=!1}ngOnInit(){let e=this.container.createComponent(_5,{injector:this.container.injector});this.hGrid=e.instance,this.hGrid.data=this.data.childGridsData[this.layout.key],this.layout.layoutChange.subscribe((e=>{this._handleLayoutChanges(e)})),this.layout.initialChanges.forEach((e=>{this._handleLayoutChanges(e)})),this.hGrid.parent=this.parentGrid,this.hGrid.parentIsland=this.layout,this.hGrid.childRow=this,this.setupEventEmitters(),this.layout.gridCreated.emit({owner:this.layout,parentID:this.data.rowID,grid:this.hGrid})}ngAfterViewInit(){this.hGrid.childLayoutList=this.layout.children,this.hGrid.childLayoutList.toArray().forEach((e=>this.hGrid.gridAPI.registerChildRowIsland(e))),this.parentGrid.gridAPI.registerChildGrid(this.data.rowID,this.layout.key,this.hGrid),this.layout.rowIslandAPI.registerChildGrid(this.data.rowID,this.hGrid),this.layout.gridInitialized.emit({owner:this.layout,parentID:this.data.rowID,grid:this.hGrid}),this.hGrid.cdr.detectChanges()}setupEventEmitters(){let e=yi(this.hGrid.destroy$),t=vp(yZ),i=t.inputs.map((e=>e.propName));t.outputs.filter((e=>{let t=e.propName.slice(0,e.propName.indexOf("Change"));return-1===i.indexOf(t)})).filter((e=>"rendered"!==e.propName)).forEach((t=>{this.hGrid[t.propName]&&this.hGrid[t.propName].pipe(e).subscribe((e=>{e||(e={}),e.owner=this.hGrid,this.layout[t.propName].emit(e)}))}))}_handleLayoutChanges(e){for(let t in e)e.hasOwnProperty(t)&&(this.hGrid[t]=e[t].currentValue)}},t=e;return e.fac=function(t){return new(t||e)(Rd(Ck),Rd(ld),Rd(Jg))},e.cmp=Yn({type:e,selectors:[["igx-child-grid-row"]],viewQuery:function(e,t){if(1&e&&pg(u4,7,Xu),2&e){let e;gg(e=fg())&&(t.container=e.first)}},hostVars:1,hostBindings:function(e,t){2&e&&Gc("aria-level",t.level)},inputs:{layout:"layout",parentGridID:"parentGridID",data:"data",index:"index"},standalone:!0,features:[yu],decls:3,vars:3,consts:[[1,"igx-grid__hierarchical-indent",3,"ngClass"],["container",""]],template:function(e,t){1&e&&(Yc(0,"div",0),th(1,null,1),Xc()),2&e&&Uc("ngClass",xu(1,g4,t.parentHasScroll))},dependencies:[Sm],encapsulation:2,changeDetection:0}),t})(),_5=(()=>{let e=class extends W2{constructor(){super(...arguments),this.role="grid",this.childLayoutKeys=[],this.highlightedRowID=null,this.updateOnRender=!1,this.parent=null,this.h_id="igx-hierarchical-grid-"+v5++,this.childGridTemplates=new Map}get headerHierarchyExpander(){return this.theadRow?.headerHierarchyExpander}get id(){return this.h_id}set id(e){this.h_id=e}set data(e){this._data=e||[],this.summaryService.clearSummaryCache(),this._init||this.validation.updateAll(this._data),this.shouldGenerate&&(this.setupColumns(),this.reflow()),this.cdr.markForCheck(),this.parent&&(null===this.height||-1!==this.height.indexOf("%"))&&this.notifyChanges(!0)}get data(){return this._data}get paginator(){let e=this.id;return!this.parentIsland&&this.paginationComponents?.first||this.rootGrid.paginatorList?.find((t=>t.nativeElement.offsetParent?.id===e))}get excelStyleFilteringComponent(){return this.parentIsland?this.parentIsland.excelStyleFilteringComponents.first:super.excelStyleFilteringComponent}set totalItemCount(e){this.verticalScrollContainer.totalItemCount=e}get totalItemCount(){return this.verticalScrollContainer.totalItemCount}set expandChildren(e){this._defaultExpandState=e,this.expansionStates=new Map}get expandChildren(){return this._defaultExpandState}get foreignKey(){return this.parent?this.parent.gridAPI.getParentRowId(this):null}get hasExpandableChildren(){return!!this.childLayoutKeys.length}get resolveRowEditContainer(){return this.parentIsland&&this.parentIsland.rowEditCustom?this.parentIsland.rowEditContainer:this.rowEditContainer}get resolveRowEditActions(){return this.parentIsland?this.parentIsland.rowEditActionsTemplate:this.rowEditActionsTemplate}get resolveRowEditText(){return this.parentIsland?this.parentIsland.rowEditTextTemplate:this.rowEditTextTemplate}hideActionStrip(){this.parent||(super.hideActionStrip(),this.allLayoutList.forEach((e=>{e.actionStrip?.hide()})))}get parentRowOutletDirective(){return this.parent?this.parent.rowOutletDirective:this.outlet}ngOnInit(){this.batchEditing=!!this.rootGrid.batchEditing,this.rootGrid!==this&&this.rootGrid.batchEditingChange.pipe(yi(this.destroy$)).subscribe((e=>{this.batchEditing=e})),super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit(),this.verticalScrollContainer.beforeViewDestroyed.pipe(yi(this.destroy$)).subscribe((e=>{let t=e.context.$implicit;if(this.isChildGridRecord(t)){let e=this.childGridTemplates.get(t.rowID);e&&e.owner._viewContainerRef.detach(0)}})),this.parent&&(this._displayDensity=this.rootGrid.displayDensity,this.summaryService.summaryHeight=0,this.rootGrid.densityChanged.pipe(yi(this.destroy$)).subscribe((()=>{this._displayDensity=this.rootGrid.displayDensity,this.summaryService.summaryHeight=0,this.notifyChanges(!0),this.cdr.markForCheck()})),this.childLayoutKeys=this.parentIsland.children.map((e=>e.key))),this.actionStrip=this.parentIsland?this.parentIsland.actionStrip:this.actionStrip,this.headSelectorsTemplates=this.parentIsland?this.parentIsland.headSelectorsTemplates:this.headSelectorsTemplates,this.rowSelectorsTemplates=this.parentIsland?this.parentIsland.rowSelectorsTemplates:this.rowSelectorsTemplates,this.dragIndicatorIconTemplate=this.parentIsland?this.parentIsland.dragIndicatorIconTemplate:this.dragIndicatorIconTemplate,this.rowExpandedIndicatorTemplate=this.rootGrid.rowExpandedIndicatorTemplate,this.rowCollapsedIndicatorTemplate=this.rootGrid.rowCollapsedIndicatorTemplate,this.headerCollapsedIndicatorTemplate=this.rootGrid.headerCollapsedIndicatorTemplate,this.headerExpandedIndicatorTemplate=this.rootGrid.headerExpandedIndicatorTemplate,this.excelStyleHeaderIconTemplate=this.rootGrid.excelStyleHeaderIconTemplate,this.sortAscendingHeaderIconTemplate=this.rootGrid.sortAscendingHeaderIconTemplate,this.sortDescendingHeaderIconTemplate=this.rootGrid.sortDescendingHeaderIconTemplate,this.sortHeaderIconTemplate=this.rootGrid.sortHeaderIconTemplate,this.hasChildrenKey=this.parentIsland&&this.parentIsland.hasChildrenKey||this.rootGrid.hasChildrenKey,this.showExpandAll=this.parentIsland?this.parentIsland.showExpandAll:this.rootGrid.showExpandAll}ngAfterContentInit(){this.updateColumnList(!1),this.childLayoutKeys=this.parent?this.parentIsland.children.map((e=>e.key)):this.childLayoutKeys=this.childLayoutList.map((e=>e.key)),this.childLayoutList.notifyOnChanges(),this.childLayoutList.changes.pipe(yi(this.destroy$)).subscribe((()=>this.onRowIslandChange())),super.ngAfterContentInit()}getRowByIndex(e){if(!(e<0||e>=this.dataView.length))return this.createRow(e)}getRowByKey(e){let t=this.dataView,i=this.primaryKey?t.find((t=>t[this.primaryKey]===e)):t.find((t=>t===e)),n=t.indexOf(i);if(!(n<0||n>t.length))return new b$(this,n,i)}allRows(){return this.dataView.map(((e,t)=>this.createRow(t)))}dataRows(){return this.allRows().filter((e=>e instanceof b$))}get selectedCells(){return this.dataRows().map((e=>e.cells.filter((e=>e.selected)))).reduce(((e,t)=>e.concat(t)),[])}getCellByColumn(e,t){let i=this.getRowByIndex(e),n=this.columns.find((e=>e.field===t));if(i&&i instanceof b$&&n)return new yM(this,e,t)}getCellByKey(e,t){let i=this.getRowByKey(e),n=this.columns.find((e=>e.field===t));if(i&&n)return new yM(this,i.index,t)}pinRow(e,t){let i=this.getRowByKey(e);return super.pinRow(e,t,i)}unpinRow(e){let t=this.getRowByKey(e);return super.unpinRow(e,t)}dataLoading(e){this.dataPreLoad.emit(e)}featureColumnsWidth(){return super.featureColumnsWidth(this.headerHierarchyExpander)}onRowIslandChange(){this.parent?this.childLayoutKeys=this.parentIsland.children.filter((e=>!e._destroyed)).map((e=>e.key)):this.childLayoutKeys=this.childLayoutList.filter((e=>!e._destroyed)).map((e=>e.key)),this.cdr.destroyed||this.cdr.detectChanges()}ngOnDestroy(){this.parent||this.gridAPI.getChildGrids(!0).forEach((e=>{e.childRow.cdr.destroyed||e.childRow.cdr.destroy()})),this.parent&&this.selectionService.activeElement&&this._clearSeletionHighlights(),super.ngOnDestroy()}isRowHighlighted(e){return this.highlightedRowID===e.rowID}isHierarchicalRecord(e){return this.isGhostRecord(e)&&(e=e.recordRef),0!==this.childLayoutList.length&&e[this.childLayoutList.first.key]}isChildGridRecord(e){return void 0!==e?.childGridsData}trackChanges(e,t){return void 0!==t.childGridsData?t.rowID:t}getContext(e,t,i){if(this.isChildGridRecord(e)){let t=this.childGridTemplates.get(e.rowID);return t?{$implicit:e,moveView:t.view,owner:t.owner,index:this.dataView.indexOf(e)}:{$implicit:e,templateID:{type:"childRow",id:e.rowID},index:this.dataView.indexOf(e)}}return{$implicit:this.isGhostRecord(e)?e.recordRef:e,templateID:{type:"dataRow",id:null},index:this.getDataViewIndex(t,i),disabled:this.isGhostRecord(e)}}get rootGrid(){let e=this;for(;e.parent;)e=e.parent;return e}get iconTemplate(){return this.hasExpandedRecords()&&this.hasExpandableChildren||!this.showExpandAll?this.headerExpandedIndicatorTemplate||this.defaultExpandedTemplate:this.headerCollapsedIndicatorTemplate||this.defaultCollapsedTemplate}getDragGhostCustomTemplate(){return this.parentIsland?this.parentIsland.getDragGhostCustomTemplate():super.getDragGhostCustomTemplate()}getVisibleContentHeight(){let e=super.getVisibleContentHeight();if(this.parent){let t=this.rootGrid.getVisibleContentHeight(),i=this.nativeElement.getBoundingClientRect().top-this.rootGrid.nativeElement.getBoundingClientRect().top;e=t-i>e?e:t-i}return e}toggleAll(){this.hasExpandedRecords()&&this.hasExpandableChildren||!this.showExpandAll?this.collapseAll():this.expandAll()}hasExpandedRecords(){if(this.expandChildren)return!0;let e=!1;return this.expansionStates.forEach((t=>{t&&(e=t)})),e}getDefaultExpandState(e){return!(this.hasChildrenKey&&!e[this.hasChildrenKey])&&this.expandChildren}isExpanded(e){return this.gridAPI.get_row_expansion_state(e)}viewCreatedHandler(e){if(this.isChildGridRecord(e.context.$implicit)){let t=e.context.$implicit.rowID;this.childGridTemplates.set(t,e)}}viewMovedHandler(e){if(this.isChildGridRecord(e.context.$implicit)){let t=e.context.$implicit.rowID;this.childGridTemplates.get(t).owner=e.owner,this.childLayoutList.forEach((t=>{let i=this.gridAPI.getChildGridByID(t.key,e.context.$implicit.rowID);i&&i.updateOnRender&&(i.notifyChanges(!0),i.updateOnRender=!1)}))}}onContainerScroll(){this.hideOverlays()}createRow(e,t){let i,n=this._getDataViewIndex(e),r=t??this.dataView[n];return!i&&r&&!r.childGridsData&&(i=new b$(this,e,r)),i}getChildGrids(e){return this.gridAPI.getChildGrids(e)}generateDataFields(e){return super.generateDataFields(e).filter((e=>-1===(this.parentIsland?this.parentIsland.children:this.childLayoutList).map((e=>e.key)).indexOf(e)))}resizeNotifyHandler(){this.nativeElement?.isConnected&&!this.parent&&this.notifyChanges(!0)}initColumns(e,t=null){if(this.hasColumnLayouts){let e=this.columns.filter((e=>!e.columnLayout&&!e.columnLayoutChild));this.updateColumns(e)}super.initColumns(e,t)}setupColumns(){this.parentIsland&&this.parentIsland.childColumns.length>0&&!this.autoGenerate?this.createColumnsList(this.parentIsland.childColumns.toArray()):super.setupColumns()}getColumnList(){let e=(this.parent?this.childLayoutList:this.allLayoutList).map((e=>e.columnList.toArray())),t=[].concat.apply([],e);return t.length>0?this.columnList.filter((e=>-1===t.indexOf(e))):this.columnList.toArray()}onColumnsChanged(){Promise.resolve().then((()=>{this.updateColumnList()}))}_shouldAutoSize(e){return!(!this.isPercentHeight||!this.parent)||super._shouldAutoSize(e)}updateColumnList(e=!0){let t=(this.parent?this.childLayoutList:this.allLayoutList).map((e=>e.columnList.toArray())),i=[].concat.apply([],t),n=this.columns.length,r=this.columnList.filter((e=>-1===i.indexOf(e)));r.length>0&&(this.updateColumns(r),e&&this.columns.length!==n&&this.calculateGridSizes(!1))}_clearSeletionHighlights(){[this.rootGrid,...this.rootGrid.getChildGrids(!0)].forEach((e=>{e.selectionService.clear(),e.selectionService.activeElement=null,e.nativeElement.classList.remove("igx-grid__tr--highlighted"),e.highlightedRowID=null,e.cdr.markForCheck()}))}},t=e;return e.fac=function(){let t;return function(i){return(t||(t=Lo(e)))(i||e)}}(),e.cmp=Yn({type:e,selectors:[["igx-hierarchical-grid"]],contentQueries:function(e,t,i){if(1&e&&(mg(i,Y2,4,Y2),mg(i,Y2,5,Y2),mg(i,zP,5)),2&e){let e;gg(e=fg())&&(t.childLayoutList=e),gg(e=fg())&&(t.allLayoutList=e),gg(e=fg())&&(t.paginatorList=e)}},viewQuery:function(e,t){if(1&e&&(pg(p4,5,Xu),pg(m4,5,Xu),pg(f4,7,ju),pg(y4,7,ju),pg(pA,5,pA),pg(x5,5)),2&e){let e;gg(e=fg())&&(t.toolbarOutlet=e.first),gg(e=fg())&&(t.paginatorOutlet=e.first),gg(e=fg())&&(t.hierarchicalRecordTemplate=e.first),gg(e=fg())&&(t.childTemplate=e.first),gg(e=fg())&&(t.templateOutlets=e),gg(e=fg())&&(t.hierarchicalRows=e)}},hostVars:2,hostBindings:function(e,t){2&e&&Gc("role",t.role)("id",t.id)},inputs:{id:"id",data:"data",totalItemCount:"totalItemCount",expandChildren:"expandChildren"},standalone:!0,features:[cu([_k,PK,Lk,{provide:Ck,useClass:z2},{provide:wk,useExisting:e},VK,tz,$2,HG,YT,XT,K2]),Tc,yu],ngContentSelectors:y5,decls:98,vars:147,consts:[["toolbarOutlet",""],["tabindex","0",1,"igx-grid-thead",3,"grid","hasMRL","activeDescendant","width","pinnedColumnCollection","unpinnedColumnCollection","keydown.meta.c","keydown.control.c","copy","keydown","focus"],["igxGridBody","","role","rowgroup",1,"igx-grid__tbody",3,"keydown.control.c","copy"],["tabindex","0",1,"igx-grid__tbody-content",3,"igxGridDragSelect","focus","keydown","dragStop","dragScroll","scroll"],["tbody",""],["id","left","class","igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop",4,"ngIf"],["id","left","class","igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop","left",4,"ngIf"],["pinnedRecordsTemplate",""],[4,"ngTemplateOutlet"],["igxGridFor","",3,"igxGridForOf","igxForScrollOrientation","igxForScrollContainer","igxForContainerSize","igxForItemSize","igxForTrackBy","chunkPreload","dataChanging","dataChanged"],["verticalScrollContainer",""],["hierarchical_record_template",""],["pinned_hierarchical_record_template",""],["child_record_template",""],["id","right","class","igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop",4,"ngIf"],["igxOverlayOutlet","",1,"igx-grid__row-editing-outlet"],["igxRowEditingOverlayOutlet",""],["text","Trial version of Ignite UI for Blazor",4,"ngIf"],["igxToggle",""],["loadingOverlay",""],[3,"indeterminate",4,"ngIf"],[1,"igx-grid__tbody-scrollbar",3,"hidden","pointerdown"],[1,"igx-grid__tbody-scrollbar-start"],[1,"igx-grid__tbody-scrollbar-main"],["igxGridFor","",3,"igxGridForOf"],["verticalScrollHolder",""],[1,"igx-grid__tbody-scrollbar-end"],[1,"igx-grid__addrow-snackbar"],[3,"outlet","actionText","displayTime"],["addRowSnackbar",""],["igxOverlayOutlet",""],["igxBodyOverlayOutlet","overlay-outlet"],["role","rowgroup",1,"igx-grid__tfoot"],["tfoot",""],["tabindex","0",3,"focus","keydown"],["role","row","class","igx-grid__summaries",3,"width","height","gridID","summaries","index",4,"ngIf"],[1,"igx-grid__tfoot-thumb",3,"hidden"],[1,"igx-grid__scroll",3,"hidden","pointerdown"],["scr",""],[1,"igx-grid__scroll-start"],[1,"igx-grid__scroll-main"],["scrollContainer",""],[1,"igx-grid__scroll-end",3,"hidden"],[1,"igx-grid__footer"],["footer",""],["paginatorOutlet",""],["emptyFilteredGrid",""],["defaultEmptyGrid",""],["defaultAddRowEmptyTemplate",""],["defaultLoadingGrid",""],["defaultCollapsedTemplate",""],["defaultExpandedTemplate",""],["igxToggle","",4,"ngIf"],["defaultRowEditText",""],["defaultRowEditActions",""],["defaultRowEditTemplate",""],["dragIndicatorIconBase",""],[4,"ngIf"],["igxOverlayOutlet","",1,"igx-grid__loading-outlet"],["igxLoadingOverlayOutlet",""],["igxOverlayOutlet","",1,"igx-grid__outlet"],["igxFilteringOverlayOutlet",""],[2,"display","none"],["sink",""],["id","left",1,"igx-grid__scroll-on-drag-left",3,"igxColumnMovingDrop"],["id","left",1,"igx-grid__scroll-on-drag-pinned",3,"igxColumnMovingDrop"],["class","igx-grid__tr--pinned",3,"ngClass","width",4,"ngIf"],[1,"igx-grid__tr--pinned",3,"ngClass"],["pinContainer",""],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"igxTemplateOutlet","igxTemplateOutletContext","viewCreated","viewMoved","cachedViewLoaded"],[3,"gridID","index","disabled","data","ngClass","ngStyle"],["row",""],[3,"gridID","index","data","ngClass","ngStyle"],["row","","pinnedRow",""],[2,"overflow","auto","width","100%",3,"ngClass","scroll"],[3,"parentGridID","index","data","layout",4,"ngFor","ngForOf"],[3,"parentGridID","index","data","layout"],["id","right",1,"igx-grid__scroll-on-drag-right",3,"igxColumnMovingDrop"],["text","Trial version of Ignite UI for Blazor"],[3,"indeterminate"],["role","row",1,"igx-grid__summaries",3,"gridID","summaries","index"],["summaryRow",""],["role","cell",1,"igx-grid__tbody-message"],["igxButton","raised","igxRipple","",3,"click"],[1,"igx-grid__loading"],["role","button"],["role","button",3,"active"],["rowEditingOverlay",""],[3,"className"],["igxButton","","igxRowEditTabStop","",3,"click"],[1,"igx-banner__message"],[1,"igx-banner__text"],[1,"igx-banner__actions"],[1,"igx-banner__row"]],template:function(e,t){if(1&e&&(hh(p5),uh(0),th(1,null,0),Yc(3,"igx-grid-header-row",1),oh("keydown.meta.c",(function(e){return t.copyHandler(e)}))("keydown.control.c",(function(e){return t.copyHandler(e)}))("copy",(function(e){return t.copyHandler(e)}))("keydown",(function(e){return t.navigation.headerNavigation(e)}))("focus",(function(){return t.navigation.focusFirstCell()})),Xc(),Yc(4,"div",2),oh("keydown.control.c",(function(e){return t.copyHandler(e)}))("copy",(function(e){return t.copyHandler(e)})),Yc(5,"div",3,4),oh("focus",(function(e){return t.navigation.focusTbody(e)}))("keydown",(function(e){return t.navigation.handleNavigation(e)}))("dragStop",(function(e){return t.selectionService.dragMode=e}))("dragScroll",(function(e){return t.dragScroll(e)}))("scroll",(function(e){return t.preventContainerScroll(e)})),Wc(7,v4,1,2,"span",5),Wc(8,x4,1,4,"span",6),Wc(9,T4,7,50,"ng-template",null,7,_g),Wc(11,A4,1,0,"ng-container",8),Wc(12,R4,1,2,"ng-template",9,10,_g),Pu(14,"gridRowPinning"),Pu(15,"gridAddRow"),Pu(16,"gridHierarchical"),Pu(17,"gridHierarchicalPaging"),Pu(18,"gridSort"),Pu(19,"gridFiltering"),Pu(20,"visibleColumns"),Pu(21,"gridTransaction"),oh("chunkPreload",(function(e){return t.dataLoading(e)}))("dataChanging",(function(e){return t.dataRebinding(e)}))("dataChanged",(function(e){return t.dataRebound(e)})),Wc(22,F4,4,36,"ng-template",null,11,_g),Wc(24,P4,5,35,"ng-template",null,12,_g),Wc(26,N4,2,5,"ng-template",null,13,_g),Wc(28,L4,1,0,"ng-container",8),Wc(29,H4,1,0,"ng-container",8),Wc(30,B4,1,2,"span",14),Zc(31,"div",15,16),Wc(33,G4,1,0,"igc-trial-watermark",17),Xc(),Yc(34,"div",18,19),Wc(36,z4,1,1,"igx-circular-bar",20),Xc(),Wc(37,$4,1,2,"span",14),Yc(38,"div",21),oh("pointerdown",(function(e){return e.preventDefault()})),Zc(39,"div",22),Yc(40,"div",23),Wc(41,W4,0,0,"ng-template",24,25,_g),Xc(),Zc(43,"div",26),Xc(),Yc(44,"div",27)(45,"igx-snackbar",28,29),$h(47),Xc()(),Zc(48,"div",30,31),Xc(),Yc(50,"div",32,33)(52,"div",34),oh("focus",(function(){return t.navigation.focusFirstCell(!1)}))("keydown",(function(e){return t.navigation.summaryNav(e)})),Wc(53,j4,3,10,"igx-grid-summary-row",35),Zc(54,"div",36),Xc()(),Yc(55,"div",37,38),oh("pointerdown",(function(e){return e.preventDefault()})),Zc(57,"div",39),Yc(58,"div",40),Wc(59,K4,0,0,"ng-template",24,41,_g),Xc(),Zc(61,"div",42),Xc(),Yc(62,"div",43,44),uh(64,1),uh(65,2),th(66,null,45),Xc(),Wc(68,Y4,4,2,"ng-template",null,46,_g),Wc(70,Q4,4,2,"ng-template",null,47,_g),Wc(72,J4,2,1,"ng-template",null,48,_g),Wc(74,e5,2,1,"ng-template",null,49,_g),Wc(76,t5,2,0,"ng-template",null,50,_g),Wc(78,i5,2,1,"ng-template",null,51,_g),Wc(80,s5,4,6,"div",52),Wc(81,o5,1,2,"ng-template",null,53,_g),Wc(83,a5,4,2,"ng-template",null,54,_g),Wc(85,h5,6,8,"ng-template",null,55,_g),Wc(87,u5,2,0,"ng-template",null,56,_g),Wc(89,g5,1,0,"igx-grid-column-resizer",57),Zc(90,"div",58,59)(92,"div",60,61),Yc(94,"div",62,63),uh(96,3),uh(97,4),Xc()),2&e){let e=Kc(10),i=Kc(49);Ed(3),Uc("grid",t)("hasMRL",t.hasColumnLayouts)("activeDescendant",t.activeDescendant)("width",t.calcWidth)("pinnedColumnCollection",t.pinnedColumns)("unpinnedColumnCollection",t.unpinnedColumns),Ed(2),Th("height",t.totalHeight,"px")("width",t.calcWidth,"px"),Uc("igxGridDragSelect",t.selectionService.dragMode),Gc("aria-activedescendant",t.activeDescendant)("role",t.dataView.length?null:"row"),Ed(2),Uc("ngIf",t.moving&&t.columnInDrag&&t.pinnedColumns.length<=0),Ed(1),Uc("ngIf",t.moving&&t.columnInDrag&&t.pinnedColumns.length>0),Ed(3),Uc("ngTemplateOutlet",t.hasPinnedRecords&&t.isRowPinningToTop?e:null),Ed(1),Uc("igxGridForOf",Lu(14,70,Nu(15,75,Hu(16,79,bu(138,f5,Hu(17,86,bu(131,f5,Hu(18,93,bu(124,f5,Hu(19,100,Du(115,m5,Vu(20,108,Nu(21,111,t.data,t.id,t.pipeTrigger),t.hasVisibleColumns),t.filteringExpressionsTree,t.filterStrategy,t.advancedFilteringExpressionsTree,t.id,t.pipeTrigger,t.filteringPipeTrigger)),t.sortingExpressions,vu(123,E4),t.sortStrategy,t.id,t.pipeTrigger)),!!t.paginator,t.page,t.perPage,t.id,t.pipeTrigger)),t.expansionStates,t.id,t.primaryKey,t.childLayoutKeys,t.pipeTrigger)),!1,t.pipeTrigger),t.id,!1,t.pipeTrigger))("igxForScrollOrientation","vertical")("igxForScrollContainer",t.verticalScroll)("igxForContainerSize",t.calcHeight)("igxForItemSize",t.renderedRowHeight)("igxForTrackBy",t.trackChanges),Ed(16),Uc("ngTemplateOutlet",t.hasPinnedRecords&&!t.isRowPinningToTop?e:null),Ed(1),Uc("ngTemplateOutlet",t.template),Ed(1),Uc("ngIf",t.moving&&t.columnInDrag),Ed(3),Uc("ngIf",!t.parent),Ed(3),Uc("ngIf",t.shouldOverlayLoading),Ed(1),Uc("ngIf",t.moving&&t.columnInDrag),Ed(1),Th("width",t.scrollSize,"px"),Uc("hidden",!t.hasVerticalScroll()),Ed(1),Th("height",t.isRowPinningToTop?t.pinnedRowHeight:0,"px"),Ed(1),Th("height",t.calcHeight,"px"),Ed(1),Uc("igxGridForOf",vu(145,E4)),Ed(2),Th("height",t.isRowPinningToTop?0:t.pinnedRowHeight,"px"),Ed(2),Uc("outlet",i)("actionText",t.resourceStrings.igx_grid_snackbar_addrow_actiontext)("displayTime",t.snackbarDisplayTime),Ed(2),jh(t.resourceStrings.igx_grid_snackbar_addrow_label),Ed(3),Th("height",t.summaryRowHeight,"px"),Ed(2),Gc("aria-activedescendant",t.activeDescendant),Ed(1),Uc("ngIf",t.hasSummarizedColumns&&t.rootSummariesEnabled),Ed(1),Th("height",t.summaryRowHeight,"px")("width",t.scrollSize,"px"),Uc("hidden",!t.hasVerticalScroll()),Ed(1),Th("height",t.scrollSize,"px"),Uc("hidden",t.isHorizontalScrollHidden),Ed(2),Th("width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px")("min-width",t.isPinningToStart?t.pinnedWidth:t.headerFeaturesWidth,"px"),Ed(1),Th("width",t.unpinnedWidth,"px"),Ed(1),Uc("igxGridForOf",vu(146,E4)),Ed(2),Th("float","right")("width",t.pinnedWidth,"px")("min-width",t.pinnedWidth,"px"),Uc("hidden",0===t.pinnedWidth||t.isPinningToStart),Ed(19),Uc("ngIf",t.rowEditable),Ed(9),Uc("ngIf",t.colResizingService.showResizer)}},dependencies:[Em,Sm,bm,Pm,Fm,vW,Fj,oX,vz,tA,pA,h4,vA,fA,TL,SK,mK,CI,lA,FI,wG,yK,x5,PU,NU,P$,M$,N$,z$,k$,R$,LU,X2,Z2],encapsulation:2,changeDetection:0}),t})();function w5(e,t){if(1&e){let e=nh();Yc(0,"igx-list-item",12)(1,"igx-checkbox",13),oh("click",(function(){let t=Is(e).$implicit;return Ts(dh().toggleItem(t))})),Xc(),Yc(2,"span"),$h(3),Xc()()}if(2&e){let e=t.$implicit;Uc("id",e.memberName),Ed(1),Uc("aria-labelledby",e.memberName)("disableRipple",!0)("checked",e.enabled),Ed(2),jh(e.memberName)}}function C5(e,t){if(1&e){let e=nh();Yc(0,"igx-list-item",12)(1,"igx-checkbox",13),oh("click",(function(){let t=Is(e).$implicit;return Ts(dh().toggleItem(t))})),Xc(),Yc(2,"span"),$h(3),Xc()()}if(2&e){let e=t.$implicit;Uc("id",e.member),Ed(1),Uc("aria-labelledby",e.member)("disableRipple",!0)("checked",e.enabled),Ed(2),jh(e.displayName||e.member)}}function S5(e,t){if(1&e&&(Yc(0,"span"),$h(1),Xc()),2&e){let e=dh().$implicit;Ed(1),jh(e.aggregate.key)}}function b5(e,t){1&e&&(Yc(0,"span"),$h(1,"("),Xc())}function D5(e,t){1&e&&(Yc(0,"span"),$h(1,")"),Xc())}function E5(e,t){if(1&e&&(Yc(0,"igx-icon",33),$h(1),Xc()),2&e){let e=dh().$implicit;Ed(1),Kh(" ",e.sortDirection<2?"arrow_upward":"arrow_downward"," ")}}function I5(e,t){if(1&e){let e=nh();Yc(0,"igx-icon",34),oh("pointerdown",(function(t){return Is(e),Ts(dh(4).onFilteringIconPointerDown(t))}))("click",(function(t){Is(e);let i=dh().$implicit;return Ts(dh(3).onFilteringIconClick(t,i))})),$h(1,"filter_list "),Xc()}}function T5(e,t){if(1&e){let e=nh();Yc(0,"igx-icon",35),oh("click",(function(t){Is(e);let i=dh().$implicit,n=dh(3),r=Kc(14);return Ts(n.onSummaryClick(t,i,r))})),$h(1," functions "),Xc()}2&e&&(dh(4),Uc("igxDropDownItemNavigation",Kc(14)))}function A5(e,t){1&e&&(Yc(0,"igx-icon",36),$h(1,"drag_handle"),Xc())}new Set("right down left up arrowright arrowdown arrowleft arrowup".split(" ")),new Dl("IgxStepperToken"),new Dl("IgxStepToken");var k5=function(e,t){return{gridID:e,selectorChannels:t}};function R5(e,t){if(1&e){let e=nh();Yc(0,"igx-list-item",23),oh("ghostCreate",(function(t){let i=Is(e).$implicit,n=dh(2).$implicit;return Ts(dh().ghostCreated(t,i[n.itemKey]))}))("over",(function(t){return Is(e),Ts(dh(3).onItemDragOver(t))}))("leave",(function(t){return Is(e),Ts(dh(3).onItemDragLeave(t))}))("dragMove",(function(t){return Is(e),Ts(dh(3).onItemDragMove(t))}))("dragEnd",(function(t){return Is(e),Ts(dh(3).onItemDragEnd(t))}))("dropped",(function(t){Is(e);let i=dh(2).$implicit;return Ts(dh().onItemDropped(t,i.type))})),Yc(1,"div",24)(2,"div",25),oh("click",(function(t){let i=Is(e).$implicit,n=dh(2).$implicit;return Ts(dh().onItemSort(t,i,n.type))})),Yc(3,"div",26),Wc(4,S5,2,1,"span",27),Wc(5,b5,2,0,"span",27),Yc(6,"span"),$h(7),Xc(),Wc(8,D5,2,0,"span",27),Xc(),Wc(9,E5,2,1,"igx-icon",28),Xc(),Yc(10,"div",29),Wc(11,I5,2,0,"igx-icon",30),Wc(12,T5,2,1,"igx-icon",31),Wc(13,A5,2,0,"igx-icon",32),Xc()()()}if(2&e){let e=t.$implicit,i=dh(2).$implicit,n=dh(),r=Kc(17);Uc("igxDrag",_u(13,k5,n.grid.id,i.dragChannels))("ghostTemplate",r)("id",e[i.itemKey]),Ed(2),Ah("igx-pivot-data-selector__action-sort",i.sortable),Ed(2),Uc("ngIf",null===i.type),Ed(1),Uc("ngIf",null===i.type),Ed(2),jh(e[i.displayKey]||e[i.itemKey]),Ed(1),Uc("ngIf",null===i.type),Ed(1),Uc("ngIf",i.sortable&&e.sortDirection),Ed(2),Uc("ngIf",null!==i.type),Ed(1),Uc("ngIf",null===i.type),Ed(1),Uc("ngIf",i.dragChannels.length>0)}}function O5(e,t){if(1&e&&(Yc(0,"igx-list",5),Wc(1,R5,14,16,"igx-list-item",22),Xc()),2&e){let e=dh().$implicit,t=dh();Uc("displayDensity",t.displayDensity),Ed(1),Uc("ngForOf",t.grid[e.dataKey])}}function F5(e,t){if(1&e&&(Yc(0,"div",37),$h(1),Xc()),2&e){let e=dh(2);Ed(1),Kh(" ",null==e.grid?null:e.grid.resourceStrings.igx_grid_pivot_selector_panel_empty," ")}}function P5(e,t){if(1&e){let e=nh();Yc(0,"igx-expansion-panel",14),oh("collapsedChange",(function(t){let i=Is(e).$implicit;return Ts(dh().onCollapseChange(t,i.type))})),Yc(1,"igx-expansion-panel-header",15),oh("enter",(function(t){let i=Is(e).$implicit;return Ts(dh().onPanelEntry(t,i.name))}))("dropped",(function(t){let i=Is(e).$implicit;return Ts(dh().onItemDropped(t,i.type))})),Yc(2,"igx-expansion-panel-title",16)(3,"h6",17),$h(4),Xc(),Yc(5,"div",18)(6,"igx-icon"),$h(7),Xc(),Yc(8,"igx-chip"),$h(9),Xc()()()(),Yc(10,"igx-expansion-panel-body",19),oh("enter",(function(t){let i=Is(e).$implicit;return Ts(dh().onPanelEntry(t,i.name))}))("dropped",(function(t){let i=Is(e).$implicit;return Ts(dh().onItemDropped(t,i.type))})),Wc(11,O5,2,2,"igx-list",20),Wc(12,F5,2,1,"div",21),Xc()()}if(2&e){let e=t.$implicit,i=dh();Uc("animationSettings",i.animationSettings)("collapsed",i.getPanelCollapsed(e.type)),Ed(1),Uc("disabled",!1),Ed(3),Kh(" ",null==i.grid?null:i.grid.resourceStrings[e.i18n]," "),Ed(3),jh(e.icon),Ed(2),jh(i.grid?i.grid[e.dataKey].length:0),Ed(2),Uc("ngIf",i.grid&&i.grid[e.dataKey].length>0),Ed(1),Uc("ngIf",i.grid&&0===i.grid[e.dataKey].length)}}function M5(e,t){if(1&e&&(Yc(0,"igx-drop-down-item",38),$h(1),Xc()),2&e){let e=t.$implicit;Uc("selected",dh().isSelected(e))("value",e),Ed(1),Kh(" ",e.label," ")}}function V5(e,t){if(1&e&&(Yc(0,"div",39)(1,"div",40)(2,"igx-icon"),$h(3,"unfold_more"),Xc(),Yc(4,"span"),$h(5),Xc()(),Yc(6,"igx-icon"),$h(7,"drag_handle"),Xc()()),2&e){let e=dh();Th("width",e.ghostWidth,"px"),Ah("igx-pivot-data-selector__item-ghost--no-drop",!e.dropAllowed),Ed(5),jh(e.ghostText)}}var N5=(()=>{let e=class{get dims(){return this._grid?.allDimensions||[]}get values(){return this._grid?.pivotConfiguration.values||[]}constructor(e,t){this.renderer=e,this.cdr=t,this.columnsExpanded=!0,this.columnsExpandedChange=new zu,this.rowsExpanded=!0,this.rowsExpandedChange=new zu,this.filtersExpanded=!0,this.filtersExpandedChange=new zu,this.valuesExpanded=!0,this.valuesExpandedChange=new zu,this._dropDelta=0,this.cssClass="igx-pivot-data-selector",this._subMenuPositionSettings={verticalStartPoint:SE.Bottom,closeAnimation:void 0},this._subMenuOverlaySettings={closeOnOutsideClick:!0,modal:!1,positionStrategy:new RE(this._subMenuPositionSettings),scrollStrategy:new HE},this.animationSettings={closeAnimation:dy(yy,{params:{duration:"0ms"}}),openAnimation:dy(fy,{params:{duration:"0ms"}})},this.aggregateList=[],this._panels=[{name:"Filters",i18n:"igx_grid_pivot_selector_filters",type:Vk.Filter,dataKey:"filterDimensions",icon:"filter_list",itemKey:"memberName",sortable:!1,dragChannels:["Filters","Columns","Rows"]},{name:"Columns",i18n:"igx_grid_pivot_selector_columns",type:Vk.Column,dataKey:"columnDimensions",icon:"view_column",itemKey:"memberName",sortable:!0,dragChannels:["Filters","Columns","Rows"]},{name:"Rows",i18n:"igx_grid_pivot_selector_rows",type:Vk.Row,dataKey:"rowDimensions",icon:"table_rows",itemKey:"memberName",sortable:!0,dragChannels:["Filters","Columns","Rows"]},{name:"Values",i18n:"igx_grid_pivot_selector_values",type:null,dataKey:"values",icon:"functions",itemKey:"member",displayKey:"displayName",sortable:!1,dragChannels:["Values"]}]}get displayDensity(){return this.grid?.displayDensity}set grid(e){this._grid=e}get grid(){return this._grid}onItemSort(e,t,i){if(!this._panels.find((e=>e.type===i)).sortable)return;let n=t.sortDirection||gb.None,r=n+1>gb.Desc?gb.None:n+1;this.grid.sortDimension(t,r)}onFilteringIconPointerDown(e){e.stopPropagation(),e.preventDefault()}onFilteringIconClick(e,t){e.stopPropagation(),e.preventDefault();let i,n=t;for(;n&&(i=this.grid.dimensionDataColumns.find((e=>e.field===n.memberName)),!i);)n=n.childLevel;this.grid.filteringService.toggleFilterDropdown(e.target,i)}getDimensionState(e){switch(e){case Vk.Row:return this.grid.rowDimensions;case Vk.Column:return this.grid.columnDimensions;case Vk.Filter:return this.grid.filterDimensions;default:return null}}moveValueItem(e){let t=this.grid.pivotConfiguration.values,i=-1!==t.findIndex((t=>t.member===e))?t?.findIndex((t=>t.member===e)):t.length,n=i+this._dropDelta<0?0:i+this._dropDelta,r=t.find((t=>t.member===e||t.displayName===e));r&&(this.grid.moveValue(r,n),this.grid.valuesChange.emit({values:this.grid.pivotConfiguration.values}))}onItemDropped(e,t){if(!this.dropAllowed)return;let i=this.grid.getDimensionsByType(t),n=this.getDimensionState(t),r=e.drag.element.nativeElement.id,s=e.owner.element.nativeElement.id,o=i?.find((e=>e.memberName===r)),a=-1!==i?.findIndex((e=>e?.memberName===r))?i?.findIndex((e=>e.memberName===r)):i?.length,l=this.grid.allDimensions.filter((e=>e&&e.memberName===r)),d=-1!==n?.findIndex((e=>e.memberName===r)),c=""!==s?i?.findIndex((e=>e.memberName===s)):i?.length;if(i||this.moveValueItem(r),d&&(c=a+this._dropDelta<0?0:a+this._dropDelta),o)this.grid.moveDimension(o,t,c);else{let e=l.find((e=>e.memberName===r));this.grid.moveDimension(e,t,c)}this.grid.dimensionsChange.emit({dimensions:i,dimensionCollectionType:t})}updateDropDown(e,t){this.value=e,t.width="200px",this.aggregateList=Nk.getAggregateList(e,this.grid),this.cdr.detectChanges(),t.open(this._subMenuOverlaySettings)}onSummaryClick(e,t,i){this._subMenuOverlaySettings.target=e.currentTarget,i.collapsed?this.updateDropDown(t,i):(i.close(),i.closed.pipe(ci()).subscribe((()=>{this.updateDropDown(t,i)})))}onAggregationChange(e){this.isSelected(e.newSelection.value)||(this.value.aggregate=e.newSelection.value,this.grid.pipeTrigger++,this.grid.cdr.markForCheck())}isSelected(e){return this.value.aggregate.key===e.key}ghostCreated(e,t){let{width:i}=e.owner.element.nativeElement.getBoundingClientRect();this.ghostWidth=i,this.ghostText=t,this.renderer.setStyle(e.owner.element.nativeElement,"position","absolute"),this.renderer.setStyle(e.owner.element.nativeElement,"visibility","hidden")}toggleItem(e){e&&this.grid.toggleValue(e),e&&this.grid.toggleDimension(e)}onPanelEntry(e,t){this.dropAllowed=e.dragData.gridID===this.grid.id&&e.dragData.selectorChannels?.some((e=>e===t))}onItemDragMove(e){let t=e.owner.element.nativeElement.getBoundingClientRect();this._dropDelta=Math.round((e.nextPageY-e.startY)/t.height)}onItemDragEnd(e){this.renderer.setStyle(e.owner.element.nativeElement,"position","static"),this.renderer.setStyle(e.owner.element.nativeElement,"visibility","visible")}onItemDragOver(e){this.dropAllowed&&this.renderer.addClass(e.owner.element.nativeElement,"igx-drag--push")}onItemDragLeave(e){this.dropAllowed&&this.renderer.removeClass(e.owner.element.nativeElement,"igx-drag--push")}getPanelCollapsed(e){switch(e){case Vk.Column:return!this.columnsExpanded;case Vk.Filter:return!this.filtersExpanded;case Vk.Row:return!this.rowsExpanded;default:return!this.valuesExpanded}}onCollapseChange(e,t){switch(t){case Vk.Column:this.columnsExpanded=!e,this.columnsExpandedChange.emit(this.columnsExpanded);break;case Vk.Filter:this.filtersExpanded=!e,this.filtersExpandedChange.emit(this.filtersExpanded);break;case Vk.Row:this.rowsExpanded=!e,this.rowsExpandedChange.emit(this.rowsExpanded);break;default:this.valuesExpanded=!e,this.valuesExpandedChange.emit(this.valuesExpanded)}}},t=e;return e.fac=function(t){return new(t||e)(Rd(hd),Rd(Jg))},e.cmp=Yn({type:e,selectors:[["igx-pivot-data-selector"]],hostVars:2,hostBindings:function(e,t){2&e&&Ah("igx-pivot-data-selector",t.cssClass)},inputs:{columnsExpanded:"columnsExpanded",rowsExpanded:"rowsExpanded",filtersExpanded:"filtersExpanded",valuesExpanded:"valuesExpanded",grid:"grid"},outputs:{columnsExpandedChange:"columnsExpandedChange",rowsExpandedChange:"rowsExpandedChange",filtersExpandedChange:"filtersExpandedChange",valuesExpandedChange:"valuesExpandedChange"},standalone:!0,features:[yu],decls:18,vars:14,consts:[[1,"igx-pivot-data-selector__filter"],["type","box",3,"displayDensity"],["igxPrefix",""],["igxInput","","tabindex","0","placeholder","Search","autocomplete","off"],["input",""],[3,"displayDensity"],[3,"id",4,"ngFor","ngForOf"],[3,"animationSettings","collapsed","collapsedChange",4,"ngFor","ngForOf"],[3,"selectionChanging"],["dropdown",""],[3,"selected","value",4,"ngFor","ngForOf"],["itemGhost",""],[3,"id"],[3,"aria-labelledby","disableRipple","checked","click"],[3,"animationSettings","collapsed","collapsedChange"],["iconPosition","left","igxDrop","",3,"disabled","enter","dropped"],[1,"igx-pivot-data-selector__header"],[1,"igx-pivot-data-selector__header-title"],[1,"igx-pivot-data-selector__header-extra"],["igxDrop","",3,"enter","dropped"],[3,"displayDensity",4,"ngIf"],["class","igx-pivot-data-selector__empty",4,"ngIf"],["igxDrop","",3,"igxDrag","ghostTemplate","id","ghostCreate","over","leave","dragMove","dragEnd","dropped",4,"ngFor","ngForOf"],["igxDrop","",3,"igxDrag","ghostTemplate","id","ghostCreate","over","leave","dragMove","dragEnd","dropped"],[1,"igx-pivot-data-selector__item"],[1,"igx-pivot-data-selector__item-start",3,"click"],[1,"igx-pivot-data-selector__item-text"],[4,"ngIf"],["class","igx-pivot-data-selector__action-sort",4,"ngIf"],[1,"igx-pivot-data-selector__item-end"],["class","igx-pivot-data-selector__action-filter",3,"pointerdown","click",4,"ngIf"],["class","igx-pivot-data-selector__action-summary",3,"igxDropDownItemNavigation","click",4,"ngIf"],["igxDragHandle","","class","igx-pivot-data-selector__action-move",4,"ngIf"],[1,"igx-pivot-data-selector__action-sort"],[1,"igx-pivot-data-selector__action-filter",3,"pointerdown","click"],[1,"igx-pivot-data-selector__action-summary",3,"igxDropDownItemNavigation","click"],["igxDragHandle","",1,"igx-pivot-data-selector__action-move"],[1,"igx-pivot-data-selector__empty"],[3,"selected","value"],[1,"igx-pivot-data-selector__item-ghost"],[1,"igx-pivot-data-selector__item-ghost-text"]],template:function(e,t){if(1&e&&(Yc(0,"div",0)(1,"igx-input-group",1)(2,"igx-icon",2),$h(3,"search"),Xc(),Zc(4,"input",3,4),Xc(),Yc(6,"igx-list",5),Wc(7,w5,4,5,"igx-list-item",6),Pu(8,"filterPivotItems"),Wc(9,C5,4,5,"igx-list-item",6),Pu(10,"filterPivotItems"),Xc()(),Yc(11,"igx-accordion"),Wc(12,P5,13,8,"igx-expansion-panel",7),Xc(),Yc(13,"igx-drop-down",8,9),oh("selectionChanging",(function(e){return t.onAggregationChange(e)})),Wc(15,M5,2,3,"igx-drop-down-item",10),Xc(),Wc(16,V5,8,5,"ng-template",null,11,_g)),2&e){let e=Kc(5);Ed(1),Uc("displayDensity",t.displayDensity),Ed(5),Uc("displayDensity",t.displayDensity),Ed(1),Uc("ngForOf",Nu(8,6,t.dims,e.value,null==t.grid?null:t.grid.pipeTrigger)),Ed(2),Uc("ngForOf",Nu(10,10,t.values,e.value,null==t.grid?null:t.grid.pipeTrigger)),Ed(3),Uc("ngForOf",t._panels),Ed(3),Uc("ngForOf",t.aggregateList)}},dependencies:[kT,FI,gI,cI,JH,bm,WH,gk,jR,GR,PR,NT,DR,WF,bR,Em,VT,rI,PT,YA,jA,JQ],encapsulation:2}),t})();function L5(e){return new zi(3e3,!1)}function H5(e){switch(e.length){case 0:return new cy;case 1:return e[0];default:return new hy(e)}}function B5(e,t,i=new Map,n=new Map){let r=[],s=[],o=-1,a=null;if(t.forEach((t=>{let l=t.get("offset"),d=l==o,c=d&&a||new Map;t.forEach(((t,s)=>{let o=s,a=t;if("offset"!==s)switch(o=e.normalizePropertyName(o,r),a){case"!":a=i.get(s);break;case ty:a=n.get(s);break;default:a=e.normalizeStyleValue(s,o,a,r)}c.set(o,a)})),d||s.push(c),a=c,o=l})),r.length)throw new zi(3502,!1);return s}function G5(e,t,i,n){switch(t){case"start":e.onStart((()=>n(i&&z5(i,"start",e))));break;case"done":e.onDone((()=>n(i&&z5(i,"done",e))));break;case"destroy":e.onDestroy((()=>n(i&&z5(i,"destroy",e))))}}function z5(e,t,i){let n=i.totalTime,r=!!i.disabled,s=$5(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n??e.totalTime,r),o=e._data;return null!=o&&(s._data=o),s}function $5(e,t,i,n,r="",s=0,o){return{element:e,triggerName:t,fromState:i,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function W5(e,t,i){let n=e.get(t);return n||e.set(t,n=i),n}function j5(e){let t=e.indexOf(":");return[e.substring(1,t),e.slice(t+1)]}var K5=typeof document>"u"?null:document.documentElement;function U5(e){let t=e.parentNode||e.host||null;return t===K5?null:t}var q5=null,Y5=!1;function X5(e,t){for(;t;){if(t===e)return!0;t=U5(t)}return!1}function Z5(e,t,i){if(i)return Array.from(e.querySelectorAll(t));let n=e.querySelector(t);return n?[n]:[]}var Q5=(()=>{let e=class{validateStyleProperty(e){return function(e){q5||(q5=(typeof document<"u"?document.body:null)||{},Y5=!!q5.style&&"WebkitAppearance"in q5.style);let t=!0;return q5.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in q5.style,!t&&Y5&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in q5.style)),t}(e)}matchesElement(e,t){return!1}containsElement(e,t){return X5(e,t)}getParentElement(e){return U5(e)}query(e,t,i){return Z5(e,t,i)}computeStyle(e,t,i){return i||""}animate(e,t,i,n,r,s=[],o){return new cy(i,n)}},t=e;return e.fac=function(t){return new(t||e)},e.prov=ji({token:e,factory:e.fac}),t})(),J5=(()=>{let e=class{},t=e;return e.NOOP=new Q5,t})(),e6=1e3,t6="ng-enter",i6="ng-leave",n6="ng-trigger",r6=".ng-trigger",s6="ng-animating",o6=".ng-animating";function a6(e){if("number"==typeof e)return e;let t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:l6(parseFloat(t[1]),t[2])}function l6(e,t){return"s"===t?e*e6:e}function d6(e,t,i){return e.hasOwnProperty("duration")?e:function(e,t,i){let n,r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,s=0,o="";if("string"==typeof e){let i=e.match(r);if(null===i)return t.push(L5()),{duration:0,delay:0,easing:""};n=l6(parseFloat(i[1]),i[2]);let a=i[3];null!=a&&(s=l6(parseFloat(a),i[4]));let l=i[5];l&&(o=l)}else n=e;if(!i){let e=!1,i=t.length;n<0&&(t.push(new zi(3100,!1)),e=!0),s<0&&(t.push(new zi(3101,!1)),e=!0),e&&t.splice(i,0,L5())}return{duration:n,delay:s,easing:o}}(e,t,i)}function c6(e,t={}){return Object.keys(e).forEach((i=>{t[i]=e[i]})),t}function h6(e){let t=new Map;return Object.keys(e).forEach((i=>{let n=e[i];t.set(i,n)})),t}function u6(e,t=new Map,i){if(i)for(let[e,n]of i)t.set(e,n);for(let[i,n]of e)t.set(i,n);return t}function g6(e,t,i){t.forEach(((t,n)=>{let r=w6(n);i&&!i.has(n)&&i.set(n,e.style[r]),e.style[r]=t}))}function p6(e,t){t.forEach(((t,i)=>{let n=w6(i);e.style[n]=""}))}function m6(e){return Array.isArray(e)?1==e.length?e[0]:ry(e):e}var f6=new RegExp("{{\\s*(.+?)\\s*}}","g");function y6(e){let t=[];if("string"==typeof e){let i;for(;i=f6.exec(e);)t.push(i[1]);f6.lastIndex=0}return t}function v6(e,t,i){let n=e.toString(),r=n.replace(f6,((e,n)=>{let r=t[n];return null==r&&(i.push(new zi(3003,!1)),r=""),r.toString()}));return r==n?e:r}function x6(e){let t=[],i=e.next();for(;!i.done;)t.push(i.value),i=e.next();return t}var _6=/-+([a-z0-9])/g;function w6(e){return e.replace(_6,((...e)=>e[1].toUpperCase()))}function C6(e,t,i){switch(t.type){case 7:return e.visitTrigger(t,i);case 0:return e.visitState(t,i);case 1:return e.visitTransition(t,i);case 2:return e.visitSequence(t,i);case 3:return e.visitGroup(t,i);case 4:return e.visitAnimate(t,i);case 5:return e.visitKeyframes(t,i);case 6:return e.visitStyle(t,i);case 8:return e.visitReference(t,i);case 9:return e.visitAnimateChild(t,i);case 10:return e.visitAnimateRef(t,i);case 11:return e.visitQuery(t,i);case 12:return e.visitStagger(t,i);default:throw t.type,new zi(3004,!1)}}function S6(e,t){return window.getComputedStyle(e)[t]}var b6="*";function D6(e,t){let i=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach((e=>function(e,t,i){if(":"==e[0]){let n=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(new zi(3016,!1)),"* => *"}}(e,i);if("function"==typeof n)return void t.push(n);e=n}let n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return i.push(new zi(3015,!1)),t;let r=n[1],s=n[2],o=n[3];t.push(T6(r,o));let a=r==b6&&o==b6;"<"==s[0]&&!a&&t.push(T6(o,r))}(e,i,t))):i.push(e),i}var E6=new Set(["true","1"]),I6=new Set(["false","0"]);function T6(e,t){let i=E6.has(e)||I6.has(e),n=E6.has(t)||I6.has(t);return(r,s)=>{let o=e==b6||e==r,a=t==b6||t==s;return!o&&i&&"boolean"==typeof r&&(o=r?E6.has(e):I6.has(e)),!a&&n&&"boolean"==typeof s&&(a=s?E6.has(t):I6.has(t)),o&&a}}var A6=":self",k6=new RegExp(`s*${A6}s*,?`,"g");function R6(e,t,i,n){return new O6(e).build(t,i,n)}var O6=class{constructor(e){this._driver=e}build(e,t,i){let n=new F6(t);return this._resetContextStyleTimingState(n),C6(this,m6(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,n=t.depCount=0,r=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(new zi(3006,!1)),e.definitions.forEach((e=>{if(this._resetContextStyleTimingState(t),0==e.type){let i=e,n=i.name;n.toString().split(/\s*,\s*/).forEach((e=>{i.name=e,r.push(this.visitState(i,t))})),i.name=n}else if(1==e.type){let r=this.visitTransition(e,t);i+=r.queryCount,n+=r.depCount,s.push(r)}else t.errors.push(new zi(3007,!1))})),{type:7,name:e.name,states:r,transitions:s,queryCount:i,depCount:n,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),n=e.options&&e.options.params||null;if(i.containsDynamicStyles){let r=new Set,s=n||{};i.styles.forEach((e=>{e instanceof Map&&e.forEach((e=>{y6(e).forEach((e=>{s.hasOwnProperty(e)||r.add(e)}))}))})),r.size&&(x6(r.values()),t.errors.push((e.name,new zi(3008,!1))))}return{type:0,name:e.name,style:i,options:n?{params:n}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=C6(this,m6(e.animation),t);return{type:1,matchers:D6(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:P6(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map((e=>C6(this,e,t))),options:P6(e.options)}}visitGroup(e,t){let i=t.currentTime,n=0,r=e.steps.map((e=>{t.currentTime=i;let r=C6(this,e,t);return n=Math.max(n,t.currentTime),r}));return t.currentTime=n,{type:3,steps:r,options:P6(e.options)}}visitAnimate(e,t){let i=function(e,t){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return M6(d6(e,t).duration,0,"");let i=e;if(i.split(/\s+/).some((e=>"{"==e.charAt(0)&&"{"==e.charAt(1)))){let e=M6(0,0,"");return e.dynamic=!0,e.strValue=i,e}let n=d6(i,t);return M6(n.duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let n,r=e.styles?e.styles:sy({});if(5==r.type)n=this.visitKeyframes(r,t);else{let r=e.styles,s=!1;if(!r){s=!0;let e={};i.easing&&(e.easing=i.easing),r=sy(e)}t.currentTime+=i.duration+i.delay;let o=this.visitStyle(r,t);o.isEmptyStep=s,n=o}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],n=Array.isArray(e.styles)?e.styles:[e.styles];for(let e of n)"string"==typeof e?e===ty?i.push(e):t.errors.push(new zi(3002,!1)):i.push(h6(e));let r=!1,s=null;return i.forEach((e=>{if(e instanceof Map&&(e.has("easing")&&(s=e.get("easing"),e.delete("easing")),!r))for(let t of e.values())if(t.toString().indexOf("{{")>=0){r=!0;break}})),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,n=t.currentTime,r=t.currentTime;i&&r>0&&(r-=i.duration+i.delay),e.styles.forEach((e=>{"string"!=typeof e&&e.forEach(((e,i)=>{let s=t.collectedStyles.get(t.currentQuerySelector),o=s.get(i),a=!0;o&&(r!=n&&r>=o.startTime&&n<=o.endTime&&(t.errors.push((o.startTime,o.endTime,new zi(3010,!1))),a=!1),r=o.startTime),a&&s.set(i,{startTime:r,endTime:n}),t.options&&function(e,t,i){let n=t.params||{},r=y6(e);r.length&&r.forEach((e=>{n.hasOwnProperty(e)||i.push(new zi(3001,!1))}))}(e,t.options,t.errors)}))}))}visitKeyframes(e,t){let i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(new zi(3011,!1)),i;let n=0,r=[],s=!1,o=!1,a=0,l=e.steps.map((e=>{let i=this._makeStyleAst(e,t),l=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach((e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}}));else if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}return t}(i.styles),d=0;return null!=l&&(n++,d=i.offset=l),o=o||d<0||d>1,s=s||d<a,a=d,r.push(d),i}));o&&t.errors.push(new zi(3012,!1)),s&&t.errors.push(new zi(3200,!1));let d=e.steps.length,c=0;n>0&&n<d?t.errors.push(new zi(3202,!1)):0==n&&(c=1/(d-1));let h=d-1,u=t.currentTime,g=t.currentAnimateTimings,p=g.duration;return l.forEach(((e,n)=>{let s=c>0?n==h?1:c*n:r[n],o=s*p;t.currentTime=u+g.delay+o,g.duration=o,this._validateStyleAst(e,t),e.offset=s,i.styles.push(e)})),i}visitReference(e,t){return{type:8,animation:C6(this,m6(e.animation),t),options:P6(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:P6(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:P6(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,n=e.options||{};t.queryCount++,t.currentQuery=e;let[r,s]=function(e){let t=!!e.split(/\s*,\s*/).find((e=>e==A6));return t&&(e=e.replace(k6,"")),e=e.replace(/@\*/g,r6).replace(/@\w+/g,(e=>r6+"-"+e.slice(1))).replace(/:animating/g,o6),[e,t]}(e.selector);t.currentQuerySelector=i.length?i+" "+r:r,W5(t.collectedStyles,t.currentQuerySelector,new Map);let o=C6(this,m6(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:r,limit:n.limit||0,optional:!!n.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:P6(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(new zi(3013,!1));let i="full"===e.timings?{duration:0,delay:0,easing:"full"}:d6(e.timings,t.errors,!0);return{type:12,animation:C6(this,m6(e.animation),t),timings:i,options:null}}},F6=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function P6(e){return e?(e=c6(e)).params&&(e.params=function(e){return e?c6(e):null}(e.params)):e={},e}function M6(e,t,i){return{duration:e,delay:t,easing:i}}function V6(e,t,i,n,r,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:i,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var N6=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},L6=new RegExp(":enter","g"),H6=new RegExp(":leave","g");function B6(e,t,i,n,r,s=new Map,o=new Map,a,l,d=[]){return(new G6).buildKeyframes(e,t,i,n,r,s,o,a,l,d)}var G6=class{buildKeyframes(e,t,i,n,r,s,o,a,l,d=[]){l=l||new N6;let c=new $6(e,t,l,n,r,d,[]);c.options=a;let h=a.delay?a6(a.delay):0;c.currentTimeline.delayNextStep(h),c.currentTimeline.setStyles([s],null,c.errors,a),C6(this,i,c);let u=c.timelines.filter((e=>e.containsAnimation()));if(u.length&&o.size){let e;for(let i=u.length-1;i>=0;i--){let n=u[i];if(n.element===t){e=n;break}}e&&!e.allowOnlyTimelineStyles()&&e.setStyles([o],null,c.errors,a)}return u.length?u.map((e=>e.buildKeyframes())):[V6(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let n=t.createSubContext(e.options),r=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,n,n.options);r!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let n of e){let e=n?.delay;if(e){let r="number"==typeof e?e:a6(v6(e,n?.params??{},t.errors));i.delayNextStep(r)}}}_visitSubInstructions(e,t,i){let n=t.currentTimeline.currentTime,r=null!=i.duration?a6(i.duration):null,s=null!=i.delay?a6(i.delay):null;return 0!==r&&e.forEach((e=>{let i=t.appendInstructionToTimeline(e,r,s);n=Math.max(n,i.duration+i.delay)})),n}visitReference(e,t){t.updateOptions(e.options,!0),C6(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,n=t,r=e.options;if(r&&(r.params||r.delay)&&(n=t.createSubContext(r),n.transformIntoNewTimeline(),null!=r.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=z6);let e=a6(r.delay);n.delayNextStep(e)}e.steps.length&&(e.steps.forEach((e=>C6(this,e,n))),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],n=t.currentTimeline.currentTime,r=e.options&&e.options.delay?a6(e.options.delay):0;e.steps.forEach((s=>{let o=t.createSubContext(e.options);r&&o.delayNextStep(r),C6(this,s,o),n=Math.max(n,o.currentTimeline.currentTime),i.push(o.currentTimeline)})),i.forEach((e=>t.currentTimeline.mergeTimelineCollectedStyles(e))),t.transformIntoNewTimeline(n),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue;return d6(t.params?v6(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),n=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),n.snapshotCurrentStyles());let r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(i.duration),this.visitStyle(r,t),n.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,n=t.currentAnimateTimings;!n&&i.hasCurrentStyleProperties()&&i.forwardFrame();let r=n&&n.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(r):i.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,n=t.currentTimeline.duration,r=i.duration,s=t.createSubContext().currentTimeline;s.easing=i.easing,e.styles.forEach((e=>{let i=e.offset||0;s.forwardTime(i*r),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(n+r),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,n=e.options||{},r=n.delay?a6(n.delay):0;r&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=z6);let s=i,o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!n.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach(((i,n)=>{t.currentQueryIndex=n;let o=t.createSubContext(e.options,i);r&&o.delayNextStep(r),i===t.element&&(a=o.currentTimeline),C6(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe();let l=o.currentTimeline.currentTime;s=Math.max(s,l)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,n=t.currentTimeline,r=e.timings,s=Math.abs(r.duration),o=s*(t.currentQueryTotal-1),a=s*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=i.currentStaggerTime}let l=t.currentTimeline;a&&l.delayNextStep(a);let d=l.currentTime;C6(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=n.currentTime-d+(n.startTime-i.currentTimeline.startTime)}},z6={},$6=class{constructor(e,t,i,n,r,s,o,a){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=z6,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new W6(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,n=this.options;null!=i.duration&&(n.duration=a6(i.duration)),null!=i.delay&&(n.delay=a6(i.delay));let r=i.params;if(r){let e=n.params;e||(e=this.options.params={}),Object.keys(r).forEach((i=>{(!t||!e.hasOwnProperty(i))&&(e[i]=v6(r[i],e,this.errors))}))}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach((e=>{i[e]=t[e]}))}}return e}createSubContext(e=null,t,i){let n=t||this.element,r=new $6(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=z6,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let n={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},r=new j6(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,n,e.stretchStartingKeyframe);return this.timelines.push(r),n}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,n,r,s){let o=[];if(n&&o.push(this.element),e.length>0){e=(e=e.replace(L6,"."+this._enterClassName)).replace(H6,"."+this._leaveClassName);let t=1!=i,n=this._driver.query(this.element,e,t);0!==i&&(n=i<0?n.slice(n.length+i,n.length):n.slice(0,i)),o.push(...n)}return!r&&0==o.length&&s.push(new zi(3014,!1)),o}},W6=class{constructor(e,t,i,n){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=n,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new W6(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[e,t]of this._globalTimelineStyles)this._backFill.set(e,t||ty),this._currentKeyframe.set(e,ty);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,n){t&&this._previousKeyframe.set("easing",t);let r=n&&n.params||{},s=function(e,t){let i,n=new Map;return e.forEach((e=>{if("*"===e){i=i||t.keys();for(let e of i)n.set(e,ty)}else u6(e,n)})),n}(e,this._globalTimelineStyles);for(let[e,t]of s){let n=v6(t,r,i);this._pendingStyles.set(e,n),this._localTimelineStyles.has(e)||this._backFill.set(e,this._globalTimelineStyles.get(e)??ty),this._updateStyle(e,n)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach(((e,t)=>{this._currentKeyframe.set(t,e)})),this._pendingStyles.clear(),this._localTimelineStyles.forEach(((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)})))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach(((e,t)=>{let i=this._styleSummary.get(t);(!i||e.time>i.time)&&this._updateStyle(t,e.value)}))}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration,n=[];this._keyframes.forEach(((r,s)=>{let o=u6(r,new Map,this._backFill);o.forEach(((i,n)=>{"!"===i?e.add(n):i===ty&&t.add(n)})),i||o.set("offset",s/this.duration),n.push(o)}));let r=e.size?x6(e.values()):[],s=t.size?x6(t.values()):[];if(i){let e=n[0],t=new Map(e);e.set("offset",0),t.set("offset",1),n=[e,t]}return V6(this.element,n,r,s,this.duration,this.startTime,this.easing,!1)}},j6=class extends W6{constructor(e,t,i,n,r,s,o=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=n,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&t){let r=[],s=i+t,o=t/s,a=u6(e[0]);a.set("offset",0),r.push(a);let l=u6(e[0]);l.set("offset",K6(o)),r.push(l);let d=e.length-1;for(let n=1;n<=d;n++){let o=u6(e[n]),a=t+o.get("offset")*i;o.set("offset",K6(a/s)),r.push(o)}i=s,t=0,n="",e=r}return V6(this.element,e,this.preStyleProps,this.postStyleProps,i,t,n,!0)}};function K6(e,t=3){let i=Math.pow(10,t-1);return Math.round(e*i)/i}var U6=class{},q6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Y6=class extends U6{normalizePropertyName(e,t){return w6(e)}normalizeStyleValue(e,t,i,n){let r="",s=i.toString().trim();if(q6.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{let e=i.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&n.push(new zi(3005,!1))}return s+r}};function X6(e,t,i,n,r,s,o,a,l,d,c,h,u){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:i,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:d,postStyleProps:c,totalTime:h,errors:u}}var Z6={},Q6=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,n){return function(e,t,i,n,r){return e.some((e=>e(t,i,n,r)))}(this.ast.matchers,e,t,i,n)}buildStyles(e,t,i){let n=this._stateStyles.get("*");return void 0!==e&&(n=this._stateStyles.get(e?.toString())||n),n?n.buildStyles(t,i):new Map}build(e,t,i,n,r,s,o,a,l,d){let c=[],h=this.ast.options&&this.ast.options.params||Z6,u=o&&o.params||Z6,g=this.buildStyles(i,u,c),p=a&&a.params||Z6,m=this.buildStyles(n,p,c),f=new Set,y=new Map,v=new Map,x="void"===n,_={params:J6(p,h),delay:this.ast.options?.delay},w=d?[]:B6(e,t,this.ast.animation,r,s,g,m,_,l,c),C=0;if(w.forEach((e=>{C=Math.max(e.duration+e.delay,C)})),c.length)return X6(t,this._triggerName,i,n,x,g,m,[],[],y,v,C,c);w.forEach((e=>{let i=e.element,n=W5(y,i,new Set);e.preStyleProps.forEach((e=>n.add(e)));let r=W5(v,i,new Set);e.postStyleProps.forEach((e=>r.add(e))),i!==t&&f.add(i)}));let S=x6(f.values());return X6(t,this._triggerName,i,n,x,g,m,w,S,y,v,C)}};function J6(e,t){let i=c6(t);for(let t in e)e.hasOwnProperty(t)&&null!=e[t]&&(i[t]=e[t]);return i}function e8(e,t,i){e.has(t)?e.has(i)||e.set(i,e.get(t)):e.has(i)&&e.set(t,e.get(i))}var t8=new N6,i8="ng-animate-queued",n8="ng-animate-disabled",r8=[],s8={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},o8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},a8="__ng_removed",l8=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),n=i?e.value:e;if(this.value=function(e){return e??null}(n),i){let t=c6(e);delete t.value,this.options=t}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let e=this.options.params;Object.keys(t).forEach((i=>{null==e[i]&&(e[i]=t[i])}))}}},d8="void",c8=new l8(d8),h8=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new cy,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach(((t,i)=>{t.forEach((t=>G5(e,i,void 0,t)))})),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart((()=>t.triggerCallback("start"))),e.onDone((()=>this.finish())),e.onDestroy((()=>this.destroy()))}_queueEvent(e,t){W5(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function u8(e){return e&&1===e.nodeType}function g8(e,t){let i=e.style.display;return e.style.display=t??"none",i}function p8(e,t,i,n,r){let s=[];i.forEach((e=>s.push(g8(e))));let o=[];n.forEach(((i,n)=>{let s=new Map;i.forEach((e=>{let i=t.computeStyle(n,e,r);s.set(e,i),(!i||0==i.length)&&(n[a8]=o8,o.push(n))})),e.set(n,s)}));let a=0;return i.forEach((e=>g8(e,s[a++]))),o}function m8(e,t){let i=new Map;if(e.forEach((e=>i.set(e,[]))),0==t.length)return i;let n=new Set(t),r=new Map;function s(e){if(!e)return 1;let t=r.get(e);if(t)return t;let o=e.parentNode;return t=i.has(o)?o:n.has(o)?1:s(o),r.set(e,t),t}return t.forEach((e=>{let t=s(e);1!==t&&i.get(t).push(e)})),i}function f8(e,t){e.classList?.add(t)}function y8(e,t){e.classList?.remove(t)}function v8(e,t,i){H5(i).onDone((()=>e.processLeaveNode(t)))}function x8(e,t){for(let i=0;i<e.length;i++){let n=e[i];n instanceof hy?x8(n.players,t):t.push(n)}}function _8(e,t,i){let n=i.get(e);if(!n)return!1;let r=t.get(e);return r?n.forEach((e=>r.add(e))):t.set(e,n),i.delete(e),!0}var w8=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach((t=>{t.players.forEach((t=>{t.queued&&e.push(t)}))})),e}createNamespace(e,t){let i=new class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,f8(t,this._hostClassName)}listen(e,t,i,n){if(!this._triggers.has(t))throw new zi(3302,!1);if(null==i||0==i.length)throw new zi(3303,!1);if(!function(e){return"start"==e||"done"==e}(i))throw new zi(3400,!1);let r=W5(this._elementListeners,e,[]),s={name:t,phase:i,callback:n};r.push(s);let o=W5(this._engine.statesByElement,e,new Map);return o.has(t)||(f8(e,n6),f8(e,n6+"-"+t),o.set(t,c8)),()=>{this._engine.afterFlush((()=>{let e=r.indexOf(s);e>=0&&r.splice(e,1),this._triggers.has(t)||o.delete(t)}))}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw new zi(3401,!1);return t}trigger(e,t,i,n=!0){let r=this._getTrigger(t),s=new h8(this.id,t,e),o=this._engine.statesByElement.get(e);o||(f8(e,n6),f8(e,n6+"-"+t),this._engine.statesByElement.set(e,o=new Map));let a=o.get(t),l=new l8(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o.set(t,l),a||(a=c8),l.value!==d8&&a.value===l.value){if(!function(e,t){let i=Object.keys(e),n=Object.keys(t);if(i.length!=n.length)return!1;for(let n=0;n<i.length;n++){let r=i[n];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,l.params)){let t=[],i=r.matchStyles(a.value,a.params,t),n=r.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush((()=>{p6(e,i),g6(e,n)}))}return}let d=W5(this._engine.playersByElement,e,[]);d.forEach((e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()}));let c=r.matchTransition(a.value,l.value,e,l.params),h=!1;if(!c){if(!n)return;c=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:c,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(f8(e,i8),s.onStart((()=>{y8(e,i8)}))),s.onDone((()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);let i=this._engine.playersByElement.get(e);if(i){let e=i.indexOf(s);e>=0&&i.splice(e,1)}})),this.players.push(s),d.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach((t=>t.delete(e))),this._elementListeners.forEach(((t,i)=>{this._elementListeners.set(i,t.filter((t=>t.name!=e)))}))}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach((e=>e.destroy())),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,r6,!0);i.forEach((e=>{if(e[a8])return;let i=this._engine.fetchNamespacesByElement(e);i.size?i.forEach((i=>i.triggerLeaveAnimation(e,t,!1,!0))):this.clearElementCache(e)})),this._engine.afterFlushAnimationsDone((()=>i.forEach((e=>this.clearElementCache(e)))))}triggerLeaveAnimation(e,t,i,n){let r=this._engine.statesByElement.get(e),s=new Map;if(r){let o=[];if(r.forEach(((t,i)=>{if(s.set(i,t.value),this._triggers.has(i)){let t=this.trigger(e,i,d8,n);t&&o.push(t)}})),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&H5(o).onDone((()=>this._engine.processLeaveNode(e))),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let n=new Set;t.forEach((t=>{let r=t.name;if(n.has(r))return;n.add(r);let s=this._triggers.get(r).fallbackTransition,o=i.get(r)||c8,a=new l8(d8),l=new h8(this.id,r,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:s,fromState:o,toState:a,player:l,isFallbackTransition:!0})}))}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let n=!1;if(i.totalAnimations){let t=i.players.length?i.playersByQueriedElement.get(e):[];if(t&&t.length)n=!0;else{let t=e;for(;t=t.parentNode;)if(i.statesByElement.get(t)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(e),n)i.markElementAsRemoved(this.id,e,!1,t);else{let n=e[a8];(!n||n===s8)&&(i.afterFlush((()=>this.clearElementCache(e))),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){f8(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach((i=>{let n=i.player;if(n.destroyed)return;let r=i.element,s=this._elementListeners.get(r);s&&s.forEach((t=>{if(t.name==i.triggerName){let n=$5(r,i.triggerName,i.fromState.value,i.toState.value);n._data=e,G5(i.player,t.phase,n,t.callback)}})),n.markedForDestroy?this._engine.afterFlush((()=>{n.destroy()})):t.push(i)})),this._queue=[],t.sort(((e,t)=>{let i=e.transition.ast.depCount,n=t.transition.ast.depCount;return 0==i||0==n?i-n:this._engine.driver.containsElement(e.element,t.element)?1:-1}))}destroy(e){this.players.forEach((e=>e.destroy())),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find((t=>t.element===e))||t,t}}(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,n=this.namespacesByHostElement;if(i.length-1>=0){let r=!1,s=this.driver.getParentElement(t);for(;s;){let t=n.get(s);if(t){let n=i.indexOf(t);i.splice(n+1,0,e),r=!0;break}s=this.driver.getParentElement(s)}r||i.unshift(e)}else i.push(e);return n.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let n=this._namespaceLookup[e];n&&n.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;let i=this._fetchNamespace(e);this.afterFlush((()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];let t=this._namespaceList.indexOf(i);t>=0&&this._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((()=>i.destroy(t)))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i)for(let e of i.values())if(e.namespaceId){let i=this._fetchNamespace(e.namespaceId);i&&t.add(i)}return t}trigger(e,t,i,n){if(u8(t)){let r=this._fetchNamespace(e);if(r)return r.trigger(t,i,n),!0}return!1}insertNode(e,t,i,n){if(!u8(t))return;let r=t[a8];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){let n=this._fetchNamespace(e);n&&n.insertNode(t,i)}n&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),f8(e,n8)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),y8(e,n8))}removeNode(e,t,i){if(u8(t)){let n=e?this._fetchNamespace(e):null;n?n.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let r=this.namespacesByHostElement.get(t);r&&r.id!==e&&r.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,n,r){this.collectedLeaveElements.push(t),t[a8]={namespaceId:e,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(e,t,i,n,r){return u8(t)?this._fetchNamespace(e).listen(t,i,n,r):()=>{}}_buildInstruction(e,t,i,n,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,n,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,r6,!0);t.forEach((e=>this.destroyActiveAnimationsForElement(e))),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,o6,!0),t.forEach((e=>this.finishActiveQueriedAnimationOnElement(e))))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach((e=>{e.queued?e.markedForDestroy=!0:e.destroy()}))}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach((e=>e.finish()))}whenRenderingDone(){return new Promise((e=>{if(this.players.length)return H5(this.players).onDone((()=>e()));e()}))}processLeaveNode(e){let t=e[a8];if(t&&t.setForRemoval){if(e[a8]=s8,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(n8)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((e=>{this.markElementAsDisabled(e,!1)}))}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach(((e,t)=>this._balanceNamespaceList(e,t))),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let e=0;e<this.collectedEnterElements.length;e++)f8(this.collectedEnterElements[e],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let e=0;e<i.length;e++)i[e]()}}else for(let e=0;e<this.collectedLeaveElements.length;e++){let t=this.collectedLeaveElements[e];this.processLeaveNode(t)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((e=>e())),this._flushFns=[],this._whenQuietFns.length){let e=this._whenQuietFns;this._whenQuietFns=[],t.length?H5(t).onDone((()=>{e.forEach((e=>e()))})):e.forEach((e=>e()))}}reportError(e){throw new zi(3402,!1)}_flushAnimations(e,t){let i=new N6,n=[],r=new Map,s=[],o=new Map,a=new Map,l=new Map,d=new Set;this.disabledNodes.forEach((e=>{d.add(e);let t=this.driver.query(e,".ng-animate-queued",!0);for(let e=0;e<t.length;e++)d.add(t[e])}));let c=this.bodyNode,h=Array.from(this.statesByElement.keys()),u=m8(h,this.collectedEnterElements),g=new Map,p=0;u.forEach(((e,t)=>{let i=t6+p++;g.set(t,i),e.forEach((e=>f8(e,i)))}));let m=[],f=new Set,y=new Set;for(let e=0;e<this.collectedLeaveElements.length;e++){let t=this.collectedLeaveElements[e],i=t[a8];i&&i.setForRemoval&&(m.push(t),f.add(t),i.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach((e=>f.add(e))):y.add(t))}let v=new Map,x=m8(h,Array.from(f));x.forEach(((e,t)=>{let i=i6+p++;v.set(t,i),e.forEach((e=>f8(e,i)))})),e.push((()=>{u.forEach(((e,t)=>{let i=g.get(t);e.forEach((e=>y8(e,i)))})),x.forEach(((e,t)=>{let i=v.get(t);e.forEach((e=>y8(e,i)))})),m.forEach((e=>{this.processLeaveNode(e)}))}));let _=[],w=[];for(let e=this._namespaceList.length-1;e>=0;e--)this._namespaceList[e].drainQueuedTransitions(t).forEach((e=>{let t=e.player,r=e.element;if(_.push(t),this.collectedEnterElements.length){let i=r[a8];if(i&&i.setForMove){if(i.previousTriggersValues&&i.previousTriggersValues.has(e.triggerName)){let t=i.previousTriggersValues.get(e.triggerName),n=this.statesByElement.get(e.element);if(n&&n.has(e.triggerName)){let i=n.get(e.triggerName);i.value=t,n.set(e.triggerName,i)}}return void t.destroy()}}let d=!c||!this.driver.containsElement(c,r),h=v.get(r),u=g.get(r),p=this._buildInstruction(e,i,u,h,d);if(p.errors&&p.errors.length)return void w.push(p);if(d)return t.onStart((()=>p6(r,p.fromStyles))),t.onDestroy((()=>g6(r,p.toStyles))),void n.push(t);if(e.isFallbackTransition)return t.onStart((()=>p6(r,p.fromStyles))),t.onDestroy((()=>g6(r,p.toStyles))),void n.push(t);let m=[];p.timelines.forEach((e=>{e.stretchStartingKeyframe=!0,this.disabledNodes.has(e.element)||m.push(e)})),p.timelines=m,i.append(r,p.timelines);let f={instruction:p,player:t,element:r};s.push(f),p.queriedElements.forEach((e=>W5(o,e,[]).push(t))),p.preStyleProps.forEach(((e,t)=>{if(e.size){let i=a.get(t);i||a.set(t,i=new Set),e.forEach(((e,t)=>i.add(t)))}})),p.postStyleProps.forEach(((e,t)=>{let i=l.get(t);i||l.set(t,i=new Set),e.forEach(((e,t)=>i.add(t)))}))}));if(w.length){let e=[];w.forEach((t=>{e.push((t.triggerName,t.errors,new zi(3505,!1)))})),_.forEach((e=>e.destroy())),this.reportError(e)}let C=new Map,S=new Map;s.forEach((e=>{let t=e.element;i.has(t)&&(S.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,C))})),n.forEach((e=>{let t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((e=>{W5(C,t,[]).push(e),e.destroy()}))}));let b=m.filter((e=>_8(e,a,l))),D=new Map;p8(D,this.driver,y,l,ty).forEach((e=>{_8(e,a,l)&&b.push(e)}));let E=new Map;u.forEach(((e,t)=>{p8(E,this.driver,new Set(e),a,"!")})),b.forEach((e=>{let t=D.get(e),i=E.get(e);D.set(e,new Map([...t?.entries()??[],...i?.entries()??[]]))}));let I=[],T=[],A={};s.forEach((e=>{let{element:t,player:s,instruction:o}=e;if(i.has(t)){if(d.has(t))return s.onDestroy((()=>g6(t,o.toStyles))),s.disabled=!0,s.overrideTotalTime(o.totalTime),void n.push(s);let e=A;if(S.size>1){let i=t,n=[];for(;i=i.parentNode;){let t=S.get(i);if(t){e=t;break}n.push(i)}n.forEach((t=>S.set(t,e)))}let i=this._buildAnimation(s.namespaceId,o,C,r,E,D);if(s.setRealPlayer(i),e===A)I.push(s);else{let t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=H5(t)),n.push(s)}}else p6(t,o.fromStyles),s.onDestroy((()=>g6(t,o.toStyles))),T.push(s),d.has(t)&&n.push(s)})),T.forEach((e=>{let t=r.get(e.element);if(t&&t.length){let i=H5(t);e.setRealPlayer(i)}})),n.forEach((e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(let e=0;e<m.length;e++){let t=m[e],i=t[a8];if(y8(t,i6),i&&i.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,o6,!0);for(let e=0;e<i.length;e++){let t=o.get(i[e]);t&&t.length&&n.push(...t)}}let r=n.filter((e=>!e.destroyed));r.length?v8(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach((e=>{this.players.push(e),e.onDone((()=>{e.destroy();let t=this.players.indexOf(e);this.players.splice(t,1)})),e.play()})),I}elementContainsData(e,t){let i=!1,n=t[a8];return n&&n.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,n,r){let s=[];if(t){let t=this.playersByQueriedElement.get(e);t&&(s=t)}else{let t=this.playersByElement.get(e);if(t){let e=!r||r==d8;t.forEach((t=>{t.queued||!e&&t.triggerName!=n||s.push(t)}))}}return(i||n)&&(s=s.filter((e=>!(i&&i!=e.namespaceId||n&&n!=e.triggerName)))),s}_beforeAnimationBuild(e,t,i){let n=t.triggerName,r=t.element,s=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:n;for(let e of t.timelines){let n=e.element,a=n!==r,l=W5(i,n,[]);this._getPreviousPlayers(n,a,s,o,t.toState).forEach((e=>{let t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)}))}p6(r,t.fromStyles)}_buildAnimation(e,t,i,n,r,s){let o=t.triggerName,a=t.element,l=[],d=new Set,c=new Set,h=t.timelines.map((t=>{let h=t.element;d.add(h);let u=h[a8];if(u&&u.removedBeforeQueried)return new cy(t.duration,t.delay);let g=h!==a,p=function(e){let t=[];return x8(e,t),t}((i.get(h)||r8).map((e=>e.getRealPlayer()))).filter((e=>{let t=e;return!!t.element&&t.element===h})),m=r.get(h),f=s.get(h),y=B5(this._normalizer,t.keyframes,m,f),v=this._buildPlayer(t,y,p);if(t.subTimeline&&n&&c.add(h),g){let t=new h8(e,o,h);t.setRealPlayer(v),l.push(t)}return v}));l.forEach((e=>{W5(this.playersByQueriedElement,e.element,[]).push(e),e.onDone((()=>function(e,t,i){let n=e.get(t);if(n){if(n.length){let e=n.indexOf(i);n.splice(e,1)}0==n.length&&e.delete(t)}return n}(this.playersByQueriedElement,e.element,e)))})),d.forEach((e=>f8(e,s6)));let u=H5(h);return u.onDestroy((()=>{d.forEach((e=>y8(e,s6))),g6(a,t.toStyles)})),c.forEach((e=>{W5(n,e,[]).push(u)})),u}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new cy(e.duration,e.delay)}}(e,t,i),this._timelineEngine=new class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],n=R6(this._driver,t,i,[]);if(i.length)throw new zi(3503,!1);this._animations.set(e,n)}_buildPlayer(e,t,i){let n=e.element,r=B5(this._normalizer,e.keyframes,t,i);return this._driver.animate(n,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let n,r=[],s=this._animations.get(e),o=new Map;if(s?(n=B6(this._driver,t,s,t6,i6,new Map,new Map,i,t8,r),n.forEach((e=>{let t=W5(o,e.element,new Map);e.postStyleProps.forEach((e=>t.set(e,null)))}))):(r.push(new zi(3300,!1)),n=[]),r.length)throw new zi(3504,!1);o.forEach(((e,t)=>{e.forEach(((i,n)=>{e.set(n,this._driver.computeStyle(t,n,ty))}))}));let a=H5(n.map((e=>{let t=o.get(e.element);return this._buildPlayer(e,new Map,t)})));return this._playersById.set(e,a),a.onDestroy((()=>this.destroy(e))),this.players.push(a),a}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw new zi(3301,!1);return t}listen(e,t,i,n){let r=$5(t,"","","");return G5(this._getPlayer(e),i,r,n),()=>{}}command(e,t,i,n){if("register"==i)return void this.register(e,n[0]);if("create"==i){let i=n[0]||{};return void this.create(e,t,i)}let r=this._getPlayer(e);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(e)}}}(e,t,i),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,i,n,r){let s=e+"-"+n,o=this._triggerCache[s];if(!o){let e=[],t=[],i=R6(this._driver,r,e,t);if(e.length)throw new zi(3404,!1);t.length,o=function(e,t,i){return new class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach((e=>{let t=e.options&&e.options.params||{};this.states.set(e.name,new class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,n=c6(this.defaultParams);return Object.keys(e).forEach((t=>{let i=e[t];null!==i&&(n[t]=i)})),this.styles.styles.forEach((e=>{"string"!=typeof e&&e.forEach(((e,r)=>{e&&(e=v6(e,n,t));let s=this.normalizer.normalizePropertyName(r,t);e=this.normalizer.normalizeStyleValue(r,s,e,t),i.set(r,e)}))})),i}}(e.style,t,i))})),e8(this.states,"true","1"),e8(this.states,"false","0"),t.transitions.forEach((t=>{this.transitionFactories.push(new Q6(e,t,this.states))})),this.fallbackTransition=function(e,t,i){return new Q6(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},t)}(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,n){return this.transitionFactories.find((r=>r.match(e,t,i,n)))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}(e,t,i)}(n,i,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,n,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,n){this._transitionEngine.insertNode(e,t,i,n)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,n){if("@"==i.charAt(0)){let[e,r]=j5(i),s=n;this._timelineEngine.command(e,t,r,s)}else this._transitionEngine.trigger(e,t,i,n)}listen(e,t,i,n,r){if("@"==i.charAt(0)){let[e,n]=j5(i);return this._timelineEngine.listen(e,t,n,r)}return this._transitionEngine.listen(e,t,i,n,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}},C8=(()=>{let e=class{constructor(t,i,n){this._element=t,this._startStyles=i,this._endStyles=n,this._state=0;let r=e.initialStylesByElement.get(t);r||e.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&g6(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(g6(this._element,this._initialStyles),this._endStyles&&(g6(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(p6(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(p6(this._element,this._endStyles),this._endStyles=null),g6(this._element,this._initialStyles),this._state=3)}},t=e;return e.initialStylesByElement=new WeakMap,t})();function S8(e){let t=null;return e.forEach(((e,i)=>{(function(e){return"display"===e||"position"===e})(i)&&(t=t||new Map,t.set(i,e))})),t}var b8=class{constructor(e,t,i,n){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach((e=>e())),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",(()=>this._onFinish()))}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach((e=>{t.push(Object.fromEntries(e))})),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((e=>e())),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((e=>e())),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach(((t,i)=>{"offset"!==i&&e.set(i,this._finished?t:S6(this.element,i))})),this.currentSnapshot=e}triggerCallback(e){let t="start"===e?this._onStartFns:this._onDoneFns;t.forEach((e=>e())),t.length=0}},D8=(()=>{let e=class extends Jf{constructor(e,t){super(),this._nextAnimationId=0;let i={id:"0",encapsulation:Cn.None,styles:[],data:{animation:[]}};this._renderer=e.createRenderer(t.body,i)}build(e){let t=this._nextAnimationId.toString();this._nextAnimationId++;let i=Array.isArray(e)?ry(e):e;return T8(this._renderer,null,t,"register",[i]),new E8(t,this._renderer)}},t=e;return e.fac=function(t){return new(t||e)(pn(cd),pn(Cp))},e.prov=ji({token:e,factory:e.fac}),t})(),E8=class extends ey{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new I8(this._id,e,t||{},this._renderer)}},I8=class{constructor(e,t,i,n){this.id=e,this.element=t,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return T8(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}};function T8(e,t,i,n,r){return e.setProperty(t,`@@${i}:${n}`,r)}var A8,k8="@",R8="@.disabled",O8=(()=>{let e=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(e,t)=>{let i=t?.parentNode(e);i&&t.removeChild(i,e)}}createRenderer(e,t){let i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(i);if(!e){let t=()=>this._rendererCache.delete(i);e=new F8("",i,this.engine,t),this._rendererCache.set(i,e)}return e}let n=t.id,r=t.id+"-"+this._currentId;this._currentId++,this.engine.register(r,e);let s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(n,r,e,t.name,t)};return t.data.animation.forEach(s),new P8(this,r,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask((()=>{this._microtaskId++}))}scheduleListenerCallback(e,t,i){e>=0&&e<this._microtaskId?this._zone.run((()=>t(i))):(0==this._animationCallbacksBuffer.length&&queueMicrotask((()=>{this._zone.run((()=>{this._animationCallbacksBuffer.forEach((e=>{let[t,i]=e;t(i)})),this._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)})),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}},t=e;return e.fac=function(t){return new(t||e)(pn(cd),pn(w8),pn(Ig))},e.prov=ji({token:e,factory:e.fac}),t})(),F8=class{constructor(e,t,i,n){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,n=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,n)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,n){this.delegate.setAttribute(e,t,i,n)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,n){this.delegate.setStyle(e,t,i,n)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==k8&&t==R8?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},P8=class extends F8{constructor(e,t,i,n,r){super(t,i,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==k8?"."==t.charAt(1)&&t==R8?(i=void 0===i||!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==k8){let n=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),r=t.slice(1),s="";return r.charAt(0)!=k8&&([r,s]=function(e){let t=e.indexOf(".");return[e.substring(0,t),e.slice(t+1)]}(r)),this.engine.listen(this.namespaceId,n,r,s,(e=>{let t=e._data||-1;this.factory.scheduleListenerCallback(t,i,e)}))}return this.delegate.listen(e,t,i)}},M8=(()=>{let e=class extends w8{constructor(e,t,i,n){super(e.body,t,i)}ngOnDestroy(){this.flush()}},t=e;return e.fac=function(t){return new(t||e)(pn(Cp),pn(J5),pn(U6),pn(qg))},e.prov=ji({token:e,factory:e.fac}),t})(),V8=[{provide:Jf,useClass:D8},{provide:U6,useFactory:function(){return new Y6}},{provide:w8,useClass:M8},{provide:cd,useFactory:function(e,t,i){return new O8(e,t,i)},deps:[Of,w8,Ig]}],N8=[{provide:J5,useFactory:()=>new class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return X5(e,t)}getParentElement(e){return U5(e)}query(e,t,i){return Z5(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,n,r,s=[]){let o={duration:i,delay:n,fill:0==n?"both":"forwards"};r&&(o.easing=r);let a=new Map,l=s.filter((e=>e instanceof b8));(function(e,t){return 0===e||0===t})(i,n)&&l.forEach((e=>{e.currentSnapshot.forEach(((e,t)=>a.set(t,e)))}));let d=function(e){return e.length?e[0]instanceof Map?e:e.map((e=>h6(e))):[]}(t).map((e=>u6(e)));d=function(e,t,i){if(i.size&&t.length){let n=t[0],r=[];if(i.forEach(((e,t)=>{n.has(t)||r.push(t),n.set(t,e)})),r.length)for(let i=1;i<t.length;i++){let n=t[i];r.forEach((t=>n.set(t,S6(e,t))))}}return t}(e,d,a);let c=function(e,t){let i=null,n=null;return Array.isArray(t)&&t.length?(i=S8(t[0]),t.length>1&&(n=S8(t[t.length-1]))):t instanceof Map&&(i=S8(t)),i||n?new C8(e,i,n):null}(e,d);return new b8(e,d,o,c)}}},{provide:Jl,useValue:"BrowserAnimations"},...V8],L8=[{provide:J5,useClass:Q5},{provide:Jl,useValue:"NoopAnimations"},...V8],H8=(()=>{let e=class{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?L8:N8}}},t=e;return e.fac=function(t){return new(t||e)},e.mod=Qn({type:e}),e.inj=Ki({providers:N8,imports:[qf]}),t})(),B8=(()=>{let e=class extends zJ{constructor(e,t,i,n){super(e.grid,t,i,n),this.api=e,this.viewRef=t,this.envInjector=i,this.injector=n}applyState(e,t=[]){0===t.length&&(t=null),super.setStateInternal(e,t)}applyStateFromString(e,t=[]){0===t.length&&(t=null),super.setStateInternal(e,t)}getState(e=[]){return 0===e.length&&(e=null),super.getStateInternal(!1,e)}getStateAsString(e=[]){return 0===e.length&&(e=null),super.getStateInternal(!0,e)}stringifyCallback(e,t){return"searchVal"===e&&t instanceof Set?Array.from(t):"externalObject"!==e?t:void 0}},t=e;return e.fac=function(t){return new(t||e)(Rd(Ck),Rd(Xu),Rd($l),Rd(kd))},e.cmp=Yn({type:e,selectors:[["igx-grid-state"]],standalone:!0,features:[Tc,yu],decls:0,vars:0,template:function(e,t){},encapsulation:2}),t})(),G8=[{component:Zk,parents:[yZ,B2,_5,Y2],contentQueries:[{property:"actionButtons",childType:zk,isQueryList:!0}],additionalProperties:[],methods:["show","hide"],boolProps:["hidden"]},{component:xM,parents:[yZ,B2,_5,BJ,Y2,CM,DM],contentQueries:[],additionalProperties:[{name:"selected",writable:!0},{name:"index"},{name:"defaultMinWidth"},{name:"cells"},{name:"visibleIndex"},{name:"columnGroup"},{name:"columnLayout"},{name:"columnLayoutChild"},{name:"level"},{name:"gridRowSpan"},{name:"gridColumnSpan"},{name:"filteringExpressionsTree"},{name:"parent",writable:!0},{name:"grid",writable:!0},{name:"topLevelParent"},{name:"headerCell"},{name:"filterCell"},{name:"headerGroup"}],methods:["pin","unpin","move","autosize"],templateProps:["summaryTemplate","bodyTemplate","headerTemplate","inlineEditorTemplate","errorTemplate","filterCellTemplate"],numericProps:["rowEnd","colEnd","rowStart","colStart"],boolProps:["sortable","selectable","groupable","editable","filterable","resizable","autosizeHeader","hasSummary","hidden","disableHiding","disablePinning","movable","filteringIgnoreCase","sortingIgnoreCase","searchable","pinned","visibleWhenCollapsed"]},{component:CM,parents:[yZ,B2,_5,CM,Y2],contentQueries:[{property:"children",childType:xM,isQueryList:!0}],additionalProperties:[{name:"cells"},{name:"selected",writable:!0},{name:"columnGroup"},{name:"columnLayout"},{name:"index"},{name:"defaultMinWidth"},{name:"visibleIndex"},{name:"columnLayoutChild"},{name:"level"},{name:"gridRowSpan"},{name:"gridColumnSpan"},{name:"filteringExpressionsTree"},{name:"parent",writable:!0},{name:"grid",writable:!0},{name:"topLevelParent"},{name:"headerCell"},{name:"filterCell"},{name:"headerGroup"}],methods:["pin","unpin","move","autosize"],templateProps:["collapsibleIndicatorTemplate","summaryTemplate","headerTemplate","errorTemplate","filterCellTemplate"],numericProps:["rowEnd","colEnd","rowStart","colStart"],boolProps:["collapsible","expanded","searchable","hidden","sortable","groupable","editable","filterable","resizable","autosizeHeader","hasSummary","disableHiding","disablePinning","movable","filteringIgnoreCase","sortingIgnoreCase","pinned","visibleWhenCollapsed"],provideAs:xM},{component:DM,parents:[yZ],contentQueries:[{property:"children",childType:xM,isQueryList:!0}],additionalProperties:[{name:"columnLayout"},{name:"visibleIndex"},{name:"cells"},{name:"selected",writable:!0},{name:"columnGroup"},{name:"index"},{name:"defaultMinWidth"},{name:"columnLayoutChild"},{name:"level"},{name:"gridRowSpan"},{name:"gridColumnSpan"},{name:"filteringExpressionsTree"},{name:"parent",writable:!0},{name:"grid",writable:!0},{name:"topLevelParent"},{name:"headerCell"},{name:"filterCell"},{name:"headerGroup"}],methods:["pin","unpin","move","autosize"],templateProps:["collapsibleIndicatorTemplate","summaryTemplate","headerTemplate","errorTemplate","filterCellTemplate"],numericProps:["rowEnd","colEnd","rowStart","colStart"],boolProps:["hidden","collapsible","expanded","searchable","sortable","groupable","editable","filterable","resizable","autosizeHeader","hasSummary","disableHiding","disablePinning","movable","filteringIgnoreCase","sortingIgnoreCase","pinned","visibleWhenCollapsed"],provideAs:xM},{component:yZ,parents:[],contentQueries:[{property:"columnList",childType:xM,isQueryList:!0,descendants:!0},{property:"actionStrip",childType:Zk},{property:"toolbar",childType:Qj,isQueryList:!0},{property:"paginationComponents",childType:zP,isQueryList:!0}],additionalProperties:[{name:"groupsRecords"},{name:"selectedCells"},{name:"shouldGenerate",writable:!0},{name:"rowList"},{name:"dataRowList"},{name:"hiddenColumnsCount"},{name:"pinnedColumnsCount"},{name:"transactions"},{name:"filteredData"},{name:"filteredSortedData"},{name:"validation"},{name:"gridAPI"},{name:"cdr"},{name:"navigation",writable:!0},{name:"virtualizationState"},{name:"nativeElement"},{name:"defaultRowHeight"},{name:"defaultHeaderGroupMinWidth"},{name:"pinnedColumns"},{name:"pinnedRows"},{name:"unpinnedColumns"},{name:"visibleColumns"},{name:"dataView"}],methods:["groupBy","clearGrouping","isExpandedGroup","toggleGroup","selectRowsInGroup","deselectRowsInGroup","fullyExpandGroup","toggleAllGroupRows","getSelectedData","getRowByIndex","getRowByKey","getCellByColumn","getCellByKey","pinRow","unpinRow","isRecordPinnedByIndex","toggleColumnVisibility","expandAll","collapseAll","expandRow","collapseRow","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","moveColumn","markForCheck","addRow","deleteRow","updateCell","updateRow","getRowData","sort","filter","filterGlobal","enableSummaries","disableSummaries","clearFilter","clearSort","pinColumn","unpinColumn","reflow","findNext","findPrev","refreshSearch","clearSearch","getPinnedWidth","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo","getNextCell","getPreviousCell","openAdvancedFilteringDialog","closeAdvancedFilteringDialog","endEdit","beginAddRowById","beginAddRowByIndex"],templateProps:["dropAreaTemplate","detailTemplate","groupByRowSelectorTemplate","groupRowTemplate","emptyGridTemplate","addRowEmptyTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate","dragIndicatorIconTemplate"],numericProps:["totalItemCount","snackbarDisplayTime","summaryRowHeight","rowHeight","totalRecords"],boolProps:["groupsExpanded","hideGroupedColumns","showGroupArea","autoGenerate","moving","hideRowSelectors","rowDraggable","rowEditable","isLoading","allowFiltering","allowAdvancedFiltering","showSummaryOnCollapse","batchEditing","selectRowOnClick"]},{component:pR,parents:[Zk],contentQueries:[],additionalProperties:[{name:"hasChildren"}],methods:["startEdit"],boolProps:["addRow","editRow","deleteRow","addChild","asMenuItems"],provideAs:zk},{component:_R,parents:[Zk],contentQueries:[],additionalProperties:[],methods:["pin","unpin","scrollToRow"],boolProps:["asMenuItems"],provideAs:zk},{component:B8,parents:[yZ,B2,_5,BJ],contentQueries:[],additionalProperties:[{name:"grid",writable:!0}],methods:["applyState","applyStateFromString","getState","getStateAsString"]},{component:Hj,parents:[Qj],contentQueries:[],additionalProperties:[],methods:[]},{component:Wj,parents:[Qj],contentQueries:[],additionalProperties:[{name:"grid"}],methods:[]},{component:Qj,parents:[yZ,B2,_5,BJ],contentQueries:[{property:"hasActions",childType:Hj}],additionalProperties:[{name:"nativeElement"}],methods:[],boolProps:["showProgress"],provideAs:Gj},{component:JJ,parents:[Qj],contentQueries:[],additionalProperties:[{name:"isExporting",writable:!0},{name:"grid"}],methods:["export"],boolProps:["exportCSV","exportExcel"]},{component:t0,parents:[Qj],contentQueries:[],additionalProperties:[{name:"grid"}],methods:["checkAll","uncheckAll"],numericProps:["indentetion"],boolProps:["hideFilter"]},{component:n0,parents:[Qj],contentQueries:[],additionalProperties:[{name:"grid"}],methods:["checkAll","uncheckAll"],numericProps:["indentetion"],boolProps:["hideFilter"]},{component:Lj,parents:[Qj],contentQueries:[],additionalProperties:[],methods:[]},{component:_5,parents:[],contentQueries:[{property:"childLayoutList",childType:Y2,isQueryList:!0},{property:"allLayoutList",childType:Y2,isQueryList:!0,descendants:!0},{property:"paginatorList",childType:zP,isQueryList:!0,descendants:!0},{property:"columnList",childType:xM,isQueryList:!0,descendants:!0},{property:"actionStrip",childType:Zk},{property:"toolbar",childType:Qj,isQueryList:!0},{property:"paginationComponents",childType:zP,isQueryList:!0}],additionalProperties:[{name:"foreignKey"},{name:"selectedCells"},{name:"gridAPI",writable:!0},{name:"shouldGenerate",writable:!0},{name:"rowList"},{name:"dataRowList"},{name:"hiddenColumnsCount"},{name:"pinnedColumnsCount"},{name:"transactions"},{name:"filteredData"},{name:"filteredSortedData"},{name:"validation"},{name:"cdr"},{name:"navigation",writable:!0},{name:"virtualizationState"},{name:"nativeElement"},{name:"defaultRowHeight"},{name:"defaultHeaderGroupMinWidth"},{name:"pinnedColumns"},{name:"pinnedRows"},{name:"unpinnedColumns"},{name:"visibleColumns"},{name:"dataView"}],methods:["getRowByIndex","getRowByKey","getCellByColumn","getCellByKey","pinRow","unpinRow","getDefaultExpandState","isRecordPinnedByIndex","toggleColumnVisibility","expandAll","collapseAll","expandRow","collapseRow","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","moveColumn","markForCheck","addRow","deleteRow","updateCell","updateRow","getRowData","sort","filter","filterGlobal","enableSummaries","disableSummaries","clearFilter","clearSort","pinColumn","unpinColumn","reflow","findNext","findPrev","refreshSearch","clearSearch","getPinnedWidth","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","getSelectedData","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo","getNextCell","getPreviousCell","openAdvancedFilteringDialog","closeAdvancedFilteringDialog","endEdit","beginAddRowById","beginAddRowByIndex"],templateProps:["emptyGridTemplate","addRowEmptyTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate","dragIndicatorIconTemplate"],numericProps:["totalItemCount","snackbarDisplayTime","summaryRowHeight","rowHeight","totalRecords"],boolProps:["expandChildren","showExpandAll","autoGenerate","moving","hideRowSelectors","rowDraggable","rowEditable","isLoading","allowFiltering","allowAdvancedFiltering","showSummaryOnCollapse","selectRowOnClick"]},{component:zP,parents:[yZ,B2,_5,BJ],contentQueries:[],additionalProperties:[{name:"totalPages",writable:!0},{name:"isLastPage"},{name:"isFirstPage"},{name:"isFirstPageDisabled"},{name:"isLastPageDisabled"},{name:"nativeElement"}],methods:["nextPage","previousPage","paginate"],numericProps:["page","perPage","totalRecords"]},{component:N5,parents:[],contentQueries:[],additionalProperties:[{name:"animationSettings",writable:!0}],methods:[],boolProps:["columnsExpanded","rowsExpanded","filtersExpanded","valuesExpanded"]},{component:BJ,parents:[],contentQueries:[{property:"columnList",childType:xM,isQueryList:!0,descendants:!0},{property:"toolbar",childType:Qj,isQueryList:!0},{property:"paginationComponents",childType:zP,isQueryList:!0}],additionalProperties:[{name:"dimensionsSortingExpressions"},{name:"defaultRowHeight"},{name:"allDimensions"},{name:"rowList"},{name:"dataRowList"},{name:"filteredData"},{name:"filteredSortedData"},{name:"validation"},{name:"gridAPI"},{name:"cdr"},{name:"navigation",writable:!0},{name:"virtualizationState"},{name:"nativeElement"},{name:"defaultHeaderGroupMinWidth"},{name:"visibleColumns"},{name:"dataView"}],methods:["notifyDimensionChange","toggleColumn","getColumnGroupExpandState","toggleRowGroup","autoSizeRowDimension","insertDimensionAt","moveDimension","removeDimension","toggleDimension","insertValueAt","moveValue","removeValue","toggleValue","sortDimension","filterDimension","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","markForCheck","getRowData","sort","filter","filterGlobal","clearFilter","clearSort","reflow","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","getSelectedData","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo"],templateProps:["valueChipTemplate","emptyPivotGridTemplate","emptyGridTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate"],numericProps:["rowHeight"],boolProps:["showPivotConfigurationUI","superCompactMode","defaultExpandState","isLoading","selectRowOnClick"]},{component:Y2,parents:[_5,Y2],contentQueries:[{property:"children",childType:Y2,isQueryList:!0},{property:"childColumns",childType:xM,isQueryList:!0},{property:"actionStrips",childType:Zk,isQueryList:!0},{property:"columnList",childType:xM,isQueryList:!0,descendants:!0},{property:"actionStrip",childType:Zk}],additionalProperties:[{name:"islandToolbarTemplate",writable:!0},{name:"islandPaginatorTemplate",writable:!0},{name:"data"},{name:"rowIslandAPI",writable:!0},{name:"gridAPI",writable:!0},{name:"shouldGenerate",writable:!0},{name:"rowList"},{name:"dataRowList"},{name:"hiddenColumnsCount"},{name:"pinnedColumnsCount"},{name:"transactions"},{name:"filteredData"},{name:"filteredSortedData"},{name:"validation"},{name:"cdr"},{name:"navigation",writable:!0},{name:"virtualizationState"},{name:"nativeElement"},{name:"defaultRowHeight"},{name:"defaultHeaderGroupMinWidth"},{name:"pinnedColumns"},{name:"pinnedRows"},{name:"unpinnedColumns"},{name:"visibleColumns"},{name:"dataView"}],methods:["isRecordPinnedByIndex","toggleColumnVisibility","expandAll","collapseAll","expandRow","collapseRow","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","moveColumn","markForCheck","addRow","deleteRow","updateCell","updateRow","getRowData","sort","filter","filterGlobal","enableSummaries","disableSummaries","clearFilter","clearSort","pinColumn","unpinColumn","pinRow","unpinRow","findNext","findPrev","refreshSearch","clearSearch","getPinnedWidth","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","getSelectedData","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo","getNextCell","getPreviousCell","openAdvancedFilteringDialog","closeAdvancedFilteringDialog","endEdit","beginAddRowById","beginAddRowByIndex"],templateProps:["emptyGridTemplate","addRowEmptyTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate","dragIndicatorIconTemplate"],numericProps:["snackbarDisplayTime","summaryRowHeight","rowHeight","totalRecords"],boolProps:["expandChildren","showExpandAll","autoGenerate","moving","hideRowSelectors","rowDraggable","rowEditable","isLoading","allowFiltering","allowAdvancedFiltering","showSummaryOnCollapse","selectRowOnClick"]},{component:B2,parents:[],contentQueries:[{property:"columnList",childType:xM,isQueryList:!0,descendants:!0},{property:"actionStrip",childType:Zk},{property:"toolbar",childType:Qj,isQueryList:!0},{property:"paginationComponents",childType:zP,isQueryList:!0}],additionalProperties:[{name:"rootRecords",writable:!0},{name:"records",writable:!0},{name:"processedRootRecords",writable:!0},{name:"processedRecords",writable:!0},{name:"selectedCells"},{name:"shouldGenerate",writable:!0},{name:"rowList"},{name:"dataRowList"},{name:"hiddenColumnsCount"},{name:"pinnedColumnsCount"},{name:"filteredData"},{name:"filteredSortedData"},{name:"validation"},{name:"gridAPI"},{name:"cdr"},{name:"navigation",writable:!0},{name:"virtualizationState"},{name:"nativeElement"},{name:"defaultRowHeight"},{name:"defaultHeaderGroupMinWidth"},{name:"pinnedColumns"},{name:"pinnedRows"},{name:"unpinnedColumns"},{name:"visibleColumns"},{name:"dataView"}],methods:["getDefaultExpandState","expandAll","collapseAll","addRow","beginAddRowByIndex","getSelectedData","getRowByIndex","getRowByKey","getCellByColumn","getCellByKey","pinRow","unpinRow","isRecordPinnedByIndex","toggleColumnVisibility","expandRow","collapseRow","toggleRow","getHeaderGroupWidth","getColumnByName","getColumnByVisibleIndex","recalculateAutoSizes","moveColumn","markForCheck","deleteRow","updateCell","updateRow","getRowData","sort","filter","filterGlobal","enableSummaries","disableSummaries","clearFilter","clearSort","pinColumn","unpinColumn","reflow","findNext","findPrev","refreshSearch","clearSearch","getPinnedWidth","selectRows","deselectRows","selectAllRows","deselectAllRows","clearCellSelection","selectRange","getSelectedRanges","selectedColumns","selectColumns","deselectColumns","deselectAllColumns","selectAllColumns","getSelectedColumnsData","navigateTo","getNextCell","getPreviousCell","openAdvancedFilteringDialog","closeAdvancedFilteringDialog","endEdit","beginAddRowById"],templateProps:["rowLoadingIndicatorTemplate","emptyGridTemplate","addRowEmptyTemplate","loadingGridTemplate","dragGhostCustomTemplate","rowEditTextTemplate","rowAddTextTemplate","rowEditActionsTemplate","rowExpandedIndicatorTemplate","rowCollapsedIndicatorTemplate","headerExpandedIndicatorTemplate","headerCollapsedIndicatorTemplate","excelStyleHeaderIconTemplate","sortAscendingHeaderIconTemplate","sortDescendingHeaderIconTemplate","sortHeaderIconTemplate","headSelectorTemplate","rowSelectorTemplate","dragIndicatorIconTemplate"],numericProps:["expansionDepth","snackbarDisplayTime","summaryRowHeight","rowHeight","totalRecords"],boolProps:["cascadeOnDelete","autoGenerate","moving","hideRowSelectors","rowDraggable","rowEditable","isLoading","allowFiltering","allowAdvancedFiltering","showSummaryOnCollapse","batchEditing","selectRowOnClick"]}],z8={schedule(e,t){let i=setTimeout(e,t);return()=>clearTimeout(i)},scheduleBeforeRender(e){if(typeof window>"u")return z8.schedule(e,0);if(typeof window.requestAnimationFrame>"u")return z8.schedule(e,16);let t=window.requestAnimationFrame(e);return()=>window.cancelAnimationFrame(t)}};function $8(e,t,i){let n=i;return function(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}(e)&&t.some(((t,i)=>!("*"===t||!function(e,t){if(!A8){let e=Element.prototype;A8=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return e.nodeType===Node.ELEMENT_NODE&&A8.call(e,t)}(e,t)||(n=i,0)))),n}var W8=class{constructor(e,t){this.componentFactory=t.get(sd).resolveComponentFactory(e)}create(e){return new j8(this.componentFactory,e)}},j8=class{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new pt(1),this.events=this.eventEmitters.pipe(pi((e=>$t(...e)))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map((({propName:e})=>e))),this.ngZone=this.injector.get(Ig),this.elementZone=typeof Zone>"u"?null:this.ngZone.run((()=>Zone.current))}connect(e){this.runInZone((()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)}))}disconnect(){this.runInZone((()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=z8.schedule((()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)}),10))}))}getInputValue(e){return this.runInZone((()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e]))}setInputValue(e,t){this.runInZone((()=>{null!==this.componentRef?function(e,t){return e===t||e!=e&&t!=t}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)}))}initializeComponent(e){let t=kd.create({providers:[],parent:this.injector}),i=function(e,t){let i=e.childNodes,n=t.map((()=>[])),r=-1;t.some(((e,t)=>"*"===e&&(r=t,!0)));for(let e=0,s=i.length;e<s;++e){let s=i[e],o=$8(s,t,r);-1!==o&&n[o].push(s)}return n}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(Jg),this.implementsOnChanges=function(e){return"function"==typeof e}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(qg).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach((({propName:e})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e))})),this.initialInputValues.clear()}initializeOutputs(e){let t=this.componentFactory.outputs.map((({propName:t,templateName:i})=>e.instance[t].pipe(St((e=>({name:i,value:e}))))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;let t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=z8.scheduleBeforeRender((()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()})))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});let i=this.inputChanges[e];if(i)return void(i.currentValue=t);let n=this.unchangedInputs.has(e),r=n?void 0:this.getInputValue(e);this.inputChanges[e]=new is(r,t,n)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}},K8=class extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}};var U8,q8=class{constructor(e,t){this.componentFactory=t.get(sd).resolveComponentFactory(e)}create(e){return new Y8(this.componentFactory,e)}},Y8=class{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new pt(1),this.events=this.eventEmitters.pipe(pi((e=>$t(...e)))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map((({propName:e})=>e))),this.ngZone=this.injector.get(Ig),this.elementZone=typeof Zone>"u"?null:this.ngZone.run((()=>Zone.current))}connect(e){this.runInZone((()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)}))}disconnect(){this.runInZone((()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=X8.schedule((()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)}),10))}))}getInputValue(e){return this.runInZone((()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e]))}setInputValue(e,t){this.runInZone((()=>{null!==this.componentRef&&this.componentRef.instance?function(e,t){return e===t||e!=e&&t!=t}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)}))}initializeComponent(e){let t=kd.create({providers:[],parent:this.injector}),i=Q8(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(Jg),this.implementsOnChanges=Z8(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(qg).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach((({propName:e})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e))})),this.initialInputValues.clear()}initializeOutputs(e){let t=this.componentFactory.outputs.map((({propName:t,templateName:i})=>e.instance[t].pipe(St((e=>({name:i,value:e}))))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;let t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=X8.scheduleBeforeRender((()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()})))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});let i=this.inputChanges[e];if(i)return void(i.currentValue=t);let n=this.unchangedInputs.has(e),r=n?void 0:this.getInputValue(e);this.inputChanges[e]=new is(r,t,n)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}},X8={schedule(e,t){let i=setTimeout(e,t);return()=>clearTimeout(i)},scheduleBeforeRender(e){if(typeof window>"u")return X8.schedule(e,0);if(typeof window.requestAnimationFrame>"u")return X8.schedule(e,16);let t=window.requestAnimationFrame(e);return()=>window.cancelAnimationFrame(t)}};function Z8(e){return"function"==typeof e}function Q8(e,t){let i=e.childNodes,n=t.map((()=>[])),r=-1;t.some(((e,t)=>"*"===e&&(r=t,!0)));for(let e=0,s=i.length;e<s;++e){let s=i[e],o=J8(s,t,r);-1!==o&&n[o].push(s)}return n}function J8(e,t,i){let n=i;return function(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}(e)&&t.some(((t,i)=>!("*"===t||!function(e,t){if(!U8){let e=Element.prototype;U8=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector}return e.nodeType===Node.ELEMENT_NODE&&U8.call(e,t)}(e,t)||(n=i,0)))),n}function e7(e,t){1&e&&th(0)}var t7=["*"],i7=(()=>{let e=class{get context(){return{$implicit:this.text}}constructor(){this.text="Default input text."}},t=e;return e.fac=function(t){return new(t||e)},e.cmp=Yn({type:e,selectors:[["app-child-standalone"]],inputs:{text:"text",template:"template"},ngContentSelectors:t7,decls:6,vars:3,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(hh(),Yc(0,"p"),$h(1,"child-standalone's own content"),Xc(),Yc(2,"span"),$h(3),Xc(),uh(4),Wc(5,e7,1,0,"ng-container",0)),2&e&&(Ed(3),jh(t.text),Ed(2),Uc("ngTemplateOutlet",t.template)("ngTemplateOutletContext",t.context))},dependencies:[Pm]}),t})(),n7="context",r7="implicit",s7="$implicit",o7=class extends ju{get elementRef(){return this.innerTemplateRef.elementRef}constructor(e,t){super(),this.innerTemplateRef=e,this._templateFunction=t,this._contentContext=new Map}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i=null){e[n7]=e,e[n7]=e,e[r7]=e[s7];let n,r=!!this._templateFunction.___isBridged,s=this.innerTemplateRef.createEmbeddedViewImpl(e,t);if(r){let t=s.rootNodes[0];n=new a7;let i=TK();e.___contentId=i,e.___immediate=!0,e.___root=t,n._id=i,t._id=i,n.root=t,n.templateFunction=this._templateFunction,this._contentContext.set(i,n),this._templateFunction.___onTemplateInit(this._templateFunction,t,n)}r&&s.onDestroy((()=>{this.destroyingBridgedView(n)}));var o=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(s),"context");return Object.defineProperty(s,"context",{set:function(e){e[n7]=e,e[r7]=e[s7],r&&(e.___contentId=n._id,e.___immediate=!0,e.___root=n.root),o.set.call(this,e)},get:function(){return o.get.call(this)}}),s}destroyingBridgedView(e){this._templateFunction.___onTemplateTeardown(this._templateFunction,e.root,e),this._contentContext.delete(e._id)}},a7=class{};function l7(e,t){if(1&e&&(Zc(0,"div",1,2),$h(2)),2&e){let e=t.context,i=Kc(1),n=dh().$implicit,r=dh();Ed(2),Kh(" ",r.litRender(i,n,e),"\n")}}function d7(e,t){1&e&&Wc(0,l7,3,1,"ng-template")}var c7,h7=(()=>{let e=class{get childComponent(){if(!this.child){let e=document.getElementsByTagName("app-child-standalone");this.child=e?.length?e.item(0):null}return this.child}constructor(e){this.cdr=e,this.templateFunctions=[]}changeChildText(){this.childComponent&&(this.childComponent.text="Parent modified text.")}litRender(e,t,i){(0,n.sY)(t(i),e)}addTemplate(e){return this.templateFunctions.push(e),this.cdr.detectChanges(),new o7(this.templateRefs.last,e)}getTemplateFunction(e){if(!e)return;let t=this.templateRefs.toArray().indexOf(e.innerTemplateRef);return this.templateFunctions[t-1]}},t=e;return e.fac=function(t){return new(t||e)(Rd(Jg))},e.cmp=Yn({type:e,selectors:[["app-wrapper"]],contentQueries:function(e,t,i){if(1&e&&mg(i,i7,5),2&e){let e;gg(e=fg())&&(t.child=e.first)}},viewQuery:function(e,t){if(1&e&&pg(ju,5),2&e){let e;gg(e=fg())&&(t.templateRefs=e)}},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[2,"display","contents"],["container",""]],template:function(e,t){1&e&&Wc(0,d7,1,0,null,0),2&e&&Uc("ngForOf",t.templateFunctions)},dependencies:[bm],styles:["[_nghost-%COMP%]{display:none}"]}),t})(),u7=Symbol("ComponentRef"),g7=class extends Y8{get templateWrapper(){if(!this._templateWrapper){let e=this.componentRef.injector.get(Xu);this._templateWrapper=e.createComponent(h7).instance}return this._templateWrapper}constructor(e,t,i){super(e,t),this._componentFactory=e,this._injector=t,this.config=i,this[c7]=new Promise(((e,t)=>this.setComponentRef=e)),this.schedule=new Map}initializeComponent(e){return x(this,null,(function*(){if(!e.isConnected)return;this.element=e,this.componentRef={};let t=Array.from(e.children).filter((e=>!this._componentFactory.ngContentSelectors.some((t=>e.matches(t)))));for(let e of t);let i,n,r,s=[],o=this.config?.find((e=>e.component===this._componentFactory.componentType));o&&(o.selector=e.tagName.toLocaleLowerCase());let a=o?.parents.map((e=>this.config.find((t=>t.component===e)))).filter((e=>e.selector));if(a?.length){let t=e;for(;t?.parentElement;)t=t.parentElement.closest(a.map((e=>e.selector)).join(",")),t&&s.push(t);let r=s[0];i=(yield r?.ngElementStrategy[u7])?.injector,("igc-grid-toolbar"===e.tagName.toLocaleLowerCase()||"igc-paginator"===e.tagName.toLocaleLowerCase())&&(n=(yield r?.ngElementStrategy[u7])?.instance.anchor)}this.injector=i||this._injector;let l=kd.create({providers:[],parent:this.injector}),d=Q8(e,this._componentFactory.ngContentSelectors);if(this.componentRef=this._componentFactory.create(l,d,e),this.setComponentRef(this.componentRef),this.viewChangeDetectorRef=this.componentRef.injector.get(Jg),this.implementsOnChanges=Z8(this.componentRef.instance.ngOnChanges),e&&this.componentRef.instance&&(this.componentRef.instance.___wcElement=e),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),n&&i){i.get(Xu);let t=e.parentElement,r=e.nextSibling;n.insert(this.componentRef.hostView),t.insertBefore(e,r),this.detectChanges()}else n||this._injector.get(qg).attachView(this.componentRef.hostView);let c=this.componentRef;for(let e of s){r=a.find((t=>t.selector===e?.tagName.toLocaleLowerCase()));let t=this._componentFactory.componentType,i=r.contentQueries.filter((e=>e.childType===t||e.childType===o.provideAs));for(let t of i){let i=yield e.ngElementStrategy[u7];t.isQueryList?e.ngElementStrategy.scheduleQueryUpdate(t.property):(i.instance[t.property]=c.instance,i.changeDetectorRef.detectChanges())}}["igc-grid","igc-tree-grid","igc-hierarchical-grid"].includes(e.tagName.toLocaleLowerCase())&&this.patchGridPopups()}))}setInputValue(e,t){if(null===this.componentRef||!this.componentRef.instance)return void this.initialInputValues.set(e,t);let i=this.componentRef,n=this.config?.find((e=>e.component===this._componentFactory.componentType));i&&n?.templateProps?.includes(e)&&(t=this.templateWrapper.addTemplate(t)),i&&n?.boolProps?.includes(e)&&(t=null!=t&&"false"!=`${t}`),i&&n?.numericProps?.includes(e)&&(isNaN(Number(t)-parseFloat(t))||(t=Number(t))),"igc-pivot-data-selector"===n.selector&&"grid"===e&&t&&(t=t.ngElementStrategy?.componentRef?.instance||t),super.setInputValue(e,t)}getInputValue(e){let t=super.getInputValue(e),i=this.config?.find((e=>e.component===this._componentFactory.componentType));return this.componentRef&&i?.templateProps?.includes(e)&&(t=this.templateWrapper.getTemplateFunction(t)||t),t}scheduleQueryUpdate(e){this.schedule.has(e)&&this.schedule.get(e)();let t=setTimeout((()=>this.updateQuery(e)),10);this.schedule.set(e,(()=>clearTimeout(t)))}updateQuery(e){if(this.schedule.delete(e),this.componentRef){let t=(this.config?.find((e=>e.component===this._componentFactory.componentType))).contentQueries.find((t=>t.property===e)),i=this.runQueryInDOM(this.element,t),n=[];for(let e of i){let t=e.ngElementStrategy.componentRef;t?.instance&&n.push(t.instance)}let r=this.componentRef.instance[t.property];r.reset(n),r.notifyOnChanges()}}runQueryInDOM(e,t){let i=this.config.filter((e=>e.component===t.childType||t.childType===e.provideAs)),n=i.map((e=>e.selector)).filter((e=>e)).join(","),r=Array.from(e.querySelectorAll(n));if(r.length&&!t.descendants){let t=new Set(i.map((e=>e.parents)).flat()),n=this.config.filter((e=>t.has(e.component))).map((e=>e.selector)).filter((e=>e)).join(",");r=r.filter((t=>t.parentElement.closest(n)===e))}return r}assignTemplateCallback(e,t){let i=this.componentRef;if(i){let n=this.templateWrapper.addTemplate(t);i.instance[e]=n,i.changeDetectorRef.detectChanges()}}patchGridPopups(){let e=new Set,t=this.componentRef;Lt(this.element,"gridScroll").pipe(yi(t.instance.destroy$)).subscribe((()=>{e.size&&(e.forEach((e=>{e.isConnected&&e.hide()})),e.clear())})),Lt(this.element,"igcOpened").pipe(yi(t.instance.destroy$)).subscribe((t=>{Object.keys(t.detail).length||e.add(t.target)}))}};c7=u7;var p7=class extends q8{constructor(e,t,i){super(e,t),this.config=i}create(e){return new g7(this.componentFactory,e,this.config)}};function m7(e,t){let i=new p7(e,t.injector,t.registerConfig);!function(e){let t=e.componentFactory.componentDef.inputs;for(let e in t){let i=t[e];if(/[A-Z]{2,}/.test(e)){let n=e.replace(/([A-Z])([A-Z]+)(?![a-z])/g,((e,t,i)=>t+i.toLowerCase()));t[n]=i}}}(i);let n=function(e,t){let i=function(e,t){return t.get(sd).resolveComponentFactory(e).inputs}(e,t.injector),n=t.strategyFactory||new W8(e,t.injector),r=function(e){let t={};return e.forEach((({propName:e,templateName:i})=>{t[function(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}(i)]=e})),t}(i),s=class extends K8{get ngElementStrategy(){if(!this._ngElementStrategy){let e=this._ngElementStrategy=n.create(this.injector||t.injector);i.forEach((({propName:t})=>{if(!this.hasOwnProperty(t))return;let i=this[t];delete this[t],e.setInputValue(t,i)}))}return this._ngElementStrategy}constructor(e){super(),this.injector=e}attributeChangedCallback(e,t,i,n){let s=r[e];this.ngElementStrategy.setInputValue(s,i)}connectedCallback(){let e=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),e=!0),this.ngElementStrategy.connect(this),e||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe((e=>{let t=new CustomEvent(e.name,{detail:e.value});this.dispatchEvent(t)}))}},o=s;return s.observedAttributes=Object.keys(r),i.forEach((({propName:e})=>{Object.defineProperty(o.prototype,e,{get(){return this.ngElementStrategy.getInputValue(e)},set(t){this.ngElementStrategy.setInputValue(e,t)},configurable:!0,enumerable:!0})})),o}(e,v(y({},t),{strategyFactory:i})),r=t.registerConfig?.find((t=>t.component===e));for(let e of r?.methods)n.prototype[e]=function(){let t=this.ngElementStrategy.componentRef.instance;return this.ngElementStrategy.runInZone((()=>t[e].apply(t,arguments)))};if(r?.additionalProperties.forEach((t=>{let i;if(t.name in n.prototype)throw new Error(`Potentially illegal property name ${t.name} defined for ${e.name}`);t.writable&&(i=function(e){this.ngElementStrategy.setInputValue(t.name,e)}),Object.defineProperty(n.prototype,t.name,{get(){return this.ngElementStrategy.getInputValue(t.name)},set:i,configurable:!0,enumerable:!0})})),e===yZ){let e=function(){return{stringFilteringOperand:MA.instance(),numberFilteringOperand:PA.instance(),timeFilteringOperand:FA.instance(),dateTimeFilteringOperand:OA.instance(),dateFilteringOperand:RA.instance(),booleanFilteringOperand:AA.instance(),createFilteringExpressionTree:(e,t)=>new kb(e,t)}};n.prototype.getFilterFactory=e}return n}var f7=(()=>{let e=class{constructor(e){this.injector=e}ngDoBootstrap(){let e=m7(yZ,{injector:this.injector,registerConfig:G8});customElements.define("igc-grid",e);let t=m7(B2,{injector:this.injector,registerConfig:G8});customElements.define("igc-tree-grid",t);let i=m7(_5,{injector:this.injector,registerConfig:G8});customElements.define("igc-hierarchical-grid",i);let n=m7(BJ,{injector:this.injector,registerConfig:G8});customElements.define("igc-pivot-grid",n);let r=m7(N5,{injector:this.injector,registerConfig:G8});customElements.define("igc-pivot-data-selector",r);let s=m7(Y2,{injector:this.injector,registerConfig:G8});customElements.define("igc-row-island",s);let o=m7(CM,{injector:this.injector,registerConfig:G8});customElements.define("igc-column-group",o);let a=m7(DM,{injector:this.injector,registerConfig:G8});customElements.define("igc-column-layout",a);let l=m7(xM,{injector:this.injector,registerConfig:G8});customElements.define("igc-column",l);let d=m7(zP,{injector:this.injector,registerConfig:G8});customElements.define("igc-paginator",d);let c=m7(Qj,{injector:this.injector,registerConfig:G8});customElements.define("igc-grid-toolbar",c);let h=m7(Zk,{injector:this.injector,registerConfig:G8});customElements.define("igc-action-strip",h);let u=m7(B8,{injector:this.injector,registerConfig:G8});customElements.define("igc-grid-state",u);let g=m7(pR,{injector:this.injector,registerConfig:G8});customElements.define("igc-grid-editing-actions",g);let p=m7(_R,{injector:this.injector,registerConfig:G8});customElements.define("igc-grid-pinning-actions",p);let m=m7(Lj,{injector:this.injector,registerConfig:G8});customElements.define("igc-grid-toolbar-title",m);let f=m7(Hj,{injector:this.injector,registerConfig:G8});customElements.define("igc-grid-toolbar-actions",f);let y=m7(t0,{injector:this.injector,registerConfig:G8});customElements.define("igc-grid-toolbar-hiding",y);let v=m7(n0,{injector:this.injector,registerConfig:G8});customElements.define("igc-grid-toolbar-pinning",v);let x=m7(JJ,{injector:this.injector,registerConfig:G8});customElements.define("igc-grid-toolbar-exporter",x);let _=m7(Wj,{injector:this.injector,registerConfig:G8});customElements.define("igc-grid-toolbar-advanced-filtering",_)}},t=e;return e.fac=function(t){return new(t||e)(pn(kd))},e.mod=Qn({type:e}),e.inj=Ki({imports:[qf,H8]}),t})();Wf().bootstrapModule(f7).catch((e=>console.error(e)))}}]);